function oD(t,a){for(var r=0;r<a.length;r++){const s=a[r];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in t)){const c=Object.getOwnPropertyDescriptor(s,i);c&&Object.defineProperty(t,i,c.get?c:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const o of c.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(i){if(i.ep)return;i.ep=!0;const c=r(i);fetch(i.href,c)}})();function xn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rf={exports:{}},wo={};var p2;function dD(){if(p2)return wo;p2=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(s,i,c){var o=null;if(c!==void 0&&(o=""+c),i.key!==void 0&&(o=""+i.key),"key"in i){c={};for(var u in i)u!=="key"&&(c[u]=i[u])}else c=i;return i=c.ref,{$$typeof:t,type:s,key:o,ref:i!==void 0?i:null,props:c}}return wo.Fragment=a,wo.jsx=r,wo.jsxs=r,wo}var f2;function uD(){return f2||(f2=1,rf.exports=dD()),rf.exports}var e=uD(),sf={exports:{}},Oe={};var g2;function mD(){if(g2)return Oe;g2=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),v=Symbol.iterator;function b(B){return B===null||typeof B!="object"?null:(B=v&&B[v]||B["@@iterator"],typeof B=="function"?B:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,y={};function _(B,K,Y){this.props=B,this.context=K,this.refs=y,this.updater=Y||w}_.prototype.isReactComponent={},_.prototype.setState=function(B,K){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,K,"setState")},_.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function A(){}A.prototype=_.prototype;function C(B,K,Y){this.props=B,this.context=K,this.refs=y,this.updater=Y||w}var E=C.prototype=new A;E.constructor=C,N(E,_.prototype),E.isPureReactComponent=!0;var k=Array.isArray;function O(){}var D={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function L(B,K,Y){var ie=Y.ref;return{$$typeof:t,type:B,key:K,ref:ie!==void 0?ie:null,props:Y}}function z(B,K){return L(B.type,K,B.props)}function M(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function F(B){var K={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(Y){return K[Y]})}var q=/\/+/g;function te(B,K){return typeof B=="object"&&B!==null&&B.key!=null?F(""+B.key):K.toString(36)}function W(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(O,O):(B.status="pending",B.then(function(K){B.status==="pending"&&(B.status="fulfilled",B.value=K)},function(K){B.status==="pending"&&(B.status="rejected",B.reason=K)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function H(B,K,Y,ie,xe){var he=typeof B;(he==="undefined"||he==="boolean")&&(B=null);var ye=!1;if(B===null)ye=!0;else switch(he){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(B.$$typeof){case t:case a:ye=!0;break;case x:return ye=B._init,H(ye(B._payload),K,Y,ie,xe)}}if(ye)return xe=xe(B),ye=ie===""?"."+te(B,0):ie,k(xe)?(Y="",ye!=null&&(Y=ye.replace(q,"$&/")+"/"),H(xe,K,Y,"",function(fe){return fe})):xe!=null&&(M(xe)&&(xe=z(xe,Y+(xe.key==null||B&&B.key===xe.key?"":(""+xe.key).replace(q,"$&/")+"/")+ye)),K.push(xe)),1;ye=0;var Ce=ie===""?".":ie+":";if(k(B))for(var re=0;re<B.length;re++)ie=B[re],he=Ce+te(ie,re),ye+=H(ie,K,Y,he,xe);else if(re=b(B),typeof re=="function")for(B=re.call(B),re=0;!(ie=B.next()).done;)ie=ie.value,he=Ce+te(ie,re++),ye+=H(ie,K,Y,he,xe);else if(he==="object"){if(typeof B.then=="function")return H(W(B),K,Y,ie,xe);throw K=String(B),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ye}function R(B,K,Y){if(B==null)return B;var ie=[],xe=0;return H(B,ie,"","",function(he){return K.call(Y,he,xe++)}),ie}function $(B){if(B._status===-1){var K=B._result;K=K(),K.then(function(Y){(B._status===0||B._status===-1)&&(B._status=1,B._result=Y)},function(Y){(B._status===0||B._status===-1)&&(B._status=2,B._result=Y)}),B._status===-1&&(B._status=0,B._result=K)}if(B._status===1)return B._result.default;throw B._result}var V=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},Z={map:R,forEach:function(B,K,Y){R(B,function(){K.apply(this,arguments)},Y)},count:function(B){var K=0;return R(B,function(){K++}),K},toArray:function(B){return R(B,function(K){return K})||[]},only:function(B){if(!M(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return Oe.Activity=f,Oe.Children=Z,Oe.Component=_,Oe.Fragment=r,Oe.Profiler=i,Oe.PureComponent=C,Oe.StrictMode=s,Oe.Suspense=m,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(B){return D.H.useMemoCache(B)}},Oe.cache=function(B){return function(){return B.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(B,K,Y){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ie=N({},B.props),xe=B.key;if(K!=null)for(he in K.key!==void 0&&(xe=""+K.key),K)!P.call(K,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&K.ref===void 0||(ie[he]=K[he]);var he=arguments.length-2;if(he===1)ie.children=Y;else if(1<he){for(var ye=Array(he),Ce=0;Ce<he;Ce++)ye[Ce]=arguments[Ce+2];ie.children=ye}return L(B.type,xe,ie)},Oe.createContext=function(B){return B={$$typeof:o,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:c,_context:B},B},Oe.createElement=function(B,K,Y){var ie,xe={},he=null;if(K!=null)for(ie in K.key!==void 0&&(he=""+K.key),K)P.call(K,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(xe[ie]=K[ie]);var ye=arguments.length-2;if(ye===1)xe.children=Y;else if(1<ye){for(var Ce=Array(ye),re=0;re<ye;re++)Ce[re]=arguments[re+2];xe.children=Ce}if(B&&B.defaultProps)for(ie in ye=B.defaultProps,ye)xe[ie]===void 0&&(xe[ie]=ye[ie]);return L(B,he,xe)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(B){return{$$typeof:u,render:B}},Oe.isValidElement=M,Oe.lazy=function(B){return{$$typeof:x,_payload:{_status:-1,_result:B},_init:$}},Oe.memo=function(B,K){return{$$typeof:h,type:B,compare:K===void 0?null:K}},Oe.startTransition=function(B){var K=D.T,Y={};D.T=Y;try{var ie=B(),xe=D.S;xe!==null&&xe(Y,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(O,V)}catch(he){V(he)}finally{K!==null&&Y.types!==null&&(K.types=Y.types),D.T=K}},Oe.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Oe.use=function(B){return D.H.use(B)},Oe.useActionState=function(B,K,Y){return D.H.useActionState(B,K,Y)},Oe.useCallback=function(B,K){return D.H.useCallback(B,K)},Oe.useContext=function(B){return D.H.useContext(B)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(B,K){return D.H.useDeferredValue(B,K)},Oe.useEffect=function(B,K){return D.H.useEffect(B,K)},Oe.useEffectEvent=function(B){return D.H.useEffectEvent(B)},Oe.useId=function(){return D.H.useId()},Oe.useImperativeHandle=function(B,K,Y){return D.H.useImperativeHandle(B,K,Y)},Oe.useInsertionEffect=function(B,K){return D.H.useInsertionEffect(B,K)},Oe.useLayoutEffect=function(B,K){return D.H.useLayoutEffect(B,K)},Oe.useMemo=function(B,K){return D.H.useMemo(B,K)},Oe.useOptimistic=function(B,K){return D.H.useOptimistic(B,K)},Oe.useReducer=function(B,K,Y){return D.H.useReducer(B,K,Y)},Oe.useRef=function(B){return D.H.useRef(B)},Oe.useState=function(B){return D.H.useState(B)},Oe.useSyncExternalStore=function(B,K,Y){return D.H.useSyncExternalStore(B,K,Y)},Oe.useTransition=function(){return D.H.useTransition()},Oe.version="19.2.0",Oe}var y2;function xc(){return y2||(y2=1,sf.exports=mD()),sf.exports}var g=xc();const We=xn(g),xD=oD({__proto__:null,default:We},[g]);var nf={exports:{}},So={},lf={exports:{}},cf={};var v2;function hD(){return v2||(v2=1,(function(t){function a(H,R){var $=H.length;H.push(R);e:for(;0<$;){var V=$-1>>>1,Z=H[V];if(0<i(Z,R))H[V]=R,H[$]=Z,$=V;else break e}}function r(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var R=H[0],$=H.pop();if($!==R){H[0]=$;e:for(var V=0,Z=H.length,B=Z>>>1;V<B;){var K=2*(V+1)-1,Y=H[K],ie=K+1,xe=H[ie];if(0>i(Y,$))ie<Z&&0>i(xe,Y)?(H[V]=xe,H[ie]=$,V=ie):(H[V]=Y,H[K]=$,V=K);else if(ie<Z&&0>i(xe,$))H[V]=xe,H[ie]=$,V=ie;else break e}}return R}function i(H,R){var $=H.sortIndex-R.sortIndex;return $!==0?$:H.id-R.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var m=[],h=[],x=1,f=null,v=3,b=!1,w=!1,N=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function E(H){for(var R=r(h);R!==null;){if(R.callback===null)s(h);else if(R.startTime<=H)s(h),R.sortIndex=R.expirationTime,a(m,R);else break;R=r(h)}}function k(H){if(N=!1,E(H),!w)if(r(m)!==null)w=!0,O||(O=!0,F());else{var R=r(h);R!==null&&W(k,R.startTime-H)}}var O=!1,D=-1,P=5,L=-1;function z(){return y?!0:!(t.unstable_now()-L<P)}function M(){if(y=!1,O){var H=t.unstable_now();L=H;var R=!0;try{e:{w=!1,N&&(N=!1,A(D),D=-1),b=!0;var $=v;try{t:{for(E(H),f=r(m);f!==null&&!(f.expirationTime>H&&z());){var V=f.callback;if(typeof V=="function"){f.callback=null,v=f.priorityLevel;var Z=V(f.expirationTime<=H);if(H=t.unstable_now(),typeof Z=="function"){f.callback=Z,E(H),R=!0;break t}f===r(m)&&s(m),E(H)}else s(m);f=r(m)}if(f!==null)R=!0;else{var B=r(h);B!==null&&W(k,B.startTime-H),R=!1}}break e}finally{f=null,v=$,b=!1}R=void 0}}finally{R?F():O=!1}}}var F;if(typeof C=="function")F=function(){C(M)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,te=q.port2;q.port1.onmessage=M,F=function(){te.postMessage(null)}}else F=function(){_(M,0)};function W(H,R){D=_(function(){H(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(H){switch(v){case 1:case 2:case 3:var R=3;break;default:R=v}var $=v;v=R;try{return H()}finally{v=$}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(H,R){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var $=v;v=H;try{return R()}finally{v=$}},t.unstable_scheduleCallback=function(H,R,$){var V=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?V+$:V):$=V,H){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=$+Z,H={id:x++,callback:R,priorityLevel:H,startTime:$,expirationTime:Z,sortIndex:-1},$>V?(H.sortIndex=$,a(h,H),r(m)===null&&H===r(h)&&(N?(A(D),D=-1):N=!0,W(k,$-V))):(H.sortIndex=Z,a(m,H),w||b||(w=!0,O||(O=!0,F()))),H},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(H){var R=v;return function(){var $=v;v=R;try{return H.apply(this,arguments)}finally{v=$}}}})(cf)),cf}var b2;function pD(){return b2||(b2=1,lf.exports=hD()),lf.exports}var of={exports:{}},Na={};var j2;function fD(){if(j2)return Na;j2=1;var t=xc();function a(m){var h="https://react.dev/errors/"+m;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+m+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(a(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function c(m,h,x){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:f==null?null:""+f,children:m,containerInfo:h,implementation:x}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(m,h){if(m==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Na.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Na.createPortal=function(m,h){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(a(299));return c(m,h,null,x)},Na.flushSync=function(m){var h=o.T,x=s.p;try{if(o.T=null,s.p=2,m)return m()}finally{o.T=h,s.p=x,s.d.f()}},Na.preconnect=function(m,h){typeof m=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(m,h))},Na.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Na.preinit=function(m,h){if(typeof m=="string"&&h&&typeof h.as=="string"){var x=h.as,f=u(x,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;x==="style"?s.d.S(m,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:f,integrity:v,fetchPriority:b}):x==="script"&&s.d.X(m,{crossOrigin:f,integrity:v,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Na.preinitModule=function(m,h){if(typeof m=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var x=u(h.as,h.crossOrigin);s.d.M(m,{crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(m)},Na.preload=function(m,h){if(typeof m=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var x=h.as,f=u(x,h.crossOrigin);s.d.L(m,x,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Na.preloadModule=function(m,h){if(typeof m=="string")if(h){var x=u(h.as,h.crossOrigin);s.d.m(m,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(m)},Na.requestFormReset=function(m){s.d.r(m)},Na.unstable_batchedUpdates=function(m,h){return m(h)},Na.useFormState=function(m,h,x){return o.H.useFormState(m,h,x)},Na.useFormStatus=function(){return o.H.useHostTransitionStatus()},Na.version="19.2.0",Na}var N2;function P3(){if(N2)return of.exports;N2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),of.exports=fD(),of.exports}var w2;function gD(){if(w2)return So;w2=1;var t=pD(),a=xc(),r=P3();function s(n){var l="https://react.dev/errors/"+n;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+n+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var l=n,d=n;if(n.alternate)for(;l.return;)l=l.return;else{n=l;do l=n,(l.flags&4098)!==0&&(d=l.return),n=l.return;while(n)}return l.tag===3?d:null}function o(n){if(n.tag===13){var l=n.memoizedState;if(l===null&&(n=n.alternate,n!==null&&(l=n.memoizedState)),l!==null)return l.dehydrated}return null}function u(n){if(n.tag===31){var l=n.memoizedState;if(l===null&&(n=n.alternate,n!==null&&(l=n.memoizedState)),l!==null)return l.dehydrated}return null}function m(n){if(c(n)!==n)throw Error(s(188))}function h(n){var l=n.alternate;if(!l){if(l=c(n),l===null)throw Error(s(188));return l!==n?null:n}for(var d=n,p=l;;){var j=d.return;if(j===null)break;var S=j.alternate;if(S===null){if(p=j.return,p!==null){d=p;continue}break}if(j.child===S.child){for(S=j.child;S;){if(S===d)return m(j),n;if(S===p)return m(j),l;S=S.sibling}throw Error(s(188))}if(d.return!==p.return)d=j,p=S;else{for(var T=!1,I=j.child;I;){if(I===d){T=!0,d=j,p=S;break}if(I===p){T=!0,p=j,d=S;break}I=I.sibling}if(!T){for(I=S.child;I;){if(I===d){T=!0,d=S,p=j;break}if(I===p){T=!0,p=S,d=j;break}I=I.sibling}if(!T)throw Error(s(189))}}if(d.alternate!==p)throw Error(s(190))}if(d.tag!==3)throw Error(s(188));return d.stateNode.current===d?n:l}function x(n){var l=n.tag;if(l===5||l===26||l===27||l===6)return n;for(n=n.child;n!==null;){if(l=x(n),l!==null)return l;n=n.sibling}return null}var f=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function F(n){return n===null||typeof n!="object"?null:(n=M&&n[M]||n["@@iterator"],typeof n=="function"?n:null)}var q=Symbol.for("react.client.reference");function te(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===q?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case _:return"Profiler";case y:return"StrictMode";case k:return"Suspense";case O:return"SuspenseList";case L:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case w:return"Portal";case C:return n.displayName||"Context";case A:return(n._context.displayName||"Context")+".Consumer";case E:var l=n.render;return n=n.displayName,n||(n=l.displayName||l.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case D:return l=n.displayName||null,l!==null?l:te(n.type)||"Memo";case P:l=n._payload,n=n._init;try{return te(n(l))}catch{}}return null}var W=Array.isArray,H=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},V=[],Z=-1;function B(n){return{current:n}}function K(n){0>Z||(n.current=V[Z],V[Z]=null,Z--)}function Y(n,l){Z++,V[Z]=n.current,n.current=l}var ie=B(null),xe=B(null),he=B(null),ye=B(null);function Ce(n,l){switch(Y(he,l),Y(xe,n),Y(ie,null),l.nodeType){case 9:case 11:n=(n=l.documentElement)&&(n=n.namespaceURI)?Iw(n):0;break;default:if(n=l.tagName,l=l.namespaceURI)l=Iw(l),n=$w(l,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}K(ie),Y(ie,n)}function re(){K(ie),K(xe),K(he)}function fe(n){n.memoizedState!==null&&Y(ye,n);var l=ie.current,d=$w(l,n.type);l!==d&&(Y(xe,n),Y(ie,d))}function Te(n){xe.current===n&&(K(ie),K(xe)),ye.current===n&&(K(ye),vo._currentValue=$)}var de,pt;function Ee(n){if(de===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);de=l&&l[1]||"",pt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+de+n+pt}var ft=!1;function gt(n,l){if(!n||ft)return"";ft=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(ne){var ee=ne}Reflect.construct(n,[],oe)}else{try{oe.call()}catch(ne){ee=ne}n.call(oe.prototype)}}else{try{throw Error()}catch(ne){ee=ne}(oe=n())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(ne){if(ne&&ee&&typeof ne.stack=="string")return[ne.stack,ee.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var j=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");j&&j.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=p.DetermineComponentFrameRoot(),T=S[0],I=S[1];if(T&&I){var U=T.split(`
`),J=I.split(`
`);for(j=p=0;p<U.length&&!U[p].includes("DetermineComponentFrameRoot");)p++;for(;j<J.length&&!J[j].includes("DetermineComponentFrameRoot");)j++;if(p===U.length||j===J.length)for(p=U.length-1,j=J.length-1;1<=p&&0<=j&&U[p]!==J[j];)j--;for(;1<=p&&0<=j;p--,j--)if(U[p]!==J[j]){if(p!==1||j!==1)do if(p--,j--,0>j||U[p]!==J[j]){var le=`
`+U[p].replace(" at new "," at ");return n.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",n.displayName)),le}while(1<=p&&0<=j);break}}}finally{ft=!1,Error.prepareStackTrace=d}return(d=n?n.displayName||n.name:"")?Ee(d):""}function yr(n,l){switch(n.tag){case 26:case 27:case 5:return Ee(n.type);case 16:return Ee("Lazy");case 13:return n.child!==l&&l!==null?Ee("Suspense Fallback"):Ee("Suspense");case 19:return Ee("SuspenseList");case 0:case 15:return gt(n.type,!1);case 11:return gt(n.type.render,!1);case 1:return gt(n.type,!0);case 31:return Ee("Activity");default:return""}}function yn(n){try{var l="",d=null;do l+=yr(n,d),d=n,n=n.return;while(n);return l}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var li=Object.prototype.hasOwnProperty,vr=t.unstable_scheduleCallback,vn=t.unstable_cancelCallback,tl=t.unstable_shouldYield,Ud=t.unstable_requestPaint,va=t.unstable_now,Vh=t.unstable_getCurrentPriorityLevel,qd=t.unstable_ImmediatePriority,ks=t.unstable_UserBlockingPriority,Yr=t.unstable_NormalPriority,ci=t.unstable_LowPriority,Dc=t.unstable_IdlePriority,us=t.log,Hd=t.unstable_setDisableYieldValue,oi=null,Ta=null;function br(n){if(typeof us=="function"&&Hd(n),Ta&&typeof Ta.setStrictMode=="function")try{Ta.setStrictMode(oi,n)}catch{}}var ba=Math.clz32?Math.clz32:Kh,Gh=Math.log,Vd=Math.LN2;function Kh(n){return n>>>=0,n===0?32:31-(Gh(n)/Vd|0)|0}var al=256,rl=262144,Dt=4194304;function Pt(n){var l=n&42;if(l!==0)return l;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ea(n,l,d){var p=n.pendingLanes;if(p===0)return 0;var j=0,S=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var I=p&134217727;return I!==0?(p=I&~S,p!==0?j=Pt(p):(T&=I,T!==0?j=Pt(T):d||(d=I&~n,d!==0&&(j=Pt(d))))):(I=p&~S,I!==0?j=Pt(I):T!==0?j=Pt(T):d||(d=p&~n,d!==0&&(j=Pt(d)))),j===0?0:l!==0&&l!==j&&(l&S)===0&&(S=j&-j,d=l&-l,S>=d||S===32&&(d&4194048)!==0)?l:j}function $a(n,l){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&l)===0}function Ba(n,l){switch(n){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ja(){var n=Dt;return Dt<<=1,(Dt&62914560)===0&&(Dt=4194304),n}function Fa(n){for(var l=[],d=0;31>d;d++)l.push(n);return l}function jr(n,l){n.pendingLanes|=l,l!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Gt(n,l,d,p,j,S){var T=n.pendingLanes;n.pendingLanes=d,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=d,n.entangledLanes&=d,n.errorRecoveryDisabledLanes&=d,n.shellSuspendCounter=0;var I=n.entanglements,U=n.expirationTimes,J=n.hiddenUpdates;for(d=T&~d;0<d;){var le=31-ba(d),oe=1<<le;I[le]=0,U[le]=-1;var ee=J[le];if(ee!==null)for(J[le]=null,le=0;le<ee.length;le++){var ne=ee[le];ne!==null&&(ne.lane&=-536870913)}d&=~oe}p!==0&&Xr(n,p,0),S!==0&&j===0&&n.tag!==0&&(n.suspendedLanes|=S&~(T&~l))}function Xr(n,l,d){n.pendingLanes|=l,n.suspendedLanes&=~l;var p=31-ba(l);n.entangledLanes|=l,n.entanglements[p]=n.entanglements[p]|1073741824|d&261930}function rr(n,l){var d=n.entangledLanes|=l;for(n=n.entanglements;d;){var p=31-ba(d),j=1<<p;j&l|n[p]&l&&(n[p]|=l),d&=~j}}function Nr(n,l){var d=l&-l;return d=(d&42)!==0?1:As(d),(d&(n.suspendedLanes|l))!==0?0:d}function As(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Es(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Wr(){var n=R.p;return n!==0?n:(n=window.event,n===void 0?32:c2(n.type))}function bn(n,l){var d=R.p;try{return R.p=n,l()}finally{R.p=d}}var wr=Math.random().toString(36).slice(2),ma="__reactFiber$"+wr,Ua="__reactProps$"+wr,sl="__reactContainer$"+wr,Yh="__reactEvents$"+wr,QO="__reactListeners$"+wr,JO="__reactHandles$"+wr,_j="__reactResources$"+wr,Pc="__reactMarker$"+wr;function Xh(n){delete n[ma],delete n[Ua],delete n[Yh],delete n[QO],delete n[JO]}function nl(n){var l=n[ma];if(l)return l;for(var d=n.parentNode;d;){if(l=d[sl]||d[ma]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(n=Gw(n);n!==null;){if(d=n[ma])return d;n=Gw(n)}return l}n=d,d=n.parentNode}return null}function il(n){if(n=n[ma]||n[sl]){var l=n.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return n}return null}function zc(n){var l=n.tag;if(l===5||l===26||l===27||l===6)return n.stateNode;throw Error(s(33))}function ll(n){var l=n[_j];return l||(l=n[_j]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function ta(n){n[Pc]=!0}var Cj=new Set,kj={};function di(n,l){cl(n,l),cl(n+"Capture",l)}function cl(n,l){for(kj[n]=l,n=0;n<l.length;n++)Cj.add(l[n])}var e8=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Aj={},Ej={};function t8(n){return li.call(Ej,n)?!0:li.call(Aj,n)?!1:e8.test(n)?Ej[n]=!0:(Aj[n]=!0,!1)}function Gd(n,l,d){if(t8(l))if(d===null)n.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":n.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){n.removeAttribute(l);return}}n.setAttribute(l,""+d)}}function Kd(n,l,d){if(d===null)n.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttribute(l,""+d)}}function Os(n,l,d,p){if(p===null)n.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(d);return}n.setAttributeNS(l,d,""+p)}}function Sr(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Oj(n){var l=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function a8(n,l,d){var p=Object.getOwnPropertyDescriptor(n.constructor.prototype,l);if(!n.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var j=p.get,S=p.set;return Object.defineProperty(n,l,{configurable:!0,get:function(){return j.call(this)},set:function(T){d=""+T,S.call(this,T)}}),Object.defineProperty(n,l,{enumerable:p.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){n._valueTracker=null,delete n[l]}}}}function Wh(n){if(!n._valueTracker){var l=Oj(n)?"checked":"value";n._valueTracker=a8(n,l,""+n[l])}}function Tj(n){if(!n)return!1;var l=n._valueTracker;if(!l)return!0;var d=l.getValue(),p="";return n&&(p=Oj(n)?n.checked?"true":"false":n.value),n=p,n!==d?(l.setValue(n),!0):!1}function Yd(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var r8=/[\n"\\]/g;function _r(n){return n.replace(r8,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Zh(n,l,d,p,j,S,T,I){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),l!=null?T==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+Sr(l)):n.value!==""+Sr(l)&&(n.value=""+Sr(l)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),l!=null?Qh(n,T,Sr(l)):d!=null?Qh(n,T,Sr(d)):p!=null&&n.removeAttribute("value"),j==null&&S!=null&&(n.defaultChecked=!!S),j!=null&&(n.checked=j&&typeof j!="function"&&typeof j!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?n.name=""+Sr(I):n.removeAttribute("name")}function Dj(n,l,d,p,j,S,T,I){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(n.type=S),l!=null||d!=null){if(!(S!=="submit"&&S!=="reset"||l!=null)){Wh(n);return}d=d!=null?""+Sr(d):"",l=l!=null?""+Sr(l):d,I||l===n.value||(n.value=l),n.defaultValue=l}p=p??j,p=typeof p!="function"&&typeof p!="symbol"&&!!p,n.checked=I?n.checked:!!p,n.defaultChecked=!!p,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T),Wh(n)}function Qh(n,l,d){l==="number"&&Yd(n.ownerDocument)===n||n.defaultValue===""+d||(n.defaultValue=""+d)}function ol(n,l,d,p){if(n=n.options,l){l={};for(var j=0;j<d.length;j++)l["$"+d[j]]=!0;for(d=0;d<n.length;d++)j=l.hasOwnProperty("$"+n[d].value),n[d].selected!==j&&(n[d].selected=j),j&&p&&(n[d].defaultSelected=!0)}else{for(d=""+Sr(d),l=null,j=0;j<n.length;j++){if(n[j].value===d){n[j].selected=!0,p&&(n[j].defaultSelected=!0);return}l!==null||n[j].disabled||(l=n[j])}l!==null&&(l.selected=!0)}}function Pj(n,l,d){if(l!=null&&(l=""+Sr(l),l!==n.value&&(n.value=l),d==null)){n.defaultValue!==l&&(n.defaultValue=l);return}n.defaultValue=d!=null?""+Sr(d):""}function zj(n,l,d,p){if(l==null){if(p!=null){if(d!=null)throw Error(s(92));if(W(p)){if(1<p.length)throw Error(s(93));p=p[0]}d=p}d==null&&(d=""),l=d}d=Sr(l),n.defaultValue=d,p=n.textContent,p===d&&p!==""&&p!==null&&(n.value=p),Wh(n)}function dl(n,l){if(l){var d=n.firstChild;if(d&&d===n.lastChild&&d.nodeType===3){d.nodeValue=l;return}}n.textContent=l}var s8=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mj(n,l,d){var p=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="":p?n.setProperty(l,d):typeof d!="number"||d===0||s8.has(l)?l==="float"?n.cssFloat=d:n[l]=(""+d).trim():n[l]=d+"px"}function Rj(n,l,d){if(l!=null&&typeof l!="object")throw Error(s(62));if(n=n.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?n.setProperty(p,""):p==="float"?n.cssFloat="":n[p]="");for(var j in l)p=l[j],l.hasOwnProperty(j)&&d[j]!==p&&Mj(n,j,p)}else for(var S in l)l.hasOwnProperty(S)&&Mj(n,S,l[S])}function Jh(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var n8=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),i8=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xd(n){return i8.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Ts(){}var ep=null;function tp(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ul=null,ml=null;function Lj(n){var l=il(n);if(l&&(n=l.stateNode)){var d=n[Ua]||null;e:switch(n=l.stateNode,l.type){case"input":if(Zh(n,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=n;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+_r(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var p=d[l];if(p!==n&&p.form===n.form){var j=p[Ua]||null;if(!j)throw Error(s(90));Zh(p,j.value,j.defaultValue,j.defaultValue,j.checked,j.defaultChecked,j.type,j.name)}}for(l=0;l<d.length;l++)p=d[l],p.form===n.form&&Tj(p)}break e;case"textarea":Pj(n,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&ol(n,!!d.multiple,l,!1)}}}var ap=!1;function Ij(n,l,d){if(ap)return n(l,d);ap=!0;try{var p=n(l);return p}finally{if(ap=!1,(ul!==null||ml!==null)&&(Ru(),ul&&(l=ul,n=ml,ml=ul=null,Lj(l),n)))for(l=0;l<n.length;l++)Lj(n[l])}}function Mc(n,l){var d=n.stateNode;if(d===null)return null;var p=d[Ua]||null;if(p===null)return null;d=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(n=n.type,p=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!p;break e;default:n=!1}if(n)return null;if(d&&typeof d!="function")throw Error(s(231,l,typeof d));return d}var Ds=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rp=!1;if(Ds)try{var Rc={};Object.defineProperty(Rc,"passive",{get:function(){rp=!0}}),window.addEventListener("test",Rc,Rc),window.removeEventListener("test",Rc,Rc)}catch{rp=!1}var jn=null,sp=null,Wd=null;function $j(){if(Wd)return Wd;var n,l=sp,d=l.length,p,j="value"in jn?jn.value:jn.textContent,S=j.length;for(n=0;n<d&&l[n]===j[n];n++);var T=d-n;for(p=1;p<=T&&l[d-p]===j[S-p];p++);return Wd=j.slice(n,1<p?1-p:void 0)}function Zd(n){var l=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&l===13&&(n=13)):n=l,n===10&&(n=13),32<=n||n===13?n:0}function Qd(){return!0}function Bj(){return!1}function qa(n){function l(d,p,j,S,T){this._reactName=d,this._targetInst=j,this.type=p,this.nativeEvent=S,this.target=T,this.currentTarget=null;for(var I in n)n.hasOwnProperty(I)&&(d=n[I],this[I]=d?d(S):S[I]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Qd:Bj,this.isPropagationStopped=Bj,this}return f(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Qd)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Qd)},persist:function(){},isPersistent:Qd}),l}var ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jd=qa(ui),Lc=f({},ui,{view:0,detail:0}),l8=qa(Lc),np,ip,Ic,eu=f({},Lc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cp,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ic&&(Ic&&n.type==="mousemove"?(np=n.screenX-Ic.screenX,ip=n.screenY-Ic.screenY):ip=np=0,Ic=n),np)},movementY:function(n){return"movementY"in n?n.movementY:ip}}),Fj=qa(eu),c8=f({},eu,{dataTransfer:0}),o8=qa(c8),d8=f({},Lc,{relatedTarget:0}),lp=qa(d8),u8=f({},ui,{animationName:0,elapsedTime:0,pseudoElement:0}),m8=qa(u8),x8=f({},ui,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),h8=qa(x8),p8=f({},ui,{data:0}),Uj=qa(p8),f8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},g8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function v8(n){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(n):(n=y8[n])?!!l[n]:!1}function cp(){return v8}var b8=f({},Lc,{key:function(n){if(n.key){var l=f8[n.key]||n.key;if(l!=="Unidentified")return l}return n.type==="keypress"?(n=Zd(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?g8[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cp,charCode:function(n){return n.type==="keypress"?Zd(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Zd(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),j8=qa(b8),N8=f({},eu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qj=qa(N8),w8=f({},Lc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cp}),S8=qa(w8),_8=f({},ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),C8=qa(_8),k8=f({},eu,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),A8=qa(k8),E8=f({},ui,{newState:0,oldState:0}),O8=qa(E8),T8=[9,13,27,32],op=Ds&&"CompositionEvent"in window,$c=null;Ds&&"documentMode"in document&&($c=document.documentMode);var D8=Ds&&"TextEvent"in window&&!$c,Hj=Ds&&(!op||$c&&8<$c&&11>=$c),Vj=" ",Gj=!1;function Kj(n,l){switch(n){case"keyup":return T8.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yj(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var xl=!1;function P8(n,l){switch(n){case"compositionend":return Yj(l);case"keypress":return l.which!==32?null:(Gj=!0,Vj);case"textInput":return n=l.data,n===Vj&&Gj?null:n;default:return null}}function z8(n,l){if(xl)return n==="compositionend"||!op&&Kj(n,l)?(n=$j(),Wd=sp=jn=null,xl=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Hj&&l.locale!=="ko"?null:l.data;default:return null}}var M8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xj(n){var l=n&&n.nodeName&&n.nodeName.toLowerCase();return l==="input"?!!M8[n.type]:l==="textarea"}function Wj(n,l,d,p){ul?ml?ml.push(p):ml=[p]:ul=p,l=qu(l,"onChange"),0<l.length&&(d=new Jd("onChange","change",null,d,p),n.push({event:d,listeners:l}))}var Bc=null,Fc=null;function R8(n){Dw(n,0)}function tu(n){var l=zc(n);if(Tj(l))return n}function Zj(n,l){if(n==="change")return l}var Qj=!1;if(Ds){var dp;if(Ds){var up="oninput"in document;if(!up){var Jj=document.createElement("div");Jj.setAttribute("oninput","return;"),up=typeof Jj.oninput=="function"}dp=up}else dp=!1;Qj=dp&&(!document.documentMode||9<document.documentMode)}function e1(){Bc&&(Bc.detachEvent("onpropertychange",t1),Fc=Bc=null)}function t1(n){if(n.propertyName==="value"&&tu(Fc)){var l=[];Wj(l,Fc,n,tp(n)),Ij(R8,l)}}function L8(n,l,d){n==="focusin"?(e1(),Bc=l,Fc=d,Bc.attachEvent("onpropertychange",t1)):n==="focusout"&&e1()}function I8(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return tu(Fc)}function $8(n,l){if(n==="click")return tu(l)}function B8(n,l){if(n==="input"||n==="change")return tu(l)}function F8(n,l){return n===l&&(n!==0||1/n===1/l)||n!==n&&l!==l}var sr=typeof Object.is=="function"?Object.is:F8;function Uc(n,l){if(sr(n,l))return!0;if(typeof n!="object"||n===null||typeof l!="object"||l===null)return!1;var d=Object.keys(n),p=Object.keys(l);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var j=d[p];if(!li.call(l,j)||!sr(n[j],l[j]))return!1}return!0}function a1(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function r1(n,l){var d=a1(n);n=0;for(var p;d;){if(d.nodeType===3){if(p=n+d.textContent.length,n<=l&&p>=l)return{node:d,offset:l-n};n=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=a1(d)}}function s1(n,l){return n&&l?n===l?!0:n&&n.nodeType===3?!1:l&&l.nodeType===3?s1(n,l.parentNode):"contains"in n?n.contains(l):n.compareDocumentPosition?!!(n.compareDocumentPosition(l)&16):!1:!1}function n1(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var l=Yd(n.document);l instanceof n.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)n=l.contentWindow;else break;l=Yd(n.document)}return l}function mp(n){var l=n&&n.nodeName&&n.nodeName.toLowerCase();return l&&(l==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||l==="textarea"||n.contentEditable==="true")}var U8=Ds&&"documentMode"in document&&11>=document.documentMode,hl=null,xp=null,qc=null,hp=!1;function i1(n,l,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;hp||hl==null||hl!==Yd(p)||(p=hl,"selectionStart"in p&&mp(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),qc&&Uc(qc,p)||(qc=p,p=qu(xp,"onSelect"),0<p.length&&(l=new Jd("onSelect","select",null,l,d),n.push({event:l,listeners:p}),l.target=hl)))}function mi(n,l){var d={};return d[n.toLowerCase()]=l.toLowerCase(),d["Webkit"+n]="webkit"+l,d["Moz"+n]="moz"+l,d}var pl={animationend:mi("Animation","AnimationEnd"),animationiteration:mi("Animation","AnimationIteration"),animationstart:mi("Animation","AnimationStart"),transitionrun:mi("Transition","TransitionRun"),transitionstart:mi("Transition","TransitionStart"),transitioncancel:mi("Transition","TransitionCancel"),transitionend:mi("Transition","TransitionEnd")},pp={},l1={};Ds&&(l1=document.createElement("div").style,"AnimationEvent"in window||(delete pl.animationend.animation,delete pl.animationiteration.animation,delete pl.animationstart.animation),"TransitionEvent"in window||delete pl.transitionend.transition);function xi(n){if(pp[n])return pp[n];if(!pl[n])return n;var l=pl[n],d;for(d in l)if(l.hasOwnProperty(d)&&d in l1)return pp[n]=l[d];return n}var c1=xi("animationend"),o1=xi("animationiteration"),d1=xi("animationstart"),q8=xi("transitionrun"),H8=xi("transitionstart"),V8=xi("transitioncancel"),u1=xi("transitionend"),m1=new Map,fp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fp.push("scrollEnd");function Zr(n,l){m1.set(n,l),di(l,[n])}var au=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Cr=[],fl=0,gp=0;function ru(){for(var n=fl,l=gp=fl=0;l<n;){var d=Cr[l];Cr[l++]=null;var p=Cr[l];Cr[l++]=null;var j=Cr[l];Cr[l++]=null;var S=Cr[l];if(Cr[l++]=null,p!==null&&j!==null){var T=p.pending;T===null?j.next=j:(j.next=T.next,T.next=j),p.pending=j}S!==0&&x1(d,j,S)}}function su(n,l,d,p){Cr[fl++]=n,Cr[fl++]=l,Cr[fl++]=d,Cr[fl++]=p,gp|=p,n.lanes|=p,n=n.alternate,n!==null&&(n.lanes|=p)}function yp(n,l,d,p){return su(n,l,d,p),nu(n)}function hi(n,l){return su(n,null,null,l),nu(n)}function x1(n,l,d){n.lanes|=d;var p=n.alternate;p!==null&&(p.lanes|=d);for(var j=!1,S=n.return;S!==null;)S.childLanes|=d,p=S.alternate,p!==null&&(p.childLanes|=d),S.tag===22&&(n=S.stateNode,n===null||n._visibility&1||(j=!0)),n=S,S=S.return;return n.tag===3?(S=n.stateNode,j&&l!==null&&(j=31-ba(d),n=S.hiddenUpdates,p=n[j],p===null?n[j]=[l]:p.push(l),l.lane=d|536870912),S):null}function nu(n){if(50<mo)throw mo=0,k0=null,Error(s(185));for(var l=n.return;l!==null;)n=l,l=n.return;return n.tag===3?n.stateNode:null}var gl={};function G8(n,l,d,p){this.tag=n,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(n,l,d,p){return new G8(n,l,d,p)}function vp(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ps(n,l){var d=n.alternate;return d===null?(d=nr(n.tag,l,n.key,n.mode),d.elementType=n.elementType,d.type=n.type,d.stateNode=n.stateNode,d.alternate=n,n.alternate=d):(d.pendingProps=l,d.type=n.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=n.flags&65011712,d.childLanes=n.childLanes,d.lanes=n.lanes,d.child=n.child,d.memoizedProps=n.memoizedProps,d.memoizedState=n.memoizedState,d.updateQueue=n.updateQueue,l=n.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=n.sibling,d.index=n.index,d.ref=n.ref,d.refCleanup=n.refCleanup,d}function h1(n,l){n.flags&=65011714;var d=n.alternate;return d===null?(n.childLanes=0,n.lanes=l,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=d.childLanes,n.lanes=d.lanes,n.child=d.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=d.memoizedProps,n.memoizedState=d.memoizedState,n.updateQueue=d.updateQueue,n.type=d.type,l=d.dependencies,n.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),n}function iu(n,l,d,p,j,S){var T=0;if(p=n,typeof n=="function")vp(n)&&(T=1);else if(typeof n=="string")T=ZT(n,d,ie.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case L:return n=nr(31,d,l,j),n.elementType=L,n.lanes=S,n;case N:return pi(d.children,j,S,l);case y:T=8,j|=24;break;case _:return n=nr(12,d,l,j|2),n.elementType=_,n.lanes=S,n;case k:return n=nr(13,d,l,j),n.elementType=k,n.lanes=S,n;case O:return n=nr(19,d,l,j),n.elementType=O,n.lanes=S,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case C:T=10;break e;case A:T=9;break e;case E:T=11;break e;case D:T=14;break e;case P:T=16,p=null;break e}T=29,d=Error(s(130,n===null?"null":typeof n,"")),p=null}return l=nr(T,d,l,j),l.elementType=n,l.type=p,l.lanes=S,l}function pi(n,l,d,p){return n=nr(7,n,p,l),n.lanes=d,n}function bp(n,l,d){return n=nr(6,n,null,l),n.lanes=d,n}function p1(n){var l=nr(18,null,null,0);return l.stateNode=n,l}function jp(n,l,d){return l=nr(4,n.children!==null?n.children:[],n.key,l),l.lanes=d,l.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},l}var f1=new WeakMap;function kr(n,l){if(typeof n=="object"&&n!==null){var d=f1.get(n);return d!==void 0?d:(l={value:n,source:l,stack:yn(l)},f1.set(n,l),l)}return{value:n,source:l,stack:yn(l)}}var yl=[],vl=0,lu=null,Hc=0,Ar=[],Er=0,Nn=null,ms=1,xs="";function zs(n,l){yl[vl++]=Hc,yl[vl++]=lu,lu=n,Hc=l}function g1(n,l,d){Ar[Er++]=ms,Ar[Er++]=xs,Ar[Er++]=Nn,Nn=n;var p=ms;n=xs;var j=32-ba(p)-1;p&=~(1<<j),d+=1;var S=32-ba(l)+j;if(30<S){var T=j-j%5;S=(p&(1<<T)-1).toString(32),p>>=T,j-=T,ms=1<<32-ba(l)+j|d<<j|p,xs=S+n}else ms=1<<S|d<<j|p,xs=n}function Np(n){n.return!==null&&(zs(n,1),g1(n,1,0))}function wp(n){for(;n===lu;)lu=yl[--vl],yl[vl]=null,Hc=yl[--vl],yl[vl]=null;for(;n===Nn;)Nn=Ar[--Er],Ar[Er]=null,xs=Ar[--Er],Ar[Er]=null,ms=Ar[--Er],Ar[Er]=null}function y1(n,l){Ar[Er++]=ms,Ar[Er++]=xs,Ar[Er++]=Nn,ms=l.id,xs=l.overflow,Nn=n}var xa=null,ut=null,Fe=!1,wn=null,Or=!1,Sp=Error(s(519));function Sn(n){var l=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vc(kr(l,n)),Sp}function v1(n){var l=n.stateNode,d=n.type,p=n.memoizedProps;switch(l[ma]=n,l[Ua]=p,d){case"dialog":Le("cancel",l),Le("close",l);break;case"iframe":case"object":case"embed":Le("load",l);break;case"video":case"audio":for(d=0;d<ho.length;d++)Le(ho[d],l);break;case"source":Le("error",l);break;case"img":case"image":case"link":Le("error",l),Le("load",l);break;case"details":Le("toggle",l);break;case"input":Le("invalid",l),Dj(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Le("invalid",l);break;case"textarea":Le("invalid",l),zj(l,p.value,p.defaultValue,p.children)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||p.suppressHydrationWarning===!0||Rw(l.textContent,d)?(p.popover!=null&&(Le("beforetoggle",l),Le("toggle",l)),p.onScroll!=null&&Le("scroll",l),p.onScrollEnd!=null&&Le("scrollend",l),p.onClick!=null&&(l.onclick=Ts),l=!0):l=!1,l||Sn(n,!0)}function b1(n){for(xa=n.return;xa;)switch(xa.tag){case 5:case 31:case 13:Or=!1;return;case 27:case 3:Or=!0;return;default:xa=xa.return}}function bl(n){if(n!==xa)return!1;if(!Fe)return b1(n),Fe=!0,!1;var l=n.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=n.type,d=!(d!=="form"&&d!=="button")||U0(n.type,n.memoizedProps)),d=!d),d&&ut&&Sn(n),b1(n),l===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));ut=Vw(n)}else if(l===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));ut=Vw(n)}else l===27?(l=ut,In(n.type)?(n=K0,K0=null,ut=n):ut=l):ut=xa?Dr(n.stateNode.nextSibling):null;return!0}function fi(){ut=xa=null,Fe=!1}function _p(){var n=wn;return n!==null&&(Ka===null?Ka=n:Ka.push.apply(Ka,n),wn=null),n}function Vc(n){wn===null?wn=[n]:wn.push(n)}var Cp=B(null),gi=null,Ms=null;function _n(n,l,d){Y(Cp,l._currentValue),l._currentValue=d}function Rs(n){n._currentValue=Cp.current,K(Cp)}function kp(n,l,d){for(;n!==null;){var p=n.alternate;if((n.childLanes&l)!==l?(n.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),n===d)break;n=n.return}}function Ap(n,l,d,p){var j=n.child;for(j!==null&&(j.return=n);j!==null;){var S=j.dependencies;if(S!==null){var T=j.child;S=S.firstContext;e:for(;S!==null;){var I=S;S=j;for(var U=0;U<l.length;U++)if(I.context===l[U]){S.lanes|=d,I=S.alternate,I!==null&&(I.lanes|=d),kp(S.return,d,n),p||(T=null);break e}S=I.next}}else if(j.tag===18){if(T=j.return,T===null)throw Error(s(341));T.lanes|=d,S=T.alternate,S!==null&&(S.lanes|=d),kp(T,d,n),T=null}else T=j.child;if(T!==null)T.return=j;else for(T=j;T!==null;){if(T===n){T=null;break}if(j=T.sibling,j!==null){j.return=T.return,T=j;break}T=T.return}j=T}}function jl(n,l,d,p){n=null;for(var j=l,S=!1;j!==null;){if(!S){if((j.flags&524288)!==0)S=!0;else if((j.flags&262144)!==0)break}if(j.tag===10){var T=j.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var I=j.type;sr(j.pendingProps.value,T.value)||(n!==null?n.push(I):n=[I])}}else if(j===ye.current){if(T=j.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==j.memoizedState.memoizedState&&(n!==null?n.push(vo):n=[vo])}j=j.return}n!==null&&Ap(l,n,d,p),l.flags|=262144}function cu(n){for(n=n.firstContext;n!==null;){if(!sr(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function yi(n){gi=n,Ms=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function ha(n){return j1(gi,n)}function ou(n,l){return gi===null&&yi(n),j1(n,l)}function j1(n,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},Ms===null){if(n===null)throw Error(s(308));Ms=l,n.dependencies={lanes:0,firstContext:l},n.flags|=524288}else Ms=Ms.next=l;return d}var K8=typeof AbortController<"u"?AbortController:function(){var n=[],l=this.signal={aborted:!1,addEventListener:function(d,p){n.push(p)}};this.abort=function(){l.aborted=!0,n.forEach(function(d){return d()})}},Y8=t.unstable_scheduleCallback,X8=t.unstable_NormalPriority,Lt={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ep(){return{controller:new K8,data:new Map,refCount:0}}function Gc(n){n.refCount--,n.refCount===0&&Y8(X8,function(){n.controller.abort()})}var Kc=null,Op=0,Nl=0,wl=null;function W8(n,l){if(Kc===null){var d=Kc=[];Op=0,Nl=P0(),wl={status:"pending",value:void 0,then:function(p){d.push(p)}}}return Op++,l.then(N1,N1),l}function N1(){if(--Op===0&&Kc!==null){wl!==null&&(wl.status="fulfilled");var n=Kc;Kc=null,Nl=0,wl=null;for(var l=0;l<n.length;l++)(0,n[l])()}}function Z8(n,l){var d=[],p={status:"pending",value:null,reason:null,then:function(j){d.push(j)}};return n.then(function(){p.status="fulfilled",p.value=l;for(var j=0;j<d.length;j++)(0,d[j])(l)},function(j){for(p.status="rejected",p.reason=j,j=0;j<d.length;j++)(0,d[j])(void 0)}),p}var w1=H.S;H.S=function(n,l){iw=va(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&W8(n,l),w1!==null&&w1(n,l)};var vi=B(null);function Tp(){var n=vi.current;return n!==null?n:lt.pooledCache}function du(n,l){l===null?Y(vi,vi.current):Y(vi,l.pool)}function S1(){var n=Tp();return n===null?null:{parent:Lt._currentValue,pool:n}}var Sl=Error(s(460)),Dp=Error(s(474)),uu=Error(s(542)),mu={then:function(){}};function _1(n){return n=n.status,n==="fulfilled"||n==="rejected"}function C1(n,l,d){switch(d=n[d],d===void 0?n.push(l):d!==l&&(l.then(Ts,Ts),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw n=l.reason,A1(n),n;default:if(typeof l.status=="string")l.then(Ts,Ts);else{if(n=lt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=l,n.status="pending",n.then(function(p){if(l.status==="pending"){var j=l;j.status="fulfilled",j.value=p}},function(p){if(l.status==="pending"){var j=l;j.status="rejected",j.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw n=l.reason,A1(n),n}throw ji=l,Sl}}function bi(n){try{var l=n._init;return l(n._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(ji=d,Sl):d}}var ji=null;function k1(){if(ji===null)throw Error(s(459));var n=ji;return ji=null,n}function A1(n){if(n===Sl||n===uu)throw Error(s(483))}var _l=null,Yc=0;function xu(n){var l=Yc;return Yc+=1,_l===null&&(_l=[]),C1(_l,n,l)}function Xc(n,l){l=l.props.ref,n.ref=l!==void 0?l:null}function hu(n,l){throw l.$$typeof===v?Error(s(525)):(n=Object.prototype.toString.call(l),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":n)))}function E1(n){function l(X,G){if(n){var Q=X.deletions;Q===null?(X.deletions=[G],X.flags|=16):Q.push(G)}}function d(X,G){if(!n)return null;for(;G!==null;)l(X,G),G=G.sibling;return null}function p(X){for(var G=new Map;X!==null;)X.key!==null?G.set(X.key,X):G.set(X.index,X),X=X.sibling;return G}function j(X,G){return X=Ps(X,G),X.index=0,X.sibling=null,X}function S(X,G,Q){return X.index=Q,n?(Q=X.alternate,Q!==null?(Q=Q.index,Q<G?(X.flags|=67108866,G):Q):(X.flags|=67108866,G)):(X.flags|=1048576,G)}function T(X){return n&&X.alternate===null&&(X.flags|=67108866),X}function I(X,G,Q,ce){return G===null||G.tag!==6?(G=bp(Q,X.mode,ce),G.return=X,G):(G=j(G,Q),G.return=X,G)}function U(X,G,Q,ce){var _e=Q.type;return _e===N?le(X,G,Q.props.children,ce,Q.key):G!==null&&(G.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===P&&bi(_e)===G.type)?(G=j(G,Q.props),Xc(G,Q),G.return=X,G):(G=iu(Q.type,Q.key,Q.props,null,X.mode,ce),Xc(G,Q),G.return=X,G)}function J(X,G,Q,ce){return G===null||G.tag!==4||G.stateNode.containerInfo!==Q.containerInfo||G.stateNode.implementation!==Q.implementation?(G=jp(Q,X.mode,ce),G.return=X,G):(G=j(G,Q.children||[]),G.return=X,G)}function le(X,G,Q,ce,_e){return G===null||G.tag!==7?(G=pi(Q,X.mode,ce,_e),G.return=X,G):(G=j(G,Q),G.return=X,G)}function oe(X,G,Q){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=bp(""+G,X.mode,Q),G.return=X,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return Q=iu(G.type,G.key,G.props,null,X.mode,Q),Xc(Q,G),Q.return=X,Q;case w:return G=jp(G,X.mode,Q),G.return=X,G;case P:return G=bi(G),oe(X,G,Q)}if(W(G)||F(G))return G=pi(G,X.mode,Q,null),G.return=X,G;if(typeof G.then=="function")return oe(X,xu(G),Q);if(G.$$typeof===C)return oe(X,ou(X,G),Q);hu(X,G)}return null}function ee(X,G,Q,ce){var _e=G!==null?G.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return _e!==null?null:I(X,G,""+Q,ce);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return Q.key===_e?U(X,G,Q,ce):null;case w:return Q.key===_e?J(X,G,Q,ce):null;case P:return Q=bi(Q),ee(X,G,Q,ce)}if(W(Q)||F(Q))return _e!==null?null:le(X,G,Q,ce,null);if(typeof Q.then=="function")return ee(X,G,xu(Q),ce);if(Q.$$typeof===C)return ee(X,G,ou(X,Q),ce);hu(X,Q)}return null}function ne(X,G,Q,ce,_e){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return X=X.get(Q)||null,I(G,X,""+ce,_e);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case b:return X=X.get(ce.key===null?Q:ce.key)||null,U(G,X,ce,_e);case w:return X=X.get(ce.key===null?Q:ce.key)||null,J(G,X,ce,_e);case P:return ce=bi(ce),ne(X,G,Q,ce,_e)}if(W(ce)||F(ce))return X=X.get(Q)||null,le(G,X,ce,_e,null);if(typeof ce.then=="function")return ne(X,G,Q,xu(ce),_e);if(ce.$$typeof===C)return ne(X,G,Q,ou(G,ce),_e);hu(G,ce)}return null}function ve(X,G,Q,ce){for(var _e=null,He=null,we=G,ze=G=0,$e=null;we!==null&&ze<Q.length;ze++){we.index>ze?($e=we,we=null):$e=we.sibling;var Ve=ee(X,we,Q[ze],ce);if(Ve===null){we===null&&(we=$e);break}n&&we&&Ve.alternate===null&&l(X,we),G=S(Ve,G,ze),He===null?_e=Ve:He.sibling=Ve,He=Ve,we=$e}if(ze===Q.length)return d(X,we),Fe&&zs(X,ze),_e;if(we===null){for(;ze<Q.length;ze++)we=oe(X,Q[ze],ce),we!==null&&(G=S(we,G,ze),He===null?_e=we:He.sibling=we,He=we);return Fe&&zs(X,ze),_e}for(we=p(we);ze<Q.length;ze++)$e=ne(we,X,ze,Q[ze],ce),$e!==null&&(n&&$e.alternate!==null&&we.delete($e.key===null?ze:$e.key),G=S($e,G,ze),He===null?_e=$e:He.sibling=$e,He=$e);return n&&we.forEach(function(qn){return l(X,qn)}),Fe&&zs(X,ze),_e}function ke(X,G,Q,ce){if(Q==null)throw Error(s(151));for(var _e=null,He=null,we=G,ze=G=0,$e=null,Ve=Q.next();we!==null&&!Ve.done;ze++,Ve=Q.next()){we.index>ze?($e=we,we=null):$e=we.sibling;var qn=ee(X,we,Ve.value,ce);if(qn===null){we===null&&(we=$e);break}n&&we&&qn.alternate===null&&l(X,we),G=S(qn,G,ze),He===null?_e=qn:He.sibling=qn,He=qn,we=$e}if(Ve.done)return d(X,we),Fe&&zs(X,ze),_e;if(we===null){for(;!Ve.done;ze++,Ve=Q.next())Ve=oe(X,Ve.value,ce),Ve!==null&&(G=S(Ve,G,ze),He===null?_e=Ve:He.sibling=Ve,He=Ve);return Fe&&zs(X,ze),_e}for(we=p(we);!Ve.done;ze++,Ve=Q.next())Ve=ne(we,X,ze,Ve.value,ce),Ve!==null&&(n&&Ve.alternate!==null&&we.delete(Ve.key===null?ze:Ve.key),G=S(Ve,G,ze),He===null?_e=Ve:He.sibling=Ve,He=Ve);return n&&we.forEach(function(cD){return l(X,cD)}),Fe&&zs(X,ze),_e}function rt(X,G,Q,ce){if(typeof Q=="object"&&Q!==null&&Q.type===N&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:e:{for(var _e=Q.key;G!==null;){if(G.key===_e){if(_e=Q.type,_e===N){if(G.tag===7){d(X,G.sibling),ce=j(G,Q.props.children),ce.return=X,X=ce;break e}}else if(G.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===P&&bi(_e)===G.type){d(X,G.sibling),ce=j(G,Q.props),Xc(ce,Q),ce.return=X,X=ce;break e}d(X,G);break}else l(X,G);G=G.sibling}Q.type===N?(ce=pi(Q.props.children,X.mode,ce,Q.key),ce.return=X,X=ce):(ce=iu(Q.type,Q.key,Q.props,null,X.mode,ce),Xc(ce,Q),ce.return=X,X=ce)}return T(X);case w:e:{for(_e=Q.key;G!==null;){if(G.key===_e)if(G.tag===4&&G.stateNode.containerInfo===Q.containerInfo&&G.stateNode.implementation===Q.implementation){d(X,G.sibling),ce=j(G,Q.children||[]),ce.return=X,X=ce;break e}else{d(X,G);break}else l(X,G);G=G.sibling}ce=jp(Q,X.mode,ce),ce.return=X,X=ce}return T(X);case P:return Q=bi(Q),rt(X,G,Q,ce)}if(W(Q))return ve(X,G,Q,ce);if(F(Q)){if(_e=F(Q),typeof _e!="function")throw Error(s(150));return Q=_e.call(Q),ke(X,G,Q,ce)}if(typeof Q.then=="function")return rt(X,G,xu(Q),ce);if(Q.$$typeof===C)return rt(X,G,ou(X,Q),ce);hu(X,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,G!==null&&G.tag===6?(d(X,G.sibling),ce=j(G,Q),ce.return=X,X=ce):(d(X,G),ce=bp(Q,X.mode,ce),ce.return=X,X=ce),T(X)):d(X,G)}return function(X,G,Q,ce){try{Yc=0;var _e=rt(X,G,Q,ce);return _l=null,_e}catch(we){if(we===Sl||we===uu)throw we;var He=nr(29,we,null,X.mode);return He.lanes=ce,He.return=X,He}finally{}}}var Ni=E1(!0),O1=E1(!1),Cn=!1;function Pp(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zp(n,l){n=n.updateQueue,l.updateQueue===n&&(l.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function kn(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function An(n,l,d){var p=n.updateQueue;if(p===null)return null;if(p=p.shared,(Ye&2)!==0){var j=p.pending;return j===null?l.next=l:(l.next=j.next,j.next=l),p.pending=l,l=nu(n),x1(n,null,d),l}return su(n,p,l,d),nu(n)}function Wc(n,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var p=l.lanes;p&=n.pendingLanes,d|=p,l.lanes=d,rr(n,d)}}function Mp(n,l){var d=n.updateQueue,p=n.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var j=null,S=null;if(d=d.firstBaseUpdate,d!==null){do{var T={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};S===null?j=S=T:S=S.next=T,d=d.next}while(d!==null);S===null?j=S=l:S=S.next=l}else j=S=l;d={baseState:p.baseState,firstBaseUpdate:j,lastBaseUpdate:S,shared:p.shared,callbacks:p.callbacks},n.updateQueue=d;return}n=d.lastBaseUpdate,n===null?d.firstBaseUpdate=l:n.next=l,d.lastBaseUpdate=l}var Rp=!1;function Zc(){if(Rp){var n=wl;if(n!==null)throw n}}function Qc(n,l,d,p){Rp=!1;var j=n.updateQueue;Cn=!1;var S=j.firstBaseUpdate,T=j.lastBaseUpdate,I=j.shared.pending;if(I!==null){j.shared.pending=null;var U=I,J=U.next;U.next=null,T===null?S=J:T.next=J,T=U;var le=n.alternate;le!==null&&(le=le.updateQueue,I=le.lastBaseUpdate,I!==T&&(I===null?le.firstBaseUpdate=J:I.next=J,le.lastBaseUpdate=U))}if(S!==null){var oe=j.baseState;T=0,le=J=U=null,I=S;do{var ee=I.lane&-536870913,ne=ee!==I.lane;if(ne?(Ie&ee)===ee:(p&ee)===ee){ee!==0&&ee===Nl&&(Rp=!0),le!==null&&(le=le.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var ve=n,ke=I;ee=l;var rt=d;switch(ke.tag){case 1:if(ve=ke.payload,typeof ve=="function"){oe=ve.call(rt,oe,ee);break e}oe=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=ke.payload,ee=typeof ve=="function"?ve.call(rt,oe,ee):ve,ee==null)break e;oe=f({},oe,ee);break e;case 2:Cn=!0}}ee=I.callback,ee!==null&&(n.flags|=64,ne&&(n.flags|=8192),ne=j.callbacks,ne===null?j.callbacks=[ee]:ne.push(ee))}else ne={lane:ee,tag:I.tag,payload:I.payload,callback:I.callback,next:null},le===null?(J=le=ne,U=oe):le=le.next=ne,T|=ee;if(I=I.next,I===null){if(I=j.shared.pending,I===null)break;ne=I,I=ne.next,ne.next=null,j.lastBaseUpdate=ne,j.shared.pending=null}}while(!0);le===null&&(U=oe),j.baseState=U,j.firstBaseUpdate=J,j.lastBaseUpdate=le,S===null&&(j.shared.lanes=0),Pn|=T,n.lanes=T,n.memoizedState=oe}}function T1(n,l){if(typeof n!="function")throw Error(s(191,n));n.call(l)}function D1(n,l){var d=n.callbacks;if(d!==null)for(n.callbacks=null,n=0;n<d.length;n++)T1(d[n],l)}var Cl=B(null),pu=B(0);function P1(n,l){n=Vs,Y(pu,n),Y(Cl,l),Vs=n|l.baseLanes}function Lp(){Y(pu,Vs),Y(Cl,Cl.current)}function Ip(){Vs=pu.current,K(Cl),K(pu)}var ir=B(null),Tr=null;function En(n){var l=n.alternate;Y(zt,zt.current&1),Y(ir,n),Tr===null&&(l===null||Cl.current!==null||l.memoizedState!==null)&&(Tr=n)}function $p(n){Y(zt,zt.current),Y(ir,n),Tr===null&&(Tr=n)}function z1(n){n.tag===22?(Y(zt,zt.current),Y(ir,n),Tr===null&&(Tr=n)):On()}function On(){Y(zt,zt.current),Y(ir,ir.current)}function lr(n){K(ir),Tr===n&&(Tr=null),K(zt)}var zt=B(0);function fu(n){for(var l=n;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||V0(d)||G0(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===n)break;for(;l.sibling===null;){if(l.return===null||l.return===n)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Ls=0,De=null,tt=null,It=null,gu=!1,kl=!1,wi=!1,yu=0,Jc=0,Al=null,Q8=0;function At(){throw Error(s(321))}function Bp(n,l){if(l===null)return!1;for(var d=0;d<l.length&&d<n.length;d++)if(!sr(n[d],l[d]))return!1;return!0}function Fp(n,l,d,p,j,S){return Ls=S,De=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,H.H=n===null||n.memoizedState===null?gN:a0,wi=!1,S=d(p,j),wi=!1,kl&&(S=R1(l,d,p,j)),M1(n),S}function M1(n){H.H=ao;var l=tt!==null&&tt.next!==null;if(Ls=0,It=tt=De=null,gu=!1,Jc=0,Al=null,l)throw Error(s(300));n===null||$t||(n=n.dependencies,n!==null&&cu(n)&&($t=!0))}function R1(n,l,d,p){De=n;var j=0;do{if(kl&&(Al=null),Jc=0,kl=!1,25<=j)throw Error(s(301));if(j+=1,It=tt=null,n.updateQueue!=null){var S=n.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}H.H=yN,S=l(d,p)}while(kl);return S}function J8(){var n=H.H,l=n.useState()[0];return l=typeof l.then=="function"?eo(l):l,n=n.useState()[0],(tt!==null?tt.memoizedState:null)!==n&&(De.flags|=1024),l}function Up(){var n=yu!==0;return yu=0,n}function qp(n,l,d){l.updateQueue=n.updateQueue,l.flags&=-2053,n.lanes&=~d}function Hp(n){if(gu){for(n=n.memoizedState;n!==null;){var l=n.queue;l!==null&&(l.pending=null),n=n.next}gu=!1}Ls=0,It=tt=De=null,kl=!1,Jc=yu=0,Al=null}function Da(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?De.memoizedState=It=n:It=It.next=n,It}function Mt(){if(tt===null){var n=De.alternate;n=n!==null?n.memoizedState:null}else n=tt.next;var l=It===null?De.memoizedState:It.next;if(l!==null)It=l,tt=n;else{if(n===null)throw De.alternate===null?Error(s(467)):Error(s(310));tt=n,n={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},It===null?De.memoizedState=It=n:It=It.next=n}return It}function vu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eo(n){var l=Jc;return Jc+=1,Al===null&&(Al=[]),n=C1(Al,n,l),l=De,(It===null?l.memoizedState:It.next)===null&&(l=l.alternate,H.H=l===null||l.memoizedState===null?gN:a0),n}function bu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return eo(n);if(n.$$typeof===C)return ha(n)}throw Error(s(438,String(n)))}function Vp(n){var l=null,d=De.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var p=De.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(j){return j.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=vu(),De.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(n),p=0;p<n;p++)d[p]=z;return l.index++,d}function Is(n,l){return typeof l=="function"?l(n):l}function ju(n){var l=Mt();return Gp(l,tt,n)}function Gp(n,l,d){var p=n.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=d;var j=n.baseQueue,S=p.pending;if(S!==null){if(j!==null){var T=j.next;j.next=S.next,S.next=T}l.baseQueue=j=S,p.pending=null}if(S=n.baseState,j===null)n.memoizedState=S;else{l=j.next;var I=T=null,U=null,J=l,le=!1;do{var oe=J.lane&-536870913;if(oe!==J.lane?(Ie&oe)===oe:(Ls&oe)===oe){var ee=J.revertLane;if(ee===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),oe===Nl&&(le=!0);else if((Ls&ee)===ee){J=J.next,ee===Nl&&(le=!0);continue}else oe={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},U===null?(I=U=oe,T=S):U=U.next=oe,De.lanes|=ee,Pn|=ee;oe=J.action,wi&&d(S,oe),S=J.hasEagerState?J.eagerState:d(S,oe)}else ee={lane:oe,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},U===null?(I=U=ee,T=S):U=U.next=ee,De.lanes|=oe,Pn|=oe;J=J.next}while(J!==null&&J!==l);if(U===null?T=S:U.next=I,!sr(S,n.memoizedState)&&($t=!0,le&&(d=wl,d!==null)))throw d;n.memoizedState=S,n.baseState=T,n.baseQueue=U,p.lastRenderedState=S}return j===null&&(p.lanes=0),[n.memoizedState,p.dispatch]}function Kp(n){var l=Mt(),d=l.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=n;var p=d.dispatch,j=d.pending,S=l.memoizedState;if(j!==null){d.pending=null;var T=j=j.next;do S=n(S,T.action),T=T.next;while(T!==j);sr(S,l.memoizedState)||($t=!0),l.memoizedState=S,l.baseQueue===null&&(l.baseState=S),d.lastRenderedState=S}return[S,p]}function L1(n,l,d){var p=De,j=Mt(),S=Fe;if(S){if(d===void 0)throw Error(s(407));d=d()}else d=l();var T=!sr((tt||j).memoizedState,d);if(T&&(j.memoizedState=d,$t=!0),j=j.queue,Wp(B1.bind(null,p,j,n),[n]),j.getSnapshot!==l||T||It!==null&&It.memoizedState.tag&1){if(p.flags|=2048,El(9,{destroy:void 0},$1.bind(null,p,j,d,l),null),lt===null)throw Error(s(349));S||(Ls&127)!==0||I1(p,l,d)}return d}function I1(n,l,d){n.flags|=16384,n={getSnapshot:l,value:d},l=De.updateQueue,l===null?(l=vu(),De.updateQueue=l,l.stores=[n]):(d=l.stores,d===null?l.stores=[n]:d.push(n))}function $1(n,l,d,p){l.value=d,l.getSnapshot=p,F1(l)&&U1(n)}function B1(n,l,d){return d(function(){F1(l)&&U1(n)})}function F1(n){var l=n.getSnapshot;n=n.value;try{var d=l();return!sr(n,d)}catch{return!0}}function U1(n){var l=hi(n,2);l!==null&&Ya(l,n,2)}function Yp(n){var l=Da();if(typeof n=="function"){var d=n;if(n=d(),wi){br(!0);try{d()}finally{br(!1)}}}return l.memoizedState=l.baseState=n,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:n},l}function q1(n,l,d,p){return n.baseState=d,Gp(n,tt,typeof p=="function"?p:Is)}function eT(n,l,d,p,j){if(Su(n))throw Error(s(485));if(n=l.action,n!==null){var S={payload:j,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){S.listeners.push(T)}};H.T!==null?d(!0):S.isTransition=!1,p(S),d=l.pending,d===null?(S.next=l.pending=S,H1(l,S)):(S.next=d.next,l.pending=d.next=S)}}function H1(n,l){var d=l.action,p=l.payload,j=n.state;if(l.isTransition){var S=H.T,T={};H.T=T;try{var I=d(j,p),U=H.S;U!==null&&U(T,I),V1(n,l,I)}catch(J){Xp(n,l,J)}finally{S!==null&&T.types!==null&&(S.types=T.types),H.T=S}}else try{S=d(j,p),V1(n,l,S)}catch(J){Xp(n,l,J)}}function V1(n,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){G1(n,l,p)},function(p){return Xp(n,l,p)}):G1(n,l,d)}function G1(n,l,d){l.status="fulfilled",l.value=d,K1(l),n.state=d,l=n.pending,l!==null&&(d=l.next,d===l?n.pending=null:(d=d.next,l.next=d,H1(n,d)))}function Xp(n,l,d){var p=n.pending;if(n.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=d,K1(l),l=l.next;while(l!==p)}n.action=null}function K1(n){n=n.listeners;for(var l=0;l<n.length;l++)(0,n[l])()}function Y1(n,l){return l}function X1(n,l){if(Fe){var d=lt.formState;if(d!==null){e:{var p=De;if(Fe){if(ut){t:{for(var j=ut,S=Or;j.nodeType!==8;){if(!S){j=null;break t}if(j=Dr(j.nextSibling),j===null){j=null;break t}}S=j.data,j=S==="F!"||S==="F"?j:null}if(j){ut=Dr(j.nextSibling),p=j.data==="F!";break e}}Sn(p)}p=!1}p&&(l=d[0])}}return d=Da(),d.memoizedState=d.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Y1,lastRenderedState:l},d.queue=p,d=hN.bind(null,De,p),p.dispatch=d,p=Yp(!1),S=t0.bind(null,De,!1,p.queue),p=Da(),j={state:l,dispatch:null,action:n,pending:null},p.queue=j,d=eT.bind(null,De,j,S,d),j.dispatch=d,p.memoizedState=n,[l,d,!1]}function W1(n){var l=Mt();return Z1(l,tt,n)}function Z1(n,l,d){if(l=Gp(n,l,Y1)[0],n=ju(Is)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=eo(l)}catch(T){throw T===Sl?uu:T}else p=l;l=Mt();var j=l.queue,S=j.dispatch;return d!==l.memoizedState&&(De.flags|=2048,El(9,{destroy:void 0},tT.bind(null,j,d),null)),[p,S,n]}function tT(n,l){n.action=l}function Q1(n){var l=Mt(),d=tt;if(d!==null)return Z1(l,d,n);Mt(),l=l.memoizedState,d=Mt();var p=d.queue.dispatch;return d.memoizedState=n,[l,p,!1]}function El(n,l,d,p){return n={tag:n,create:d,deps:p,inst:l,next:null},l=De.updateQueue,l===null&&(l=vu(),De.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=n.next=n:(p=d.next,d.next=n,n.next=p,l.lastEffect=n),n}function J1(){return Mt().memoizedState}function Nu(n,l,d,p){var j=Da();De.flags|=n,j.memoizedState=El(1|l,{destroy:void 0},d,p===void 0?null:p)}function wu(n,l,d,p){var j=Mt();p=p===void 0?null:p;var S=j.memoizedState.inst;tt!==null&&p!==null&&Bp(p,tt.memoizedState.deps)?j.memoizedState=El(l,S,d,p):(De.flags|=n,j.memoizedState=El(1|l,S,d,p))}function eN(n,l){Nu(8390656,8,n,l)}function Wp(n,l){wu(2048,8,n,l)}function aT(n){De.flags|=4;var l=De.updateQueue;if(l===null)l=vu(),De.updateQueue=l,l.events=[n];else{var d=l.events;d===null?l.events=[n]:d.push(n)}}function tN(n){var l=Mt().memoizedState;return aT({ref:l,nextImpl:n}),function(){if((Ye&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}function aN(n,l){return wu(4,2,n,l)}function rN(n,l){return wu(4,4,n,l)}function sN(n,l){if(typeof l=="function"){n=n();var d=l(n);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return n=n(),l.current=n,function(){l.current=null}}function nN(n,l,d){d=d!=null?d.concat([n]):null,wu(4,4,sN.bind(null,l,n),d)}function Zp(){}function iN(n,l){var d=Mt();l=l===void 0?null:l;var p=d.memoizedState;return l!==null&&Bp(l,p[1])?p[0]:(d.memoizedState=[n,l],n)}function lN(n,l){var d=Mt();l=l===void 0?null:l;var p=d.memoizedState;if(l!==null&&Bp(l,p[1]))return p[0];if(p=n(),wi){br(!0);try{n()}finally{br(!1)}}return d.memoizedState=[p,l],p}function Qp(n,l,d){return d===void 0||(Ls&1073741824)!==0&&(Ie&261930)===0?n.memoizedState=l:(n.memoizedState=d,n=cw(),De.lanes|=n,Pn|=n,d)}function cN(n,l,d,p){return sr(d,l)?d:Cl.current!==null?(n=Qp(n,d,p),sr(n,l)||($t=!0),n):(Ls&42)===0||(Ls&1073741824)!==0&&(Ie&261930)===0?($t=!0,n.memoizedState=d):(n=cw(),De.lanes|=n,Pn|=n,l)}function oN(n,l,d,p,j){var S=R.p;R.p=S!==0&&8>S?S:8;var T=H.T,I={};H.T=I,t0(n,!1,l,d);try{var U=j(),J=H.S;if(J!==null&&J(I,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var le=Z8(U,p);to(n,l,le,dr(n))}else to(n,l,p,dr(n))}catch(oe){to(n,l,{then:function(){},status:"rejected",reason:oe},dr())}finally{R.p=S,T!==null&&I.types!==null&&(T.types=I.types),H.T=T}}function rT(){}function Jp(n,l,d,p){if(n.tag!==5)throw Error(s(476));var j=dN(n).queue;oN(n,j,l,$,d===null?rT:function(){return uN(n),d(p)})}function dN(n){var l=n.memoizedState;if(l!==null)return l;l={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:$},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:d},next:null},n.memoizedState=l,n=n.alternate,n!==null&&(n.memoizedState=l),l}function uN(n){var l=dN(n);l.next===null&&(l=n.alternate.memoizedState),to(n,l.next.queue,{},dr())}function e0(){return ha(vo)}function mN(){return Mt().memoizedState}function xN(){return Mt().memoizedState}function sT(n){for(var l=n.return;l!==null;){switch(l.tag){case 24:case 3:var d=dr();n=kn(d);var p=An(l,n,d);p!==null&&(Ya(p,l,d),Wc(p,l,d)),l={cache:Ep()},n.payload=l;return}l=l.return}}function nT(n,l,d){var p=dr();d={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Su(n)?pN(l,d):(d=yp(n,l,d,p),d!==null&&(Ya(d,n,p),fN(d,l,p)))}function hN(n,l,d){var p=dr();to(n,l,d,p)}function to(n,l,d,p){var j={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Su(n))pN(l,j);else{var S=n.alternate;if(n.lanes===0&&(S===null||S.lanes===0)&&(S=l.lastRenderedReducer,S!==null))try{var T=l.lastRenderedState,I=S(T,d);if(j.hasEagerState=!0,j.eagerState=I,sr(I,T))return su(n,l,j,0),lt===null&&ru(),!1}catch{}finally{}if(d=yp(n,l,j,p),d!==null)return Ya(d,n,p),fN(d,l,p),!0}return!1}function t0(n,l,d,p){if(p={lane:2,revertLane:P0(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Su(n)){if(l)throw Error(s(479))}else l=yp(n,d,p,2),l!==null&&Ya(l,n,2)}function Su(n){var l=n.alternate;return n===De||l!==null&&l===De}function pN(n,l){kl=gu=!0;var d=n.pending;d===null?l.next=l:(l.next=d.next,d.next=l),n.pending=l}function fN(n,l,d){if((d&4194048)!==0){var p=l.lanes;p&=n.pendingLanes,d|=p,l.lanes=d,rr(n,d)}}var ao={readContext:ha,use:bu,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};ao.useEffectEvent=At;var gN={readContext:ha,use:bu,useCallback:function(n,l){return Da().memoizedState=[n,l===void 0?null:l],n},useContext:ha,useEffect:eN,useImperativeHandle:function(n,l,d){d=d!=null?d.concat([n]):null,Nu(4194308,4,sN.bind(null,l,n),d)},useLayoutEffect:function(n,l){return Nu(4194308,4,n,l)},useInsertionEffect:function(n,l){Nu(4,2,n,l)},useMemo:function(n,l){var d=Da();l=l===void 0?null:l;var p=n();if(wi){br(!0);try{n()}finally{br(!1)}}return d.memoizedState=[p,l],p},useReducer:function(n,l,d){var p=Da();if(d!==void 0){var j=d(l);if(wi){br(!0);try{d(l)}finally{br(!1)}}}else j=l;return p.memoizedState=p.baseState=j,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:j},p.queue=n,n=n.dispatch=nT.bind(null,De,n),[p.memoizedState,n]},useRef:function(n){var l=Da();return n={current:n},l.memoizedState=n},useState:function(n){n=Yp(n);var l=n.queue,d=hN.bind(null,De,l);return l.dispatch=d,[n.memoizedState,d]},useDebugValue:Zp,useDeferredValue:function(n,l){var d=Da();return Qp(d,n,l)},useTransition:function(){var n=Yp(!1);return n=oN.bind(null,De,n.queue,!0,!1),Da().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,l,d){var p=De,j=Da();if(Fe){if(d===void 0)throw Error(s(407));d=d()}else{if(d=l(),lt===null)throw Error(s(349));(Ie&127)!==0||I1(p,l,d)}j.memoizedState=d;var S={value:d,getSnapshot:l};return j.queue=S,eN(B1.bind(null,p,S,n),[n]),p.flags|=2048,El(9,{destroy:void 0},$1.bind(null,p,S,d,l),null),d},useId:function(){var n=Da(),l=lt.identifierPrefix;if(Fe){var d=xs,p=ms;d=(p&~(1<<32-ba(p)-1)).toString(32)+d,l="_"+l+"R_"+d,d=yu++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=Q8++,l="_"+l+"r_"+d.toString(32)+"_";return n.memoizedState=l},useHostTransitionStatus:e0,useFormState:X1,useActionState:X1,useOptimistic:function(n){var l=Da();l.memoizedState=l.baseState=n;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=t0.bind(null,De,!0,d),d.dispatch=l,[n,l]},useMemoCache:Vp,useCacheRefresh:function(){return Da().memoizedState=sT.bind(null,De)},useEffectEvent:function(n){var l=Da(),d={impl:n};return l.memoizedState=d,function(){if((Ye&2)!==0)throw Error(s(440));return d.impl.apply(void 0,arguments)}}},a0={readContext:ha,use:bu,useCallback:iN,useContext:ha,useEffect:Wp,useImperativeHandle:nN,useInsertionEffect:aN,useLayoutEffect:rN,useMemo:lN,useReducer:ju,useRef:J1,useState:function(){return ju(Is)},useDebugValue:Zp,useDeferredValue:function(n,l){var d=Mt();return cN(d,tt.memoizedState,n,l)},useTransition:function(){var n=ju(Is)[0],l=Mt().memoizedState;return[typeof n=="boolean"?n:eo(n),l]},useSyncExternalStore:L1,useId:mN,useHostTransitionStatus:e0,useFormState:W1,useActionState:W1,useOptimistic:function(n,l){var d=Mt();return q1(d,tt,n,l)},useMemoCache:Vp,useCacheRefresh:xN};a0.useEffectEvent=tN;var yN={readContext:ha,use:bu,useCallback:iN,useContext:ha,useEffect:Wp,useImperativeHandle:nN,useInsertionEffect:aN,useLayoutEffect:rN,useMemo:lN,useReducer:Kp,useRef:J1,useState:function(){return Kp(Is)},useDebugValue:Zp,useDeferredValue:function(n,l){var d=Mt();return tt===null?Qp(d,n,l):cN(d,tt.memoizedState,n,l)},useTransition:function(){var n=Kp(Is)[0],l=Mt().memoizedState;return[typeof n=="boolean"?n:eo(n),l]},useSyncExternalStore:L1,useId:mN,useHostTransitionStatus:e0,useFormState:Q1,useActionState:Q1,useOptimistic:function(n,l){var d=Mt();return tt!==null?q1(d,tt,n,l):(d.baseState=n,[n,d.queue.dispatch])},useMemoCache:Vp,useCacheRefresh:xN};yN.useEffectEvent=tN;function r0(n,l,d,p){l=n.memoizedState,d=d(p,l),d=d==null?l:f({},l,d),n.memoizedState=d,n.lanes===0&&(n.updateQueue.baseState=d)}var s0={enqueueSetState:function(n,l,d){n=n._reactInternals;var p=dr(),j=kn(p);j.payload=l,d!=null&&(j.callback=d),l=An(n,j,p),l!==null&&(Ya(l,n,p),Wc(l,n,p))},enqueueReplaceState:function(n,l,d){n=n._reactInternals;var p=dr(),j=kn(p);j.tag=1,j.payload=l,d!=null&&(j.callback=d),l=An(n,j,p),l!==null&&(Ya(l,n,p),Wc(l,n,p))},enqueueForceUpdate:function(n,l){n=n._reactInternals;var d=dr(),p=kn(d);p.tag=2,l!=null&&(p.callback=l),l=An(n,p,d),l!==null&&(Ya(l,n,d),Wc(l,n,d))}};function vN(n,l,d,p,j,S,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(p,S,T):l.prototype&&l.prototype.isPureReactComponent?!Uc(d,p)||!Uc(j,S):!0}function bN(n,l,d,p){n=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,p),l.state!==n&&s0.enqueueReplaceState(l,l.state,null)}function Si(n,l){var d=l;if("ref"in l){d={};for(var p in l)p!=="ref"&&(d[p]=l[p])}if(n=n.defaultProps){d===l&&(d=f({},d));for(var j in n)d[j]===void 0&&(d[j]=n[j])}return d}function jN(n){au(n)}function NN(n){console.error(n)}function wN(n){au(n)}function _u(n,l){try{var d=n.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function SN(n,l,d){try{var p=n.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(j){setTimeout(function(){throw j})}}function n0(n,l,d){return d=kn(d),d.tag=3,d.payload={element:null},d.callback=function(){_u(n,l)},d}function _N(n){return n=kn(n),n.tag=3,n}function CN(n,l,d,p){var j=d.type.getDerivedStateFromError;if(typeof j=="function"){var S=p.value;n.payload=function(){return j(S)},n.callback=function(){SN(l,d,p)}}var T=d.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){SN(l,d,p),typeof j!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var I=p.stack;this.componentDidCatch(p.value,{componentStack:I!==null?I:""})})}function iT(n,l,d,p,j){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=d.alternate,l!==null&&jl(l,d,j,!0),d=ir.current,d!==null){switch(d.tag){case 31:case 13:return Tr===null?Lu():d.alternate===null&&Et===0&&(Et=3),d.flags&=-257,d.flags|=65536,d.lanes=j,p===mu?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([p]):l.add(p),O0(n,p,j)),!1;case 22:return d.flags|=65536,p===mu?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([p]):d.add(p)),O0(n,p,j)),!1}throw Error(s(435,d.tag))}return O0(n,p,j),Lu(),!1}if(Fe)return l=ir.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=j,p!==Sp&&(n=Error(s(422),{cause:p}),Vc(kr(n,d)))):(p!==Sp&&(l=Error(s(423),{cause:p}),Vc(kr(l,d))),n=n.current.alternate,n.flags|=65536,j&=-j,n.lanes|=j,p=kr(p,d),j=n0(n.stateNode,p,j),Mp(n,j),Et!==4&&(Et=2)),!1;var S=Error(s(520),{cause:p});if(S=kr(S,d),uo===null?uo=[S]:uo.push(S),Et!==4&&(Et=2),l===null)return!0;p=kr(p,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,n=j&-j,d.lanes|=n,n=n0(d.stateNode,p,n),Mp(d,n),!1;case 1:if(l=d.type,S=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(zn===null||!zn.has(S))))return d.flags|=65536,j&=-j,d.lanes|=j,j=_N(j),CN(j,n,d,p),Mp(d,j),!1}d=d.return}while(d!==null);return!1}var i0=Error(s(461)),$t=!1;function pa(n,l,d,p){l.child=n===null?O1(l,null,d,p):Ni(l,n.child,d,p)}function kN(n,l,d,p,j){d=d.render;var S=l.ref;if("ref"in p){var T={};for(var I in p)I!=="ref"&&(T[I]=p[I])}else T=p;return yi(l),p=Fp(n,l,d,T,S,j),I=Up(),n!==null&&!$t?(qp(n,l,j),$s(n,l,j)):(Fe&&I&&Np(l),l.flags|=1,pa(n,l,p,j),l.child)}function AN(n,l,d,p,j){if(n===null){var S=d.type;return typeof S=="function"&&!vp(S)&&S.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=S,EN(n,l,S,p,j)):(n=iu(d.type,null,p,l,l.mode,j),n.ref=l.ref,n.return=l,l.child=n)}if(S=n.child,!h0(n,j)){var T=S.memoizedProps;if(d=d.compare,d=d!==null?d:Uc,d(T,p)&&n.ref===l.ref)return $s(n,l,j)}return l.flags|=1,n=Ps(S,p),n.ref=l.ref,n.return=l,l.child=n}function EN(n,l,d,p,j){if(n!==null){var S=n.memoizedProps;if(Uc(S,p)&&n.ref===l.ref)if($t=!1,l.pendingProps=p=S,h0(n,j))(n.flags&131072)!==0&&($t=!0);else return l.lanes=n.lanes,$s(n,l,j)}return l0(n,l,d,p,j)}function ON(n,l,d,p){var j=p.children,S=n!==null?n.memoizedState:null;if(n===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((l.flags&128)!==0){if(S=S!==null?S.baseLanes|d:d,n!==null){for(p=l.child=n.child,j=0;p!==null;)j=j|p.lanes|p.childLanes,p=p.sibling;p=j&~S}else p=0,l.child=null;return TN(n,l,S,d,p)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},n!==null&&du(l,S!==null?S.cachePool:null),S!==null?P1(l,S):Lp(),z1(l);else return p=l.lanes=536870912,TN(n,l,S!==null?S.baseLanes|d:d,d,p)}else S!==null?(du(l,S.cachePool),P1(l,S),On(),l.memoizedState=null):(n!==null&&du(l,null),Lp(),On());return pa(n,l,j,d),l.child}function ro(n,l){return n!==null&&n.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function TN(n,l,d,p,j){var S=Tp();return S=S===null?null:{parent:Lt._currentValue,pool:S},l.memoizedState={baseLanes:d,cachePool:S},n!==null&&du(l,null),Lp(),z1(l),n!==null&&jl(n,l,p,!0),l.childLanes=j,null}function Cu(n,l){return l=Au({mode:l.mode,children:l.children},n.mode),l.ref=n.ref,n.child=l,l.return=n,l}function DN(n,l,d){return Ni(l,n.child,null,d),n=Cu(l,l.pendingProps),n.flags|=2,lr(l),l.memoizedState=null,n}function lT(n,l,d){var p=l.pendingProps,j=(l.flags&128)!==0;if(l.flags&=-129,n===null){if(Fe){if(p.mode==="hidden")return n=Cu(l,p),l.lanes=536870912,ro(null,n);if($p(l),(n=ut)?(n=Hw(n,Or),n=n!==null&&n.data==="&"?n:null,n!==null&&(l.memoizedState={dehydrated:n,treeContext:Nn!==null?{id:ms,overflow:xs}:null,retryLane:536870912,hydrationErrors:null},d=p1(n),d.return=l,l.child=d,xa=l,ut=null)):n=null,n===null)throw Sn(l);return l.lanes=536870912,null}return Cu(l,p)}var S=n.memoizedState;if(S!==null){var T=S.dehydrated;if($p(l),j)if(l.flags&256)l.flags&=-257,l=DN(n,l,d);else if(l.memoizedState!==null)l.child=n.child,l.flags|=128,l=null;else throw Error(s(558));else if($t||jl(n,l,d,!1),j=(d&n.childLanes)!==0,$t||j){if(p=lt,p!==null&&(T=Nr(p,d),T!==0&&T!==S.retryLane))throw S.retryLane=T,hi(n,T),Ya(p,n,T),i0;Lu(),l=DN(n,l,d)}else n=S.treeContext,ut=Dr(T.nextSibling),xa=l,Fe=!0,wn=null,Or=!1,n!==null&&y1(l,n),l=Cu(l,p),l.flags|=4096;return l}return n=Ps(n.child,{mode:p.mode,children:p.children}),n.ref=l.ref,l.child=n,n.return=l,n}function ku(n,l){var d=l.ref;if(d===null)n!==null&&n.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(s(284));(n===null||n.ref!==d)&&(l.flags|=4194816)}}function l0(n,l,d,p,j){return yi(l),d=Fp(n,l,d,p,void 0,j),p=Up(),n!==null&&!$t?(qp(n,l,j),$s(n,l,j)):(Fe&&p&&Np(l),l.flags|=1,pa(n,l,d,j),l.child)}function PN(n,l,d,p,j,S){return yi(l),l.updateQueue=null,d=R1(l,p,d,j),M1(n),p=Up(),n!==null&&!$t?(qp(n,l,S),$s(n,l,S)):(Fe&&p&&Np(l),l.flags|=1,pa(n,l,d,S),l.child)}function zN(n,l,d,p,j){if(yi(l),l.stateNode===null){var S=gl,T=d.contextType;typeof T=="object"&&T!==null&&(S=ha(T)),S=new d(p,S),l.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=s0,l.stateNode=S,S._reactInternals=l,S=l.stateNode,S.props=p,S.state=l.memoizedState,S.refs={},Pp(l),T=d.contextType,S.context=typeof T=="object"&&T!==null?ha(T):gl,S.state=l.memoizedState,T=d.getDerivedStateFromProps,typeof T=="function"&&(r0(l,d,T,p),S.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(T=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),T!==S.state&&s0.enqueueReplaceState(S,S.state,null),Qc(l,p,S,j),Zc(),S.state=l.memoizedState),typeof S.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(n===null){S=l.stateNode;var I=l.memoizedProps,U=Si(d,I);S.props=U;var J=S.context,le=d.contextType;T=gl,typeof le=="object"&&le!==null&&(T=ha(le));var oe=d.getDerivedStateFromProps;le=typeof oe=="function"||typeof S.getSnapshotBeforeUpdate=="function",I=l.pendingProps!==I,le||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(I||J!==T)&&bN(l,S,p,T),Cn=!1;var ee=l.memoizedState;S.state=ee,Qc(l,p,S,j),Zc(),J=l.memoizedState,I||ee!==J||Cn?(typeof oe=="function"&&(r0(l,d,oe,p),J=l.memoizedState),(U=Cn||vN(l,d,U,p,ee,J,T))?(le||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(l.flags|=4194308)):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=J),S.props=p,S.state=J,S.context=T,p=U):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{S=l.stateNode,zp(n,l),T=l.memoizedProps,le=Si(d,T),S.props=le,oe=l.pendingProps,ee=S.context,J=d.contextType,U=gl,typeof J=="object"&&J!==null&&(U=ha(J)),I=d.getDerivedStateFromProps,(J=typeof I=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(T!==oe||ee!==U)&&bN(l,S,p,U),Cn=!1,ee=l.memoizedState,S.state=ee,Qc(l,p,S,j),Zc();var ne=l.memoizedState;T!==oe||ee!==ne||Cn||n!==null&&n.dependencies!==null&&cu(n.dependencies)?(typeof I=="function"&&(r0(l,d,I,p),ne=l.memoizedState),(le=Cn||vN(l,d,le,p,ee,ne,U)||n!==null&&n.dependencies!==null&&cu(n.dependencies))?(J||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,ne,U),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,ne,U)),typeof S.componentDidUpdate=="function"&&(l.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof S.componentDidUpdate!="function"||T===n.memoizedProps&&ee===n.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&ee===n.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=ne),S.props=p,S.state=ne,S.context=U,p=le):(typeof S.componentDidUpdate!="function"||T===n.memoizedProps&&ee===n.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&ee===n.memoizedState||(l.flags|=1024),p=!1)}return S=p,ku(n,l),p=(l.flags&128)!==0,S||p?(S=l.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:S.render(),l.flags|=1,n!==null&&p?(l.child=Ni(l,n.child,null,j),l.child=Ni(l,null,d,j)):pa(n,l,d,j),l.memoizedState=S.state,n=l.child):n=$s(n,l,j),n}function MN(n,l,d,p){return fi(),l.flags|=256,pa(n,l,d,p),l.child}var c0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function o0(n){return{baseLanes:n,cachePool:S1()}}function d0(n,l,d){return n=n!==null?n.childLanes&~d:0,l&&(n|=or),n}function RN(n,l,d){var p=l.pendingProps,j=!1,S=(l.flags&128)!==0,T;if((T=S)||(T=n!==null&&n.memoizedState===null?!1:(zt.current&2)!==0),T&&(j=!0,l.flags&=-129),T=(l.flags&32)!==0,l.flags&=-33,n===null){if(Fe){if(j?En(l):On(),(n=ut)?(n=Hw(n,Or),n=n!==null&&n.data!=="&"?n:null,n!==null&&(l.memoizedState={dehydrated:n,treeContext:Nn!==null?{id:ms,overflow:xs}:null,retryLane:536870912,hydrationErrors:null},d=p1(n),d.return=l,l.child=d,xa=l,ut=null)):n=null,n===null)throw Sn(l);return G0(n)?l.lanes=32:l.lanes=536870912,null}var I=p.children;return p=p.fallback,j?(On(),j=l.mode,I=Au({mode:"hidden",children:I},j),p=pi(p,j,d,null),I.return=l,p.return=l,I.sibling=p,l.child=I,p=l.child,p.memoizedState=o0(d),p.childLanes=d0(n,T,d),l.memoizedState=c0,ro(null,p)):(En(l),u0(l,I))}var U=n.memoizedState;if(U!==null&&(I=U.dehydrated,I!==null)){if(S)l.flags&256?(En(l),l.flags&=-257,l=m0(n,l,d)):l.memoizedState!==null?(On(),l.child=n.child,l.flags|=128,l=null):(On(),I=p.fallback,j=l.mode,p=Au({mode:"visible",children:p.children},j),I=pi(I,j,d,null),I.flags|=2,p.return=l,I.return=l,p.sibling=I,l.child=p,Ni(l,n.child,null,d),p=l.child,p.memoizedState=o0(d),p.childLanes=d0(n,T,d),l.memoizedState=c0,l=ro(null,p));else if(En(l),G0(I)){if(T=I.nextSibling&&I.nextSibling.dataset,T)var J=T.dgst;T=J,p=Error(s(419)),p.stack="",p.digest=T,Vc({value:p,source:null,stack:null}),l=m0(n,l,d)}else if($t||jl(n,l,d,!1),T=(d&n.childLanes)!==0,$t||T){if(T=lt,T!==null&&(p=Nr(T,d),p!==0&&p!==U.retryLane))throw U.retryLane=p,hi(n,p),Ya(T,n,p),i0;V0(I)||Lu(),l=m0(n,l,d)}else V0(I)?(l.flags|=192,l.child=n.child,l=null):(n=U.treeContext,ut=Dr(I.nextSibling),xa=l,Fe=!0,wn=null,Or=!1,n!==null&&y1(l,n),l=u0(l,p.children),l.flags|=4096);return l}return j?(On(),I=p.fallback,j=l.mode,U=n.child,J=U.sibling,p=Ps(U,{mode:"hidden",children:p.children}),p.subtreeFlags=U.subtreeFlags&65011712,J!==null?I=Ps(J,I):(I=pi(I,j,d,null),I.flags|=2),I.return=l,p.return=l,p.sibling=I,l.child=p,ro(null,p),p=l.child,I=n.child.memoizedState,I===null?I=o0(d):(j=I.cachePool,j!==null?(U=Lt._currentValue,j=j.parent!==U?{parent:U,pool:U}:j):j=S1(),I={baseLanes:I.baseLanes|d,cachePool:j}),p.memoizedState=I,p.childLanes=d0(n,T,d),l.memoizedState=c0,ro(n.child,p)):(En(l),d=n.child,n=d.sibling,d=Ps(d,{mode:"visible",children:p.children}),d.return=l,d.sibling=null,n!==null&&(T=l.deletions,T===null?(l.deletions=[n],l.flags|=16):T.push(n)),l.child=d,l.memoizedState=null,d)}function u0(n,l){return l=Au({mode:"visible",children:l},n.mode),l.return=n,n.child=l}function Au(n,l){return n=nr(22,n,null,l),n.lanes=0,n}function m0(n,l,d){return Ni(l,n.child,null,d),n=u0(l,l.pendingProps.children),n.flags|=2,l.memoizedState=null,n}function LN(n,l,d){n.lanes|=l;var p=n.alternate;p!==null&&(p.lanes|=l),kp(n.return,l,d)}function x0(n,l,d,p,j,S){var T=n.memoizedState;T===null?n.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:j,treeForkCount:S}:(T.isBackwards=l,T.rendering=null,T.renderingStartTime=0,T.last=p,T.tail=d,T.tailMode=j,T.treeForkCount=S)}function IN(n,l,d){var p=l.pendingProps,j=p.revealOrder,S=p.tail;p=p.children;var T=zt.current,I=(T&2)!==0;if(I?(T=T&1|2,l.flags|=128):T&=1,Y(zt,T),pa(n,l,p,d),p=Fe?Hc:0,!I&&n!==null&&(n.flags&128)!==0)e:for(n=l.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&LN(n,d,l);else if(n.tag===19)LN(n,d,l);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===l)break e;for(;n.sibling===null;){if(n.return===null||n.return===l)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(j){case"forwards":for(d=l.child,j=null;d!==null;)n=d.alternate,n!==null&&fu(n)===null&&(j=d),d=d.sibling;d=j,d===null?(j=l.child,l.child=null):(j=d.sibling,d.sibling=null),x0(l,!1,j,d,S,p);break;case"backwards":case"unstable_legacy-backwards":for(d=null,j=l.child,l.child=null;j!==null;){if(n=j.alternate,n!==null&&fu(n)===null){l.child=j;break}n=j.sibling,j.sibling=d,d=j,j=n}x0(l,!0,d,null,S,p);break;case"together":x0(l,!1,null,null,void 0,p);break;default:l.memoizedState=null}return l.child}function $s(n,l,d){if(n!==null&&(l.dependencies=n.dependencies),Pn|=l.lanes,(d&l.childLanes)===0)if(n!==null){if(jl(n,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(n!==null&&l.child!==n.child)throw Error(s(153));if(l.child!==null){for(n=l.child,d=Ps(n,n.pendingProps),l.child=d,d.return=l;n.sibling!==null;)n=n.sibling,d=d.sibling=Ps(n,n.pendingProps),d.return=l;d.sibling=null}return l.child}function h0(n,l){return(n.lanes&l)!==0?!0:(n=n.dependencies,!!(n!==null&&cu(n)))}function cT(n,l,d){switch(l.tag){case 3:Ce(l,l.stateNode.containerInfo),_n(l,Lt,n.memoizedState.cache),fi();break;case 27:case 5:fe(l);break;case 4:Ce(l,l.stateNode.containerInfo);break;case 10:_n(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,$p(l),null;break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(En(l),l.flags|=128,null):(d&l.child.childLanes)!==0?RN(n,l,d):(En(l),n=$s(n,l,d),n!==null?n.sibling:null);En(l);break;case 19:var j=(n.flags&128)!==0;if(p=(d&l.childLanes)!==0,p||(jl(n,l,d,!1),p=(d&l.childLanes)!==0),j){if(p)return IN(n,l,d);l.flags|=128}if(j=l.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),Y(zt,zt.current),p)break;return null;case 22:return l.lanes=0,ON(n,l,d,l.pendingProps);case 24:_n(l,Lt,n.memoizedState.cache)}return $s(n,l,d)}function $N(n,l,d){if(n!==null)if(n.memoizedProps!==l.pendingProps)$t=!0;else{if(!h0(n,d)&&(l.flags&128)===0)return $t=!1,cT(n,l,d);$t=(n.flags&131072)!==0}else $t=!1,Fe&&(l.flags&1048576)!==0&&g1(l,Hc,l.index);switch(l.lanes=0,l.tag){case 16:e:{var p=l.pendingProps;if(n=bi(l.elementType),l.type=n,typeof n=="function")vp(n)?(p=Si(n,p),l.tag=1,l=zN(null,l,n,p,d)):(l.tag=0,l=l0(null,l,n,p,d));else{if(n!=null){var j=n.$$typeof;if(j===E){l.tag=11,l=kN(null,l,n,p,d);break e}else if(j===D){l.tag=14,l=AN(null,l,n,p,d);break e}}throw l=te(n)||n,Error(s(306,l,""))}}return l;case 0:return l0(n,l,l.type,l.pendingProps,d);case 1:return p=l.type,j=Si(p,l.pendingProps),zN(n,l,p,j,d);case 3:e:{if(Ce(l,l.stateNode.containerInfo),n===null)throw Error(s(387));p=l.pendingProps;var S=l.memoizedState;j=S.element,zp(n,l),Qc(l,p,null,d);var T=l.memoizedState;if(p=T.cache,_n(l,Lt,p),p!==S.cache&&Ap(l,[Lt],d,!0),Zc(),p=T.element,S.isDehydrated)if(S={element:p,isDehydrated:!1,cache:T.cache},l.updateQueue.baseState=S,l.memoizedState=S,l.flags&256){l=MN(n,l,p,d);break e}else if(p!==j){j=kr(Error(s(424)),l),Vc(j),l=MN(n,l,p,d);break e}else{switch(n=l.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ut=Dr(n.firstChild),xa=l,Fe=!0,wn=null,Or=!0,d=O1(l,null,p,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(fi(),p===j){l=$s(n,l,d);break e}pa(n,l,p,d)}l=l.child}return l;case 26:return ku(n,l),n===null?(d=Ww(l.type,null,l.pendingProps,null))?l.memoizedState=d:Fe||(d=l.type,n=l.pendingProps,p=Hu(he.current).createElement(d),p[ma]=l,p[Ua]=n,fa(p,d,n),ta(p),l.stateNode=p):l.memoizedState=Ww(l.type,n.memoizedProps,l.pendingProps,n.memoizedState),null;case 27:return fe(l),n===null&&Fe&&(p=l.stateNode=Kw(l.type,l.pendingProps,he.current),xa=l,Or=!0,j=ut,In(l.type)?(K0=j,ut=Dr(p.firstChild)):ut=j),pa(n,l,l.pendingProps.children,d),ku(n,l),n===null&&(l.flags|=4194304),l.child;case 5:return n===null&&Fe&&((j=p=ut)&&(p=IT(p,l.type,l.pendingProps,Or),p!==null?(l.stateNode=p,xa=l,ut=Dr(p.firstChild),Or=!1,j=!0):j=!1),j||Sn(l)),fe(l),j=l.type,S=l.pendingProps,T=n!==null?n.memoizedProps:null,p=S.children,U0(j,S)?p=null:T!==null&&U0(j,T)&&(l.flags|=32),l.memoizedState!==null&&(j=Fp(n,l,J8,null,null,d),vo._currentValue=j),ku(n,l),pa(n,l,p,d),l.child;case 6:return n===null&&Fe&&((n=d=ut)&&(d=$T(d,l.pendingProps,Or),d!==null?(l.stateNode=d,xa=l,ut=null,n=!0):n=!1),n||Sn(l)),null;case 13:return RN(n,l,d);case 4:return Ce(l,l.stateNode.containerInfo),p=l.pendingProps,n===null?l.child=Ni(l,null,p,d):pa(n,l,p,d),l.child;case 11:return kN(n,l,l.type,l.pendingProps,d);case 7:return pa(n,l,l.pendingProps,d),l.child;case 8:return pa(n,l,l.pendingProps.children,d),l.child;case 12:return pa(n,l,l.pendingProps.children,d),l.child;case 10:return p=l.pendingProps,_n(l,l.type,p.value),pa(n,l,p.children,d),l.child;case 9:return j=l.type._context,p=l.pendingProps.children,yi(l),j=ha(j),p=p(j),l.flags|=1,pa(n,l,p,d),l.child;case 14:return AN(n,l,l.type,l.pendingProps,d);case 15:return EN(n,l,l.type,l.pendingProps,d);case 19:return IN(n,l,d);case 31:return lT(n,l,d);case 22:return ON(n,l,d,l.pendingProps);case 24:return yi(l),p=ha(Lt),n===null?(j=Tp(),j===null&&(j=lt,S=Ep(),j.pooledCache=S,S.refCount++,S!==null&&(j.pooledCacheLanes|=d),j=S),l.memoizedState={parent:p,cache:j},Pp(l),_n(l,Lt,j)):((n.lanes&d)!==0&&(zp(n,l),Qc(l,null,null,d),Zc()),j=n.memoizedState,S=l.memoizedState,j.parent!==p?(j={parent:p,cache:p},l.memoizedState=j,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=j),_n(l,Lt,p)):(p=S.cache,_n(l,Lt,p),p!==j.cache&&Ap(l,[Lt],d,!0))),pa(n,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(s(156,l.tag))}function Bs(n){n.flags|=4}function p0(n,l,d,p,j){if((l=(n.mode&32)!==0)&&(l=!1),l){if(n.flags|=16777216,(j&335544128)===j)if(n.stateNode.complete)n.flags|=8192;else if(mw())n.flags|=8192;else throw ji=mu,Dp}else n.flags&=-16777217}function BN(n,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!t2(l))if(mw())n.flags|=8192;else throw ji=mu,Dp}function Eu(n,l){l!==null&&(n.flags|=4),n.flags&16384&&(l=n.tag!==22?ja():536870912,n.lanes|=l,Pl|=l)}function so(n,l){if(!Fe)switch(n.tailMode){case"hidden":l=n.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?n.tail=null:d.sibling=null;break;case"collapsed":d=n.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l||n.tail===null?n.tail=null:n.tail.sibling=null:p.sibling=null}}function mt(n){var l=n.alternate!==null&&n.alternate.child===n.child,d=0,p=0;if(l)for(var j=n.child;j!==null;)d|=j.lanes|j.childLanes,p|=j.subtreeFlags&65011712,p|=j.flags&65011712,j.return=n,j=j.sibling;else for(j=n.child;j!==null;)d|=j.lanes|j.childLanes,p|=j.subtreeFlags,p|=j.flags,j.return=n,j=j.sibling;return n.subtreeFlags|=p,n.childLanes=d,l}function oT(n,l,d){var p=l.pendingProps;switch(wp(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(l),null;case 1:return mt(l),null;case 3:return d=l.stateNode,p=null,n!==null&&(p=n.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),Rs(Lt),re(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(n===null||n.child===null)&&(bl(l)?Bs(l):n===null||n.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,_p())),mt(l),null;case 26:var j=l.type,S=l.memoizedState;return n===null?(Bs(l),S!==null?(mt(l),BN(l,S)):(mt(l),p0(l,j,null,p,d))):S?S!==n.memoizedState?(Bs(l),mt(l),BN(l,S)):(mt(l),l.flags&=-16777217):(n=n.memoizedProps,n!==p&&Bs(l),mt(l),p0(l,j,n,p,d)),null;case 27:if(Te(l),d=he.current,j=l.type,n!==null&&l.stateNode!=null)n.memoizedProps!==p&&Bs(l);else{if(!p){if(l.stateNode===null)throw Error(s(166));return mt(l),null}n=ie.current,bl(l)?v1(l):(n=Kw(j,p,d),l.stateNode=n,Bs(l))}return mt(l),null;case 5:if(Te(l),j=l.type,n!==null&&l.stateNode!=null)n.memoizedProps!==p&&Bs(l);else{if(!p){if(l.stateNode===null)throw Error(s(166));return mt(l),null}if(S=ie.current,bl(l))v1(l);else{var T=Hu(he.current);switch(S){case 1:S=T.createElementNS("http://www.w3.org/2000/svg",j);break;case 2:S=T.createElementNS("http://www.w3.org/1998/Math/MathML",j);break;default:switch(j){case"svg":S=T.createElementNS("http://www.w3.org/2000/svg",j);break;case"math":S=T.createElementNS("http://www.w3.org/1998/Math/MathML",j);break;case"script":S=T.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof p.is=="string"?T.createElement("select",{is:p.is}):T.createElement("select"),p.multiple?S.multiple=!0:p.size&&(S.size=p.size);break;default:S=typeof p.is=="string"?T.createElement(j,{is:p.is}):T.createElement(j)}}S[ma]=l,S[Ua]=p;e:for(T=l.child;T!==null;){if(T.tag===5||T.tag===6)S.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===l)break e;for(;T.sibling===null;){if(T.return===null||T.return===l)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}l.stateNode=S;e:switch(fa(S,j,p),j){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Bs(l)}}return mt(l),p0(l,l.type,n===null?null:n.memoizedProps,l.pendingProps,d),null;case 6:if(n&&l.stateNode!=null)n.memoizedProps!==p&&Bs(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(s(166));if(n=he.current,bl(l)){if(n=l.stateNode,d=l.memoizedProps,p=null,j=xa,j!==null)switch(j.tag){case 27:case 5:p=j.memoizedProps}n[ma]=l,n=!!(n.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||Rw(n.nodeValue,d)),n||Sn(l,!0)}else n=Hu(n).createTextNode(p),n[ma]=l,l.stateNode=n}return mt(l),null;case 31:if(d=l.memoizedState,n===null||n.memoizedState!==null){if(p=bl(l),d!==null){if(n===null){if(!p)throw Error(s(318));if(n=l.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[ma]=l}else fi(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;mt(l),n=!1}else d=_p(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),n=!0;if(!n)return l.flags&256?(lr(l),l):(lr(l),null);if((l.flags&128)!==0)throw Error(s(558))}return mt(l),null;case 13:if(p=l.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(j=bl(l),p!==null&&p.dehydrated!==null){if(n===null){if(!j)throw Error(s(318));if(j=l.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(s(317));j[ma]=l}else fi(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;mt(l),j=!1}else j=_p(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=j),j=!0;if(!j)return l.flags&256?(lr(l),l):(lr(l),null)}return lr(l),(l.flags&128)!==0?(l.lanes=d,l):(d=p!==null,n=n!==null&&n.memoizedState!==null,d&&(p=l.child,j=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(j=p.alternate.memoizedState.cachePool.pool),S=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),S!==j&&(p.flags|=2048)),d!==n&&d&&(l.child.flags|=8192),Eu(l,l.updateQueue),mt(l),null);case 4:return re(),n===null&&L0(l.stateNode.containerInfo),mt(l),null;case 10:return Rs(l.type),mt(l),null;case 19:if(K(zt),p=l.memoizedState,p===null)return mt(l),null;if(j=(l.flags&128)!==0,S=p.rendering,S===null)if(j)so(p,!1);else{if(Et!==0||n!==null&&(n.flags&128)!==0)for(n=l.child;n!==null;){if(S=fu(n),S!==null){for(l.flags|=128,so(p,!1),n=S.updateQueue,l.updateQueue=n,Eu(l,n),l.subtreeFlags=0,n=d,d=l.child;d!==null;)h1(d,n),d=d.sibling;return Y(zt,zt.current&1|2),Fe&&zs(l,p.treeForkCount),l.child}n=n.sibling}p.tail!==null&&va()>zu&&(l.flags|=128,j=!0,so(p,!1),l.lanes=4194304)}else{if(!j)if(n=fu(S),n!==null){if(l.flags|=128,j=!0,n=n.updateQueue,l.updateQueue=n,Eu(l,n),so(p,!0),p.tail===null&&p.tailMode==="hidden"&&!S.alternate&&!Fe)return mt(l),null}else 2*va()-p.renderingStartTime>zu&&d!==536870912&&(l.flags|=128,j=!0,so(p,!1),l.lanes=4194304);p.isBackwards?(S.sibling=l.child,l.child=S):(n=p.last,n!==null?n.sibling=S:l.child=S,p.last=S)}return p.tail!==null?(n=p.tail,p.rendering=n,p.tail=n.sibling,p.renderingStartTime=va(),n.sibling=null,d=zt.current,Y(zt,j?d&1|2:d&1),Fe&&zs(l,p.treeForkCount),n):(mt(l),null);case 22:case 23:return lr(l),Ip(),p=l.memoizedState!==null,n!==null?n.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(d&536870912)!==0&&(l.flags&128)===0&&(mt(l),l.subtreeFlags&6&&(l.flags|=8192)):mt(l),d=l.updateQueue,d!==null&&Eu(l,d.retryQueue),d=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(d=n.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==d&&(l.flags|=2048),n!==null&&K(vi),null;case 24:return d=null,n!==null&&(d=n.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Rs(Lt),mt(l),null;case 25:return null;case 30:return null}throw Error(s(156,l.tag))}function dT(n,l){switch(wp(l),l.tag){case 1:return n=l.flags,n&65536?(l.flags=n&-65537|128,l):null;case 3:return Rs(Lt),re(),n=l.flags,(n&65536)!==0&&(n&128)===0?(l.flags=n&-65537|128,l):null;case 26:case 27:case 5:return Te(l),null;case 31:if(l.memoizedState!==null){if(lr(l),l.alternate===null)throw Error(s(340));fi()}return n=l.flags,n&65536?(l.flags=n&-65537|128,l):null;case 13:if(lr(l),n=l.memoizedState,n!==null&&n.dehydrated!==null){if(l.alternate===null)throw Error(s(340));fi()}return n=l.flags,n&65536?(l.flags=n&-65537|128,l):null;case 19:return K(zt),null;case 4:return re(),null;case 10:return Rs(l.type),null;case 22:case 23:return lr(l),Ip(),n!==null&&K(vi),n=l.flags,n&65536?(l.flags=n&-65537|128,l):null;case 24:return Rs(Lt),null;case 25:return null;default:return null}}function FN(n,l){switch(wp(l),l.tag){case 3:Rs(Lt),re();break;case 26:case 27:case 5:Te(l);break;case 4:re();break;case 31:l.memoizedState!==null&&lr(l);break;case 13:lr(l);break;case 19:K(zt);break;case 10:Rs(l.type);break;case 22:case 23:lr(l),Ip(),n!==null&&K(vi);break;case 24:Rs(Lt)}}function no(n,l){try{var d=l.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var j=p.next;d=j;do{if((d.tag&n)===n){p=void 0;var S=d.create,T=d.inst;p=S(),T.destroy=p}d=d.next}while(d!==j)}}catch(I){Je(l,l.return,I)}}function Tn(n,l,d){try{var p=l.updateQueue,j=p!==null?p.lastEffect:null;if(j!==null){var S=j.next;p=S;do{if((p.tag&n)===n){var T=p.inst,I=T.destroy;if(I!==void 0){T.destroy=void 0,j=l;var U=d,J=I;try{J()}catch(le){Je(j,U,le)}}}p=p.next}while(p!==S)}}catch(le){Je(l,l.return,le)}}function UN(n){var l=n.updateQueue;if(l!==null){var d=n.stateNode;try{D1(l,d)}catch(p){Je(n,n.return,p)}}}function qN(n,l,d){d.props=Si(n.type,n.memoizedProps),d.state=n.memoizedState;try{d.componentWillUnmount()}catch(p){Je(n,l,p)}}function io(n,l){try{var d=n.ref;if(d!==null){switch(n.tag){case 26:case 27:case 5:var p=n.stateNode;break;case 30:p=n.stateNode;break;default:p=n.stateNode}typeof d=="function"?n.refCleanup=d(p):d.current=p}}catch(j){Je(n,l,j)}}function hs(n,l){var d=n.ref,p=n.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(j){Je(n,l,j)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(j){Je(n,l,j)}else d.current=null}function HN(n){var l=n.type,d=n.memoizedProps,p=n.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(j){Je(n,n.return,j)}}function f0(n,l,d){try{var p=n.stateNode;DT(p,n.type,d,l),p[Ua]=l}catch(j){Je(n,n.return,j)}}function VN(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&In(n.type)||n.tag===4}function g0(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||VN(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&In(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function y0(n,l,d){var p=n.tag;if(p===5||p===6)n=n.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(n,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(n),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Ts));else if(p!==4&&(p===27&&In(n.type)&&(d=n.stateNode,l=null),n=n.child,n!==null))for(y0(n,l,d),n=n.sibling;n!==null;)y0(n,l,d),n=n.sibling}function Ou(n,l,d){var p=n.tag;if(p===5||p===6)n=n.stateNode,l?d.insertBefore(n,l):d.appendChild(n);else if(p!==4&&(p===27&&In(n.type)&&(d=n.stateNode),n=n.child,n!==null))for(Ou(n,l,d),n=n.sibling;n!==null;)Ou(n,l,d),n=n.sibling}function GN(n){var l=n.stateNode,d=n.memoizedProps;try{for(var p=n.type,j=l.attributes;j.length;)l.removeAttributeNode(j[0]);fa(l,p,d),l[ma]=n,l[Ua]=d}catch(S){Je(n,n.return,S)}}var Fs=!1,Bt=!1,v0=!1,KN=typeof WeakSet=="function"?WeakSet:Set,aa=null;function uT(n,l){if(n=n.containerInfo,B0=Zu,n=n1(n),mp(n)){if("selectionStart"in n)var d={start:n.selectionStart,end:n.selectionEnd};else e:{d=(d=n.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var j=p.anchorOffset,S=p.focusNode;p=p.focusOffset;try{d.nodeType,S.nodeType}catch{d=null;break e}var T=0,I=-1,U=-1,J=0,le=0,oe=n,ee=null;t:for(;;){for(var ne;oe!==d||j!==0&&oe.nodeType!==3||(I=T+j),oe!==S||p!==0&&oe.nodeType!==3||(U=T+p),oe.nodeType===3&&(T+=oe.nodeValue.length),(ne=oe.firstChild)!==null;)ee=oe,oe=ne;for(;;){if(oe===n)break t;if(ee===d&&++J===j&&(I=T),ee===S&&++le===p&&(U=T),(ne=oe.nextSibling)!==null)break;oe=ee,ee=oe.parentNode}oe=ne}d=I===-1||U===-1?null:{start:I,end:U}}else d=null}d=d||{start:0,end:0}}else d=null;for(F0={focusedElem:n,selectionRange:d},Zu=!1,aa=l;aa!==null;)if(l=aa,n=l.child,(l.subtreeFlags&1028)!==0&&n!==null)n.return=l,aa=n;else for(;aa!==null;){switch(l=aa,S=l.alternate,n=l.flags,l.tag){case 0:if((n&4)!==0&&(n=l.updateQueue,n=n!==null?n.events:null,n!==null))for(d=0;d<n.length;d++)j=n[d],j.ref.impl=j.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&S!==null){n=void 0,d=l,j=S.memoizedProps,S=S.memoizedState,p=d.stateNode;try{var ve=Si(d.type,j);n=p.getSnapshotBeforeUpdate(ve,S),p.__reactInternalSnapshotBeforeUpdate=n}catch(ke){Je(d,d.return,ke)}}break;case 3:if((n&1024)!==0){if(n=l.stateNode.containerInfo,d=n.nodeType,d===9)H0(n);else if(d===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":H0(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=l.sibling,n!==null){n.return=l.return,aa=n;break}aa=l.return}}function YN(n,l,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:qs(n,d),p&4&&no(5,d);break;case 1:if(qs(n,d),p&4)if(n=d.stateNode,l===null)try{n.componentDidMount()}catch(T){Je(d,d.return,T)}else{var j=Si(d.type,l.memoizedProps);l=l.memoizedState;try{n.componentDidUpdate(j,l,n.__reactInternalSnapshotBeforeUpdate)}catch(T){Je(d,d.return,T)}}p&64&&UN(d),p&512&&io(d,d.return);break;case 3:if(qs(n,d),p&64&&(n=d.updateQueue,n!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{D1(n,l)}catch(T){Je(d,d.return,T)}}break;case 27:l===null&&p&4&&GN(d);case 26:case 5:qs(n,d),l===null&&p&4&&HN(d),p&512&&io(d,d.return);break;case 12:qs(n,d);break;case 31:qs(n,d),p&4&&ZN(n,d);break;case 13:qs(n,d),p&4&&QN(n,d),p&64&&(n=d.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(d=bT.bind(null,d),BT(n,d))));break;case 22:if(p=d.memoizedState!==null||Fs,!p){l=l!==null&&l.memoizedState!==null||Bt,j=Fs;var S=Bt;Fs=p,(Bt=l)&&!S?Hs(n,d,(d.subtreeFlags&8772)!==0):qs(n,d),Fs=j,Bt=S}break;case 30:break;default:qs(n,d)}}function XN(n){var l=n.alternate;l!==null&&(n.alternate=null,XN(l)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(l=n.stateNode,l!==null&&Xh(l)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var yt=null,Ha=!1;function Us(n,l,d){for(d=d.child;d!==null;)WN(n,l,d),d=d.sibling}function WN(n,l,d){if(Ta&&typeof Ta.onCommitFiberUnmount=="function")try{Ta.onCommitFiberUnmount(oi,d)}catch{}switch(d.tag){case 26:Bt||hs(d,l),Us(n,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Bt||hs(d,l);var p=yt,j=Ha;In(d.type)&&(yt=d.stateNode,Ha=!1),Us(n,l,d),fo(d.stateNode),yt=p,Ha=j;break;case 5:Bt||hs(d,l);case 6:if(p=yt,j=Ha,yt=null,Us(n,l,d),yt=p,Ha=j,yt!==null)if(Ha)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(d.stateNode)}catch(S){Je(d,l,S)}else try{yt.removeChild(d.stateNode)}catch(S){Je(d,l,S)}break;case 18:yt!==null&&(Ha?(n=yt,Uw(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,d.stateNode),Fl(n)):Uw(yt,d.stateNode));break;case 4:p=yt,j=Ha,yt=d.stateNode.containerInfo,Ha=!0,Us(n,l,d),yt=p,Ha=j;break;case 0:case 11:case 14:case 15:Tn(2,d,l),Bt||Tn(4,d,l),Us(n,l,d);break;case 1:Bt||(hs(d,l),p=d.stateNode,typeof p.componentWillUnmount=="function"&&qN(d,l,p)),Us(n,l,d);break;case 21:Us(n,l,d);break;case 22:Bt=(p=Bt)||d.memoizedState!==null,Us(n,l,d),Bt=p;break;default:Us(n,l,d)}}function ZN(n,l){if(l.memoizedState===null&&(n=l.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Fl(n)}catch(d){Je(l,l.return,d)}}}function QN(n,l){if(l.memoizedState===null&&(n=l.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Fl(n)}catch(d){Je(l,l.return,d)}}function mT(n){switch(n.tag){case 31:case 13:case 19:var l=n.stateNode;return l===null&&(l=n.stateNode=new KN),l;case 22:return n=n.stateNode,l=n._retryCache,l===null&&(l=n._retryCache=new KN),l;default:throw Error(s(435,n.tag))}}function Tu(n,l){var d=mT(n);l.forEach(function(p){if(!d.has(p)){d.add(p);var j=jT.bind(null,n,p);p.then(j,j)}})}function Va(n,l){var d=l.deletions;if(d!==null)for(var p=0;p<d.length;p++){var j=d[p],S=n,T=l,I=T;e:for(;I!==null;){switch(I.tag){case 27:if(In(I.type)){yt=I.stateNode,Ha=!1;break e}break;case 5:yt=I.stateNode,Ha=!1;break e;case 3:case 4:yt=I.stateNode.containerInfo,Ha=!0;break e}I=I.return}if(yt===null)throw Error(s(160));WN(S,T,j),yt=null,Ha=!1,S=j.alternate,S!==null&&(S.return=null),j.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)JN(l,n),l=l.sibling}var Qr=null;function JN(n,l){var d=n.alternate,p=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Va(l,n),Ga(n),p&4&&(Tn(3,n,n.return),no(3,n),Tn(5,n,n.return));break;case 1:Va(l,n),Ga(n),p&512&&(Bt||d===null||hs(d,d.return)),p&64&&Fs&&(n=n.updateQueue,n!==null&&(p=n.callbacks,p!==null&&(d=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var j=Qr;if(Va(l,n),Ga(n),p&512&&(Bt||d===null||hs(d,d.return)),p&4){var S=d!==null?d.memoizedState:null;if(p=n.memoizedState,d===null)if(p===null)if(n.stateNode===null){e:{p=n.type,d=n.memoizedProps,j=j.ownerDocument||j;t:switch(p){case"title":S=j.getElementsByTagName("title")[0],(!S||S[Pc]||S[ma]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=j.createElement(p),j.head.insertBefore(S,j.querySelector("head > title"))),fa(S,p,d),S[ma]=n,ta(S),p=S;break e;case"link":var T=Jw("link","href",j).get(p+(d.href||""));if(T){for(var I=0;I<T.length;I++)if(S=T[I],S.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&S.getAttribute("rel")===(d.rel==null?null:d.rel)&&S.getAttribute("title")===(d.title==null?null:d.title)&&S.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){T.splice(I,1);break t}}S=j.createElement(p),fa(S,p,d),j.head.appendChild(S);break;case"meta":if(T=Jw("meta","content",j).get(p+(d.content||""))){for(I=0;I<T.length;I++)if(S=T[I],S.getAttribute("content")===(d.content==null?null:""+d.content)&&S.getAttribute("name")===(d.name==null?null:d.name)&&S.getAttribute("property")===(d.property==null?null:d.property)&&S.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&S.getAttribute("charset")===(d.charSet==null?null:d.charSet)){T.splice(I,1);break t}}S=j.createElement(p),fa(S,p,d),j.head.appendChild(S);break;default:throw Error(s(468,p))}S[ma]=n,ta(S),p=S}n.stateNode=p}else e2(j,n.type,n.stateNode);else n.stateNode=Qw(j,p,n.memoizedProps);else S!==p?(S===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):S.count--,p===null?e2(j,n.type,n.stateNode):Qw(j,p,n.memoizedProps)):p===null&&n.stateNode!==null&&f0(n,n.memoizedProps,d.memoizedProps)}break;case 27:Va(l,n),Ga(n),p&512&&(Bt||d===null||hs(d,d.return)),d!==null&&p&4&&f0(n,n.memoizedProps,d.memoizedProps);break;case 5:if(Va(l,n),Ga(n),p&512&&(Bt||d===null||hs(d,d.return)),n.flags&32){j=n.stateNode;try{dl(j,"")}catch(ve){Je(n,n.return,ve)}}p&4&&n.stateNode!=null&&(j=n.memoizedProps,f0(n,j,d!==null?d.memoizedProps:j)),p&1024&&(v0=!0);break;case 6:if(Va(l,n),Ga(n),p&4){if(n.stateNode===null)throw Error(s(162));p=n.memoizedProps,d=n.stateNode;try{d.nodeValue=p}catch(ve){Je(n,n.return,ve)}}break;case 3:if(Ku=null,j=Qr,Qr=Vu(l.containerInfo),Va(l,n),Qr=j,Ga(n),p&4&&d!==null&&d.memoizedState.isDehydrated)try{Fl(l.containerInfo)}catch(ve){Je(n,n.return,ve)}v0&&(v0=!1,ew(n));break;case 4:p=Qr,Qr=Vu(n.stateNode.containerInfo),Va(l,n),Ga(n),Qr=p;break;case 12:Va(l,n),Ga(n);break;case 31:Va(l,n),Ga(n),p&4&&(p=n.updateQueue,p!==null&&(n.updateQueue=null,Tu(n,p)));break;case 13:Va(l,n),Ga(n),n.child.flags&8192&&n.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Pu=va()),p&4&&(p=n.updateQueue,p!==null&&(n.updateQueue=null,Tu(n,p)));break;case 22:j=n.memoizedState!==null;var U=d!==null&&d.memoizedState!==null,J=Fs,le=Bt;if(Fs=J||j,Bt=le||U,Va(l,n),Bt=le,Fs=J,Ga(n),p&8192)e:for(l=n.stateNode,l._visibility=j?l._visibility&-2:l._visibility|1,j&&(d===null||U||Fs||Bt||_i(n)),d=null,l=n;;){if(l.tag===5||l.tag===26){if(d===null){U=d=l;try{if(S=U.stateNode,j)T=S.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{I=U.stateNode;var oe=U.memoizedProps.style,ee=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;I.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(ve){Je(U,U.return,ve)}}}else if(l.tag===6){if(d===null){U=l;try{U.stateNode.nodeValue=j?"":U.memoizedProps}catch(ve){Je(U,U.return,ve)}}}else if(l.tag===18){if(d===null){U=l;try{var ne=U.stateNode;j?qw(ne,!0):qw(U.stateNode,!1)}catch(ve){Je(U,U.return,ve)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===n)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===n)break e;for(;l.sibling===null;){if(l.return===null||l.return===n)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=n.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,Tu(n,d))));break;case 19:Va(l,n),Ga(n),p&4&&(p=n.updateQueue,p!==null&&(n.updateQueue=null,Tu(n,p)));break;case 30:break;case 21:break;default:Va(l,n),Ga(n)}}function Ga(n){var l=n.flags;if(l&2){try{for(var d,p=n.return;p!==null;){if(VN(p)){d=p;break}p=p.return}if(d==null)throw Error(s(160));switch(d.tag){case 27:var j=d.stateNode,S=g0(n);Ou(n,S,j);break;case 5:var T=d.stateNode;d.flags&32&&(dl(T,""),d.flags&=-33);var I=g0(n);Ou(n,I,T);break;case 3:case 4:var U=d.stateNode.containerInfo,J=g0(n);y0(n,J,U);break;default:throw Error(s(161))}}catch(le){Je(n,n.return,le)}n.flags&=-3}l&4096&&(n.flags&=-4097)}function ew(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var l=n;ew(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),n=n.sibling}}function qs(n,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)YN(n,l.alternate,l),l=l.sibling}function _i(n){for(n=n.child;n!==null;){var l=n;switch(l.tag){case 0:case 11:case 14:case 15:Tn(4,l,l.return),_i(l);break;case 1:hs(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&qN(l,l.return,d),_i(l);break;case 27:fo(l.stateNode);case 26:case 5:hs(l,l.return),_i(l);break;case 22:l.memoizedState===null&&_i(l);break;case 30:_i(l);break;default:_i(l)}n=n.sibling}}function Hs(n,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,j=n,S=l,T=S.flags;switch(S.tag){case 0:case 11:case 15:Hs(j,S,d),no(4,S);break;case 1:if(Hs(j,S,d),p=S,j=p.stateNode,typeof j.componentDidMount=="function")try{j.componentDidMount()}catch(J){Je(p,p.return,J)}if(p=S,j=p.updateQueue,j!==null){var I=p.stateNode;try{var U=j.shared.hiddenCallbacks;if(U!==null)for(j.shared.hiddenCallbacks=null,j=0;j<U.length;j++)T1(U[j],I)}catch(J){Je(p,p.return,J)}}d&&T&64&&UN(S),io(S,S.return);break;case 27:GN(S);case 26:case 5:Hs(j,S,d),d&&p===null&&T&4&&HN(S),io(S,S.return);break;case 12:Hs(j,S,d);break;case 31:Hs(j,S,d),d&&T&4&&ZN(j,S);break;case 13:Hs(j,S,d),d&&T&4&&QN(j,S);break;case 22:S.memoizedState===null&&Hs(j,S,d),io(S,S.return);break;case 30:break;default:Hs(j,S,d)}l=l.sibling}}function b0(n,l){var d=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(d=n.memoizedState.cachePool.pool),n=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(n=l.memoizedState.cachePool.pool),n!==d&&(n!=null&&n.refCount++,d!=null&&Gc(d))}function j0(n,l){n=null,l.alternate!==null&&(n=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==n&&(l.refCount++,n!=null&&Gc(n))}function Jr(n,l,d,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)tw(n,l,d,p),l=l.sibling}function tw(n,l,d,p){var j=l.flags;switch(l.tag){case 0:case 11:case 15:Jr(n,l,d,p),j&2048&&no(9,l);break;case 1:Jr(n,l,d,p);break;case 3:Jr(n,l,d,p),j&2048&&(n=null,l.alternate!==null&&(n=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==n&&(l.refCount++,n!=null&&Gc(n)));break;case 12:if(j&2048){Jr(n,l,d,p),n=l.stateNode;try{var S=l.memoizedProps,T=S.id,I=S.onPostCommit;typeof I=="function"&&I(T,l.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(U){Je(l,l.return,U)}}else Jr(n,l,d,p);break;case 31:Jr(n,l,d,p);break;case 13:Jr(n,l,d,p);break;case 23:break;case 22:S=l.stateNode,T=l.alternate,l.memoizedState!==null?S._visibility&2?Jr(n,l,d,p):lo(n,l):S._visibility&2?Jr(n,l,d,p):(S._visibility|=2,Ol(n,l,d,p,(l.subtreeFlags&10256)!==0||!1)),j&2048&&b0(T,l);break;case 24:Jr(n,l,d,p),j&2048&&j0(l.alternate,l);break;default:Jr(n,l,d,p)}}function Ol(n,l,d,p,j){for(j=j&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var S=n,T=l,I=d,U=p,J=T.flags;switch(T.tag){case 0:case 11:case 15:Ol(S,T,I,U,j),no(8,T);break;case 23:break;case 22:var le=T.stateNode;T.memoizedState!==null?le._visibility&2?Ol(S,T,I,U,j):lo(S,T):(le._visibility|=2,Ol(S,T,I,U,j)),j&&J&2048&&b0(T.alternate,T);break;case 24:Ol(S,T,I,U,j),j&&J&2048&&j0(T.alternate,T);break;default:Ol(S,T,I,U,j)}l=l.sibling}}function lo(n,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=n,p=l,j=p.flags;switch(p.tag){case 22:lo(d,p),j&2048&&b0(p.alternate,p);break;case 24:lo(d,p),j&2048&&j0(p.alternate,p);break;default:lo(d,p)}l=l.sibling}}var co=8192;function Tl(n,l,d){if(n.subtreeFlags&co)for(n=n.child;n!==null;)aw(n,l,d),n=n.sibling}function aw(n,l,d){switch(n.tag){case 26:Tl(n,l,d),n.flags&co&&n.memoizedState!==null&&QT(d,Qr,n.memoizedState,n.memoizedProps);break;case 5:Tl(n,l,d);break;case 3:case 4:var p=Qr;Qr=Vu(n.stateNode.containerInfo),Tl(n,l,d),Qr=p;break;case 22:n.memoizedState===null&&(p=n.alternate,p!==null&&p.memoizedState!==null?(p=co,co=16777216,Tl(n,l,d),co=p):Tl(n,l,d));break;default:Tl(n,l,d)}}function rw(n){var l=n.alternate;if(l!==null&&(n=l.child,n!==null)){l.child=null;do l=n.sibling,n.sibling=null,n=l;while(n!==null)}}function oo(n){var l=n.deletions;if((n.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];aa=p,nw(p,n)}rw(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)sw(n),n=n.sibling}function sw(n){switch(n.tag){case 0:case 11:case 15:oo(n),n.flags&2048&&Tn(9,n,n.return);break;case 3:oo(n);break;case 12:oo(n);break;case 22:var l=n.stateNode;n.memoizedState!==null&&l._visibility&2&&(n.return===null||n.return.tag!==13)?(l._visibility&=-3,Du(n)):oo(n);break;default:oo(n)}}function Du(n){var l=n.deletions;if((n.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];aa=p,nw(p,n)}rw(n)}for(n=n.child;n!==null;){switch(l=n,l.tag){case 0:case 11:case 15:Tn(8,l,l.return),Du(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,Du(l));break;default:Du(l)}n=n.sibling}}function nw(n,l){for(;aa!==null;){var d=aa;switch(d.tag){case 0:case 11:case 15:Tn(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Gc(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,aa=p;else e:for(d=n;aa!==null;){p=aa;var j=p.sibling,S=p.return;if(XN(p),p===d){aa=null;break e}if(j!==null){j.return=S,aa=j;break e}aa=S}}}var xT={getCacheForType:function(n){var l=ha(Lt),d=l.data.get(n);return d===void 0&&(d=n(),l.data.set(n,d)),d},cacheSignal:function(){return ha(Lt).controller.signal}},hT=typeof WeakMap=="function"?WeakMap:Map,Ye=0,lt=null,Re=null,Ie=0,Qe=0,cr=null,Dn=!1,Dl=!1,N0=!1,Vs=0,Et=0,Pn=0,Ci=0,w0=0,or=0,Pl=0,uo=null,Ka=null,S0=!1,Pu=0,iw=0,zu=1/0,Mu=null,zn=null,Kt=0,Mn=null,zl=null,Gs=0,_0=0,C0=null,lw=null,mo=0,k0=null;function dr(){return(Ye&2)!==0&&Ie!==0?Ie&-Ie:H.T!==null?P0():Wr()}function cw(){if(or===0)if((Ie&536870912)===0||Fe){var n=rl;rl<<=1,(rl&3932160)===0&&(rl=262144),or=n}else or=536870912;return n=ir.current,n!==null&&(n.flags|=32),or}function Ya(n,l,d){(n===lt&&(Qe===2||Qe===9)||n.cancelPendingCommit!==null)&&(Ml(n,0),Rn(n,Ie,or,!1)),jr(n,d),((Ye&2)===0||n!==lt)&&(n===lt&&((Ye&2)===0&&(Ci|=d),Et===4&&Rn(n,Ie,or,!1)),ps(n))}function ow(n,l,d){if((Ye&6)!==0)throw Error(s(327));var p=!d&&(l&127)===0&&(l&n.expiredLanes)===0||$a(n,l),j=p?gT(n,l):E0(n,l,!0),S=p;do{if(j===0){Dl&&!p&&Rn(n,l,0,!1);break}else{if(d=n.current.alternate,S&&!pT(d)){j=E0(n,l,!1),S=!1;continue}if(j===2){if(S=l,n.errorRecoveryDisabledLanes&S)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){l=T;e:{var I=n;j=uo;var U=I.current.memoizedState.isDehydrated;if(U&&(Ml(I,T).flags|=256),T=E0(I,T,!1),T!==2){if(N0&&!U){I.errorRecoveryDisabledLanes|=S,Ci|=S,j=4;break e}S=Ka,Ka=j,S!==null&&(Ka===null?Ka=S:Ka.push.apply(Ka,S))}j=T}if(S=!1,j!==2)continue}}if(j===1){Ml(n,0),Rn(n,l,0,!0);break}e:{switch(p=n,S=j,S){case 0:case 1:throw Error(s(345));case 4:if((l&4194048)!==l)break;case 6:Rn(p,l,or,!Dn);break e;case 2:Ka=null;break;case 3:case 5:break;default:throw Error(s(329))}if((l&62914560)===l&&(j=Pu+300-va(),10<j)){if(Rn(p,l,or,!Dn),ea(p,0,!0)!==0)break e;Gs=l,p.timeoutHandle=Bw(dw.bind(null,p,d,Ka,Mu,S0,l,or,Ci,Pl,Dn,S,"Throttled",-0,0),j);break e}dw(p,d,Ka,Mu,S0,l,or,Ci,Pl,Dn,S,null,-0,0)}}break}while(!0);ps(n)}function dw(n,l,d,p,j,S,T,I,U,J,le,oe,ee,ne){if(n.timeoutHandle=-1,oe=l.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ts},aw(l,S,oe);var ve=(S&62914560)===S?Pu-va():(S&4194048)===S?iw-va():0;if(ve=JT(oe,ve),ve!==null){Gs=S,n.cancelPendingCommit=ve(yw.bind(null,n,l,S,d,p,j,T,I,U,le,oe,null,ee,ne)),Rn(n,S,T,!J);return}}yw(n,l,S,d,p,j,T,I,U)}function pT(n){for(var l=n;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var j=d[p],S=j.getSnapshot;j=j.value;try{if(!sr(S(),j))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===n)break;for(;l.sibling===null;){if(l.return===null||l.return===n)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Rn(n,l,d,p){l&=~w0,l&=~Ci,n.suspendedLanes|=l,n.pingedLanes&=~l,p&&(n.warmLanes|=l),p=n.expirationTimes;for(var j=l;0<j;){var S=31-ba(j),T=1<<S;p[S]=-1,j&=~T}d!==0&&Xr(n,d,l)}function Ru(){return(Ye&6)===0?(xo(0),!1):!0}function A0(){if(Re!==null){if(Qe===0)var n=Re.return;else n=Re,Ms=gi=null,Hp(n),_l=null,Yc=0,n=Re;for(;n!==null;)FN(n.alternate,n),n=n.return;Re=null}}function Ml(n,l){var d=n.timeoutHandle;d!==-1&&(n.timeoutHandle=-1,MT(d)),d=n.cancelPendingCommit,d!==null&&(n.cancelPendingCommit=null,d()),Gs=0,A0(),lt=n,Re=d=Ps(n.current,null),Ie=l,Qe=0,cr=null,Dn=!1,Dl=$a(n,l),N0=!1,Pl=or=w0=Ci=Pn=Et=0,Ka=uo=null,S0=!1,(l&8)!==0&&(l|=l&32);var p=n.entangledLanes;if(p!==0)for(n=n.entanglements,p&=l;0<p;){var j=31-ba(p),S=1<<j;l|=n[j],p&=~S}return Vs=l,ru(),d}function uw(n,l){De=null,H.H=ao,l===Sl||l===uu?(l=k1(),Qe=3):l===Dp?(l=k1(),Qe=4):Qe=l===i0?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,cr=l,Re===null&&(Et=1,_u(n,kr(l,n.current)))}function mw(){var n=ir.current;return n===null?!0:(Ie&4194048)===Ie?Tr===null:(Ie&62914560)===Ie||(Ie&536870912)!==0?n===Tr:!1}function xw(){var n=H.H;return H.H=ao,n===null?ao:n}function hw(){var n=H.A;return H.A=xT,n}function Lu(){Et=4,Dn||(Ie&4194048)!==Ie&&ir.current!==null||(Dl=!0),(Pn&134217727)===0&&(Ci&134217727)===0||lt===null||Rn(lt,Ie,or,!1)}function E0(n,l,d){var p=Ye;Ye|=2;var j=xw(),S=hw();(lt!==n||Ie!==l)&&(Mu=null,Ml(n,l)),l=!1;var T=Et;e:do try{if(Qe!==0&&Re!==null){var I=Re,U=cr;switch(Qe){case 8:A0(),T=6;break e;case 3:case 2:case 9:case 6:ir.current===null&&(l=!0);var J=Qe;if(Qe=0,cr=null,Rl(n,I,U,J),d&&Dl){T=0;break e}break;default:J=Qe,Qe=0,cr=null,Rl(n,I,U,J)}}fT(),T=Et;break}catch(le){uw(n,le)}while(!0);return l&&n.shellSuspendCounter++,Ms=gi=null,Ye=p,H.H=j,H.A=S,Re===null&&(lt=null,Ie=0,ru()),T}function fT(){for(;Re!==null;)pw(Re)}function gT(n,l){var d=Ye;Ye|=2;var p=xw(),j=hw();lt!==n||Ie!==l?(Mu=null,zu=va()+500,Ml(n,l)):Dl=$a(n,l);e:do try{if(Qe!==0&&Re!==null){l=Re;var S=cr;t:switch(Qe){case 1:Qe=0,cr=null,Rl(n,l,S,1);break;case 2:case 9:if(_1(S)){Qe=0,cr=null,fw(l);break}l=function(){Qe!==2&&Qe!==9||lt!==n||(Qe=7),ps(n)},S.then(l,l);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:_1(S)?(Qe=0,cr=null,fw(l)):(Qe=0,cr=null,Rl(n,l,S,7));break;case 5:var T=null;switch(Re.tag){case 26:T=Re.memoizedState;case 5:case 27:var I=Re;if(T?t2(T):I.stateNode.complete){Qe=0,cr=null;var U=I.sibling;if(U!==null)Re=U;else{var J=I.return;J!==null?(Re=J,Iu(J)):Re=null}break t}}Qe=0,cr=null,Rl(n,l,S,5);break;case 6:Qe=0,cr=null,Rl(n,l,S,6);break;case 8:A0(),Et=6;break e;default:throw Error(s(462))}}yT();break}catch(le){uw(n,le)}while(!0);return Ms=gi=null,H.H=p,H.A=j,Ye=d,Re!==null?0:(lt=null,Ie=0,ru(),Et)}function yT(){for(;Re!==null&&!tl();)pw(Re)}function pw(n){var l=$N(n.alternate,n,Vs);n.memoizedProps=n.pendingProps,l===null?Iu(n):Re=l}function fw(n){var l=n,d=l.alternate;switch(l.tag){case 15:case 0:l=PN(d,l,l.pendingProps,l.type,void 0,Ie);break;case 11:l=PN(d,l,l.pendingProps,l.type.render,l.ref,Ie);break;case 5:Hp(l);default:FN(d,l),l=Re=h1(l,Vs),l=$N(d,l,Vs)}n.memoizedProps=n.pendingProps,l===null?Iu(n):Re=l}function Rl(n,l,d,p){Ms=gi=null,Hp(l),_l=null,Yc=0;var j=l.return;try{if(iT(n,j,l,d,Ie)){Et=1,_u(n,kr(d,n.current)),Re=null;return}}catch(S){if(j!==null)throw Re=j,S;Et=1,_u(n,kr(d,n.current)),Re=null;return}l.flags&32768?(Fe||p===1?n=!0:Dl||(Ie&536870912)!==0?n=!1:(Dn=n=!0,(p===2||p===9||p===3||p===6)&&(p=ir.current,p!==null&&p.tag===13&&(p.flags|=16384))),gw(l,n)):Iu(l)}function Iu(n){var l=n;do{if((l.flags&32768)!==0){gw(l,Dn);return}n=l.return;var d=oT(l.alternate,l,Vs);if(d!==null){Re=d;return}if(l=l.sibling,l!==null){Re=l;return}Re=l=n}while(l!==null);Et===0&&(Et=5)}function gw(n,l){do{var d=dT(n.alternate,n);if(d!==null){d.flags&=32767,Re=d;return}if(d=n.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(n=n.sibling,n!==null)){Re=n;return}Re=n=d}while(n!==null);Et=6,Re=null}function yw(n,l,d,p,j,S,T,I,U){n.cancelPendingCommit=null;do $u();while(Kt!==0);if((Ye&6)!==0)throw Error(s(327));if(l!==null){if(l===n.current)throw Error(s(177));if(S=l.lanes|l.childLanes,S|=gp,Gt(n,d,S,T,I,U),n===lt&&(Re=lt=null,Ie=0),zl=l,Mn=n,Gs=d,_0=S,C0=j,lw=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,NT(Yr,function(){return ww(),null})):(n.callbackNode=null,n.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=H.T,H.T=null,j=R.p,R.p=2,T=Ye,Ye|=4;try{uT(n,l,d)}finally{Ye=T,R.p=j,H.T=p}}Kt=1,vw(),bw(),jw()}}function vw(){if(Kt===1){Kt=0;var n=Mn,l=zl,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=H.T,H.T=null;var p=R.p;R.p=2;var j=Ye;Ye|=4;try{JN(l,n);var S=F0,T=n1(n.containerInfo),I=S.focusedElem,U=S.selectionRange;if(T!==I&&I&&I.ownerDocument&&s1(I.ownerDocument.documentElement,I)){if(U!==null&&mp(I)){var J=U.start,le=U.end;if(le===void 0&&(le=J),"selectionStart"in I)I.selectionStart=J,I.selectionEnd=Math.min(le,I.value.length);else{var oe=I.ownerDocument||document,ee=oe&&oe.defaultView||window;if(ee.getSelection){var ne=ee.getSelection(),ve=I.textContent.length,ke=Math.min(U.start,ve),rt=U.end===void 0?ke:Math.min(U.end,ve);!ne.extend&&ke>rt&&(T=rt,rt=ke,ke=T);var X=r1(I,ke),G=r1(I,rt);if(X&&G&&(ne.rangeCount!==1||ne.anchorNode!==X.node||ne.anchorOffset!==X.offset||ne.focusNode!==G.node||ne.focusOffset!==G.offset)){var Q=oe.createRange();Q.setStart(X.node,X.offset),ne.removeAllRanges(),ke>rt?(ne.addRange(Q),ne.extend(G.node,G.offset)):(Q.setEnd(G.node,G.offset),ne.addRange(Q))}}}}for(oe=[],ne=I;ne=ne.parentNode;)ne.nodeType===1&&oe.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<oe.length;I++){var ce=oe[I];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Zu=!!B0,F0=B0=null}finally{Ye=j,R.p=p,H.T=d}}n.current=l,Kt=2}}function bw(){if(Kt===2){Kt=0;var n=Mn,l=zl,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=H.T,H.T=null;var p=R.p;R.p=2;var j=Ye;Ye|=4;try{YN(n,l.alternate,l)}finally{Ye=j,R.p=p,H.T=d}}Kt=3}}function jw(){if(Kt===4||Kt===3){Kt=0,Ud();var n=Mn,l=zl,d=Gs,p=lw;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Kt=5:(Kt=0,zl=Mn=null,Nw(n,n.pendingLanes));var j=n.pendingLanes;if(j===0&&(zn=null),Es(d),l=l.stateNode,Ta&&typeof Ta.onCommitFiberRoot=="function")try{Ta.onCommitFiberRoot(oi,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=H.T,j=R.p,R.p=2,H.T=null;try{for(var S=n.onRecoverableError,T=0;T<p.length;T++){var I=p[T];S(I.value,{componentStack:I.stack})}}finally{H.T=l,R.p=j}}(Gs&3)!==0&&$u(),ps(n),j=n.pendingLanes,(d&261930)!==0&&(j&42)!==0?n===k0?mo++:(mo=0,k0=n):mo=0,xo(0)}}function Nw(n,l){(n.pooledCacheLanes&=l)===0&&(l=n.pooledCache,l!=null&&(n.pooledCache=null,Gc(l)))}function $u(){return vw(),bw(),jw(),ww()}function ww(){if(Kt!==5)return!1;var n=Mn,l=_0;_0=0;var d=Es(Gs),p=H.T,j=R.p;try{R.p=32>d?32:d,H.T=null,d=C0,C0=null;var S=Mn,T=Gs;if(Kt=0,zl=Mn=null,Gs=0,(Ye&6)!==0)throw Error(s(331));var I=Ye;if(Ye|=4,sw(S.current),tw(S,S.current,T,d),Ye=I,xo(0,!1),Ta&&typeof Ta.onPostCommitFiberRoot=="function")try{Ta.onPostCommitFiberRoot(oi,S)}catch{}return!0}finally{R.p=j,H.T=p,Nw(n,l)}}function Sw(n,l,d){l=kr(d,l),l=n0(n.stateNode,l,2),n=An(n,l,2),n!==null&&(jr(n,2),ps(n))}function Je(n,l,d){if(n.tag===3)Sw(n,n,d);else for(;l!==null;){if(l.tag===3){Sw(l,n,d);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(zn===null||!zn.has(p))){n=kr(d,n),d=_N(2),p=An(l,d,2),p!==null&&(CN(d,p,l,n),jr(p,2),ps(p));break}}l=l.return}}function O0(n,l,d){var p=n.pingCache;if(p===null){p=n.pingCache=new hT;var j=new Set;p.set(l,j)}else j=p.get(l),j===void 0&&(j=new Set,p.set(l,j));j.has(d)||(N0=!0,j.add(d),n=vT.bind(null,n,l,d),l.then(n,n))}function vT(n,l,d){var p=n.pingCache;p!==null&&p.delete(l),n.pingedLanes|=n.suspendedLanes&d,n.warmLanes&=~d,lt===n&&(Ie&d)===d&&(Et===4||Et===3&&(Ie&62914560)===Ie&&300>va()-Pu?(Ye&2)===0&&Ml(n,0):w0|=d,Pl===Ie&&(Pl=0)),ps(n)}function _w(n,l){l===0&&(l=ja()),n=hi(n,l),n!==null&&(jr(n,l),ps(n))}function bT(n){var l=n.memoizedState,d=0;l!==null&&(d=l.retryLane),_w(n,d)}function jT(n,l){var d=0;switch(n.tag){case 31:case 13:var p=n.stateNode,j=n.memoizedState;j!==null&&(d=j.retryLane);break;case 19:p=n.stateNode;break;case 22:p=n.stateNode._retryCache;break;default:throw Error(s(314))}p!==null&&p.delete(l),_w(n,d)}function NT(n,l){return vr(n,l)}var Bu=null,Ll=null,T0=!1,Fu=!1,D0=!1,Ln=0;function ps(n){n!==Ll&&n.next===null&&(Ll===null?Bu=Ll=n:Ll=Ll.next=n),Fu=!0,T0||(T0=!0,ST())}function xo(n,l){if(!D0&&Fu){D0=!0;do for(var d=!1,p=Bu;p!==null;){if(n!==0){var j=p.pendingLanes;if(j===0)var S=0;else{var T=p.suspendedLanes,I=p.pingedLanes;S=(1<<31-ba(42|n)+1)-1,S&=j&~(T&~I),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(d=!0,Ew(p,S))}else S=Ie,S=ea(p,p===lt?S:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(S&3)===0||$a(p,S)||(d=!0,Ew(p,S));p=p.next}while(d);D0=!1}}function wT(){Cw()}function Cw(){Fu=T0=!1;var n=0;Ln!==0&&zT()&&(n=Ln);for(var l=va(),d=null,p=Bu;p!==null;){var j=p.next,S=kw(p,l);S===0?(p.next=null,d===null?Bu=j:d.next=j,j===null&&(Ll=d)):(d=p,(n!==0||(S&3)!==0)&&(Fu=!0)),p=j}Kt!==0&&Kt!==5||xo(n),Ln!==0&&(Ln=0)}function kw(n,l){for(var d=n.suspendedLanes,p=n.pingedLanes,j=n.expirationTimes,S=n.pendingLanes&-62914561;0<S;){var T=31-ba(S),I=1<<T,U=j[T];U===-1?((I&d)===0||(I&p)!==0)&&(j[T]=Ba(I,l)):U<=l&&(n.expiredLanes|=I),S&=~I}if(l=lt,d=Ie,d=ea(n,n===l?d:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),p=n.callbackNode,d===0||n===l&&(Qe===2||Qe===9)||n.cancelPendingCommit!==null)return p!==null&&p!==null&&vn(p),n.callbackNode=null,n.callbackPriority=0;if((d&3)===0||$a(n,d)){if(l=d&-d,l===n.callbackPriority)return l;switch(p!==null&&vn(p),Es(d)){case 2:case 8:d=ks;break;case 32:d=Yr;break;case 268435456:d=Dc;break;default:d=Yr}return p=Aw.bind(null,n),d=vr(d,p),n.callbackPriority=l,n.callbackNode=d,l}return p!==null&&p!==null&&vn(p),n.callbackPriority=2,n.callbackNode=null,2}function Aw(n,l){if(Kt!==0&&Kt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var d=n.callbackNode;if($u()&&n.callbackNode!==d)return null;var p=Ie;return p=ea(n,n===lt?p:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),p===0?null:(ow(n,p,l),kw(n,va()),n.callbackNode!=null&&n.callbackNode===d?Aw.bind(null,n):null)}function Ew(n,l){if($u())return null;ow(n,l,!0)}function ST(){RT(function(){(Ye&6)!==0?vr(qd,wT):Cw()})}function P0(){if(Ln===0){var n=Nl;n===0&&(n=al,al<<=1,(al&261888)===0&&(al=256)),Ln=n}return Ln}function Ow(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Xd(""+n)}function Tw(n,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,n.id&&d.setAttribute("form",n.id),l.parentNode.insertBefore(d,l),n=new FormData(n),d.parentNode.removeChild(d),n}function _T(n,l,d,p,j){if(l==="submit"&&d&&d.stateNode===j){var S=Ow((j[Ua]||null).action),T=p.submitter;T&&(l=(l=T[Ua]||null)?Ow(l.formAction):T.getAttribute("formAction"),l!==null&&(S=l,T=null));var I=new Jd("action","action",null,p,j);n.push({event:I,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Ln!==0){var U=T?Tw(j,T):new FormData(j);Jp(d,{pending:!0,data:U,method:j.method,action:S},null,U)}}else typeof S=="function"&&(I.preventDefault(),U=T?Tw(j,T):new FormData(j),Jp(d,{pending:!0,data:U,method:j.method,action:S},S,U))},currentTarget:j}]})}}for(var z0=0;z0<fp.length;z0++){var M0=fp[z0],CT=M0.toLowerCase(),kT=M0[0].toUpperCase()+M0.slice(1);Zr(CT,"on"+kT)}Zr(c1,"onAnimationEnd"),Zr(o1,"onAnimationIteration"),Zr(d1,"onAnimationStart"),Zr("dblclick","onDoubleClick"),Zr("focusin","onFocus"),Zr("focusout","onBlur"),Zr(q8,"onTransitionRun"),Zr(H8,"onTransitionStart"),Zr(V8,"onTransitionCancel"),Zr(u1,"onTransitionEnd"),cl("onMouseEnter",["mouseout","mouseover"]),cl("onMouseLeave",["mouseout","mouseover"]),cl("onPointerEnter",["pointerout","pointerover"]),cl("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ho));function Dw(n,l){l=(l&4)!==0;for(var d=0;d<n.length;d++){var p=n[d],j=p.event;p=p.listeners;e:{var S=void 0;if(l)for(var T=p.length-1;0<=T;T--){var I=p[T],U=I.instance,J=I.currentTarget;if(I=I.listener,U!==S&&j.isPropagationStopped())break e;S=I,j.currentTarget=J;try{S(j)}catch(le){au(le)}j.currentTarget=null,S=U}else for(T=0;T<p.length;T++){if(I=p[T],U=I.instance,J=I.currentTarget,I=I.listener,U!==S&&j.isPropagationStopped())break e;S=I,j.currentTarget=J;try{S(j)}catch(le){au(le)}j.currentTarget=null,S=U}}}}function Le(n,l){var d=l[Yh];d===void 0&&(d=l[Yh]=new Set);var p=n+"__bubble";d.has(p)||(Pw(l,n,2,!1),d.add(p))}function R0(n,l,d){var p=0;l&&(p|=4),Pw(d,n,p,l)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function L0(n){if(!n[Uu]){n[Uu]=!0,Cj.forEach(function(d){d!=="selectionchange"&&(AT.has(d)||R0(d,!1,n),R0(d,!0,n))});var l=n.nodeType===9?n:n.ownerDocument;l===null||l[Uu]||(l[Uu]=!0,R0("selectionchange",!1,l))}}function Pw(n,l,d,p){switch(c2(l)){case 2:var j=aD;break;case 8:j=rD;break;default:j=Q0}d=j.bind(null,l,d,n),j=void 0,!rp||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(j=!0),p?j!==void 0?n.addEventListener(l,d,{capture:!0,passive:j}):n.addEventListener(l,d,!0):j!==void 0?n.addEventListener(l,d,{passive:j}):n.addEventListener(l,d,!1)}function I0(n,l,d,p,j){var S=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var T=p.tag;if(T===3||T===4){var I=p.stateNode.containerInfo;if(I===j)break;if(T===4)for(T=p.return;T!==null;){var U=T.tag;if((U===3||U===4)&&T.stateNode.containerInfo===j)return;T=T.return}for(;I!==null;){if(T=nl(I),T===null)return;if(U=T.tag,U===5||U===6||U===26||U===27){p=S=T;continue e}I=I.parentNode}}p=p.return}Ij(function(){var J=S,le=tp(d),oe=[];e:{var ee=m1.get(n);if(ee!==void 0){var ne=Jd,ve=n;switch(n){case"keypress":if(Zd(d)===0)break e;case"keydown":case"keyup":ne=j8;break;case"focusin":ve="focus",ne=lp;break;case"focusout":ve="blur",ne=lp;break;case"beforeblur":case"afterblur":ne=lp;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Fj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=o8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=S8;break;case c1:case o1:case d1:ne=m8;break;case u1:ne=C8;break;case"scroll":case"scrollend":ne=l8;break;case"wheel":ne=A8;break;case"copy":case"cut":case"paste":ne=h8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=qj;break;case"toggle":case"beforetoggle":ne=O8}var ke=(l&4)!==0,rt=!ke&&(n==="scroll"||n==="scrollend"),X=ke?ee!==null?ee+"Capture":null:ee;ke=[];for(var G=J,Q;G!==null;){var ce=G;if(Q=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||Q===null||X===null||(ce=Mc(G,X),ce!=null&&ke.push(po(G,ce,Q))),rt)break;G=G.return}0<ke.length&&(ee=new ne(ee,ve,null,d,le),oe.push({event:ee,listeners:ke}))}}if((l&7)===0){e:{if(ee=n==="mouseover"||n==="pointerover",ne=n==="mouseout"||n==="pointerout",ee&&d!==ep&&(ve=d.relatedTarget||d.fromElement)&&(nl(ve)||ve[sl]))break e;if((ne||ee)&&(ee=le.window===le?le:(ee=le.ownerDocument)?ee.defaultView||ee.parentWindow:window,ne?(ve=d.relatedTarget||d.toElement,ne=J,ve=ve?nl(ve):null,ve!==null&&(rt=c(ve),ke=ve.tag,ve!==rt||ke!==5&&ke!==27&&ke!==6)&&(ve=null)):(ne=null,ve=J),ne!==ve)){if(ke=Fj,ce="onMouseLeave",X="onMouseEnter",G="mouse",(n==="pointerout"||n==="pointerover")&&(ke=qj,ce="onPointerLeave",X="onPointerEnter",G="pointer"),rt=ne==null?ee:zc(ne),Q=ve==null?ee:zc(ve),ee=new ke(ce,G+"leave",ne,d,le),ee.target=rt,ee.relatedTarget=Q,ce=null,nl(le)===J&&(ke=new ke(X,G+"enter",ve,d,le),ke.target=Q,ke.relatedTarget=rt,ce=ke),rt=ce,ne&&ve)t:{for(ke=ET,X=ne,G=ve,Q=0,ce=X;ce;ce=ke(ce))Q++;ce=0;for(var _e=G;_e;_e=ke(_e))ce++;for(;0<Q-ce;)X=ke(X),Q--;for(;0<ce-Q;)G=ke(G),ce--;for(;Q--;){if(X===G||G!==null&&X===G.alternate){ke=X;break t}X=ke(X),G=ke(G)}ke=null}else ke=null;ne!==null&&zw(oe,ee,ne,ke,!1),ve!==null&&rt!==null&&zw(oe,rt,ve,ke,!0)}}e:{if(ee=J?zc(J):window,ne=ee.nodeName&&ee.nodeName.toLowerCase(),ne==="select"||ne==="input"&&ee.type==="file")var He=Zj;else if(Xj(ee))if(Qj)He=B8;else{He=I8;var we=L8}else ne=ee.nodeName,!ne||ne.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?J&&Jh(J.elementType)&&(He=Zj):He=$8;if(He&&(He=He(n,J))){Wj(oe,He,d,le);break e}we&&we(n,ee,J),n==="focusout"&&J&&ee.type==="number"&&J.memoizedProps.value!=null&&Qh(ee,"number",ee.value)}switch(we=J?zc(J):window,n){case"focusin":(Xj(we)||we.contentEditable==="true")&&(hl=we,xp=J,qc=null);break;case"focusout":qc=xp=hl=null;break;case"mousedown":hp=!0;break;case"contextmenu":case"mouseup":case"dragend":hp=!1,i1(oe,d,le);break;case"selectionchange":if(U8)break;case"keydown":case"keyup":i1(oe,d,le)}var ze;if(op)e:{switch(n){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else xl?Kj(n,d)&&($e="onCompositionEnd"):n==="keydown"&&d.keyCode===229&&($e="onCompositionStart");$e&&(Hj&&d.locale!=="ko"&&(xl||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&xl&&(ze=$j()):(jn=le,sp="value"in jn?jn.value:jn.textContent,xl=!0)),we=qu(J,$e),0<we.length&&($e=new Uj($e,n,null,d,le),oe.push({event:$e,listeners:we}),ze?$e.data=ze:(ze=Yj(d),ze!==null&&($e.data=ze)))),(ze=D8?P8(n,d):z8(n,d))&&($e=qu(J,"onBeforeInput"),0<$e.length&&(we=new Uj("onBeforeInput","beforeinput",null,d,le),oe.push({event:we,listeners:$e}),we.data=ze)),_T(oe,n,J,d,le)}Dw(oe,l)})}function po(n,l,d){return{instance:n,listener:l,currentTarget:d}}function qu(n,l){for(var d=l+"Capture",p=[];n!==null;){var j=n,S=j.stateNode;if(j=j.tag,j!==5&&j!==26&&j!==27||S===null||(j=Mc(n,d),j!=null&&p.unshift(po(n,j,S)),j=Mc(n,l),j!=null&&p.push(po(n,j,S))),n.tag===3)return p;n=n.return}return[]}function ET(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function zw(n,l,d,p,j){for(var S=l._reactName,T=[];d!==null&&d!==p;){var I=d,U=I.alternate,J=I.stateNode;if(I=I.tag,U!==null&&U===p)break;I!==5&&I!==26&&I!==27||J===null||(U=J,j?(J=Mc(d,S),J!=null&&T.unshift(po(d,J,U))):j||(J=Mc(d,S),J!=null&&T.push(po(d,J,U)))),d=d.return}T.length!==0&&n.push({event:l,listeners:T})}var OT=/\r\n?/g,TT=/\u0000|\uFFFD/g;function Mw(n){return(typeof n=="string"?n:""+n).replace(OT,`
`).replace(TT,"")}function Rw(n,l){return l=Mw(l),Mw(n)===l}function at(n,l,d,p,j,S){switch(d){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||dl(n,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&dl(n,""+p);break;case"className":Kd(n,"class",p);break;case"tabIndex":Kd(n,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Kd(n,d,p);break;case"style":Rj(n,p,S);break;case"data":if(l!=="object"){Kd(n,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||d!=="href")){n.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){n.removeAttribute(d);break}p=Xd(""+p),n.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){n.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(d==="formAction"?(l!=="input"&&at(n,l,"name",j.name,j,null),at(n,l,"formEncType",j.formEncType,j,null),at(n,l,"formMethod",j.formMethod,j,null),at(n,l,"formTarget",j.formTarget,j,null)):(at(n,l,"encType",j.encType,j,null),at(n,l,"method",j.method,j,null),at(n,l,"target",j.target,j,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){n.removeAttribute(d);break}p=Xd(""+p),n.setAttribute(d,p);break;case"onClick":p!=null&&(n.onclick=Ts);break;case"onScroll":p!=null&&Le("scroll",n);break;case"onScrollEnd":p!=null&&Le("scrollend",n);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(s(61));if(d=p.__html,d!=null){if(j.children!=null)throw Error(s(60));n.innerHTML=d}}break;case"multiple":n.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":n.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){n.removeAttribute("xlink:href");break}d=Xd(""+p),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?n.setAttribute(d,""+p):n.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?n.setAttribute(d,""):n.removeAttribute(d);break;case"capture":case"download":p===!0?n.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?n.setAttribute(d,p):n.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?n.setAttribute(d,p):n.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?n.removeAttribute(d):n.setAttribute(d,p);break;case"popover":Le("beforetoggle",n),Le("toggle",n),Gd(n,"popover",p);break;case"xlinkActuate":Os(n,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Os(n,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Os(n,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Os(n,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Os(n,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Os(n,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Os(n,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Os(n,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Os(n,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Gd(n,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=n8.get(d)||d,Gd(n,d,p))}}function $0(n,l,d,p,j,S){switch(d){case"style":Rj(n,p,S);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(s(61));if(d=p.__html,d!=null){if(j.children!=null)throw Error(s(60));n.innerHTML=d}}break;case"children":typeof p=="string"?dl(n,p):(typeof p=="number"||typeof p=="bigint")&&dl(n,""+p);break;case"onScroll":p!=null&&Le("scroll",n);break;case"onScrollEnd":p!=null&&Le("scrollend",n);break;case"onClick":p!=null&&(n.onclick=Ts);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kj.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(j=d.endsWith("Capture"),l=d.slice(2,j?d.length-7:void 0),S=n[Ua]||null,S=S!=null?S[d]:null,typeof S=="function"&&n.removeEventListener(l,S,j),typeof p=="function")){typeof S!="function"&&S!==null&&(d in n?n[d]=null:n.hasAttribute(d)&&n.removeAttribute(d)),n.addEventListener(l,p,j);break e}d in n?n[d]=p:p===!0?n.setAttribute(d,""):Gd(n,d,p)}}}function fa(n,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",n),Le("load",n);var p=!1,j=!1,S;for(S in d)if(d.hasOwnProperty(S)){var T=d[S];if(T!=null)switch(S){case"src":p=!0;break;case"srcSet":j=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,l));default:at(n,l,S,T,d,null)}}j&&at(n,l,"srcSet",d.srcSet,d,null),p&&at(n,l,"src",d.src,d,null);return;case"input":Le("invalid",n);var I=S=T=j=null,U=null,J=null;for(p in d)if(d.hasOwnProperty(p)){var le=d[p];if(le!=null)switch(p){case"name":j=le;break;case"type":T=le;break;case"checked":U=le;break;case"defaultChecked":J=le;break;case"value":S=le;break;case"defaultValue":I=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(s(137,l));break;default:at(n,l,p,le,d,null)}}Dj(n,S,I,U,J,T,j,!1);return;case"select":Le("invalid",n),p=T=S=null;for(j in d)if(d.hasOwnProperty(j)&&(I=d[j],I!=null))switch(j){case"value":S=I;break;case"defaultValue":T=I;break;case"multiple":p=I;default:at(n,l,j,I,d,null)}l=S,d=T,n.multiple=!!p,l!=null?ol(n,!!p,l,!1):d!=null&&ol(n,!!p,d,!0);return;case"textarea":Le("invalid",n),S=j=p=null;for(T in d)if(d.hasOwnProperty(T)&&(I=d[T],I!=null))switch(T){case"value":p=I;break;case"defaultValue":j=I;break;case"children":S=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(91));break;default:at(n,l,T,I,d,null)}zj(n,p,j,S);return;case"option":for(U in d)if(d.hasOwnProperty(U)&&(p=d[U],p!=null))switch(U){case"selected":n.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:at(n,l,U,p,d,null)}return;case"dialog":Le("beforetoggle",n),Le("toggle",n),Le("cancel",n),Le("close",n);break;case"iframe":case"object":Le("load",n);break;case"video":case"audio":for(p=0;p<ho.length;p++)Le(ho[p],n);break;case"image":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"embed":case"source":case"link":Le("error",n),Le("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in d)if(d.hasOwnProperty(J)&&(p=d[J],p!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,l));default:at(n,l,J,p,d,null)}return;default:if(Jh(l)){for(le in d)d.hasOwnProperty(le)&&(p=d[le],p!==void 0&&$0(n,l,le,p,d,void 0));return}}for(I in d)d.hasOwnProperty(I)&&(p=d[I],p!=null&&at(n,l,I,p,d,null))}function DT(n,l,d,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var j=null,S=null,T=null,I=null,U=null,J=null,le=null;for(ne in d){var oe=d[ne];if(d.hasOwnProperty(ne)&&oe!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":U=oe;default:p.hasOwnProperty(ne)||at(n,l,ne,null,p,oe)}}for(var ee in p){var ne=p[ee];if(oe=d[ee],p.hasOwnProperty(ee)&&(ne!=null||oe!=null))switch(ee){case"type":S=ne;break;case"name":j=ne;break;case"checked":J=ne;break;case"defaultChecked":le=ne;break;case"value":T=ne;break;case"defaultValue":I=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,l));break;default:ne!==oe&&at(n,l,ee,ne,p,oe)}}Zh(n,T,I,U,J,le,S,j);return;case"select":ne=T=I=ee=null;for(S in d)if(U=d[S],d.hasOwnProperty(S)&&U!=null)switch(S){case"value":break;case"multiple":ne=U;default:p.hasOwnProperty(S)||at(n,l,S,null,p,U)}for(j in p)if(S=p[j],U=d[j],p.hasOwnProperty(j)&&(S!=null||U!=null))switch(j){case"value":ee=S;break;case"defaultValue":I=S;break;case"multiple":T=S;default:S!==U&&at(n,l,j,S,p,U)}l=I,d=T,p=ne,ee!=null?ol(n,!!d,ee,!1):!!p!=!!d&&(l!=null?ol(n,!!d,l,!0):ol(n,!!d,d?[]:"",!1));return;case"textarea":ne=ee=null;for(I in d)if(j=d[I],d.hasOwnProperty(I)&&j!=null&&!p.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:at(n,l,I,null,p,j)}for(T in p)if(j=p[T],S=d[T],p.hasOwnProperty(T)&&(j!=null||S!=null))switch(T){case"value":ee=j;break;case"defaultValue":ne=j;break;case"children":break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(91));break;default:j!==S&&at(n,l,T,j,p,S)}Pj(n,ee,ne);return;case"option":for(var ve in d)if(ee=d[ve],d.hasOwnProperty(ve)&&ee!=null&&!p.hasOwnProperty(ve))switch(ve){case"selected":n.selected=!1;break;default:at(n,l,ve,null,p,ee)}for(U in p)if(ee=p[U],ne=d[U],p.hasOwnProperty(U)&&ee!==ne&&(ee!=null||ne!=null))switch(U){case"selected":n.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:at(n,l,U,ee,p,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in d)ee=d[ke],d.hasOwnProperty(ke)&&ee!=null&&!p.hasOwnProperty(ke)&&at(n,l,ke,null,p,ee);for(J in p)if(ee=p[J],ne=d[J],p.hasOwnProperty(J)&&ee!==ne&&(ee!=null||ne!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,l));break;default:at(n,l,J,ee,p,ne)}return;default:if(Jh(l)){for(var rt in d)ee=d[rt],d.hasOwnProperty(rt)&&ee!==void 0&&!p.hasOwnProperty(rt)&&$0(n,l,rt,void 0,p,ee);for(le in p)ee=p[le],ne=d[le],!p.hasOwnProperty(le)||ee===ne||ee===void 0&&ne===void 0||$0(n,l,le,ee,p,ne);return}}for(var X in d)ee=d[X],d.hasOwnProperty(X)&&ee!=null&&!p.hasOwnProperty(X)&&at(n,l,X,null,p,ee);for(oe in p)ee=p[oe],ne=d[oe],!p.hasOwnProperty(oe)||ee===ne||ee==null&&ne==null||at(n,l,oe,ee,p,ne)}function Lw(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function PT(){if(typeof performance.getEntriesByType=="function"){for(var n=0,l=0,d=performance.getEntriesByType("resource"),p=0;p<d.length;p++){var j=d[p],S=j.transferSize,T=j.initiatorType,I=j.duration;if(S&&I&&Lw(T)){for(T=0,I=j.responseEnd,p+=1;p<d.length;p++){var U=d[p],J=U.startTime;if(J>I)break;var le=U.transferSize,oe=U.initiatorType;le&&Lw(oe)&&(U=U.responseEnd,T+=le*(U<I?1:(I-J)/(U-J)))}if(--p,l+=8*(S+T)/(j.duration/1e3),n++,10<n)break}}if(0<n)return l/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var B0=null,F0=null;function Hu(n){return n.nodeType===9?n:n.ownerDocument}function Iw(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $w(n,l){if(n===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&l==="foreignObject"?0:n}function U0(n,l){return n==="textarea"||n==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var q0=null;function zT(){var n=window.event;return n&&n.type==="popstate"?n===q0?!1:(q0=n,!0):(q0=null,!1)}var Bw=typeof setTimeout=="function"?setTimeout:void 0,MT=typeof clearTimeout=="function"?clearTimeout:void 0,Fw=typeof Promise=="function"?Promise:void 0,RT=typeof queueMicrotask=="function"?queueMicrotask:typeof Fw<"u"?function(n){return Fw.resolve(null).then(n).catch(LT)}:Bw;function LT(n){setTimeout(function(){throw n})}function In(n){return n==="head"}function Uw(n,l){var d=l,p=0;do{var j=d.nextSibling;if(n.removeChild(d),j&&j.nodeType===8)if(d=j.data,d==="/$"||d==="/&"){if(p===0){n.removeChild(j),Fl(l);return}p--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")p++;else if(d==="html")fo(n.ownerDocument.documentElement);else if(d==="head"){d=n.ownerDocument.head,fo(d);for(var S=d.firstChild;S;){var T=S.nextSibling,I=S.nodeName;S[Pc]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&S.rel.toLowerCase()==="stylesheet"||d.removeChild(S),S=T}}else d==="body"&&fo(n.ownerDocument.body);d=j}while(d);Fl(l)}function qw(n,l){var d=n;n=0;do{var p=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),p&&p.nodeType===8)if(d=p.data,d==="/$"){if(n===0)break;n--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||n++;d=p}while(d)}function H0(n){var l=n.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":H0(d),Xh(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}n.removeChild(d)}}function IT(n,l,d,p){for(;n.nodeType===1;){var j=d;if(n.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(p){if(!n[Pc])switch(l){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(S=n.getAttribute("rel"),S==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(S!==j.rel||n.getAttribute("href")!==(j.href==null||j.href===""?null:j.href)||n.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin)||n.getAttribute("title")!==(j.title==null?null:j.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(S=n.getAttribute("src"),(S!==(j.src==null?null:j.src)||n.getAttribute("type")!==(j.type==null?null:j.type)||n.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin))&&S&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(l==="input"&&n.type==="hidden"){var S=j.name==null?null:""+j.name;if(j.type==="hidden"&&n.getAttribute("name")===S)return n}else return n;if(n=Dr(n.nextSibling),n===null)break}return null}function $T(n,l,d){if(l==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!d||(n=Dr(n.nextSibling),n===null))return null;return n}function Hw(n,l){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=Dr(n.nextSibling),n===null))return null;return n}function V0(n){return n.data==="$?"||n.data==="$~"}function G0(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function BT(n,l){var d=n.ownerDocument;if(n.data==="$~")n._reactRetry=l;else if(n.data!=="$?"||d.readyState!=="loading")l();else{var p=function(){l(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),n._reactRetry=p}}function Dr(n){for(;n!=null;n=n.nextSibling){var l=n.nodeType;if(l===1||l===3)break;if(l===8){if(l=n.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return n}var K0=null;function Vw(n){n=n.nextSibling;for(var l=0;n;){if(n.nodeType===8){var d=n.data;if(d==="/$"||d==="/&"){if(l===0)return Dr(n.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}n=n.nextSibling}return null}function Gw(n){n=n.previousSibling;for(var l=0;n;){if(n.nodeType===8){var d=n.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return n;l--}else d!=="/$"&&d!=="/&"||l++}n=n.previousSibling}return null}function Kw(n,l,d){switch(l=Hu(d),n){case"html":if(n=l.documentElement,!n)throw Error(s(452));return n;case"head":if(n=l.head,!n)throw Error(s(453));return n;case"body":if(n=l.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function fo(n){for(var l=n.attributes;l.length;)n.removeAttributeNode(l[0]);Xh(n)}var Pr=new Map,Yw=new Set;function Vu(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ks=R.d;R.d={f:FT,r:UT,D:qT,C:HT,L:VT,m:GT,X:YT,S:KT,M:XT};function FT(){var n=Ks.f(),l=Ru();return n||l}function UT(n){var l=il(n);l!==null&&l.tag===5&&l.type==="form"?uN(l):Ks.r(n)}var Il=typeof document>"u"?null:document;function Xw(n,l,d){var p=Il;if(p&&typeof l=="string"&&l){var j=_r(l);j='link[rel="'+n+'"][href="'+j+'"]',typeof d=="string"&&(j+='[crossorigin="'+d+'"]'),Yw.has(j)||(Yw.add(j),n={rel:n,crossOrigin:d,href:l},p.querySelector(j)===null&&(l=p.createElement("link"),fa(l,"link",n),ta(l),p.head.appendChild(l)))}}function qT(n){Ks.D(n),Xw("dns-prefetch",n,null)}function HT(n,l){Ks.C(n,l),Xw("preconnect",n,l)}function VT(n,l,d){Ks.L(n,l,d);var p=Il;if(p&&n&&l){var j='link[rel="preload"][as="'+_r(l)+'"]';l==="image"&&d&&d.imageSrcSet?(j+='[imagesrcset="'+_r(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(j+='[imagesizes="'+_r(d.imageSizes)+'"]')):j+='[href="'+_r(n)+'"]';var S=j;switch(l){case"style":S=$l(n);break;case"script":S=Bl(n)}Pr.has(S)||(n=f({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:n,as:l},d),Pr.set(S,n),p.querySelector(j)!==null||l==="style"&&p.querySelector(go(S))||l==="script"&&p.querySelector(yo(S))||(l=p.createElement("link"),fa(l,"link",n),ta(l),p.head.appendChild(l)))}}function GT(n,l){Ks.m(n,l);var d=Il;if(d&&n){var p=l&&typeof l.as=="string"?l.as:"script",j='link[rel="modulepreload"][as="'+_r(p)+'"][href="'+_r(n)+'"]',S=j;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Bl(n)}if(!Pr.has(S)&&(n=f({rel:"modulepreload",href:n},l),Pr.set(S,n),d.querySelector(j)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(yo(S)))return}p=d.createElement("link"),fa(p,"link",n),ta(p),d.head.appendChild(p)}}}function KT(n,l,d){Ks.S(n,l,d);var p=Il;if(p&&n){var j=ll(p).hoistableStyles,S=$l(n);l=l||"default";var T=j.get(S);if(!T){var I={loading:0,preload:null};if(T=p.querySelector(go(S)))I.loading=5;else{n=f({rel:"stylesheet",href:n,"data-precedence":l},d),(d=Pr.get(S))&&Y0(n,d);var U=T=p.createElement("link");ta(U),fa(U,"link",n),U._p=new Promise(function(J,le){U.onload=J,U.onerror=le}),U.addEventListener("load",function(){I.loading|=1}),U.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Gu(T,l,p)}T={type:"stylesheet",instance:T,count:1,state:I},j.set(S,T)}}}function YT(n,l){Ks.X(n,l);var d=Il;if(d&&n){var p=ll(d).hoistableScripts,j=Bl(n),S=p.get(j);S||(S=d.querySelector(yo(j)),S||(n=f({src:n,async:!0},l),(l=Pr.get(j))&&X0(n,l),S=d.createElement("script"),ta(S),fa(S,"link",n),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(j,S))}}function XT(n,l){Ks.M(n,l);var d=Il;if(d&&n){var p=ll(d).hoistableScripts,j=Bl(n),S=p.get(j);S||(S=d.querySelector(yo(j)),S||(n=f({src:n,async:!0,type:"module"},l),(l=Pr.get(j))&&X0(n,l),S=d.createElement("script"),ta(S),fa(S,"link",n),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(j,S))}}function Ww(n,l,d,p){var j=(j=he.current)?Vu(j):null;if(!j)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=$l(d.href),d=ll(j).hoistableStyles,p=d.get(l),p||(p={type:"style",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){n=$l(d.href);var S=ll(j).hoistableStyles,T=S.get(n);if(T||(j=j.ownerDocument||j,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(n,T),(S=j.querySelector(go(n)))&&!S._p&&(T.instance=S,T.state.loading=5),Pr.has(n)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Pr.set(n,d),S||WT(j,n,d,T.state))),l&&p===null)throw Error(s(528,""));return T}if(l&&p!==null)throw Error(s(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Bl(d),d=ll(j).hoistableScripts,p=d.get(l),p||(p={type:"script",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function $l(n){return'href="'+_r(n)+'"'}function go(n){return'link[rel="stylesheet"]['+n+"]"}function Zw(n){return f({},n,{"data-precedence":n.precedence,precedence:null})}function WT(n,l,d,p){n.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=n.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),fa(l,"link",d),ta(l),n.head.appendChild(l))}function Bl(n){return'[src="'+_r(n)+'"]'}function yo(n){return"script[async]"+n}function Qw(n,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var p=n.querySelector('style[data-href~="'+_r(d.href)+'"]');if(p)return l.instance=p,ta(p),p;var j=f({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(n.ownerDocument||n).createElement("style"),ta(p),fa(p,"style",j),Gu(p,d.precedence,n),l.instance=p;case"stylesheet":j=$l(d.href);var S=n.querySelector(go(j));if(S)return l.state.loading|=4,l.instance=S,ta(S),S;p=Zw(d),(j=Pr.get(j))&&Y0(p,j),S=(n.ownerDocument||n).createElement("link"),ta(S);var T=S;return T._p=new Promise(function(I,U){T.onload=I,T.onerror=U}),fa(S,"link",p),l.state.loading|=4,Gu(S,d.precedence,n),l.instance=S;case"script":return S=Bl(d.src),(j=n.querySelector(yo(S)))?(l.instance=j,ta(j),j):(p=d,(j=Pr.get(S))&&(p=f({},d),X0(p,j)),n=n.ownerDocument||n,j=n.createElement("script"),ta(j),fa(j,"link",p),n.head.appendChild(j),l.instance=j);case"void":return null;default:throw Error(s(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,Gu(p,d.precedence,n));return l.instance}function Gu(n,l,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),j=p.length?p[p.length-1]:null,S=j,T=0;T<p.length;T++){var I=p[T];if(I.dataset.precedence===l)S=I;else if(S!==j)break}S?S.parentNode.insertBefore(n,S.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(n,l.firstChild))}function Y0(n,l){n.crossOrigin==null&&(n.crossOrigin=l.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=l.referrerPolicy),n.title==null&&(n.title=l.title)}function X0(n,l){n.crossOrigin==null&&(n.crossOrigin=l.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=l.referrerPolicy),n.integrity==null&&(n.integrity=l.integrity)}var Ku=null;function Jw(n,l,d){if(Ku===null){var p=new Map,j=Ku=new Map;j.set(d,p)}else j=Ku,p=j.get(d),p||(p=new Map,j.set(d,p));if(p.has(n))return p;for(p.set(n,null),d=d.getElementsByTagName(n),j=0;j<d.length;j++){var S=d[j];if(!(S[Pc]||S[ma]||n==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var T=S.getAttribute(l)||"";T=n+T;var I=p.get(T);I?I.push(S):p.set(T,[S])}}return p}function e2(n,l,d){n=n.ownerDocument||n,n.head.insertBefore(d,l==="title"?n.querySelector("head > title"):null)}function ZT(n,l,d){if(d===1||l.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return n=l.disabled,typeof l.precedence=="string"&&n==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function t2(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function QT(n,l,d,p){if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var j=$l(p.href),S=l.querySelector(go(j));if(S){l=S._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(n.count++,n=Yu.bind(n),l.then(n,n)),d.state.loading|=4,d.instance=S,ta(S);return}S=l.ownerDocument||l,p=Zw(p),(j=Pr.get(j))&&Y0(p,j),S=S.createElement("link"),ta(S);var T=S;T._p=new Promise(function(I,U){T.onload=I,T.onerror=U}),fa(S,"link",p),d.instance=S}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(n.count++,d=Yu.bind(n),l.addEventListener("load",d),l.addEventListener("error",d))}}var W0=0;function JT(n,l){return n.stylesheets&&n.count===0&&Wu(n,n.stylesheets),0<n.count||0<n.imgCount?function(d){var p=setTimeout(function(){if(n.stylesheets&&Wu(n,n.stylesheets),n.unsuspend){var S=n.unsuspend;n.unsuspend=null,S()}},6e4+l);0<n.imgBytes&&W0===0&&(W0=62500*PT());var j=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Wu(n,n.stylesheets),n.unsuspend)){var S=n.unsuspend;n.unsuspend=null,S()}},(n.imgBytes>W0?50:800)+l);return n.unsuspend=d,function(){n.unsuspend=null,clearTimeout(p),clearTimeout(j)}}:null}function Yu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wu(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Xu=null;function Wu(n,l){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Xu=new Map,l.forEach(eD,n),Xu=null,Yu.call(n))}function eD(n,l){if(!(l.state.loading&4)){var d=Xu.get(n);if(d)var p=d.get(null);else{d=new Map,Xu.set(n,d);for(var j=n.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<j.length;S++){var T=j[S];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(d.set(T.dataset.precedence,T),p=T)}p&&d.set(null,p)}j=l.instance,T=j.getAttribute("data-precedence"),S=d.get(T)||p,S===p&&d.set(null,j),d.set(T,j),this.count++,p=Yu.bind(this),j.addEventListener("load",p),j.addEventListener("error",p),S?S.parentNode.insertBefore(j,S.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(j,n.firstChild)),l.state.loading|=4}}var vo={$$typeof:C,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function tD(n,l,d,p,j,S,T,I,U){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fa(0),this.hiddenUpdates=Fa(null),this.identifierPrefix=p,this.onUncaughtError=j,this.onCaughtError=S,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function a2(n,l,d,p,j,S,T,I,U,J,le,oe){return n=new tD(n,l,d,T,U,J,le,oe,I),l=1,S===!0&&(l|=24),S=nr(3,null,null,l),n.current=S,S.stateNode=n,l=Ep(),l.refCount++,n.pooledCache=l,l.refCount++,S.memoizedState={element:p,isDehydrated:d,cache:l},Pp(S),n}function r2(n){return n?(n=gl,n):gl}function s2(n,l,d,p,j,S){j=r2(j),p.context===null?p.context=j:p.pendingContext=j,p=kn(l),p.payload={element:d},S=S===void 0?null:S,S!==null&&(p.callback=S),d=An(n,p,l),d!==null&&(Ya(d,n,l),Wc(d,n,l))}function n2(n,l){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var d=n.retryLane;n.retryLane=d!==0&&d<l?d:l}}function Z0(n,l){n2(n,l),(n=n.alternate)&&n2(n,l)}function i2(n){if(n.tag===13||n.tag===31){var l=hi(n,67108864);l!==null&&Ya(l,n,67108864),Z0(n,67108864)}}function l2(n){if(n.tag===13||n.tag===31){var l=dr();l=As(l);var d=hi(n,l);d!==null&&Ya(d,n,l),Z0(n,l)}}var Zu=!0;function aD(n,l,d,p){var j=H.T;H.T=null;var S=R.p;try{R.p=2,Q0(n,l,d,p)}finally{R.p=S,H.T=j}}function rD(n,l,d,p){var j=H.T;H.T=null;var S=R.p;try{R.p=8,Q0(n,l,d,p)}finally{R.p=S,H.T=j}}function Q0(n,l,d,p){if(Zu){var j=J0(p);if(j===null)I0(n,l,p,Qu,d),o2(n,p);else if(nD(j,n,l,d,p))p.stopPropagation();else if(o2(n,p),l&4&&-1<sD.indexOf(n)){for(;j!==null;){var S=il(j);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var T=Pt(S.pendingLanes);if(T!==0){var I=S;for(I.pendingLanes|=2,I.entangledLanes|=2;T;){var U=1<<31-ba(T);I.entanglements[1]|=U,T&=~U}ps(S),(Ye&6)===0&&(zu=va()+500,xo(0))}}break;case 31:case 13:I=hi(S,2),I!==null&&Ya(I,S,2),Ru(),Z0(S,2)}if(S=J0(p),S===null&&I0(n,l,p,Qu,d),S===j)break;j=S}j!==null&&p.stopPropagation()}else I0(n,l,p,null,d)}}function J0(n){return n=tp(n),ef(n)}var Qu=null;function ef(n){if(Qu=null,n=nl(n),n!==null){var l=c(n);if(l===null)n=null;else{var d=l.tag;if(d===13){if(n=o(l),n!==null)return n;n=null}else if(d===31){if(n=u(l),n!==null)return n;n=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;n=null}else l!==n&&(n=null)}}return Qu=n,null}function c2(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vh()){case qd:return 2;case ks:return 8;case Yr:case ci:return 32;case Dc:return 268435456;default:return 32}default:return 32}}var tf=!1,$n=null,Bn=null,Fn=null,bo=new Map,jo=new Map,Un=[],sD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function o2(n,l){switch(n){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":bo.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":jo.delete(l.pointerId)}}function No(n,l,d,p,j,S){return n===null||n.nativeEvent!==S?(n={blockedOn:l,domEventName:d,eventSystemFlags:p,nativeEvent:S,targetContainers:[j]},l!==null&&(l=il(l),l!==null&&i2(l)),n):(n.eventSystemFlags|=p,l=n.targetContainers,j!==null&&l.indexOf(j)===-1&&l.push(j),n)}function nD(n,l,d,p,j){switch(l){case"focusin":return $n=No($n,n,l,d,p,j),!0;case"dragenter":return Bn=No(Bn,n,l,d,p,j),!0;case"mouseover":return Fn=No(Fn,n,l,d,p,j),!0;case"pointerover":var S=j.pointerId;return bo.set(S,No(bo.get(S)||null,n,l,d,p,j)),!0;case"gotpointercapture":return S=j.pointerId,jo.set(S,No(jo.get(S)||null,n,l,d,p,j)),!0}return!1}function d2(n){var l=nl(n.target);if(l!==null){var d=c(l);if(d!==null){if(l=d.tag,l===13){if(l=o(d),l!==null){n.blockedOn=l,bn(n.priority,function(){l2(d)});return}}else if(l===31){if(l=u(d),l!==null){n.blockedOn=l,bn(n.priority,function(){l2(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){n.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ju(n){if(n.blockedOn!==null)return!1;for(var l=n.targetContainers;0<l.length;){var d=J0(n.nativeEvent);if(d===null){d=n.nativeEvent;var p=new d.constructor(d.type,d);ep=p,d.target.dispatchEvent(p),ep=null}else return l=il(d),l!==null&&i2(l),n.blockedOn=d,!1;l.shift()}return!0}function u2(n,l,d){Ju(n)&&d.delete(l)}function iD(){tf=!1,$n!==null&&Ju($n)&&($n=null),Bn!==null&&Ju(Bn)&&(Bn=null),Fn!==null&&Ju(Fn)&&(Fn=null),bo.forEach(u2),jo.forEach(u2)}function em(n,l){n.blockedOn===l&&(n.blockedOn=null,tf||(tf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,iD)))}var tm=null;function m2(n){tm!==n&&(tm=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){tm===n&&(tm=null);for(var l=0;l<n.length;l+=3){var d=n[l],p=n[l+1],j=n[l+2];if(typeof p!="function"){if(ef(p||d)===null)continue;break}var S=il(d);S!==null&&(n.splice(l,3),l-=3,Jp(S,{pending:!0,data:j,method:d.method,action:p},p,j))}}))}function Fl(n){function l(U){return em(U,n)}$n!==null&&em($n,n),Bn!==null&&em(Bn,n),Fn!==null&&em(Fn,n),bo.forEach(l),jo.forEach(l);for(var d=0;d<Un.length;d++){var p=Un[d];p.blockedOn===n&&(p.blockedOn=null)}for(;0<Un.length&&(d=Un[0],d.blockedOn===null);)d2(d),d.blockedOn===null&&Un.shift();if(d=(n.ownerDocument||n).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var j=d[p],S=d[p+1],T=j[Ua]||null;if(typeof S=="function")T||m2(d);else if(T){var I=null;if(S&&S.hasAttribute("formAction")){if(j=S,T=S[Ua]||null)I=T.formAction;else if(ef(j)!==null)continue}else I=T.action;typeof I=="function"?d[p+1]=I:(d.splice(p,3),p-=3),m2(d)}}}function x2(){function n(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(T){return j=T})},focusReset:"manual",scroll:"manual"})}function l(){j!==null&&(j(),j=null),p||setTimeout(d,20)}function d(){if(!p&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,j=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){p=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),j!==null&&(j(),j=null)}}}function af(n){this._internalRoot=n}am.prototype.render=af.prototype.render=function(n){var l=this._internalRoot;if(l===null)throw Error(s(409));var d=l.current,p=dr();s2(d,p,n,l,null,null)},am.prototype.unmount=af.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var l=n.containerInfo;s2(n.current,2,null,n,null,null),Ru(),l[sl]=null}};function am(n){this._internalRoot=n}am.prototype.unstable_scheduleHydration=function(n){if(n){var l=Wr();n={blockedOn:null,target:n,priority:l};for(var d=0;d<Un.length&&l!==0&&l<Un[d].priority;d++);Un.splice(d,0,n),d===0&&d2(n)}};var h2=a.version;if(h2!=="19.2.0")throw Error(s(527,h2,"19.2.0"));R.findDOMNode=function(n){var l=n._reactInternals;if(l===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=h(l),n=n!==null?x(n):null,n=n===null?null:n.stateNode,n};var lD={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rm.isDisabled&&rm.supportsFiber)try{oi=rm.inject(lD),Ta=rm}catch{}}return So.createRoot=function(n,l){if(!i(n))throw Error(s(299));var d=!1,p="",j=jN,S=NN,T=wN;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(j=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),l=a2(n,1,!1,null,null,d,p,null,j,S,T,x2),n[sl]=l.current,L0(n),new af(l)},So.hydrateRoot=function(n,l,d){if(!i(n))throw Error(s(299));var p=!1,j="",S=jN,T=NN,I=wN,U=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(j=d.identifierPrefix),d.onUncaughtError!==void 0&&(S=d.onUncaughtError),d.onCaughtError!==void 0&&(T=d.onCaughtError),d.onRecoverableError!==void 0&&(I=d.onRecoverableError),d.formState!==void 0&&(U=d.formState)),l=a2(n,1,!0,l,d??null,p,j,U,S,T,I,x2),l.context=r2(null),d=l.current,p=dr(),p=As(p),j=kn(p),j.callback=null,An(d,j,p),d=p,l.current.lanes=d,jr(l,d),ps(l),n[sl]=l.current,L0(n),new am(l)},So.version="19.2.0",So}var S2;function yD(){if(S2)return nf.exports;S2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),nf.exports=gD(),nf.exports}var vD=yD();var _2="popstate";function bD(t={}){function a(s,i){let{pathname:c,search:o,hash:u}=s.location;return ty("",{pathname:c,search:o,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){return typeof i=="string"?i:Go(i)}return ND(a,r,null,t)}function Nt(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function Br(t,a){if(!t){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function jD(){return Math.random().toString(36).substring(2,10)}function C2(t,a){return{usr:t.state,key:t.key,idx:a}}function ty(t,a,r=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof a=="string"?hc(a):a,state:r,key:a&&a.key||s||jD()}}function Go({pathname:t="/",search:a="",hash:r=""}){return a&&a!=="?"&&(t+=a.charAt(0)==="?"?a:"?"+a),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function hc(t){let a={};if(t){let r=t.indexOf("#");r>=0&&(a.hash=t.substring(r),t=t.substring(0,r));let s=t.indexOf("?");s>=0&&(a.search=t.substring(s),t=t.substring(0,s)),t&&(a.pathname=t)}return a}function ND(t,a,r,s={}){let{window:i=document.defaultView,v5Compat:c=!1}=s,o=i.history,u="POP",m=null,h=x();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function x(){return(o.state||{idx:null}).idx}function f(){u="POP";let y=x(),_=y==null?null:y-h;h=y,m&&m({action:u,location:N.location,delta:_})}function v(y,_){u="PUSH";let A=ty(N.location,y,_);h=x()+1;let C=C2(A,h),E=N.createHref(A);try{o.pushState(C,"",E)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(E)}c&&m&&m({action:u,location:N.location,delta:1})}function b(y,_){u="REPLACE";let A=ty(N.location,y,_);h=x();let C=C2(A,h),E=N.createHref(A);o.replaceState(C,"",E),c&&m&&m({action:u,location:N.location,delta:0})}function w(y){return wD(y)}let N={get action(){return u},get location(){return t(i,o)},listen(y){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(_2,f),m=y,()=>{i.removeEventListener(_2,f),m=null}},createHref(y){return a(i,y)},createURL:w,encodeLocation(y){let _=w(y);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:v,replace:b,go(y){return o.go(y)}};return N}function wD(t,a=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Nt(r,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Go(t);return s=s.replace(/ $/,"%20"),!a&&s.startsWith("//")&&(s=r+s),new URL(s,r)}function z3(t,a,r="/"){return SD(t,a,r,!1)}function SD(t,a,r,s){let i=typeof a=="string"?hc(a):a,c=sn(i.pathname||"/",r);if(c==null)return null;let o=M3(t);_D(o);let u=null;for(let m=0;u==null&&m<o.length;++m){let h=RD(c);u=zD(o[m],h,s)}return u}function M3(t,a=[],r=[],s="",i=!1){let c=(o,u,m=i,h)=>{let x={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(s)&&m)return;Nt(x.relativePath.startsWith(s),`Absolute route path "${x.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(s.length)}let f=Js([s,x.relativePath]),v=r.concat(x);o.children&&o.children.length>0&&(Nt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),M3(o.children,a,v,f,m)),!(o.path==null&&!o.index)&&a.push({path:f,score:DD(f,o.index),routesMeta:v})};return t.forEach((o,u)=>{if(o.path===""||!o.path?.includes("?"))c(o,u);else for(let m of R3(o.path))c(o,u,!0,m)}),a}function R3(t){let a=t.split("/");if(a.length===0)return[];let[r,...s]=a,i=r.endsWith("?"),c=r.replace(/\?$/,"");if(s.length===0)return i?[c,""]:[c];let o=R3(s.join("/")),u=[];return u.push(...o.map(m=>m===""?c:[c,m].join("/"))),i&&u.push(...o),u.map(m=>t.startsWith("/")&&m===""?"/":m)}function _D(t){t.sort((a,r)=>a.score!==r.score?r.score-a.score:PD(a.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var CD=/^:[\w-]+$/,kD=3,AD=2,ED=1,OD=10,TD=-2,k2=t=>t==="*";function DD(t,a){let r=t.split("/"),s=r.length;return r.some(k2)&&(s+=TD),a&&(s+=AD),r.filter(i=>!k2(i)).reduce((i,c)=>i+(CD.test(c)?kD:c===""?ED:OD),s)}function PD(t,a){return t.length===a.length&&t.slice(0,-1).every((s,i)=>s===a[i])?t[t.length-1]-a[a.length-1]:0}function zD(t,a,r=!1){let{routesMeta:s}=t,i={},c="/",o=[];for(let u=0;u<s.length;++u){let m=s[u],h=u===s.length-1,x=c==="/"?a:a.slice(c.length)||"/",f=qm({path:m.relativePath,caseSensitive:m.caseSensitive,end:h},x),v=m.route;if(!f&&h&&r&&!s[s.length-1].route.index&&(f=qm({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},x)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Js([c,f.pathname]),pathnameBase:BD(Js([c,f.pathnameBase])),route:v}),f.pathnameBase!=="/"&&(c=Js([c,f.pathnameBase]))}return o}function qm(t,a){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,s]=MD(t.path,t.caseSensitive,t.end),i=a.match(r);if(!i)return null;let c=i[0],o=c.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:s.reduce((h,{paramName:x,isOptional:f},v)=>{if(x==="*"){let w=u[v]||"";o=c.slice(0,c.length-w.length).replace(/(.)\/+$/,"$1")}const b=u[v];return f&&!b?h[x]=void 0:h[x]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:c,pathnameBase:o,pattern:t}}function MD(t,a=!1,r=!0){Br(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,m)=>(s.push({paramName:u,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,a?void 0:"i"),s]}function RD(t){try{return t.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Br(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),t}}function sn(t,a){if(a==="/")return t;if(!t.toLowerCase().startsWith(a.toLowerCase()))return null;let r=a.endsWith("/")?a.length-1:a.length,s=t.charAt(r);return s&&s!=="/"?null:t.slice(r)||"/"}function LD(t,a="/"){let{pathname:r,search:s="",hash:i=""}=typeof t=="string"?hc(t):t;return{pathname:r?r.startsWith("/")?r:ID(r,a):a,search:FD(s),hash:UD(i)}}function ID(t,a){let r=a.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function df(t,a,r,s){return`Cannot include a '${t}' character in a manually specified \`to.${a}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $D(t){return t.filter((a,r)=>r===0||a.route.path&&a.route.path.length>0)}function uv(t){let a=$D(t);return a.map((r,s)=>s===a.length-1?r.pathname:r.pathnameBase)}function mv(t,a,r,s=!1){let i;typeof t=="string"?i=hc(t):(i={...t},Nt(!i.pathname||!i.pathname.includes("?"),df("?","pathname","search",i)),Nt(!i.pathname||!i.pathname.includes("#"),df("#","pathname","hash",i)),Nt(!i.search||!i.search.includes("#"),df("#","search","hash",i)));let c=t===""||i.pathname==="",o=c?"/":i.pathname,u;if(o==null)u=r;else{let f=a.length-1;if(!s&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),f-=1;i.pathname=v.join("/")}u=f>=0?a[f]:"/"}let m=LD(i,u),h=o&&o!=="/"&&o.endsWith("/"),x=(c||o===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(h||x)&&(m.pathname+="/"),m}var Js=t=>t.join("/").replace(/\/\/+/g,"/"),BD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),FD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,UD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function qD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var L3=["POST","PUT","PATCH","DELETE"];new Set(L3);var HD=["GET",...L3];new Set(HD);var pc=g.createContext(null);pc.displayName="DataRouter";var qx=g.createContext(null);qx.displayName="DataRouterState";g.createContext(!1);var I3=g.createContext({isTransitioning:!1});I3.displayName="ViewTransition";var VD=g.createContext(new Map);VD.displayName="Fetchers";var GD=g.createContext(null);GD.displayName="Await";var is=g.createContext(null);is.displayName="Navigation";var dd=g.createContext(null);dd.displayName="Location";var ls=g.createContext({outlet:null,matches:[],isDataRoute:!1});ls.displayName="Route";var xv=g.createContext(null);xv.displayName="RouteError";function KD(t,{relative:a}={}){Nt(fc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=g.useContext(is),{hash:i,pathname:c,search:o}=ud(t,{relative:a}),u=c;return r!=="/"&&(u=c==="/"?r:Js([r,c])),s.createHref({pathname:u,search:o,hash:i})}function fc(){return g.useContext(dd)!=null}function Ss(){return Nt(fc(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(dd).location}var $3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function B3(t){g.useContext(is).static||g.useLayoutEffect(t)}function Be(){let{isDataRoute:t}=g.useContext(ls);return t?i9():YD()}function YD(){Nt(fc(),"useNavigate() may be used only in the context of a <Router> component.");let t=g.useContext(pc),{basename:a,navigator:r}=g.useContext(is),{matches:s}=g.useContext(ls),{pathname:i}=Ss(),c=JSON.stringify(uv(s)),o=g.useRef(!1);return B3(()=>{o.current=!0}),g.useCallback((m,h={})=>{if(Br(o.current,$3),!o.current)return;if(typeof m=="number"){r.go(m);return}let x=mv(m,JSON.parse(c),i,h.relative==="path");t==null&&a!=="/"&&(x.pathname=x.pathname==="/"?a:Js([a,x.pathname])),(h.replace?r.replace:r.push)(x,h.state,h)},[a,r,c,i,t])}g.createContext(null);function cs(){let{matches:t}=g.useContext(ls),a=t[t.length-1];return a?a.params:{}}function ud(t,{relative:a}={}){let{matches:r}=g.useContext(ls),{pathname:s}=Ss(),i=JSON.stringify(uv(r));return g.useMemo(()=>mv(t,JSON.parse(i),s,a==="path"),[t,i,s,a])}function XD(t,a){return F3(t,a)}function F3(t,a,r,s,i){Nt(fc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=g.useContext(is),{matches:o}=g.useContext(ls),u=o[o.length-1],m=u?u.params:{},h=u?u.pathname:"/",x=u?u.pathnameBase:"/",f=u&&u.route;{let A=f&&f.path||"";U3(h,!f||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let v=Ss(),b;if(a){let A=typeof a=="string"?hc(a):a;Nt(x==="/"||A.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${A.pathname}" was given in the \`location\` prop.`),b=A}else b=v;let w=b.pathname||"/",N=w;if(x!=="/"){let A=x.replace(/^\//,"").split("/");N="/"+w.replace(/^\//,"").split("/").slice(A.length).join("/")}let y=z3(t,{pathname:N});Br(f||y!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Br(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=e9(y&&y.map(A=>Object.assign({},A,{params:Object.assign({},m,A.params),pathname:Js([x,c.encodeLocation?c.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?x:Js([x,c.encodeLocation?c.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),o,r,s,i);return a&&_?g.createElement(dd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},_):_}function WD(){let t=n9(),a=qD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:c},"ErrorBoundary")," or"," ",g.createElement("code",{style:c},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},a),r?g.createElement("pre",{style:i},r):null,o)}var ZD=g.createElement(WD,null),QD=class extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,a){return a.location!==t.location||a.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:a.error,location:a.location,revalidation:t.revalidation||a.revalidation}}componentDidCatch(t,a){this.props.unstable_onError?this.props.unstable_onError(t,a):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?g.createElement(ls.Provider,{value:this.props.routeContext},g.createElement(xv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JD({routeContext:t,match:a,children:r}){let s=g.useContext(pc);return s&&s.static&&s.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=a.route.id),g.createElement(ls.Provider,{value:t},r)}function e9(t,a=[],r=null,s=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(a.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let c=t,o=r?.errors;if(o!=null){let h=c.findIndex(x=>x.route.id&&o?.[x.route.id]!==void 0);Nt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),c=c.slice(0,Math.min(c.length,h+1))}let u=!1,m=-1;if(r)for(let h=0;h<c.length;h++){let x=c[h];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(m=h),x.route.id){let{loaderData:f,errors:v}=r,b=x.route.loader&&!f.hasOwnProperty(x.route.id)&&(!v||v[x.route.id]===void 0);if(x.route.lazy||b){u=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((h,x,f)=>{let v,b=!1,w=null,N=null;r&&(v=o&&x.route.id?o[x.route.id]:void 0,w=x.route.errorElement||ZD,u&&(m<0&&f===0?(U3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,N=null):m===f&&(b=!0,N=x.route.hydrateFallbackElement||null)));let y=a.concat(c.slice(0,f+1)),_=()=>{let A;return v?A=w:b?A=N:x.route.Component?A=g.createElement(x.route.Component,null):x.route.element?A=x.route.element:A=h,g.createElement(JD,{match:x,routeContext:{outlet:h,matches:y,isDataRoute:r!=null},children:A})};return r&&(x.route.ErrorBoundary||x.route.errorElement||f===0)?g.createElement(QD,{location:r.location,revalidation:r.revalidation,component:w,error:v,children:_(),routeContext:{outlet:null,matches:y,isDataRoute:!0},unstable_onError:s}):_()},null)}function hv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function t9(t){let a=g.useContext(pc);return Nt(a,hv(t)),a}function a9(t){let a=g.useContext(qx);return Nt(a,hv(t)),a}function r9(t){let a=g.useContext(ls);return Nt(a,hv(t)),a}function pv(t){let a=r9(t),r=a.matches[a.matches.length-1];return Nt(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function s9(){return pv("useRouteId")}function n9(){let t=g.useContext(xv),a=a9("useRouteError"),r=pv("useRouteError");return t!==void 0?t:a.errors?.[r]}function i9(){let{router:t}=t9("useNavigate"),a=pv("useNavigate"),r=g.useRef(!1);return B3(()=>{r.current=!0}),g.useCallback(async(i,c={})=>{Br(r.current,$3),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:a,...c}))},[t,a])}var A2={};function U3(t,a,r){!a&&!A2[t]&&(A2[t]=!0,Br(!1,r))}g.memo(l9);function l9({routes:t,future:a,state:r,unstable_onError:s}){return F3(t,void 0,r,s,a)}function Hx({to:t,replace:a,state:r,relative:s}){Nt(fc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=g.useContext(is);Br(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=g.useContext(ls),{pathname:o}=Ss(),u=Be(),m=mv(t,uv(c),o,s==="path"),h=JSON.stringify(m);return g.useEffect(()=>{u(JSON.parse(h),{replace:a,state:r,relative:s})},[u,h,s,a,r]),null}function me(t){Nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function c9({basename:t="/",children:a=null,location:r,navigationType:s="POP",navigator:i,static:c=!1}){Nt(!fc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:o,navigator:i,static:c,future:{}}),[o,i,c]);typeof r=="string"&&(r=hc(r));let{pathname:m="/",search:h="",hash:x="",state:f=null,key:v="default"}=r,b=g.useMemo(()=>{let w=sn(m,o);return w==null?null:{location:{pathname:w,search:h,hash:x,state:f,key:v},navigationType:s}},[o,m,h,x,f,v,s]);return Br(b!=null,`<Router basename="${o}"> is not able to match the URL "${m}${h}${x}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:g.createElement(is.Provider,{value:u},g.createElement(dd.Provider,{children:a,value:b}))}function o9({children:t,location:a}){return XD(ay(t),a)}function ay(t,a=[]){let r=[];return g.Children.forEach(t,(s,i)=>{if(!g.isValidElement(s))return;let c=[...a,i];if(s.type===g.Fragment){r.push.apply(r,ay(s.props.children,c));return}Nt(s.type===me,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Nt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let o={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=ay(s.props.children,c)),r.push(o)}),r}var Em="get",Om="application/x-www-form-urlencoded";function Vx(t){return t!=null&&typeof t.tagName=="string"}function d9(t){return Vx(t)&&t.tagName.toLowerCase()==="button"}function u9(t){return Vx(t)&&t.tagName.toLowerCase()==="form"}function m9(t){return Vx(t)&&t.tagName.toLowerCase()==="input"}function x9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function h9(t,a){return t.button===0&&(!a||a==="_self")&&!x9(t)}function ry(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((a,r)=>{let s=t[r];return a.concat(Array.isArray(s)?s.map(i=>[r,i]):[[r,s]])},[]))}function p9(t,a){let r=ry(t);return a&&a.forEach((s,i)=>{r.has(i)||a.getAll(i).forEach(c=>{r.append(i,c)})}),r}var sm=null;function f9(){if(sm===null)try{new FormData(document.createElement("form"),0),sm=!1}catch{sm=!0}return sm}var g9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function uf(t){return t!=null&&!g9.has(t)?(Br(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Om}"`),null):t}function y9(t,a){let r,s,i,c,o;if(u9(t)){let u=t.getAttribute("action");s=u?sn(u,a):null,r=t.getAttribute("method")||Em,i=uf(t.getAttribute("enctype"))||Om,c=new FormData(t)}else if(d9(t)||m9(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||u.getAttribute("action");if(s=m?sn(m,a):null,r=t.getAttribute("formmethod")||u.getAttribute("method")||Em,i=uf(t.getAttribute("formenctype"))||uf(u.getAttribute("enctype"))||Om,c=new FormData(u,t),!f9()){let{name:h,type:x,value:f}=t;if(x==="image"){let v=h?`${h}.`:"";c.append(`${v}x`,"0"),c.append(`${v}y`,"0")}else h&&c.append(h,f)}}else{if(Vx(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Em,s=null,i=Om,o=t}return c&&i==="text/plain"&&(o=c,c=void 0),{action:s,method:r.toLowerCase(),encType:i,formData:c,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function fv(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function v9(t,a,r){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${r}`:a&&sn(s.pathname,a)==="/"?s.pathname=`${a.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function b9(t,a){if(t.id in a)return a[t.id];try{let r=await import(t.module);return a[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function j9(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function N9(t,a,r){let s=await Promise.all(t.map(async i=>{let c=a.routes[i.route.id];if(c){let o=await b9(c,r);return o.links?o.links():[]}return[]}));return C9(s.flat(1).filter(j9).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function E2(t,a,r,s,i,c){let o=(m,h)=>r[h]?m.route.id!==r[h].route.id:!0,u=(m,h)=>r[h].pathname!==m.pathname||r[h].route.path?.endsWith("*")&&r[h].params["*"]!==m.params["*"];return c==="assets"?a.filter((m,h)=>o(m,h)||u(m,h)):c==="data"?a.filter((m,h)=>{let x=s.routes[m.route.id];if(!x||!x.hasLoader)return!1;if(o(m,h)||u(m,h))return!0;if(m.route.shouldRevalidate){let f=m.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function w9(t,a,{includeHydrateFallback:r}={}){return S9(t.map(s=>{let i=a.routes[s.route.id];if(!i)return[];let c=[i.module];return i.clientActionModule&&(c=c.concat(i.clientActionModule)),i.clientLoaderModule&&(c=c.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(c=c.concat(i.hydrateFallbackModule)),i.imports&&(c=c.concat(i.imports)),c}).flat(1))}function S9(t){return[...new Set(t)]}function _9(t){let a={},r=Object.keys(t).sort();for(let s of r)a[s]=t[s];return a}function C9(t,a){let r=new Set;return new Set(a),t.reduce((s,i)=>{let c=JSON.stringify(_9(i));return r.has(c)||(r.add(c),s.push({key:c,link:i})),s},[])}function q3(){let t=g.useContext(pc);return fv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function k9(){let t=g.useContext(qx);return fv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var gv=g.createContext(void 0);gv.displayName="FrameworkContext";function H3(){let t=g.useContext(gv);return fv(t,"You must render this element inside a <HydratedRouter> element"),t}function A9(t,a){let r=g.useContext(gv),[s,i]=g.useState(!1),[c,o]=g.useState(!1),{onFocus:u,onBlur:m,onMouseEnter:h,onMouseLeave:x,onTouchStart:f}=a,v=g.useRef(null);g.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let N=_=>{_.forEach(A=>{o(A.isIntersecting)})},y=new IntersectionObserver(N,{threshold:.5});return v.current&&y.observe(v.current),()=>{y.disconnect()}}},[t]),g.useEffect(()=>{if(s){let N=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(N)}}},[s]);let b=()=>{i(!0)},w=()=>{i(!1),o(!1)};return r?t!=="intent"?[c,v,{}]:[c,v,{onFocus:_o(u,b),onBlur:_o(m,w),onMouseEnter:_o(h,b),onMouseLeave:_o(x,w),onTouchStart:_o(f,b)}]:[!1,v,{}]}function _o(t,a){return r=>{t&&t(r),r.defaultPrevented||a(r)}}function E9({page:t,...a}){let{router:r}=q3(),s=g.useMemo(()=>z3(r.routes,t,r.basename),[r.routes,t,r.basename]);return s?g.createElement(T9,{page:t,matches:s,...a}):null}function O9(t){let{manifest:a,routeModules:r}=H3(),[s,i]=g.useState([]);return g.useEffect(()=>{let c=!1;return N9(t,a,r).then(o=>{c||i(o)}),()=>{c=!0}},[t,a,r]),s}function T9({page:t,matches:a,...r}){let s=Ss(),{manifest:i,routeModules:c}=H3(),{basename:o}=q3(),{loaderData:u,matches:m}=k9(),h=g.useMemo(()=>E2(t,a,m,i,s,"data"),[t,a,m,i,s]),x=g.useMemo(()=>E2(t,a,m,i,s,"assets"),[t,a,m,i,s]),f=g.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let w=new Set,N=!1;if(a.forEach(_=>{let A=i.routes[_.route.id];!A||!A.hasLoader||(!h.some(C=>C.route.id===_.route.id)&&_.route.id in u&&c[_.route.id]?.shouldRevalidate||A.hasClientLoader?N=!0:w.add(_.route.id))}),w.size===0)return[];let y=v9(t,o,"data");return N&&w.size>0&&y.searchParams.set("_routes",a.filter(_=>w.has(_.route.id)).map(_=>_.route.id).join(",")),[y.pathname+y.search]},[o,u,s,i,h,a,t,c]),v=g.useMemo(()=>w9(x,i),[x,i]),b=O9(x);return g.createElement(g.Fragment,null,f.map(w=>g.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),v.map(w=>g.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),b.map(({key:w,link:N})=>g.createElement("link",{key:w,nonce:r.nonce,...N})))}function D9(...t){return a=>{t.forEach(r=>{typeof r=="function"?r(a):r!=null&&(r.current=a)})}}var V3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{V3&&(window.__reactRouterVersion="7.9.5")}catch{}function P9({basename:t,children:a,window:r}){let s=g.useRef();s.current==null&&(s.current=bD({window:r,v5Compat:!0}));let i=s.current,[c,o]=g.useState({action:i.action,location:i.location}),u=g.useCallback(m=>{g.startTransition(()=>o(m))},[o]);return g.useLayoutEffect(()=>i.listen(u),[i,u]),g.createElement(c9,{basename:t,children:a,location:c.location,navigationType:c.action,navigator:i})}var G3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ne=g.forwardRef(function({onClick:a,discover:r="render",prefetch:s="none",relative:i,reloadDocument:c,replace:o,state:u,target:m,to:h,preventScrollReset:x,viewTransition:f,...v},b){let{basename:w}=g.useContext(is),N=typeof h=="string"&&G3.test(h),y,_=!1;if(typeof h=="string"&&N&&(y=h,V3))try{let L=new URL(window.location.href),z=h.startsWith("//")?new URL(L.protocol+h):new URL(h),M=sn(z.pathname,w);z.origin===L.origin&&M!=null?h=M+z.search+z.hash:_=!0}catch{Br(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=KD(h,{relative:i}),[C,E,k]=A9(s,v),O=L9(h,{replace:o,state:u,target:m,preventScrollReset:x,relative:i,viewTransition:f});function D(L){a&&a(L),L.defaultPrevented||O(L)}let P=g.createElement("a",{...v,...k,href:y||A,onClick:_||c?a:D,ref:D9(b,E),target:m,"data-discover":!N&&r==="render"?"true":void 0});return C&&!N?g.createElement(g.Fragment,null,P,g.createElement(E9,{page:A})):P});Ne.displayName="Link";var z9=g.forwardRef(function({"aria-current":a="page",caseSensitive:r=!1,className:s="",end:i=!1,style:c,to:o,viewTransition:u,children:m,...h},x){let f=ud(o,{relative:h.relative}),v=Ss(),b=g.useContext(qx),{navigator:w,basename:N}=g.useContext(is),y=b!=null&&U9(f)&&u===!0,_=w.encodeLocation?w.encodeLocation(f).pathname:f.pathname,A=v.pathname,C=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(A=A.toLowerCase(),C=C?C.toLowerCase():null,_=_.toLowerCase()),C&&N&&(C=sn(C,N)||C);const E=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let k=A===_||!i&&A.startsWith(_)&&A.charAt(E)==="/",O=C!=null&&(C===_||!i&&C.startsWith(_)&&C.charAt(_.length)==="/"),D={isActive:k,isPending:O,isTransitioning:y},P=k?a:void 0,L;typeof s=="function"?L=s(D):L=[s,k?"active":null,O?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let z=typeof c=="function"?c(D):c;return g.createElement(Ne,{...h,"aria-current":P,className:L,ref:x,style:z,to:o,viewTransition:u},typeof m=="function"?m(D):m)});z9.displayName="NavLink";var M9=g.forwardRef(({discover:t="render",fetcherKey:a,navigate:r,reloadDocument:s,replace:i,state:c,method:o=Em,action:u,onSubmit:m,relative:h,preventScrollReset:x,viewTransition:f,...v},b)=>{let w=B9(),N=F9(u,{relative:h}),y=o.toLowerCase()==="get"?"get":"post",_=typeof u=="string"&&G3.test(u),A=C=>{if(m&&m(C),C.defaultPrevented)return;C.preventDefault();let E=C.nativeEvent.submitter,k=E?.getAttribute("formmethod")||o;w(E||C.currentTarget,{fetcherKey:a,method:k,navigate:r,replace:i,state:c,relative:h,preventScrollReset:x,viewTransition:f})};return g.createElement("form",{ref:b,method:y,action:N,onSubmit:s?m:A,...v,"data-discover":!_&&t==="render"?"true":void 0})});M9.displayName="Form";function R9(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function K3(t){let a=g.useContext(pc);return Nt(a,R9(t)),a}function L9(t,{target:a,replace:r,state:s,preventScrollReset:i,relative:c,viewTransition:o}={}){let u=Be(),m=Ss(),h=ud(t,{relative:c});return g.useCallback(x=>{if(h9(x,a)){x.preventDefault();let f=r!==void 0?r:Go(m)===Go(h);u(t,{replace:f,state:s,preventScrollReset:i,relative:c,viewTransition:o})}},[m,u,h,r,s,a,t,i,c,o])}function md(t){Br(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=g.useRef(ry(t)),r=g.useRef(!1),s=Ss(),i=g.useMemo(()=>p9(s.search,r.current?null:a.current),[s.search]),c=Be(),o=g.useCallback((u,m)=>{const h=ry(typeof u=="function"?u(new URLSearchParams(i)):u);r.current=!0,c("?"+h,m)},[c,i]);return[i,o]}var I9=0,$9=()=>`__${String(++I9)}__`;function B9(){let{router:t}=K3("useSubmit"),{basename:a}=g.useContext(is),r=s9();return g.useCallback(async(s,i={})=>{let{action:c,method:o,encType:u,formData:m,body:h}=y9(s,a);if(i.navigate===!1){let x=i.fetcherKey||$9();await t.fetch(x,r,i.action||c,{preventScrollReset:i.preventScrollReset,formData:m,body:h,formMethod:i.method||o,formEncType:i.encType||u,flushSync:i.flushSync})}else await t.navigate(i.action||c,{preventScrollReset:i.preventScrollReset,formData:m,body:h,formMethod:i.method||o,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,a,r])}function F9(t,{relative:a}={}){let{basename:r}=g.useContext(is),s=g.useContext(ls);Nt(s,"useFormAction must be used inside a RouteContext");let[i]=s.matches.slice(-1),c={...ud(t||".",{relative:a})},o=Ss();if(t==null){c.search=o.search;let u=new URLSearchParams(c.search),m=u.getAll("index");if(m.some(x=>x==="")){u.delete("index"),m.filter(f=>f).forEach(f=>u.append("index",f));let x=u.toString();c.search=x?`?${x}`:""}}return(!t||t===".")&&i.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(c.pathname=c.pathname==="/"?r:Js([r,c.pathname])),Go(c)}function U9(t,{relative:a}={}){let r=g.useContext(I3);Nt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=K3("useViewTransitionState"),i=ud(t,{relative:a});if(!r.isTransitioning)return!1;let c=sn(r.currentLocation.pathname,s)||r.currentLocation.pathname,o=sn(r.nextLocation.pathname,s)||r.nextLocation.pathname;return qm(i.pathname,o)!=null||qm(i.pathname,c)!=null}var Yn=P3();function Y3(t,a){return function(){return t.apply(a,arguments)}}const{toString:q9}=Object.prototype,{getPrototypeOf:yv}=Object,{iterator:Gx,toStringTag:X3}=Symbol,Kx=(t=>a=>{const r=q9.call(a);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),os=t=>(t=t.toLowerCase(),a=>Kx(a)===t),Yx=t=>a=>typeof a===t,{isArray:gc}=Array,tc=Yx("undefined");function xd(t){return t!==null&&!tc(t)&&t.constructor!==null&&!tc(t.constructor)&&Ja(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const W3=os("ArrayBuffer");function H9(t){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(t):a=t&&t.buffer&&W3(t.buffer),a}const V9=Yx("string"),Ja=Yx("function"),Z3=Yx("number"),hd=t=>t!==null&&typeof t=="object",G9=t=>t===!0||t===!1,Tm=t=>{if(Kx(t)!=="object")return!1;const a=yv(t);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(X3 in t)&&!(Gx in t)},K9=t=>{if(!hd(t)||xd(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Y9=os("Date"),X9=os("File"),W9=os("Blob"),Z9=os("FileList"),Q9=t=>hd(t)&&Ja(t.pipe),J9=t=>{let a;return t&&(typeof FormData=="function"&&t instanceof FormData||Ja(t.append)&&((a=Kx(t))==="formdata"||a==="object"&&Ja(t.toString)&&t.toString()==="[object FormData]"))},e7=os("URLSearchParams"),[t7,a7,r7,s7]=["ReadableStream","Request","Response","Headers"].map(os),n7=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function pd(t,a,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let s,i;if(typeof t!="object"&&(t=[t]),gc(t))for(s=0,i=t.length;s<i;s++)a.call(null,t[s],s,t);else{if(xd(t))return;const c=r?Object.getOwnPropertyNames(t):Object.keys(t),o=c.length;let u;for(s=0;s<o;s++)u=c[s],a.call(null,t[u],u,t)}}function Q3(t,a){if(xd(t))return null;a=a.toLowerCase();const r=Object.keys(t);let s=r.length,i;for(;s-- >0;)if(i=r[s],a===i.toLowerCase())return i;return null}const Ti=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,J3=t=>!tc(t)&&t!==Ti;function sy(){const{caseless:t,skipUndefined:a}=J3(this)&&this||{},r={},s=(i,c)=>{const o=t&&Q3(r,c)||c;Tm(r[o])&&Tm(i)?r[o]=sy(r[o],i):Tm(i)?r[o]=sy({},i):gc(i)?r[o]=i.slice():(!a||!tc(i))&&(r[o]=i)};for(let i=0,c=arguments.length;i<c;i++)arguments[i]&&pd(arguments[i],s);return r}const i7=(t,a,r,{allOwnKeys:s}={})=>(pd(a,(i,c)=>{r&&Ja(i)?t[c]=Y3(i,r):t[c]=i},{allOwnKeys:s}),t),l7=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),c7=(t,a,r,s)=>{t.prototype=Object.create(a.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:a.prototype}),r&&Object.assign(t.prototype,r)},o7=(t,a,r,s)=>{let i,c,o;const u={};if(a=a||{},t==null)return a;do{for(i=Object.getOwnPropertyNames(t),c=i.length;c-- >0;)o=i[c],(!s||s(o,t,a))&&!u[o]&&(a[o]=t[o],u[o]=!0);t=r!==!1&&yv(t)}while(t&&(!r||r(t,a))&&t!==Object.prototype);return a},d7=(t,a,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=a.length;const s=t.indexOf(a,r);return s!==-1&&s===r},u7=t=>{if(!t)return null;if(gc(t))return t;let a=t.length;if(!Z3(a))return null;const r=new Array(a);for(;a-- >0;)r[a]=t[a];return r},m7=(t=>a=>t&&a instanceof t)(typeof Uint8Array<"u"&&yv(Uint8Array)),x7=(t,a)=>{const s=(t&&t[Gx]).call(t);let i;for(;(i=s.next())&&!i.done;){const c=i.value;a.call(t,c[0],c[1])}},h7=(t,a)=>{let r;const s=[];for(;(r=t.exec(a))!==null;)s.push(r);return s},p7=os("HTMLFormElement"),f7=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,i){return s.toUpperCase()+i}),O2=(({hasOwnProperty:t})=>(a,r)=>t.call(a,r))(Object.prototype),g7=os("RegExp"),e5=(t,a)=>{const r=Object.getOwnPropertyDescriptors(t),s={};pd(r,(i,c)=>{let o;(o=a(i,c,t))!==!1&&(s[c]=o||i)}),Object.defineProperties(t,s)},y7=t=>{e5(t,(a,r)=>{if(Ja(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=t[r];if(Ja(s)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},v7=(t,a)=>{const r={},s=i=>{i.forEach(c=>{r[c]=!0})};return gc(t)?s(t):s(String(t).split(a)),r},b7=()=>{},j7=(t,a)=>t!=null&&Number.isFinite(t=+t)?t:a;function N7(t){return!!(t&&Ja(t.append)&&t[X3]==="FormData"&&t[Gx])}const w7=t=>{const a=new Array(10),r=(s,i)=>{if(hd(s)){if(a.indexOf(s)>=0)return;if(xd(s))return s;if(!("toJSON"in s)){a[i]=s;const c=gc(s)?[]:{};return pd(s,(o,u)=>{const m=r(o,i+1);!tc(m)&&(c[u]=m)}),a[i]=void 0,c}}return s};return r(t,0)},S7=os("AsyncFunction"),_7=t=>t&&(hd(t)||Ja(t))&&Ja(t.then)&&Ja(t.catch),t5=((t,a)=>t?setImmediate:a?((r,s)=>(Ti.addEventListener("message",({source:i,data:c})=>{i===Ti&&c===r&&s.length&&s.shift()()},!1),i=>{s.push(i),Ti.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ja(Ti.postMessage)),C7=typeof queueMicrotask<"u"?queueMicrotask.bind(Ti):typeof process<"u"&&process.nextTick||t5,k7=t=>t!=null&&Ja(t[Gx]),se={isArray:gc,isArrayBuffer:W3,isBuffer:xd,isFormData:J9,isArrayBufferView:H9,isString:V9,isNumber:Z3,isBoolean:G9,isObject:hd,isPlainObject:Tm,isEmptyObject:K9,isReadableStream:t7,isRequest:a7,isResponse:r7,isHeaders:s7,isUndefined:tc,isDate:Y9,isFile:X9,isBlob:W9,isRegExp:g7,isFunction:Ja,isStream:Q9,isURLSearchParams:e7,isTypedArray:m7,isFileList:Z9,forEach:pd,merge:sy,extend:i7,trim:n7,stripBOM:l7,inherits:c7,toFlatObject:o7,kindOf:Kx,kindOfTest:os,endsWith:d7,toArray:u7,forEachEntry:x7,matchAll:h7,isHTMLForm:p7,hasOwnProperty:O2,hasOwnProp:O2,reduceDescriptors:e5,freezeMethods:y7,toObjectSet:v7,toCamelCase:f7,noop:b7,toFiniteNumber:j7,findKey:Q3,global:Ti,isContextDefined:J3,isSpecCompliantForm:N7,toJSONObject:w7,isAsyncFn:S7,isThenable:_7,setImmediate:t5,asap:C7,isIterable:k7};function Pe(t,a,r,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",a&&(this.code=a),r&&(this.config=r),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}se.inherits(Pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.status}}});const a5=Pe.prototype,r5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{r5[t]={value:t}});Object.defineProperties(Pe,r5);Object.defineProperty(a5,"isAxiosError",{value:!0});Pe.from=(t,a,r,s,i,c)=>{const o=Object.create(a5);se.toFlatObject(t,o,function(x){return x!==Error.prototype},h=>h!=="isAxiosError");const u=t&&t.message?t.message:"Error",m=a==null&&t?t.code:a;return Pe.call(o,u,m,r,s,i),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",c&&Object.assign(o,c),o};const A7=null;function ny(t){return se.isPlainObject(t)||se.isArray(t)}function s5(t){return se.endsWith(t,"[]")?t.slice(0,-2):t}function T2(t,a,r){return t?t.concat(a).map(function(i,c){return i=s5(i),!r&&c?"["+i+"]":i}).join(r?".":""):a}function E7(t){return se.isArray(t)&&!t.some(ny)}const O7=se.toFlatObject(se,{},null,function(a){return/^is[A-Z]/.test(a)});function Xx(t,a,r){if(!se.isObject(t))throw new TypeError("target must be an object");a=a||new FormData,r=se.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,y){return!se.isUndefined(y[N])});const s=r.metaTokens,i=r.visitor||x,c=r.dots,o=r.indexes,m=(r.Blob||typeof Blob<"u"&&Blob)&&se.isSpecCompliantForm(a);if(!se.isFunction(i))throw new TypeError("visitor must be a function");function h(w){if(w===null)return"";if(se.isDate(w))return w.toISOString();if(se.isBoolean(w))return w.toString();if(!m&&se.isBlob(w))throw new Pe("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(w)||se.isTypedArray(w)?m&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function x(w,N,y){let _=w;if(w&&!y&&typeof w=="object"){if(se.endsWith(N,"{}"))N=s?N:N.slice(0,-2),w=JSON.stringify(w);else if(se.isArray(w)&&E7(w)||(se.isFileList(w)||se.endsWith(N,"[]"))&&(_=se.toArray(w)))return N=s5(N),_.forEach(function(C,E){!(se.isUndefined(C)||C===null)&&a.append(o===!0?T2([N],E,c):o===null?N:N+"[]",h(C))}),!1}return ny(w)?!0:(a.append(T2(y,N,c),h(w)),!1)}const f=[],v=Object.assign(O7,{defaultVisitor:x,convertValue:h,isVisitable:ny});function b(w,N){if(!se.isUndefined(w)){if(f.indexOf(w)!==-1)throw Error("Circular reference detected in "+N.join("."));f.push(w),se.forEach(w,function(_,A){(!(se.isUndefined(_)||_===null)&&i.call(a,_,se.isString(A)?A.trim():A,N,v))===!0&&b(_,N?N.concat(A):[A])}),f.pop()}}if(!se.isObject(t))throw new TypeError("data must be an object");return b(t),a}function D2(t){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return a[s]})}function vv(t,a){this._pairs=[],t&&Xx(t,this,a)}const n5=vv.prototype;n5.append=function(a,r){this._pairs.push([a,r])};n5.toString=function(a){const r=a?function(s){return a.call(this,s,D2)}:D2;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function T7(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function i5(t,a,r){if(!a)return t;const s=r&&r.encode||T7;se.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let c;if(i?c=i(a,r):c=se.isURLSearchParams(a)?a.toString():new vv(a,r).toString(s),c){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+c}return t}class P2{constructor(){this.handlers=[]}use(a,r,s){return this.handlers.push({fulfilled:a,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){se.forEach(this.handlers,function(s){s!==null&&a(s)})}}const l5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},D7=typeof URLSearchParams<"u"?URLSearchParams:vv,P7=typeof FormData<"u"?FormData:null,z7=typeof Blob<"u"?Blob:null,M7={isBrowser:!0,classes:{URLSearchParams:D7,FormData:P7,Blob:z7},protocols:["http","https","file","blob","url","data"]},bv=typeof window<"u"&&typeof document<"u",iy=typeof navigator=="object"&&navigator||void 0,R7=bv&&(!iy||["ReactNative","NativeScript","NS"].indexOf(iy.product)<0),L7=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",I7=bv&&window.location.href||"http://localhost",$7=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:bv,hasStandardBrowserEnv:R7,hasStandardBrowserWebWorkerEnv:L7,navigator:iy,origin:I7},Symbol.toStringTag,{value:"Module"})),_a={...$7,...M7};function B7(t,a){return Xx(t,new _a.classes.URLSearchParams,{visitor:function(r,s,i,c){return _a.isNode&&se.isBuffer(r)?(this.append(s,r.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)},...a})}function F7(t){return se.matchAll(/\w+|\[(\w*)]/g,t).map(a=>a[0]==="[]"?"":a[1]||a[0])}function U7(t){const a={},r=Object.keys(t);let s;const i=r.length;let c;for(s=0;s<i;s++)c=r[s],a[c]=t[c];return a}function c5(t){function a(r,s,i,c){let o=r[c++];if(o==="__proto__")return!0;const u=Number.isFinite(+o),m=c>=r.length;return o=!o&&se.isArray(i)?i.length:o,m?(se.hasOwnProp(i,o)?i[o]=[i[o],s]:i[o]=s,!u):((!i[o]||!se.isObject(i[o]))&&(i[o]=[]),a(r,s,i[o],c)&&se.isArray(i[o])&&(i[o]=U7(i[o])),!u)}if(se.isFormData(t)&&se.isFunction(t.entries)){const r={};return se.forEachEntry(t,(s,i)=>{a(F7(s),i,r,0)}),r}return null}function q7(t,a,r){if(se.isString(t))try{return(a||JSON.parse)(t),se.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(t)}const fd={transitional:l5,adapter:["xhr","http","fetch"],transformRequest:[function(a,r){const s=r.getContentType()||"",i=s.indexOf("application/json")>-1,c=se.isObject(a);if(c&&se.isHTMLForm(a)&&(a=new FormData(a)),se.isFormData(a))return i?JSON.stringify(c5(a)):a;if(se.isArrayBuffer(a)||se.isBuffer(a)||se.isStream(a)||se.isFile(a)||se.isBlob(a)||se.isReadableStream(a))return a;if(se.isArrayBufferView(a))return a.buffer;if(se.isURLSearchParams(a))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let u;if(c){if(s.indexOf("application/x-www-form-urlencoded")>-1)return B7(a,this.formSerializer).toString();if((u=se.isFileList(a))||s.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return Xx(u?{"files[]":a}:a,m&&new m,this.formSerializer)}}return c||i?(r.setContentType("application/json",!1),q7(a)):a}],transformResponse:[function(a){const r=this.transitional||fd.transitional,s=r&&r.forcedJSONParsing,i=this.responseType==="json";if(se.isResponse(a)||se.isReadableStream(a))return a;if(a&&se.isString(a)&&(s&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(a,this.parseReviver)}catch(u){if(o)throw u.name==="SyntaxError"?Pe.from(u,Pe.ERR_BAD_RESPONSE,this,null,this.response):u}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_a.classes.FormData,Blob:_a.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};se.forEach(["delete","get","head","post","put","patch"],t=>{fd.headers[t]={}});const H7=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),V7=t=>{const a={};let r,s,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),s=o.substring(i+1).trim(),!(!r||a[r]&&H7[r])&&(r==="set-cookie"?a[r]?a[r].push(s):a[r]=[s]:a[r]=a[r]?a[r]+", "+s:s)}),a},z2=Symbol("internals");function Co(t){return t&&String(t).trim().toLowerCase()}function Dm(t){return t===!1||t==null?t:se.isArray(t)?t.map(Dm):String(t)}function G7(t){const a=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(t);)a[s[1]]=s[2];return a}const K7=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function mf(t,a,r,s,i){if(se.isFunction(s))return s.call(this,a,r);if(i&&(a=r),!!se.isString(a)){if(se.isString(s))return a.indexOf(s)!==-1;if(se.isRegExp(s))return s.test(a)}}function Y7(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,r,s)=>r.toUpperCase()+s)}function X7(t,a){const r=se.toCamelCase(" "+a);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+r,{value:function(i,c,o){return this[s].call(this,a,i,c,o)},configurable:!0})})}let er=class{constructor(a){a&&this.set(a)}set(a,r,s){const i=this;function c(u,m,h){const x=Co(m);if(!x)throw new Error("header name must be a non-empty string");const f=se.findKey(i,x);(!f||i[f]===void 0||h===!0||h===void 0&&i[f]!==!1)&&(i[f||m]=Dm(u))}const o=(u,m)=>se.forEach(u,(h,x)=>c(h,x,m));if(se.isPlainObject(a)||a instanceof this.constructor)o(a,r);else if(se.isString(a)&&(a=a.trim())&&!K7(a))o(V7(a),r);else if(se.isObject(a)&&se.isIterable(a)){let u={},m,h;for(const x of a){if(!se.isArray(x))throw TypeError("Object iterator must return a key-value pair");u[h=x[0]]=(m=u[h])?se.isArray(m)?[...m,x[1]]:[m,x[1]]:x[1]}o(u,r)}else a!=null&&c(r,a,s);return this}get(a,r){if(a=Co(a),a){const s=se.findKey(this,a);if(s){const i=this[s];if(!r)return i;if(r===!0)return G7(i);if(se.isFunction(r))return r.call(this,i,s);if(se.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,r){if(a=Co(a),a){const s=se.findKey(this,a);return!!(s&&this[s]!==void 0&&(!r||mf(this,this[s],s,r)))}return!1}delete(a,r){const s=this;let i=!1;function c(o){if(o=Co(o),o){const u=se.findKey(s,o);u&&(!r||mf(s,s[u],u,r))&&(delete s[u],i=!0)}}return se.isArray(a)?a.forEach(c):c(a),i}clear(a){const r=Object.keys(this);let s=r.length,i=!1;for(;s--;){const c=r[s];(!a||mf(this,this[c],c,a,!0))&&(delete this[c],i=!0)}return i}normalize(a){const r=this,s={};return se.forEach(this,(i,c)=>{const o=se.findKey(s,c);if(o){r[o]=Dm(i),delete r[c];return}const u=a?Y7(c):String(c).trim();u!==c&&delete r[c],r[u]=Dm(i),s[u]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const r=Object.create(null);return se.forEach(this,(s,i)=>{s!=null&&s!==!1&&(r[i]=a&&se.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,r])=>a+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...r){const s=new this(a);return r.forEach(i=>s.set(i)),s}static accessor(a){const s=(this[z2]=this[z2]={accessors:{}}).accessors,i=this.prototype;function c(o){const u=Co(o);s[u]||(X7(i,o),s[u]=!0)}return se.isArray(a)?a.forEach(c):c(a),this}};er.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);se.reduceDescriptors(er.prototype,({value:t},a)=>{let r=a[0].toUpperCase()+a.slice(1);return{get:()=>t,set(s){this[r]=s}}});se.freezeMethods(er);function xf(t,a){const r=this||fd,s=a||r,i=er.from(s.headers);let c=s.data;return se.forEach(t,function(u){c=u.call(r,c,i.normalize(),a?a.status:void 0)}),i.normalize(),c}function o5(t){return!!(t&&t.__CANCEL__)}function yc(t,a,r){Pe.call(this,t??"canceled",Pe.ERR_CANCELED,a,r),this.name="CanceledError"}se.inherits(yc,Pe,{__CANCEL__:!0});function d5(t,a,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?t(r):a(new Pe("Request failed with status code "+r.status,[Pe.ERR_BAD_REQUEST,Pe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function W7(t){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return a&&a[1]||""}function Z7(t,a){t=t||10;const r=new Array(t),s=new Array(t);let i=0,c=0,o;return a=a!==void 0?a:1e3,function(m){const h=Date.now(),x=s[c];o||(o=h),r[i]=m,s[i]=h;let f=c,v=0;for(;f!==i;)v+=r[f++],f=f%t;if(i=(i+1)%t,i===c&&(c=(c+1)%t),h-o<a)return;const b=x&&h-x;return b?Math.round(v*1e3/b):void 0}}function Q7(t,a){let r=0,s=1e3/a,i,c;const o=(h,x=Date.now())=>{r=x,i=null,c&&(clearTimeout(c),c=null),t(...h)};return[(...h)=>{const x=Date.now(),f=x-r;f>=s?o(h,x):(i=h,c||(c=setTimeout(()=>{c=null,o(i)},s-f)))},()=>i&&o(i)]}const Hm=(t,a,r=3)=>{let s=0;const i=Z7(50,250);return Q7(c=>{const o=c.loaded,u=c.lengthComputable?c.total:void 0,m=o-s,h=i(m),x=o<=u;s=o;const f={loaded:o,total:u,progress:u?o/u:void 0,bytes:m,rate:h||void 0,estimated:h&&u&&x?(u-o)/h:void 0,event:c,lengthComputable:u!=null,[a?"download":"upload"]:!0};t(f)},r)},M2=(t,a)=>{const r=t!=null;return[s=>a[0]({lengthComputable:r,total:t,loaded:s}),a[1]]},R2=t=>(...a)=>se.asap(()=>t(...a)),J7=_a.hasStandardBrowserEnv?((t,a)=>r=>(r=new URL(r,_a.origin),t.protocol===r.protocol&&t.host===r.host&&(a||t.port===r.port)))(new URL(_a.origin),_a.navigator&&/(msie|trident)/i.test(_a.navigator.userAgent)):()=>!0,eP=_a.hasStandardBrowserEnv?{write(t,a,r,s,i,c,o){if(typeof document>"u")return;const u=[`${t}=${encodeURIComponent(a)}`];se.isNumber(r)&&u.push(`expires=${new Date(r).toUTCString()}`),se.isString(s)&&u.push(`path=${s}`),se.isString(i)&&u.push(`domain=${i}`),c===!0&&u.push("secure"),se.isString(o)&&u.push(`SameSite=${o}`),document.cookie=u.join("; ")},read(t){if(typeof document>"u")return null;const a=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return a?decodeURIComponent(a[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function tP(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function aP(t,a){return a?t.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):t}function u5(t,a,r){let s=!tP(a);return t&&(s||r==!1)?aP(t,a):a}const L2=t=>t instanceof er?{...t}:t;function Ui(t,a){a=a||{};const r={};function s(h,x,f,v){return se.isPlainObject(h)&&se.isPlainObject(x)?se.merge.call({caseless:v},h,x):se.isPlainObject(x)?se.merge({},x):se.isArray(x)?x.slice():x}function i(h,x,f,v){if(se.isUndefined(x)){if(!se.isUndefined(h))return s(void 0,h,f,v)}else return s(h,x,f,v)}function c(h,x){if(!se.isUndefined(x))return s(void 0,x)}function o(h,x){if(se.isUndefined(x)){if(!se.isUndefined(h))return s(void 0,h)}else return s(void 0,x)}function u(h,x,f){if(f in a)return s(h,x);if(f in t)return s(void 0,h)}const m={url:c,method:c,data:c,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:u,headers:(h,x,f)=>i(L2(h),L2(x),f,!0)};return se.forEach(Object.keys({...t,...a}),function(x){const f=m[x]||i,v=f(t[x],a[x],x);se.isUndefined(v)&&f!==u||(r[x]=v)}),r}const m5=t=>{const a=Ui({},t);let{data:r,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:c,headers:o,auth:u}=a;if(a.headers=o=er.from(o),a.url=i5(u5(a.baseURL,a.url,a.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&o.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),se.isFormData(r)){if(_a.hasStandardBrowserEnv||_a.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(se.isFunction(r.getHeaders)){const m=r.getHeaders(),h=["content-type","content-length"];Object.entries(m).forEach(([x,f])=>{h.includes(x.toLowerCase())&&o.set(x,f)})}}if(_a.hasStandardBrowserEnv&&(s&&se.isFunction(s)&&(s=s(a)),s||s!==!1&&J7(a.url))){const m=i&&c&&eP.read(c);m&&o.set(i,m)}return a},rP=typeof XMLHttpRequest<"u",sP=rP&&function(t){return new Promise(function(r,s){const i=m5(t);let c=i.data;const o=er.from(i.headers).normalize();let{responseType:u,onUploadProgress:m,onDownloadProgress:h}=i,x,f,v,b,w;function N(){b&&b(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(x),i.signal&&i.signal.removeEventListener("abort",x)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function _(){if(!y)return;const C=er.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),k={data:!u||u==="text"||u==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:C,config:t,request:y};d5(function(D){r(D),N()},function(D){s(D),N()},k),y=null}"onloadend"in y?y.onloadend=_:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(_)},y.onabort=function(){y&&(s(new Pe("Request aborted",Pe.ECONNABORTED,t,y)),y=null)},y.onerror=function(E){const k=E&&E.message?E.message:"Network Error",O=new Pe(k,Pe.ERR_NETWORK,t,y);O.event=E||null,s(O),y=null},y.ontimeout=function(){let E=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const k=i.transitional||l5;i.timeoutErrorMessage&&(E=i.timeoutErrorMessage),s(new Pe(E,k.clarifyTimeoutError?Pe.ETIMEDOUT:Pe.ECONNABORTED,t,y)),y=null},c===void 0&&o.setContentType(null),"setRequestHeader"in y&&se.forEach(o.toJSON(),function(E,k){y.setRequestHeader(k,E)}),se.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),u&&u!=="json"&&(y.responseType=i.responseType),h&&([v,w]=Hm(h,!0),y.addEventListener("progress",v)),m&&y.upload&&([f,b]=Hm(m),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",b)),(i.cancelToken||i.signal)&&(x=C=>{y&&(s(!C||C.type?new yc(null,t,y):C),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(x),i.signal&&(i.signal.aborted?x():i.signal.addEventListener("abort",x)));const A=W7(i.url);if(A&&_a.protocols.indexOf(A)===-1){s(new Pe("Unsupported protocol "+A+":",Pe.ERR_BAD_REQUEST,t));return}y.send(c||null)})},nP=(t,a)=>{const{length:r}=t=t?t.filter(Boolean):[];if(a||r){let s=new AbortController,i;const c=function(h){if(!i){i=!0,u();const x=h instanceof Error?h:this.reason;s.abort(x instanceof Pe?x:new yc(x instanceof Error?x.message:x))}};let o=a&&setTimeout(()=>{o=null,c(new Pe(`timeout ${a} of ms exceeded`,Pe.ETIMEDOUT))},a);const u=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(c):h.removeEventListener("abort",c)}),t=null)};t.forEach(h=>h.addEventListener("abort",c));const{signal:m}=s;return m.unsubscribe=()=>se.asap(u),m}},iP=function*(t,a){let r=t.byteLength;if(r<a){yield t;return}let s=0,i;for(;s<r;)i=s+a,yield t.slice(s,i),s=i},lP=async function*(t,a){for await(const r of cP(t))yield*iP(r,a)},cP=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const a=t.getReader();try{for(;;){const{done:r,value:s}=await a.read();if(r)break;yield s}}finally{await a.cancel()}},I2=(t,a,r,s)=>{const i=lP(t,a);let c=0,o,u=m=>{o||(o=!0,s&&s(m))};return new ReadableStream({async pull(m){try{const{done:h,value:x}=await i.next();if(h){u(),m.close();return}let f=x.byteLength;if(r){let v=c+=f;r(v)}m.enqueue(new Uint8Array(x))}catch(h){throw u(h),h}},cancel(m){return u(m),i.return()}},{highWaterMark:2})},$2=64*1024,{isFunction:nm}=se,oP=(({Request:t,Response:a})=>({Request:t,Response:a}))(se.global),{ReadableStream:B2,TextEncoder:F2}=se.global,U2=(t,...a)=>{try{return!!t(...a)}catch{return!1}},dP=t=>{t=se.merge.call({skipUndefined:!0},oP,t);const{fetch:a,Request:r,Response:s}=t,i=a?nm(a):typeof fetch=="function",c=nm(r),o=nm(s);if(!i)return!1;const u=i&&nm(B2),m=i&&(typeof F2=="function"?(w=>N=>w.encode(N))(new F2):async w=>new Uint8Array(await new r(w).arrayBuffer())),h=c&&u&&U2(()=>{let w=!1;const N=new r(_a.origin,{body:new B2,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!N}),x=o&&u&&U2(()=>se.isReadableStream(new s("").body)),f={stream:x&&(w=>w.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!f[w]&&(f[w]=(N,y)=>{let _=N&&N[w];if(_)return _.call(N);throw new Pe(`Response type '${w}' is not supported`,Pe.ERR_NOT_SUPPORT,y)})});const v=async w=>{if(w==null)return 0;if(se.isBlob(w))return w.size;if(se.isSpecCompliantForm(w))return(await new r(_a.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(se.isArrayBufferView(w)||se.isArrayBuffer(w))return w.byteLength;if(se.isURLSearchParams(w)&&(w=w+""),se.isString(w))return(await m(w)).byteLength},b=async(w,N)=>{const y=se.toFiniteNumber(w.getContentLength());return y??v(N)};return async w=>{let{url:N,method:y,data:_,signal:A,cancelToken:C,timeout:E,onDownloadProgress:k,onUploadProgress:O,responseType:D,headers:P,withCredentials:L="same-origin",fetchOptions:z}=m5(w),M=a||fetch;D=D?(D+"").toLowerCase():"text";let F=nP([A,C&&C.toAbortSignal()],E),q=null;const te=F&&F.unsubscribe&&(()=>{F.unsubscribe()});let W;try{if(O&&h&&y!=="get"&&y!=="head"&&(W=await b(P,_))!==0){let B=new r(N,{method:"POST",body:_,duplex:"half"}),K;if(se.isFormData(_)&&(K=B.headers.get("content-type"))&&P.setContentType(K),B.body){const[Y,ie]=M2(W,Hm(R2(O)));_=I2(B.body,$2,Y,ie)}}se.isString(L)||(L=L?"include":"omit");const H=c&&"credentials"in r.prototype,R={...z,signal:F,method:y.toUpperCase(),headers:P.normalize().toJSON(),body:_,duplex:"half",credentials:H?L:void 0};q=c&&new r(N,R);let $=await(c?M(q,z):M(N,R));const V=x&&(D==="stream"||D==="response");if(x&&(k||V&&te)){const B={};["status","statusText","headers"].forEach(xe=>{B[xe]=$[xe]});const K=se.toFiniteNumber($.headers.get("content-length")),[Y,ie]=k&&M2(K,Hm(R2(k),!0))||[];$=new s(I2($.body,$2,Y,()=>{ie&&ie(),te&&te()}),B)}D=D||"text";let Z=await f[se.findKey(f,D)||"text"]($,w);return!V&&te&&te(),await new Promise((B,K)=>{d5(B,K,{data:Z,headers:er.from($.headers),status:$.status,statusText:$.statusText,config:w,request:q})})}catch(H){throw te&&te(),H&&H.name==="TypeError"&&/Load failed|fetch/i.test(H.message)?Object.assign(new Pe("Network Error",Pe.ERR_NETWORK,w,q),{cause:H.cause||H}):Pe.from(H,H&&H.code,w,q)}}},uP=new Map,x5=t=>{let a=t&&t.env||{};const{fetch:r,Request:s,Response:i}=a,c=[s,i,r];let o=c.length,u=o,m,h,x=uP;for(;u--;)m=c[u],h=x.get(m),h===void 0&&x.set(m,h=u?new Map:dP(a)),x=h;return h};x5();const jv={http:A7,xhr:sP,fetch:{get:x5}};se.forEach(jv,(t,a)=>{if(t){try{Object.defineProperty(t,"name",{value:a})}catch{}Object.defineProperty(t,"adapterName",{value:a})}});const q2=t=>`- ${t}`,mP=t=>se.isFunction(t)||t===null||t===!1;function xP(t,a){t=se.isArray(t)?t:[t];const{length:r}=t;let s,i;const c={};for(let o=0;o<r;o++){s=t[o];let u;if(i=s,!mP(s)&&(i=jv[(u=String(s)).toLowerCase()],i===void 0))throw new Pe(`Unknown adapter '${u}'`);if(i&&(se.isFunction(i)||(i=i.get(a))))break;c[u||"#"+o]=i}if(!i){const o=Object.entries(c).map(([m,h])=>`adapter ${m} `+(h===!1?"is not supported by the environment":"is not available in the build"));let u=r?o.length>1?`since :
`+o.map(q2).join(`
`):" "+q2(o[0]):"as no adapter specified";throw new Pe("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i}const h5={getAdapter:xP,adapters:jv};function hf(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new yc(null,t)}function H2(t){return hf(t),t.headers=er.from(t.headers),t.data=xf.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),h5.getAdapter(t.adapter||fd.adapter,t)(t).then(function(s){return hf(t),s.data=xf.call(t,t.transformResponse,s),s.headers=er.from(s.headers),s},function(s){return o5(s)||(hf(t),s&&s.response&&(s.response.data=xf.call(t,t.transformResponse,s.response),s.response.headers=er.from(s.response.headers))),Promise.reject(s)})}const p5="1.13.2",Wx={};["object","boolean","number","function","string","symbol"].forEach((t,a)=>{Wx[t]=function(s){return typeof s===t||"a"+(a<1?"n ":" ")+t}});const V2={};Wx.transitional=function(a,r,s){function i(c,o){return"[Axios v"+p5+"] Transitional option '"+c+"'"+o+(s?". "+s:"")}return(c,o,u)=>{if(a===!1)throw new Pe(i(o," has been removed"+(r?" in "+r:"")),Pe.ERR_DEPRECATED);return r&&!V2[o]&&(V2[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),a?a(c,o,u):!0}};Wx.spelling=function(a){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${a}`),!0)};function hP(t,a,r){if(typeof t!="object")throw new Pe("options must be an object",Pe.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let i=s.length;for(;i-- >0;){const c=s[i],o=a[c];if(o){const u=t[c],m=u===void 0||o(u,c,t);if(m!==!0)throw new Pe("option "+c+" must be "+m,Pe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Pe("Unknown option "+c,Pe.ERR_BAD_OPTION)}}const Pm={assertOptions:hP,validators:Wx},fs=Pm.validators;let Mi=class{constructor(a){this.defaults=a||{},this.interceptors={request:new P2,response:new P2}}async request(a,r){try{return await this._request(a,r)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const c=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?c&&!String(s.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+c):s.stack=c}catch{}}throw s}}_request(a,r){typeof a=="string"?(r=r||{},r.url=a):r=a||{},r=Ui(this.defaults,r);const{transitional:s,paramsSerializer:i,headers:c}=r;s!==void 0&&Pm.assertOptions(s,{silentJSONParsing:fs.transitional(fs.boolean),forcedJSONParsing:fs.transitional(fs.boolean),clarifyTimeoutError:fs.transitional(fs.boolean)},!1),i!=null&&(se.isFunction(i)?r.paramsSerializer={serialize:i}:Pm.assertOptions(i,{encode:fs.function,serialize:fs.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Pm.assertOptions(r,{baseUrl:fs.spelling("baseURL"),withXsrfToken:fs.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=c&&se.merge(c.common,c[r.method]);c&&se.forEach(["delete","get","head","post","put","patch","common"],w=>{delete c[w]}),r.headers=er.concat(o,c);const u=[];let m=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(r)===!1||(m=m&&N.synchronous,u.unshift(N.fulfilled,N.rejected))});const h=[];this.interceptors.response.forEach(function(N){h.push(N.fulfilled,N.rejected)});let x,f=0,v;if(!m){const w=[H2.bind(this),void 0];for(w.unshift(...u),w.push(...h),v=w.length,x=Promise.resolve(r);f<v;)x=x.then(w[f++],w[f++]);return x}v=u.length;let b=r;for(;f<v;){const w=u[f++],N=u[f++];try{b=w(b)}catch(y){N.call(this,y);break}}try{x=H2.call(this,b)}catch(w){return Promise.reject(w)}for(f=0,v=h.length;f<v;)x=x.then(h[f++],h[f++]);return x}getUri(a){a=Ui(this.defaults,a);const r=u5(a.baseURL,a.url,a.allowAbsoluteUrls);return i5(r,a.params,a.paramsSerializer)}};se.forEach(["delete","get","head","options"],function(a){Mi.prototype[a]=function(r,s){return this.request(Ui(s||{},{method:a,url:r,data:(s||{}).data}))}});se.forEach(["post","put","patch"],function(a){function r(s){return function(c,o,u){return this.request(Ui(u||{},{method:a,headers:s?{"Content-Type":"multipart/form-data"}:{},url:c,data:o}))}}Mi.prototype[a]=r(),Mi.prototype[a+"Form"]=r(!0)});let pP=class f5{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(c){r=c});const s=this;this.promise.then(i=>{if(!s._listeners)return;let c=s._listeners.length;for(;c-- >0;)s._listeners[c](i);s._listeners=null}),this.promise.then=i=>{let c;const o=new Promise(u=>{s.subscribe(u),c=u}).then(i);return o.cancel=function(){s.unsubscribe(c)},o},a(function(c,o,u){s.reason||(s.reason=new yc(c,o,u),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const r=this._listeners.indexOf(a);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const a=new AbortController,r=s=>{a.abort(s)};return this.subscribe(r),a.signal.unsubscribe=()=>this.unsubscribe(r),a.signal}static source(){let a;return{token:new f5(function(i){a=i}),cancel:a}}};function fP(t){return function(r){return t.apply(null,r)}}function gP(t){return se.isObject(t)&&t.isAxiosError===!0}const ly={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ly).forEach(([t,a])=>{ly[a]=t});function g5(t){const a=new Mi(t),r=Y3(Mi.prototype.request,a);return se.extend(r,Mi.prototype,a,{allOwnKeys:!0}),se.extend(r,a,null,{allOwnKeys:!0}),r.create=function(i){return g5(Ui(t,i))},r}const Ae=g5(fd);Ae.Axios=Mi;Ae.CanceledError=yc;Ae.CancelToken=pP;Ae.isCancel=o5;Ae.VERSION=p5;Ae.toFormData=Xx;Ae.AxiosError=Pe;Ae.Cancel=Ae.CanceledError;Ae.all=function(a){return Promise.all(a)};Ae.spread=fP;Ae.isAxiosError=gP;Ae.mergeConfig=Ui;Ae.AxiosHeaders=er;Ae.formToJSON=t=>c5(se.isHTMLForm(t)?new FormData(t):t);Ae.getAdapter=h5.getAdapter;Ae.HttpStatusCode=ly;Ae.default=Ae;const{Axios:Dse,AxiosError:Pse,CanceledError:zse,isCancel:Mse,CancelToken:Rse,VERSION:Lse,all:Ise,Cancel:$se,isAxiosError:Bse,spread:Fse,toFormData:Use,AxiosHeaders:qse,HttpStatusCode:Hse,formToJSON:Vse,getAdapter:Gse,mergeConfig:Kse}=Ae,yP="/api/v1",je=Ae.create({baseURL:yP,headers:{"Content-Type":"application/json"}});je.interceptors.request.use(t=>{const a=localStorage.getItem("auth_token"),r=localStorage.getItem("company_id");return a&&(t.headers.Authorization=`Bearer ${a}`),r&&(t.headers["X-Company-ID"]=r),t});je.interceptors.response.use(t=>t,t=>(t.response?.status===401&&(localStorage.removeItem("auth_token"),localStorage.removeItem("company_id"),window.location.href="/login"),Promise.reject(t)));const pf={login:async(t,a)=>(await je.post("/auth/login.php",{email:t,password:a})).data,register:async(t,a,r)=>(await je.post("/auth/register.php",{email:t,password:a,name:r})).data,getCurrentUser:async()=>(await je.get("/auth/me.php")).data},Ri={list:async()=>(await je.get("/invoices/list")).data.data||[],create:async t=>(await je.post("/invoices/create",t)).data.invoice,update:async(t,a)=>(await je.put(`/invoices/${t}`,a)).data.invoice,delete:async t=>{await je.delete(`/invoices/${t}`)},sendEmail:async t=>{await je.post(`/invoices/${t}/send`)}},ac={list:async t=>{const a=t?{type:t}:{};return(await je.get("/crm/contacts.php",{params:a})).data.data||[]},create:async t=>{const a={display_name:t.name||t.display_name,contact_type:t.type||t.contact_type||"customer",email:t.email||null,phone:t.phone||null,payment_terms:t.payment_terms||30,currency:t.currency||"RON",is_active:t.is_active!==void 0?t.is_active:!0};return(await je.post("/crm/contacts.php",a)).data.data},update:async(t,a)=>{const r={id:t,display_name:a.name||a.display_name,contact_type:a.type||a.contact_type,email:a.email,phone:a.phone,payment_terms:a.payment_terms,currency:a.currency,is_active:a.is_active};return(await je.put("/crm/contacts.php",r)).data.data},delete:async t=>{await je.delete("/crm/contacts.php",{data:{id:t.toString()}})},getById:async t=>(await je.get(`/crm/contacts.php?id=${t}`)).data.data},G2={list:async()=>(await je.get("/bills/list")).data.data||[],create:async t=>(await je.post("/bills/create",t)).data.bill,update:async(t,a)=>(await je.put("/bills/update",{...a,id:t})).data.bill,delete:async t=>{await je.delete("/bills/delete",{data:{id:t}})}},Ro={list:async()=>(await je.get("/expenses/list")).data.data?.expenses||[],create:async t=>(await je.post("/expenses/create",t,{headers:{"Content-Type":"multipart/form-data"}})).data.expense,update:async(t,a)=>(await je.put(`/expenses/${t}`,a)).data.expense,delete:async t=>{await je.delete(`/expenses/${t}`)}},zm={list:async()=>(await je.get("/insights/list")).data.insights||[],generate:async()=>(await je.post("/insights/generate")).data.insights||[],dismiss:async t=>{await je.post("/insights/dismiss",{insight_id:t})}},cy={getCashFlow:async()=>(await je.get("/forecasting/cash-flow")).data.forecast||[],generate:async()=>(await je.post("/forecasting/generate")).data.forecast||[],getRunway:async()=>(await je.get("/forecasting/runway")).data},vP={getStats:async()=>(await je.get("/dashboard/stats")).data.data},K2={getExpenseSuggestions:async(t,a)=>{const r=a?{vendor_id:t,amount:a}:{vendor_id:t};return(await je.get("/expenses/smart-suggestions.php",{params:r})).data},listAccounts:async(t=!1)=>(await je.get("/accounting/custom-accounts.php",{params:{custom_only:t}})).data,createCustomAccount:async t=>(await je.post("/accounting/custom-accounts.php",t)).data,updateCustomAccount:async(t,a)=>(await je.put("/accounting/custom-accounts.php",{id:t,...a})).data,deleteCustomAccount:async t=>(await je.delete(`/accounting/custom-accounts.php?id=${t}`)).data,listCategories:async(t=!1,a=!1)=>(await je.get("/expenses/custom-categories.php",{params:{custom_only:t,hierarchy:a}})).data,createCustomCategory:async t=>(await je.post("/expenses/custom-categories.php",t)).data,updateCustomCategory:async(t,a)=>(await je.put("/expenses/custom-categories.php",{id:t,...a})).data,deleteCustomCategory:async t=>(await je.delete(`/expenses/custom-categories.php?id=${t}`)).data},y5=g.createContext(void 0),bP=({children:t})=>{const[a,r]=g.useState(null),[s,i]=g.useState(!0),[c,o]=g.useState(localStorage.getItem("auth_token")),[u,m]=g.useState(localStorage.getItem("company_id"));g.useEffect(()=>{localStorage.getItem("auth_token")?pf.getCurrentUser().then(b=>{r(b.user),!localStorage.getItem("company_id")&&b.companies&&b.companies.length>0&&localStorage.setItem("company_id",b.companies[0].id)}).catch(()=>{localStorage.removeItem("auth_token"),localStorage.removeItem("company_id")}).finally(()=>{i(!1)}):i(!1)},[]);const h=async(v,b)=>{try{const w=await pf.login(v,b);if(w.success&&w.data?.token&&w.data?.user){if(localStorage.setItem("auth_token",w.data.token),o(w.data.token),w.data.companies&&w.data.companies.length>0){const N=w.data.companies[0].id;localStorage.setItem("company_id",N),m(N)}r(w.data.user)}else throw new Error(w.message||"Login failed")}catch(w){throw new Error(w.response?.data?.message||"Login failed")}},x=async(v,b,w)=>{try{const N=await pf.register(v,b,w);if(N.success&&N.data?.token&&N.data?.user){if(localStorage.setItem("auth_token",N.data.token),o(N.data.token),N.data.companies&&N.data.companies.length>0){const y=N.data.companies[0].id;localStorage.setItem("company_id",y),m(y)}r(N.data.user)}else throw new Error(N.message||"Registration failed")}catch(N){throw new Error(N.response?.data?.message||"Registration failed")}},f=()=>{localStorage.removeItem("auth_token"),localStorage.removeItem("company_id"),r(null),o(null),m(null)};return e.jsx(y5.Provider,{value:{user:a,loading:s,login:h,register:x,logout:f,isAuthenticated:!!a,token:c,companyId:u},children:t})},Ct=()=>{const t=g.useContext(y5);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},v5=g.createContext(void 0),Nv=()=>{const t=g.useContext(v5);if(!t)throw new Error("useProject must be used within ProjectProvider");return t},jP=({children:t})=>{const[a,r]=g.useState(null),[s,i]=g.useState([]),[c,o]=g.useState(!1),[u,m]=g.useState(null);g.useEffect(()=>{const v=localStorage.getItem("active_project_id"),b=localStorage.getItem("active_project_name");v&&b&&r({id:v,name:b})},[]);const h=async()=>{try{o(!0),m(null);const v=localStorage.getItem("auth_token"),b=localStorage.getItem("company_id");if(!v||!b)throw new Error("Not authenticated");const N=await(await fetch("https://documentiulia.ro/api/v1/projects/projects.php",{headers:{Authorization:`Bearer ${v}`,"X-Company-ID":b}})).json();if(N.success){const y=N.data?.projects||N.data||[];i(Array.isArray(y)?y:[])}else throw new Error(N.message||"Failed to load projects")}catch(v){console.error("Error fetching projects:",v),m(v instanceof Error?v.message:"Failed to load projects"),i([])}finally{o(!1)}};g.useEffect(()=>{const v=localStorage.getItem("auth_token"),b=localStorage.getItem("company_id");v&&b&&h()},[]);const f={activeProject:a,setActiveProject:v=>{r(v),v?(localStorage.setItem("active_project_id",v.id),localStorage.setItem("active_project_name",v.name)):(localStorage.removeItem("active_project_id"),localStorage.removeItem("active_project_name"))},projects:s,loading:c,error:u,refreshProjects:h};return e.jsx(v5.Provider,{value:f,children:t})},b5={date_format:"DD.MM.YYYY",time_format:"HH:mm",first_day_of_week:1,decimal_separator:",",thousands_separator:".",currency_position:"after",currency:"RON",timezone:"Europe/Bucharest"},NP={language:"ro",setLanguage:()=>{},t:t=>t,languages:[],locale:b5,isLoading:!0,formatDate:t=>String(t),formatCurrency:t=>String(t),formatNumber:t=>String(t)},j5=g.createContext(NP),wP=({children:t,defaultLanguage:a="ro"})=>{const[r,s]=g.useState(()=>localStorage.getItem("language")||a),[i,c]=g.useState({}),[o,u]=g.useState([]),[m,h]=g.useState(b5),[x,f]=g.useState(!0);g.useEffect(()=>{(async()=>{try{const E=await(await fetch("/api/v1/i18n/languages.php")).json();E.success&&u(E.data)}catch(C){console.error("Failed to load languages:",C),u([{code:"ro",name:"Romanian",native_name:"Romana",flag:"",rtl:!1},{code:"en",name:"English",native_name:"English",flag:"",rtl:!1}])}})()},[]),g.useEffect(()=>{(async()=>{f(!0);try{const k=await(await fetch(`/api/v1/i18n/translations.php?lang=${r}&namespaces=common,nav,auth,invoices,expenses,contacts,projects,inventory,accounting,fiscal`)).json();k.success&&(c(k.data.translations),h(k.data.locale))}catch(C){console.error("Failed to load translations:",C)}finally{f(!1)}})()},[r]);const v=g.useCallback(A=>{s(A),localStorage.setItem("language",A),document.documentElement.lang=A},[]),b=g.useCallback((A,C,E)=>{let k=E,O=A;if(!k&&A.includes(".")){const L=A.split(".");k=L[0],O=L.slice(1).join(".")}k=k||"common";const D=i[k]||{};let P=SP(D,O);return P===void 0?O:(C&&typeof P=="string"&&Object.entries(C).forEach(([L,z])=>{P=P.replace(new RegExp(`{{${L}}}`,"g"),String(z))}),P)},[i]),w=g.useCallback((A,C="medium")=>{const E=typeof A=="string"?new Date(A):A,O={short:{day:"2-digit",month:"2-digit",year:"numeric"},medium:{day:"2-digit",month:"short",year:"numeric"},long:{day:"numeric",month:"long",year:"numeric"},full:{weekday:"long",day:"numeric",month:"long",year:"numeric"}}[C];return new Intl.DateTimeFormat(r,O).format(E)},[r]),N=g.useCallback((A,C)=>{const E=C||m.currency;return new Intl.NumberFormat(r,{style:"currency",currency:E==="RON"?"RON":E,minimumFractionDigits:2,maximumFractionDigits:2}).format(A)},[r,m.currency]),y=g.useCallback((A,C=0)=>new Intl.NumberFormat(r,{minimumFractionDigits:C,maximumFractionDigits:C}).format(A),[r]),_={language:r,setLanguage:v,t:b,languages:o,locale:m,isLoading:x,formatDate:w,formatCurrency:N,formatNumber:y};return e.jsx(j5.Provider,{value:_,children:t})},Zi=()=>{const t=g.useContext(j5);if(!t)throw new Error("useI18n must be used within an I18nProvider");return t};function SP(t,a){return a.split(".").reduce((r,s)=>r&&typeof r=="object"?r[s]:void 0,t)}function wv(){const[t,a]=g.useState({isInstallable:!1,isInstalled:!1,isOffline:!navigator.onLine,isUpdateAvailable:!1,installPrompt:null}),[r,s]=g.useState(null);g.useEffect(()=>{const u=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0;a(m=>({...m,isInstalled:u}))},[]),g.useEffect(()=>{const u=m=>{m.preventDefault(),a(h=>({...h,isInstallable:!0,installPrompt:m}))};return window.addEventListener("beforeinstallprompt",u),()=>window.removeEventListener("beforeinstallprompt",u)},[]),g.useEffect(()=>{const u=()=>{a(m=>({...m,isInstalled:!0,isInstallable:!1,installPrompt:null}))};return window.addEventListener("appinstalled",u),()=>window.removeEventListener("appinstalled",u)},[]),g.useEffect(()=>{const u=()=>a(h=>({...h,isOffline:!1})),m=()=>a(h=>({...h,isOffline:!0}));return window.addEventListener("online",u),window.addEventListener("offline",m),()=>{window.removeEventListener("online",u),window.removeEventListener("offline",m)}},[]),g.useEffect(()=>{"serviceWorker"in navigator&&(navigator.serviceWorker.ready.then(u=>{s(u);const m=setInterval(()=>{u.update().catch(console.error)},3600*1e3);return()=>clearInterval(m)}),navigator.serviceWorker.addEventListener("controllerchange",()=>{console.log("New service worker activated")}))},[]),g.useEffect(()=>{if(!r)return;const u=()=>{r.waiting&&a(m=>({...m,isUpdateAvailable:!0}))};r.addEventListener("updatefound",()=>{const m=r.installing;m&&m.addEventListener("statechange",()=>{m.state==="installed"&&navigator.serviceWorker.controller&&u()})}),u()},[r]);const i=g.useCallback(async()=>{if(!t.installPrompt)return console.warn("Install prompt not available"),!1;try{await t.installPrompt.prompt();const{outcome:u}=await t.installPrompt.userChoice;return u==="accepted"?(a(m=>({...m,isInstallable:!1,installPrompt:null})),!0):!1}catch(u){return console.error("Error installing app:",u),!1}},[t.installPrompt]),c=g.useCallback(()=>{r?.waiting&&(r.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload())},[r]),o=g.useCallback(()=>{a(u=>({...u,isUpdateAvailable:!1}))},[]);return{...t,installApp:i,updateApp:c,dismissUpdate:o}}const _P=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CP=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,r,s)=>s?s.toUpperCase():r.toLowerCase()),Y2=t=>{const a=CP(t);return a.charAt(0).toUpperCase()+a.slice(1)},N5=(...t)=>t.filter((a,r,s)=>!!a&&a.trim()!==""&&s.indexOf(a)===r).join(" ").trim(),kP=t=>{for(const a in t)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};var AP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const EP=g.forwardRef(({color:t="currentColor",size:a=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:i="",children:c,iconNode:o,...u},m)=>g.createElement("svg",{ref:m,...AP,width:a,height:a,stroke:t,strokeWidth:s?Number(r)*24/Number(a):r,className:N5("lucide",i),...!c&&!kP(u)&&{"aria-hidden":"true"},...u},[...o.map(([h,x])=>g.createElement(h,x)),...Array.isArray(c)?c:[c]]));const ue=(t,a)=>{const r=g.forwardRef(({className:s,...i},c)=>g.createElement(EP,{ref:c,iconNode:a,className:N5(`lucide-${_P(Y2(t))}`,`lucide-${t}`,s),...i}));return r.displayName=Y2(t),r};const OP=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],TP=ue("activity",OP);const DP=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]],X2=ue("arrow-down-up",DP);const PP=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],gd=ue("arrow-left",PP);const zP=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],Lo=ue("arrow-right-left",zP);const MP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Pa=ue("arrow-right",MP);const RP=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],LP=ue("award",RP);const IP=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],$P=ue("bell",IP);const BP=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],za=ue("book-open",BP);const FP=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Wa=ue("brain",FP);const UP=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Ko=ue("briefcase",UP);const qP=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Li=ue("building-2",qP);const HP=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],VP=ue("building",HP);const GP=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Io=ue("calculator",GP);const KP=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],nt=ue("calendar",KP);const YP=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],XP=ue("camera",YP);const WP=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Za=ue("chart-column",WP);const ZP=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],QP=ue("chart-pie",ZP);const JP=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Xn=ue("check",JP);const ez=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],yd=ue("chevron-down",ez);const tz=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],w5=ue("chevron-left",tz);const az=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],vc=ue("chevron-right",az);const rz=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],sz=ue("chevron-up",rz);const nz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ca=ue("circle-alert",nz);const iz=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Me=ue("circle-check-big",iz);const lz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],oy=ue("circle-user",lz);const cz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],rc=ue("circle-x",cz);const oz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dz=ue("circle",oz);const uz=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fr=ue("clock",uz);const mz=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],xz=ue("coins",mz);const hz=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Sv=ue("credit-card",hz);const pz=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ht=ue("dollar-sign",pz);const fz=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],tr=ue("download",fz);const gz=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],S5=ue("ellipsis-vertical",gz);const yz=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Qn=ue("eye",yz);const vz=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],W2=ue("file-check",vz);const bz=[["path",{d:"M4 11V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-1",key:"1q9hii"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M2 15h10",key:"jfw4w8"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]],jz=ue("file-input",bz);const Nz=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],_5=ue("file-spreadsheet",Nz);const wz=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ze=ue("file-text",wz);const Sz=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]],_z=ue("folder-kanban",Sz);const Cz=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],qi=ue("funnel",Cz);const kz=[["path",{d:"M6 3v12",key:"qpgusn"}],["path",{d:"M18 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6z",key:"1d02ji"}],["path",{d:"M6 21a3 3 0 1 0 0-6 3 3 0 0 0 0 6z",key:"chk6ph"}],["path",{d:"M15 6a9 9 0 0 0-9 9",key:"or332x"}],["path",{d:"M18 15v6",key:"9wciyi"}],["path",{d:"M21 18h-6",key:"139f0c"}]],Az=ue("git-branch-plus",kz);const Ez=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],ff=ue("git-branch",Ez);const Oz=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Z2=ue("graduation-cap",Oz);const Tz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Dz=ue("info",Tz);const Pz=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],zz=ue("landmark",Pz);const Mz=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],dy=ue("layers",Mz);const Rz=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Vl=ue("layout-dashboard",Rz);const Lz=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Mm=ue("lightbulb",Lz);const Iz=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],$z=ue("list-todo",Iz);const Bz=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Fz=ue("loader-circle",Bz);const Uz=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],uy=ue("lock",Uz);const qz=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Q2=ue("log-in",qz);const Hz=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Vz=ue("log-out",Hz);const Gz=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Hi=ue("mail",Gz);const Kz=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],C5=ue("map-pin",Kz);const Yz=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],Xz=ue("maximize",Yz);const Wz=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Zz=ue("menu",Wz);const Qz=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Jz=ue("message-circle",Qz);const eM=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Vm=ue("message-square",eM);const tM=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],_t=ue("package",tM);const aM=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],my=ue("pause",aM);const rM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],_v=ue("pen",rM);const sM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],nM=ue("pencil",sM);const iM=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Yo=ue("phone",iM);const lM=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Cv=ue("play",lM);const cM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],wt=ue("plus",cM);const oM=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],dM=ue("printer",oM);const uM=[["path",{d:"M13 16H8",key:"wsln4y"}],["path",{d:"M14 8H8",key:"1l3xfs"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"M4 3a1 1 0 0 1 1-1 1.3 1.3 0 0 1 .7.2l.933.6a1.3 1.3 0 0 0 1.4 0l.934-.6a1.3 1.3 0 0 1 1.4 0l.933.6a1.3 1.3 0 0 0 1.4 0l.933-.6a1.3 1.3 0 0 1 1.4 0l.934.6a1.3 1.3 0 0 0 1.4 0l.933-.6A1.3 1.3 0 0 1 19 2a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1 1.3 1.3 0 0 1-.7-.2l-.933-.6a1.3 1.3 0 0 0-1.4 0l-.934.6a1.3 1.3 0 0 1-1.4 0l-.933-.6a1.3 1.3 0 0 0-1.4 0l-.933.6a1.3 1.3 0 0 1-1.4 0l-.934-.6a1.3 1.3 0 0 0-1.4 0l-.933.6a1.3 1.3 0 0 1-.7.2 1 1 0 0 1-1-1z",key:"ycz6yz"}]],mM=ue("receipt-text",uM);const xM=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Gm=ue("receipt",xM);const hM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],sc=ue("refresh-cw",hM);const pM=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],J2=ue("repeat",pM);const fM=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Xl=ue("save",fM);const gM=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],xy=ue("scale",gM);const yM=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],vM=ue("scan-line",yM);const bM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Oa=ue("search",bM);const jM=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Zx=ue("send",jM);const NM=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Wn=ue("settings",NM);const wM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],kv=ue("shield",wM);const SM=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Rm=ue("shopping-cart",SM);const _M=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],CM=ue("skip-forward",_M);const kM=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],nc=ue("sparkles",kM);const AM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ya=ue("square-pen",AM);const EM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],OM=ue("square",EM);const TM=[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]],DM=ue("star-off",TM);const PM=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],zM=ue("star",PM);const MM=[["path",{d:"M13.172 2a2 2 0 0 1 1.414.586l6.71 6.71a2.4 2.4 0 0 1 0 3.408l-4.592 4.592a2.4 2.4 0 0 1-3.408 0l-6.71-6.71A2 2 0 0 1 6 9.172V3a1 1 0 0 1 1-1z",key:"16rjxf"}],["path",{d:"M2 7v6.172a2 2 0 0 0 .586 1.414l6.71 6.71a2.4 2.4 0 0 0 3.191.193",key:"178nd4"}],["circle",{cx:"10.5",cy:"6.5",r:".5",fill:"currentColor",key:"12ikhr"}]],e4=ue("tags",MM);const RM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],js=ue("target",RM);const LM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],oa=ue("trash-2",LM);const IM=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],en=ue("trending-down",IM);const $M=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ue=ue("trending-up",$M);const BM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],xr=ue("triangle-alert",BM);const FM=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Xo=ue("upload",FM);const UM=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],qM=ue("user-check",UM);const HM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],t4=ue("user-plus",HM);const VM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],as=ue("user",VM);const GM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ka=ue("users",GM);const KM=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],YM=ue("volume-2",KM);const XM=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],WM=ue("volume-x",XM);const ZM=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],nn=ue("warehouse",ZM);const QM=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],JM=ue("wifi-off",QM);const eR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ht=ue("x",eR);const tR=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],hy=ue("zap",tR);function aR(){const{isInstallable:t,isInstalled:a,installApp:r}=wv(),[s,i]=We.useState(!1);return!t||a||s?null:e.jsx("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-96 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 p-4 z-50 animate-slide-up",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:e.jsx(tr,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Instaleaz DocumentIulia"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:"Adaug aplicaia pe ecranul principal pentru acces rapid i funcionare offline."}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsx("button",{onClick:r,className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Instaleaz"}),e.jsx("button",{onClick:()=>i(!0),className:"px-4 py-2 text-gray-600 dark:text-gray-300 text-sm font-medium hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Mai trziu"})]})]}),e.jsx("button",{onClick:()=>i(!0),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:e.jsx(ht,{className:"w-5 h-5"})})]})})}function rR(){const{isUpdateAvailable:t,updateApp:a,dismissUpdate:r}=wv();return t?e.jsx("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-96 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-blue-200 dark:border-blue-700 p-4 z-50 animate-slide-up",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:e.jsx(sc,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Actualizare disponibil"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:"O nou versiune a aplicaiei este disponibil. Actualizeaz acum pentru cele mai noi funcionaliti."}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsx("button",{onClick:a,className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Actualizeaz"}),e.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-600 dark:text-gray-300 text-sm font-medium hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Mai trziu"})]})]}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:e.jsx(ht,{className:"w-5 h-5"})})]})}):null}function sR(){const{isOffline:t}=wv();return t?e.jsxs("div",{className:"fixed top-0 left-0 right-0 bg-yellow-500 text-yellow-900 px-4 py-2 flex items-center justify-center gap-2 z-50 text-sm font-medium",children:[e.jsx(JM,{className:"w-4 h-4"}),e.jsx("span",{children:"Eti offline. Unele funcionaliti pot fi limitate."})]}):null}function nR(){return e.jsxs(e.Fragment,{children:[e.jsx(sR,{}),e.jsx(aR,{}),e.jsx(rR,{})]})}const iR=()=>e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-primary-100",children:[e.jsx("nav",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-600 to-primary-700 rounded-lg flex items-center justify-center",children:e.jsx(Wa,{className:"w-6 h-6 text-white"})}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:"DocumentIulia"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Ne,{to:"/courses",className:"text-gray-700 hover:text-primary-600 font-medium",children:" Cursuri"}),e.jsx(Ne,{to:"/forum",className:"text-gray-700 hover:text-primary-600 font-medium",children:" Forum"}),e.jsx(Ne,{to:"/fiscal-law",className:"text-gray-700 hover:text-primary-600 font-medium",children:" Legislaie Fiscal"}),e.jsx(Ne,{to:"/login",className:"text-gray-700 hover:text-primary-600 font-medium",children:"Conectare"}),e.jsx(Ne,{to:"/register",className:"btn-primary",children:"ncepe Gratuit"})]})]})})}),e.jsx("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-100 rounded-full mb-6",children:[e.jsx(nc,{className:"w-4 h-4 text-primary-600"}),e.jsx("span",{className:"text-sm font-medium text-primary-700",children:"AI-Powered Financial Intelligence"})]}),e.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-gray-900 mb-6",children:["Contabilitatea Ta,",e.jsx("br",{}),e.jsx("span",{className:"bg-gradient-to-r from-primary-600 to-primary-700 bg-clip-text text-transparent",children:"Automatizat cu AI"})]}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-10",children:"Uit de foi de calcul nesfrite. DocumentIulia automatizeaz contabilitatea, prezice fluxul de numerar i ofer sfaturi fiscale AI bazate pe legislaia romneasc. Economisete 15 ore pe sptmn."}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsxs(Ne,{to:"/register",className:"btn-primary px-8 py-4 text-lg flex items-center gap-2",children:["ncepe Gratuit",e.jsx(Pa,{className:"w-5 h-5"})]}),e.jsx(Ne,{to:"/login",className:"btn-secondary px-8 py-4 text-lg",children:"Vezi Demo"})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-6",children:"Fr card bancar  Gratuit 14 zile  Anulezi oricnd"})]})}),e.jsx("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 text-center",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsx("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:"2,500+"}),e.jsx("div",{className:"text-gray-600",children:"Afaceri din Romnia"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsx("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:"15 ore"}),e.jsx("div",{className:"text-gray-600",children:"Economisite/Sptmn"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsx("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:"98.5%"}),e.jsx("div",{className:"text-gray-600",children:"Acuratee AI"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsx("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:"24/7"}),e.jsx("div",{className:"text-gray-600",children:"Monitorizare Automat"})]})]})}),e.jsxs("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Tot ce ai nevoie pentru contabilitate inteligent"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Funcionaliti puternice adaptate legislaiei romneti - economiseti timp i bani"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx(Wa,{className:"w-6 h-6 text-primary-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Consultant AI de Business"}),e.jsx("p",{className:"text-gray-600",children:"Primete recomandri personalizate bazate pe contextul afacerii tale. Decizii mai inteligente, rezultate mai bune - cu puterea AI."})]}),e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx(Ue,{className:"w-6 h-6 text-primary-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Predicie Flux de Numerar"}),e.jsx("p",{className:"text-gray-600",children:"Previziuni cu acuratee de 98%. tii exact cnd ai nevoie de finanare sau cnd poi investi surplusul. Zero surprize neplcute."})]}),e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx(hy,{className:"w-6 h-6 text-primary-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Facturare Automat"}),e.jsx("p",{className:"text-gray-600",children:"Creeaz, trimite i urmrete facturi automat. ncaseaz mai repede cu reminder-e inteligente i pli online integrate."})]}),e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx(Za,{className:"w-6 h-6 text-primary-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Rapoarte n Timp Real"}),e.jsx("p",{className:"text-gray-600",children:"Dashboard-uri interactive actualizate instant. nelegi performana afacerii tale dintr-o privire - fr Excel complicat."})]}),e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx(Ht,{className:"w-6 h-6 text-primary-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Gestionare Cheltuieli"}),e.jsx("p",{className:"text-gray-600",children:"Scaneaz bonuri cu telefonul. AI categorizeaz automat cheltuielile i genereaz rapoarte pentru contabil - economiseti ore ntregi."})]}),e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx(kv,{className:"w-6 h-6 text-primary-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Securitate Bancar + GDPR"}),e.jsx("p",{className:"text-gray-600",children:"Datele tale criptate 256-bit end-to-end. Conformitate total GDPR i legislaie fiscal romneasc. Datele tale sunt n siguran."})]}),e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm hover:shadow-md transition-shadow border-2 border-primary-200",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx("svg",{className:"w-6 h-6 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})})}),e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:["Forum Comunitate",e.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-primary-100 text-primary-700 rounded-full",children:"NOU"})]}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Pune ntrebri, primete rspunsuri de la experi, mprtete cunotine. Sistem de reputaie, badge-uri i leaderboard - nva mpreun!"}),e.jsxs(Ne,{to:"/forum",className:"inline-flex items-center text-primary-600 hover:text-primary-700 font-medium",children:["Exploreaz forumul",e.jsx(Pa,{className:"w-4 h-4 ml-1"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm hover:shadow-md transition-shadow border-2 border-primary-200",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx("svg",{className:"w-6 h-6 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:["Cursuri Finance",e.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-primary-100 text-primary-700 rounded-full",children:"NOU"})]}),e.jsx("p",{className:"text-gray-600 mb-4",children:"40 de lecii interactive despre contabilitate i fiscalitate romneasc. nva cu flashcard-uri, quizuri i aplicaii practice."}),e.jsxs(Ne,{to:"/courses",className:"inline-flex items-center text-primary-600 hover:text-primary-700 font-medium",children:["Vezi cursurile",e.jsx(Pa,{className:"w-4 h-4 ml-1"})]})]})]})]}),e.jsx("section",{className:"bg-gray-50 py-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Simple, transparent pricing"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Choose the plan that fits your business"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Starter"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Perfect for freelancers"}),e.jsxs("div",{className:"text-4xl font-bold text-gray-900 mb-6",children:["$29",e.jsx("span",{className:"text-lg font-normal text-gray-600",children:"/month"})]}),e.jsxs("ul",{className:"space-y-3 mb-8",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Me,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700",children:"Up to 50 invoices/month"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Me,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700",children:"Basic AI insights"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Me,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700",children:"Expense tracking"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Me,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700",children:"Email support"})]})]}),e.jsx(Ne,{to:"/register",className:"btn-secondary w-full text-center",children:"Start Free Trial"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg border-2 border-primary-600 relative",children:[e.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:e.jsx("span",{className:"bg-primary-600 text-white px-4 py-1 rounded-full text-sm font-medium",children:"Most Popular"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Professional"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"For growing businesses"}),e.jsxs("div",{className:"text-4xl font-bold text-gray-900 mb-6",children:["$79",e.jsx("span",{className:"text-lg font-normal text-gray-600",children:"/month"})]}),e.jsxs("ul",{className:"space-y-3 mb-8",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Me,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700",children:"Unlimited invoices"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Me,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700",children:"Advanced AI insights"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Me,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700",children:"Cash flow forecasting"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Me,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700",children:"Priority support"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Me,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700",children:"Custom reports"})]})]}),e.jsx(Ne,{to:"/register",className:"btn-primary w-full text-center",children:"Start Free Trial"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Enterprise"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"For large organizations"}),e.jsxs("div",{className:"text-4xl font-bold text-gray-900 mb-6",children:["Custom",e.jsx("span",{className:"text-lg font-normal text-gray-600"})]}),e.jsxs("ul",{className:"space-y-3 mb-8",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Me,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700",children:"Everything in Pro"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Me,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700",children:"Dedicated account manager"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Me,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700",children:"Custom integrations"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Me,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700",children:"On-premise deployment"})]})]}),e.jsx(Ne,{to:"/register",className:"btn-secondary w-full text-center",children:"Contact Sales"})]})]})]})}),e.jsx("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:e.jsxs("div",{className:"bg-gradient-to-br from-primary-600 to-primary-700 rounded-2xl p-12 text-center text-white",children:[e.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Gata s-i automatizezi contabilitatea?"}),e.jsx("p",{className:"text-xl mb-8 text-primary-100",children:"Altur-te la mii de antreprenori romni care folosesc deja DocumentIulia"}),e.jsx("div",{className:"flex gap-4 justify-center",children:e.jsxs(Ne,{to:"/register",className:"bg-white text-primary-600 hover:bg-gray-100 px-8 py-4 rounded-lg font-semibold inline-flex items-center gap-2",children:["ncepe Acum Gratuit",e.jsx(Pa,{className:"w-5 h-5"})]})})]})}),e.jsx("footer",{className:"bg-gray-900 text-gray-400 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:e.jsx(Wa,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"text-white font-bold",children:"DocumentIulia"})]}),e.jsx("p",{className:"text-sm",children:"Platform de contabilitate inteligent pentru afaceri moderne din Romnia."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-semibold mb-4",children:"Product"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white",children:"Features"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white",children:"Pricing"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white",children:"Security"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-semibold mb-4",children:"Company"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white",children:"About"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white",children:"Blog"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white",children:"Careers"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-semibold mb-4",children:"Support"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white",children:"Help Center"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white",children:"Contact"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white",children:"Privacy"})})]})]})]}),e.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-sm",children:e.jsx("p",{children:" 2025 DocumentIulia. Toate drepturile rezervate."})})]})})]}),lR=()=>{const[t,a]=g.useState(""),[r,s]=g.useState(""),[i,c]=g.useState(""),[o,u]=g.useState(!1),{login:m}=Ct(),h=Be(),x=async f=>{f.preventDefault(),c(""),u(!0);try{await m(t,r),h("/dashboard")}catch(v){c(v.message||"Failed to login")}finally{u(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-600 rounded-full mb-4",children:e.jsx(Q2,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"DocumentIulia"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Conecteaz-te la contul tu"})]}),e.jsxs("div",{className:"card",children:[e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[i&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(ca,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-red-800",children:i})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Adres Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(Hi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{id:"email",type:"email",value:t,onChange:f=>a(f.target.value),className:"input pl-10",placeholder:"you@company.com",required:!0,disabled:o})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Parol"}),e.jsxs("div",{className:"relative",children:[e.jsx(uy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{id:"password",type:"password",value:r,onChange:f=>s(f.target.value),className:"input pl-10",placeholder:"",required:!0,disabled:o})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"ine-m minte"})]}),e.jsx(Ne,{to:"/forgot-password",className:"text-sm text-primary-600 hover:text-primary-700",children:"Ai uitat parola?"})]}),e.jsx("button",{type:"submit",disabled:o,className:"btn-primary w-full flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Se conecteaz..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Q2,{className:"w-5 h-5"}),"Conectare"]})})]}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("p",{className:"text-sm text-blue-800 font-medium mb-2",children:"Cont Test (Admin):"}),e.jsxs("p",{className:"text-xs text-blue-700",children:["Email: test_admin@accountech.com",e.jsx("br",{}),"Parol: Test123!"]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Nu ai cont?"," ",e.jsx(Ne,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-700",children:"nregistreaz-te"})]})})]}),e.jsx("p",{className:"text-center text-sm text-gray-600 mt-8",children:" 2025 DocumentIulia. Toate drepturile rezervate."})]})})},cR=()=>{const[t,a]=g.useState(""),[r,s]=g.useState(""),[i,c]=g.useState(""),[o,u]=g.useState(""),[m,h]=g.useState(""),[x,f]=g.useState(!1),{register:v}=Ct(),b=Be(),w=async N=>{if(N.preventDefault(),h(""),i!==o){h("Passwords do not match");return}if(i.length<6){h("Password must be at least 6 characters");return}f(!0);try{await v(r,i,t),b("/dashboard")}catch(y){h(y.message||"Failed to register")}finally{f(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-600 rounded-full mb-4",children:e.jsx(t4,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Create Account"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Start your 14-day free trial"})]}),e.jsxs("div",{className:"card",children:[e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[m&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(ca,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-red-800",children:m})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(as,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{id:"name",type:"text",value:t,onChange:N=>a(N.target.value),className:"input pl-10",placeholder:"John Doe",required:!0,disabled:x})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(Hi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{id:"email",type:"email",value:r,onChange:N=>s(N.target.value),className:"input pl-10",placeholder:"you@company.com",required:!0,disabled:x})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(uy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{id:"password",type:"password",value:i,onChange:N=>c(N.target.value),className:"input pl-10",placeholder:"",required:!0,disabled:x,minLength:6})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(uy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{id:"confirmPassword",type:"password",value:o,onChange:N=>u(N.target.value),className:"input pl-10",placeholder:"",required:!0,disabled:x})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",required:!0,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500 mt-1"}),e.jsxs("label",{className:"ml-2 text-sm text-gray-600",children:["I agree to the"," ",e.jsx("a",{href:"#",className:"text-primary-600 hover:text-primary-700",children:"Terms of Service"})," ","and"," ",e.jsx("a",{href:"#",className:"text-primary-600 hover:text-primary-700",children:"Privacy Policy"})]})]}),e.jsx("button",{type:"submit",disabled:x,className:"btn-primary w-full flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:x?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating account..."]}):e.jsxs(e.Fragment,{children:[e.jsx(t4,{className:"w-5 h-5"}),"Create Account"]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",e.jsx(Ne,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-700",children:"Sign in"})]})})]}),e.jsx("p",{className:"text-center text-sm text-gray-600 mt-8",children:" 2025 AccounTech AI. All rights reserved."})]})})};function k5(t){var a,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(a=0;a<i;a++)t[a]&&(r=k5(t[a]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function Ge(){for(var t,a,r=0,s="",i=arguments.length;r<i;r++)(t=arguments[r])&&(a=k5(t))&&(s&&(s+=" "),s+=a);return s}var oR=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Av(t){if(typeof t!="string")return!1;var a=oR;return a.includes(t)}var dR=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],uR=new Set(dR);function A5(t){return typeof t!="string"?!1:uR.has(t)}function E5(t){return typeof t=="string"&&t.startsWith("data-")}function Fr(t){if(typeof t!="object"||t===null)return{};var a={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(A5(r)||E5(r))&&(a[r]=t[r]);return a}function ic(t){if(t==null)return null;if(g.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var a=t.props;return Fr(a)}return typeof t=="object"&&!Array.isArray(t)?Fr(t):null}function Ea(t){var a={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(A5(r)||E5(r)||Av(r))&&(a[r]=t[r]);return a}function mR(t){return t==null?null:g.isValidElement(t)?Ea(t.props):typeof t=="object"&&!Array.isArray(t)?Ea(t):null}var xR=["children","width","height","viewBox","className","style","title","desc"];function py(){return py=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)({}).hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},py.apply(null,arguments)}function hR(t,a){if(t==null)return{};var r,s,i=pR(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(s=0;s<c.length;s++)r=c[s],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function pR(t,a){if(t==null)return{};var r={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(a.indexOf(s)!==-1)continue;r[s]=t[s]}return r}var Ev=g.forwardRef((t,a)=>{var{children:r,width:s,height:i,viewBox:c,className:o,style:u,title:m,desc:h}=t,x=hR(t,xR),f=c||{width:s,height:i,x:0,y:0},v=Ge("recharts-surface",o);return g.createElement("svg",py({},Ea(x),{className:v,width:s,height:i,style:u,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:a}),g.createElement("title",null,m),g.createElement("desc",null,h),r)}),fR=["children","className"];function fy(){return fy=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)({}).hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},fy.apply(null,arguments)}function gR(t,a){if(t==null)return{};var r,s,i=yR(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(s=0;s<c.length;s++)r=c[s],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function yR(t,a){if(t==null)return{};var r={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(a.indexOf(s)!==-1)continue;r[s]=t[s]}return r}var Ra=g.forwardRef((t,a)=>{var{children:r,className:s}=t,i=gR(t,fR),c=Ge("recharts-layer",s);return g.createElement("g",fy({className:c},Ea(i),{ref:a}),r)}),O5=g.createContext(null),vR=()=>g.useContext(O5);function dt(t){return function(){return t}}const T5=Math.cos,Km=Math.sin,ds=Math.sqrt,Ym=Math.PI,Qx=2*Ym,gy=Math.PI,yy=2*gy,ki=1e-6,bR=yy-ki;function D5(t){this._+=t[0];for(let a=1,r=t.length;a<r;++a)this._+=arguments[a]+t[a]}function jR(t){let a=Math.floor(t);if(!(a>=0))throw new Error(`invalid digits: ${t}`);if(a>15)return D5;const r=10**a;return function(s){this._+=s[0];for(let i=1,c=s.length;i<c;++i)this._+=Math.round(arguments[i]*r)/r+s[i]}}class NR{constructor(a){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=a==null?D5:jR(a)}moveTo(a,r){this._append`M${this._x0=this._x1=+a},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(a,r){this._append`L${this._x1=+a},${this._y1=+r}`}quadraticCurveTo(a,r,s,i){this._append`Q${+a},${+r},${this._x1=+s},${this._y1=+i}`}bezierCurveTo(a,r,s,i,c,o){this._append`C${+a},${+r},${+s},${+i},${this._x1=+c},${this._y1=+o}`}arcTo(a,r,s,i,c){if(a=+a,r=+r,s=+s,i=+i,c=+c,c<0)throw new Error(`negative radius: ${c}`);let o=this._x1,u=this._y1,m=s-a,h=i-r,x=o-a,f=u-r,v=x*x+f*f;if(this._x1===null)this._append`M${this._x1=a},${this._y1=r}`;else if(v>ki)if(!(Math.abs(f*m-h*x)>ki)||!c)this._append`L${this._x1=a},${this._y1=r}`;else{let b=s-o,w=i-u,N=m*m+h*h,y=b*b+w*w,_=Math.sqrt(N),A=Math.sqrt(v),C=c*Math.tan((gy-Math.acos((N+v-y)/(2*_*A)))/2),E=C/A,k=C/_;Math.abs(E-1)>ki&&this._append`L${a+E*x},${r+E*f}`,this._append`A${c},${c},0,0,${+(f*b>x*w)},${this._x1=a+k*m},${this._y1=r+k*h}`}}arc(a,r,s,i,c,o){if(a=+a,r=+r,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let u=s*Math.cos(i),m=s*Math.sin(i),h=a+u,x=r+m,f=1^o,v=o?i-c:c-i;this._x1===null?this._append`M${h},${x}`:(Math.abs(this._x1-h)>ki||Math.abs(this._y1-x)>ki)&&this._append`L${h},${x}`,s&&(v<0&&(v=v%yy+yy),v>bR?this._append`A${s},${s},0,1,${f},${a-u},${r-m}A${s},${s},0,1,${f},${this._x1=h},${this._y1=x}`:v>ki&&this._append`A${s},${s},0,${+(v>=gy)},${f},${this._x1=a+s*Math.cos(c)},${this._y1=r+s*Math.sin(c)}`)}rect(a,r,s,i){this._append`M${this._x0=this._x1=+a},${this._y0=this._y1=+r}h${s=+s}v${+i}h${-s}Z`}toString(){return this._}}function Ov(t){let a=3;return t.digits=function(r){if(!arguments.length)return a;if(r==null)a=null;else{const s=Math.floor(r);if(!(s>=0))throw new RangeError(`invalid digits: ${r}`);a=s}return t},()=>new NR(a)}function Tv(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function P5(t){this._context=t}P5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,a){switch(t=+t,a=+a,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,a):this._context.moveTo(t,a);break;case 1:this._point=2;default:this._context.lineTo(t,a);break}}};function Jx(t){return new P5(t)}function z5(t){return t[0]}function M5(t){return t[1]}function R5(t,a){var r=dt(!0),s=null,i=Jx,c=null,o=Ov(u);t=typeof t=="function"?t:t===void 0?z5:dt(t),a=typeof a=="function"?a:a===void 0?M5:dt(a);function u(m){var h,x=(m=Tv(m)).length,f,v=!1,b;for(s==null&&(c=i(b=o())),h=0;h<=x;++h)!(h<x&&r(f=m[h],h,m))===v&&((v=!v)?c.lineStart():c.lineEnd()),v&&c.point(+t(f,h,m),+a(f,h,m));if(b)return c=null,b+""||null}return u.x=function(m){return arguments.length?(t=typeof m=="function"?m:dt(+m),u):t},u.y=function(m){return arguments.length?(a=typeof m=="function"?m:dt(+m),u):a},u.defined=function(m){return arguments.length?(r=typeof m=="function"?m:dt(!!m),u):r},u.curve=function(m){return arguments.length?(i=m,s!=null&&(c=i(s)),u):i},u.context=function(m){return arguments.length?(m==null?s=c=null:c=i(s=m),u):s},u}function im(t,a,r){var s=null,i=dt(!0),c=null,o=Jx,u=null,m=Ov(h);t=typeof t=="function"?t:t===void 0?z5:dt(+t),a=typeof a=="function"?a:dt(a===void 0?0:+a),r=typeof r=="function"?r:r===void 0?M5:dt(+r);function h(f){var v,b,w,N=(f=Tv(f)).length,y,_=!1,A,C=new Array(N),E=new Array(N);for(c==null&&(u=o(A=m())),v=0;v<=N;++v){if(!(v<N&&i(y=f[v],v,f))===_)if(_=!_)b=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),w=v-1;w>=b;--w)u.point(C[w],E[w]);u.lineEnd(),u.areaEnd()}_&&(C[v]=+t(y,v,f),E[v]=+a(y,v,f),u.point(s?+s(y,v,f):C[v],r?+r(y,v,f):E[v]))}if(A)return u=null,A+""||null}function x(){return R5().defined(i).curve(o).context(c)}return h.x=function(f){return arguments.length?(t=typeof f=="function"?f:dt(+f),s=null,h):t},h.x0=function(f){return arguments.length?(t=typeof f=="function"?f:dt(+f),h):t},h.x1=function(f){return arguments.length?(s=f==null?null:typeof f=="function"?f:dt(+f),h):s},h.y=function(f){return arguments.length?(a=typeof f=="function"?f:dt(+f),r=null,h):a},h.y0=function(f){return arguments.length?(a=typeof f=="function"?f:dt(+f),h):a},h.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:dt(+f),h):r},h.lineX0=h.lineY0=function(){return x().x(t).y(a)},h.lineY1=function(){return x().x(t).y(r)},h.lineX1=function(){return x().x(s).y(a)},h.defined=function(f){return arguments.length?(i=typeof f=="function"?f:dt(!!f),h):i},h.curve=function(f){return arguments.length?(o=f,c!=null&&(u=o(c)),h):o},h.context=function(f){return arguments.length?(f==null?c=u=null:u=o(c=f),h):c},h}class L5{constructor(a,r){this._context=a,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(a,r){switch(a=+a,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(a,r):this._context.moveTo(a,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+a)/2,this._y0,this._x0,r,a,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,a,this._y0,a,r);break}}this._x0=a,this._y0=r}}function wR(t){return new L5(t,!0)}function SR(t){return new L5(t,!1)}const Dv={draw(t,a){const r=ds(a/Ym);t.moveTo(r,0),t.arc(0,0,r,0,Qx)}},_R={draw(t,a){const r=ds(a/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},I5=ds(1/3),CR=I5*2,kR={draw(t,a){const r=ds(a/CR),s=r*I5;t.moveTo(0,-r),t.lineTo(s,0),t.lineTo(0,r),t.lineTo(-s,0),t.closePath()}},AR={draw(t,a){const r=ds(a),s=-r/2;t.rect(s,s,r,r)}},ER=.8908130915292852,$5=Km(Ym/10)/Km(7*Ym/10),OR=Km(Qx/10)*$5,TR=-T5(Qx/10)*$5,DR={draw(t,a){const r=ds(a*ER),s=OR*r,i=TR*r;t.moveTo(0,-r),t.lineTo(s,i);for(let c=1;c<5;++c){const o=Qx*c/5,u=T5(o),m=Km(o);t.lineTo(m*r,-u*r),t.lineTo(u*s-m*i,m*s+u*i)}t.closePath()}},gf=ds(3),PR={draw(t,a){const r=-ds(a/(gf*3));t.moveTo(0,r*2),t.lineTo(-gf*r,-r),t.lineTo(gf*r,-r),t.closePath()}},zr=-.5,Mr=ds(3)/2,vy=1/ds(12),zR=(vy/2+1)*3,MR={draw(t,a){const r=ds(a/zR),s=r/2,i=r*vy,c=s,o=r*vy+r,u=-c,m=o;t.moveTo(s,i),t.lineTo(c,o),t.lineTo(u,m),t.lineTo(zr*s-Mr*i,Mr*s+zr*i),t.lineTo(zr*c-Mr*o,Mr*c+zr*o),t.lineTo(zr*u-Mr*m,Mr*u+zr*m),t.lineTo(zr*s+Mr*i,zr*i-Mr*s),t.lineTo(zr*c+Mr*o,zr*o-Mr*c),t.lineTo(zr*u+Mr*m,zr*m-Mr*u),t.closePath()}};function RR(t,a){let r=null,s=Ov(i);t=typeof t=="function"?t:dt(t||Dv),a=typeof a=="function"?a:dt(a===void 0?64:+a);function i(){let c;if(r||(r=c=s()),t.apply(this,arguments).draw(r,+a.apply(this,arguments)),c)return r=null,c+""||null}return i.type=function(c){return arguments.length?(t=typeof c=="function"?c:dt(c),i):t},i.size=function(c){return arguments.length?(a=typeof c=="function"?c:dt(+c),i):a},i.context=function(c){return arguments.length?(r=c??null,i):r},i}function Xm(){}function Wm(t,a,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+a)/6,(t._y0+4*t._y1+r)/6)}function B5(t){this._context=t}B5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,a){switch(t=+t,a=+a,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,a):this._context.moveTo(t,a);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wm(this,t,a);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=a}};function LR(t){return new B5(t)}function F5(t){this._context=t}F5.prototype={areaStart:Xm,areaEnd:Xm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,a){switch(t=+t,a=+a,this._point){case 0:this._point=1,this._x2=t,this._y2=a;break;case 1:this._point=2,this._x3=t,this._y3=a;break;case 2:this._point=3,this._x4=t,this._y4=a,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+a)/6);break;default:Wm(this,t,a);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=a}};function IR(t){return new F5(t)}function U5(t){this._context=t}U5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,a){switch(t=+t,a=+a,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,s=(this._y0+4*this._y1+a)/6;this._line?this._context.lineTo(r,s):this._context.moveTo(r,s);break;case 3:this._point=4;default:Wm(this,t,a);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=a}};function $R(t){return new U5(t)}function q5(t){this._context=t}q5.prototype={areaStart:Xm,areaEnd:Xm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,a){t=+t,a=+a,this._point?this._context.lineTo(t,a):(this._point=1,this._context.moveTo(t,a))}};function BR(t){return new q5(t)}function a4(t){return t<0?-1:1}function r4(t,a,r){var s=t._x1-t._x0,i=a-t._x1,c=(t._y1-t._y0)/(s||i<0&&-0),o=(r-t._y1)/(i||s<0&&-0),u=(c*i+o*s)/(s+i);return(a4(c)+a4(o))*Math.min(Math.abs(c),Math.abs(o),.5*Math.abs(u))||0}function s4(t,a){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-a)/2:a}function yf(t,a,r){var s=t._x0,i=t._y0,c=t._x1,o=t._y1,u=(c-s)/3;t._context.bezierCurveTo(s+u,i+u*a,c-u,o-u*r,c,o)}function Zm(t){this._context=t}Zm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:yf(this,this._t0,s4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,a){var r=NaN;if(t=+t,a=+a,!(t===this._x1&&a===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,a):this._context.moveTo(t,a);break;case 1:this._point=2;break;case 2:this._point=3,yf(this,s4(this,r=r4(this,t,a)),r);break;default:yf(this,this._t0,r=r4(this,t,a));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=a,this._t0=r}}};function H5(t){this._context=new V5(t)}(H5.prototype=Object.create(Zm.prototype)).point=function(t,a){Zm.prototype.point.call(this,a,t)};function V5(t){this._context=t}V5.prototype={moveTo:function(t,a){this._context.moveTo(a,t)},closePath:function(){this._context.closePath()},lineTo:function(t,a){this._context.lineTo(a,t)},bezierCurveTo:function(t,a,r,s,i,c){this._context.bezierCurveTo(a,t,s,r,c,i)}};function FR(t){return new Zm(t)}function UR(t){return new H5(t)}function G5(t){this._context=t}G5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,a=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],a[0]):this._context.moveTo(t[0],a[0]),r===2)this._context.lineTo(t[1],a[1]);else for(var s=n4(t),i=n4(a),c=0,o=1;o<r;++c,++o)this._context.bezierCurveTo(s[0][c],i[0][c],s[1][c],i[1][c],t[o],a[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,a){this._x.push(+t),this._y.push(+a)}};function n4(t){var a,r=t.length-1,s,i=new Array(r),c=new Array(r),o=new Array(r);for(i[0]=0,c[0]=2,o[0]=t[0]+2*t[1],a=1;a<r-1;++a)i[a]=1,c[a]=4,o[a]=4*t[a]+2*t[a+1];for(i[r-1]=2,c[r-1]=7,o[r-1]=8*t[r-1]+t[r],a=1;a<r;++a)s=i[a]/c[a-1],c[a]-=s,o[a]-=s*o[a-1];for(i[r-1]=o[r-1]/c[r-1],a=r-2;a>=0;--a)i[a]=(o[a]-i[a+1])/c[a];for(c[r-1]=(t[r]+i[r-1])/2,a=0;a<r-1;++a)c[a]=2*t[a+1]-i[a+1];return[i,c]}function qR(t){return new G5(t)}function eh(t,a){this._context=t,this._t=a}eh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,a){switch(t=+t,a=+a,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,a):this._context.moveTo(t,a);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,a),this._context.lineTo(t,a);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,a)}break}}this._x=t,this._y=a}};function HR(t){return new eh(t,.5)}function VR(t){return new eh(t,0)}function GR(t){return new eh(t,1)}function lc(t,a){if((o=t.length)>1)for(var r=1,s,i,c=t[a[0]],o,u=c.length;r<o;++r)for(i=c,c=t[a[r]],s=0;s<u;++s)c[s][1]+=c[s][0]=isNaN(i[s][1])?i[s][0]:i[s][1]}function by(t){for(var a=t.length,r=new Array(a);--a>=0;)r[a]=a;return r}function KR(t,a){return t[a]}function YR(t){const a=[];return a.key=t,a}function XR(){var t=dt([]),a=by,r=lc,s=KR;function i(c){var o=Array.from(t.apply(this,arguments),YR),u,m=o.length,h=-1,x;for(const f of c)for(u=0,++h;u<m;++u)(o[u][h]=[0,+s(f,o[u].key,h,c)]).data=f;for(u=0,x=Tv(a(o));u<m;++u)o[x[u]].index=u;return r(o,x),o}return i.keys=function(c){return arguments.length?(t=typeof c=="function"?c:dt(Array.from(c)),i):t},i.value=function(c){return arguments.length?(s=typeof c=="function"?c:dt(+c),i):s},i.order=function(c){return arguments.length?(a=c==null?by:typeof c=="function"?c:dt(Array.from(c)),i):a},i.offset=function(c){return arguments.length?(r=c??lc,i):r},i}function WR(t,a){if((s=t.length)>0){for(var r,s,i=0,c=t[0].length,o;i<c;++i){for(o=r=0;r<s;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<s;++r)t[r][i][1]/=o}lc(t,a)}}function ZR(t,a){if((i=t.length)>0){for(var r=0,s=t[a[0]],i,c=s.length;r<c;++r){for(var o=0,u=0;o<i;++o)u+=t[o][r][1]||0;s[r][1]+=s[r][0]=-u/2}lc(t,a)}}function QR(t,a){if(!(!((o=t.length)>0)||!((c=(i=t[a[0]]).length)>0))){for(var r=0,s=1,i,c,o;s<c;++s){for(var u=0,m=0,h=0;u<o;++u){for(var x=t[a[u]],f=x[s][1]||0,v=x[s-1][1]||0,b=(f-v)/2,w=0;w<u;++w){var N=t[a[w]],y=N[s][1]||0,_=N[s-1][1]||0;b+=y-_}m+=f,h+=b*f}i[s-1][1]+=i[s-1][0]=r,m&&(r-=h/m)}i[s-1][1]+=i[s-1][0]=r,lc(t,a)}}var vf={},bf={},i4;function JR(){return i4||(i4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r){return r==="__proto__"}t.isUnsafeProperty=a})(bf)),bf}var jf={},l4;function K5(){return l4||(l4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=a})(jf)),jf}var Nf={},c4;function Pv(){return c4||(c4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}t.toKey=a})(Nf)),Nf}var wf={},Sf={},o4;function eL(){return o4||(o4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(a).join(",");const s=String(r);return s==="0"&&Object.is(Number(r),-0)?"-0":s}t.toString=a})(Sf)),Sf}var d4;function zv(){return d4||(d4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=eL(),r=Pv();function s(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=a.toString(i);const c=[],o=i.length;if(o===0)return c;let u=0,m="",h="",x=!1;for(i.charCodeAt(0)===46&&(c.push(""),u++);u<o;){const f=i[u];h?f==="\\"&&u+1<o?(u++,m+=i[u]):f===h?h="":m+=f:x?f==='"'||f==="'"?h=f:f==="]"?(x=!1,c.push(m),m=""):m+=f:f==="["?(x=!0,m&&(c.push(m),m="")):f==="."?m&&(c.push(m),m=""):m+=f,u++}return m&&c.push(m),c}t.toPath=s})(wf)),wf}var u4;function Mv(){return u4||(u4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=JR(),r=K5(),s=Pv(),i=zv();function c(u,m,h){if(u==null)return h;switch(typeof m){case"string":{if(a.isUnsafeProperty(m))return h;const x=u[m];return x===void 0?r.isDeepKey(m)?c(u,i.toPath(m),h):h:x}case"number":case"symbol":{typeof m=="number"&&(m=s.toKey(m));const x=u[m];return x===void 0?h:x}default:{if(Array.isArray(m))return o(u,m,h);if(Object.is(m?.valueOf(),-0)?m="-0":m=String(m),a.isUnsafeProperty(m))return h;const x=u[m];return x===void 0?h:x}}}function o(u,m,h){if(m.length===0)return h;let x=u;for(let f=0;f<m.length;f++){if(x==null||a.isUnsafeProperty(m[f]))return h;x=x[m[f]]}return x===void 0?h:x}t.get=c})(vf)),vf}var _f,m4;function tL(){return m4||(m4=1,_f=Mv().get),_f}var aL=tL();const Vi=xn(aL);var Aa=t=>t===0?0:t>0?1:-1,Ur=t=>typeof t=="number"&&t!=+t,ln=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Se=t=>(typeof t=="number"||t instanceof Number)&&!Ur(t),qr=t=>Se(t)||typeof t=="string",rL=0,Wo=t=>{var a=++rL;return"".concat(t||"").concat(a)},hr=function(a,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Se(a)&&typeof a!="string")return s;var c;if(ln(a)){if(r==null)return s;var o=a.indexOf("%");c=r*parseFloat(a.slice(0,o))/100}else c=+a;return Ur(c)&&(c=s),i&&r!=null&&c>r&&(c=r),c},Y5=t=>{if(!Array.isArray(t))return!1;for(var a=t.length,r={},s=0;s<a;s++)if(!r[t[s]])r[t[s]]=!0;else return!0;return!1};function Ca(t,a,r){return Se(t)&&Se(a)?t+r*(a-t):a}function X5(t,a,r){if(!(!t||!t.length))return t.find(s=>s&&(typeof a=="function"?a(s):Vi(s,a))===r)}var Wt=t=>t===null||typeof t>"u",vd=t=>Wt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function sL(t){return t!=null}function bd(){}var nL=["type","size","sizeType"];function jy(){return jy=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)({}).hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},jy.apply(null,arguments)}function x4(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function h4(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?x4(Object(r),!0).forEach(function(s){iL(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x4(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function iL(t,a,r){return(a=lL(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function lL(t){var a=cL(t,"string");return typeof a=="symbol"?a:a+""}function cL(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function oL(t,a){if(t==null)return{};var r,s,i=dL(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(s=0;s<c.length;s++)r=c[s],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function dL(t,a){if(t==null)return{};var r={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(a.indexOf(s)!==-1)continue;r[s]=t[s]}return r}var W5={symbolCircle:Dv,symbolCross:_R,symbolDiamond:kR,symbolSquare:AR,symbolStar:DR,symbolTriangle:PR,symbolWye:MR},uL=Math.PI/180,mL=t=>{var a="symbol".concat(vd(t));return W5[a]||Dv},xL=(t,a,r)=>{if(a==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*uL;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.tan(s)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},hL=(t,a)=>{W5["symbol".concat(vd(t))]=a},Rv=t=>{var{type:a="circle",size:r=64,sizeType:s="area"}=t,i=oL(t,nL),c=h4(h4({},i),{},{type:a,size:r,sizeType:s}),o="circle";typeof a=="string"&&(o=a);var u=()=>{var v=mL(o),b=RR().type(v).size(xL(r,s,o)),w=b();if(w!==null)return w},{className:m,cx:h,cy:x}=c,f=Ea(c);return Se(h)&&Se(x)&&Se(r)?g.createElement("path",jy({},f,{className:Ge("recharts-symbols",m),transform:"translate(".concat(h,", ").concat(x,")"),d:u()})):null};Rv.registerSymbol=hL;var Z5=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,Lv=(t,a)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(g.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var s={};return Object.keys(r).forEach(i=>{Av(i)&&(s[i]=(c=>r[i](r,c)))}),s},pL=(t,a,r)=>s=>(t(a,r,s),null),Iv=(t,a,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var s=null;return Object.keys(t).forEach(i=>{var c=t[i];Av(i)&&typeof c=="function"&&(s||(s={}),s[i]=pL(c,a,r))}),s};function p4(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function fL(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?p4(Object(r),!0).forEach(function(s){gL(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p4(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function gL(t,a,r){return(a=yL(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function yL(t){var a=vL(t,"string");return typeof a=="symbol"?a:a+""}function vL(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function Vt(t,a){var r=fL({},t),s=a,i=Object.keys(a),c=i.reduce((o,u)=>(o[u]===void 0&&s[u]!==void 0&&(o[u]=s[u]),o),r);return c}function Qm(){return Qm=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)({}).hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Qm.apply(null,arguments)}function f4(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function bL(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?f4(Object(r),!0).forEach(function(s){jL(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f4(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function jL(t,a,r){return(a=NL(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function NL(t){var a=wL(t,"string");return typeof a=="symbol"?a:a+""}function wL(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}var Lr=32,SL={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function _L(t){var{data:a,iconType:r,inactiveColor:s}=t,i=Lr/2,c=Lr/6,o=Lr/3,u=a.inactive?s:a.color,m=r??a.type;if(m==="none")return null;if(m==="plainline"){var h;return g.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(h=a.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:i,x2:Lr,y2:i,className:"recharts-legend-icon"})}if(m==="line")return g.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Lr,"M").concat(2*o,",").concat(i,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(m==="rect")return g.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Lr/8,"h").concat(Lr,"v").concat(Lr*3/4,"h").concat(-Lr,"z"),className:"recharts-legend-icon"});if(g.isValidElement(a.legendIcon)){var x=bL({},a);return delete x.legendIcon,g.cloneElement(a.legendIcon,x)}return g.createElement(Rv,{fill:u,cx:i,cy:i,size:Lr,sizeType:"diameter",type:m})}function CL(t){var{payload:a,iconSize:r,layout:s,formatter:i,inactiveColor:c,iconType:o}=t,u={x:0,y:0,width:Lr,height:Lr},m={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map((x,f)=>{var v=x.formatter||i,b=Ge({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:x.inactive});if(x.type==="none")return null;var w=x.inactive?c:x.color,N=v?v(x.value,x,f):x.value;return g.createElement("li",Qm({className:b,style:m,key:"legend-item-".concat(f)},Iv(t,x,f)),g.createElement(Ev,{width:r,height:r,viewBox:u,style:h,"aria-label":"".concat(N," legend icon")},g.createElement(_L,{data:x,iconType:o,inactiveColor:c})),g.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},N))})}var kL=t=>{var a=Vt(t,SL),{payload:r,layout:s,align:i}=a;if(!r||!r.length)return null;var c={padding:0,margin:0,textAlign:s==="horizontal"?i:"left"};return g.createElement("ul",{className:"recharts-default-legend",style:c},g.createElement(CL,Qm({},a,{payload:r})))},Cf={},kf={},g4;function AL(){return g4||(g4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r,s){const i=new Map;for(let c=0;c<r.length;c++){const o=r[c],u=s(o);i.has(u)||i.set(u,o)}return Array.from(i.values())}t.uniqBy=a})(kf)),kf}var Af={},y4;function Q5(){return y4||(y4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r){return r}t.identity=a})(Af)),Af}var Ef={},Of={},Tf={},v4;function EL(){return v4||(v4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=a})(Tf)),Tf}var b4;function $v(){return b4||(b4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=EL();function r(s){return s!=null&&typeof s!="function"&&a.isLength(s.length)}t.isArrayLike=r})(Of)),Of}var Df={},j4;function OL(){return j4||(j4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r){return typeof r=="object"&&r!==null}t.isObjectLike=a})(Df)),Df}var N4;function TL(){return N4||(N4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=$v(),r=OL();function s(i){return r.isObjectLike(i)&&a.isArrayLike(i)}t.isArrayLikeObject=s})(Ef)),Ef}var Pf={},zf={},w4;function DL(){return w4||(w4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=Mv();function r(s){return function(i){return a.get(i,s)}}t.property=r})(zf)),zf}var Mf={},Rf={},Lf={},If={},S4;function J5(){return S4||(S4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=a})(If)),If}var $f={},_4;function eC(){return _4||(_4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=a})($f)),$f}var Bf={},C4;function tC(){return C4||(C4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r,s){return r===s||Number.isNaN(r)&&Number.isNaN(s)}t.eq=a})(Bf)),Bf}var k4;function PL(){return k4||(k4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=J5(),r=eC(),s=tC();function i(x,f,v){return typeof v!="function"?i(x,f,()=>{}):c(x,f,function b(w,N,y,_,A,C){const E=v(w,N,y,_,A,C);return E!==void 0?!!E:c(w,N,b,C)},new Map)}function c(x,f,v,b){if(f===x)return!0;switch(typeof f){case"object":return o(x,f,v,b);case"function":return Object.keys(f).length>0?c(x,{...f},v,b):s.eq(x,f);default:return a.isObject(x)?typeof f=="string"?f==="":!0:s.eq(x,f)}}function o(x,f,v,b){if(f==null)return!0;if(Array.isArray(f))return m(x,f,v,b);if(f instanceof Map)return u(x,f,v,b);if(f instanceof Set)return h(x,f,v,b);const w=Object.keys(f);if(x==null)return w.length===0;if(w.length===0)return!0;if(b?.has(f))return b.get(f)===x;b?.set(f,x);try{for(let N=0;N<w.length;N++){const y=w[N];if(!r.isPrimitive(x)&&!(y in x)||f[y]===void 0&&x[y]!==void 0||f[y]===null&&x[y]!==null||!v(x[y],f[y],y,x,f,b))return!1}return!0}finally{b?.delete(f)}}function u(x,f,v,b){if(f.size===0)return!0;if(!(x instanceof Map))return!1;for(const[w,N]of f.entries()){const y=x.get(w);if(v(y,N,w,x,f,b)===!1)return!1}return!0}function m(x,f,v,b){if(f.length===0)return!0;if(!Array.isArray(x))return!1;const w=new Set;for(let N=0;N<f.length;N++){const y=f[N];let _=!1;for(let A=0;A<x.length;A++){if(w.has(A))continue;const C=x[A];let E=!1;if(v(C,y,N,x,f,b)&&(E=!0),E){w.add(A),_=!0;break}}if(!_)return!1}return!0}function h(x,f,v,b){return f.size===0?!0:x instanceof Set?m([...x],[...f],v,b):!1}t.isMatchWith=i,t.isSetMatch=h})(Lf)),Lf}var A4;function aC(){return A4||(A4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=PL();function r(s,i){return a.isMatchWith(s,i,()=>{})}t.isMatch=r})(Rf)),Rf}var Ff={},Uf={},qf={},E4;function zL(){return E4||(E4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r){return Object.getOwnPropertySymbols(r).filter(s=>Object.prototype.propertyIsEnumerable.call(r,s))}t.getSymbols=a})(qf)),qf}var Hf={},O4;function rC(){return O4||(O4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=a})(Hf)),Hf}var Vf={},T4;function sC(){return T4||(T4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a="[object RegExp]",r="[object String]",s="[object Number]",i="[object Boolean]",c="[object Arguments]",o="[object Symbol]",u="[object Date]",m="[object Map]",h="[object Set]",x="[object Array]",f="[object Function]",v="[object ArrayBuffer]",b="[object Object]",w="[object Error]",N="[object DataView]",y="[object Uint8Array]",_="[object Uint8ClampedArray]",A="[object Uint16Array]",C="[object Uint32Array]",E="[object BigUint64Array]",k="[object Int8Array]",O="[object Int16Array]",D="[object Int32Array]",P="[object BigInt64Array]",L="[object Float32Array]",z="[object Float64Array]";t.argumentsTag=c,t.arrayBufferTag=v,t.arrayTag=x,t.bigInt64ArrayTag=P,t.bigUint64ArrayTag=E,t.booleanTag=i,t.dataViewTag=N,t.dateTag=u,t.errorTag=w,t.float32ArrayTag=L,t.float64ArrayTag=z,t.functionTag=f,t.int16ArrayTag=O,t.int32ArrayTag=D,t.int8ArrayTag=k,t.mapTag=m,t.numberTag=s,t.objectTag=b,t.regexpTag=a,t.setTag=h,t.stringTag=r,t.symbolTag=o,t.uint16ArrayTag=A,t.uint32ArrayTag=C,t.uint8ArrayTag=y,t.uint8ClampedArrayTag=_})(Vf)),Vf}var Gf={},D4;function ML(){return D4||(D4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=a})(Gf)),Gf}var P4;function nC(){return P4||(P4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=zL(),r=rC(),s=sC(),i=eC(),c=ML();function o(x,f){return u(x,void 0,x,new Map,f)}function u(x,f,v,b=new Map,w=void 0){const N=w?.(x,f,v,b);if(N!==void 0)return N;if(i.isPrimitive(x))return x;if(b.has(x))return b.get(x);if(Array.isArray(x)){const y=new Array(x.length);b.set(x,y);for(let _=0;_<x.length;_++)y[_]=u(x[_],_,v,b,w);return Object.hasOwn(x,"index")&&(y.index=x.index),Object.hasOwn(x,"input")&&(y.input=x.input),y}if(x instanceof Date)return new Date(x.getTime());if(x instanceof RegExp){const y=new RegExp(x.source,x.flags);return y.lastIndex=x.lastIndex,y}if(x instanceof Map){const y=new Map;b.set(x,y);for(const[_,A]of x)y.set(_,u(A,_,v,b,w));return y}if(x instanceof Set){const y=new Set;b.set(x,y);for(const _ of x)y.add(u(_,void 0,v,b,w));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(x))return x.subarray();if(c.isTypedArray(x)){const y=new(Object.getPrototypeOf(x)).constructor(x.length);b.set(x,y);for(let _=0;_<x.length;_++)y[_]=u(x[_],_,v,b,w);return y}if(x instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&x instanceof SharedArrayBuffer)return x.slice(0);if(x instanceof DataView){const y=new DataView(x.buffer.slice(0),x.byteOffset,x.byteLength);return b.set(x,y),m(y,x,v,b,w),y}if(typeof File<"u"&&x instanceof File){const y=new File([x],x.name,{type:x.type});return b.set(x,y),m(y,x,v,b,w),y}if(typeof Blob<"u"&&x instanceof Blob){const y=new Blob([x],{type:x.type});return b.set(x,y),m(y,x,v,b,w),y}if(x instanceof Error){const y=new x.constructor;return b.set(x,y),y.message=x.message,y.name=x.name,y.stack=x.stack,y.cause=x.cause,m(y,x,v,b,w),y}if(x instanceof Boolean){const y=new Boolean(x.valueOf());return b.set(x,y),m(y,x,v,b,w),y}if(x instanceof Number){const y=new Number(x.valueOf());return b.set(x,y),m(y,x,v,b,w),y}if(x instanceof String){const y=new String(x.valueOf());return b.set(x,y),m(y,x,v,b,w),y}if(typeof x=="object"&&h(x)){const y=Object.create(Object.getPrototypeOf(x));return b.set(x,y),m(y,x,v,b,w),y}return x}function m(x,f,v=x,b,w){const N=[...Object.keys(f),...a.getSymbols(f)];for(let y=0;y<N.length;y++){const _=N[y],A=Object.getOwnPropertyDescriptor(x,_);(A==null||A.writable)&&(x[_]=u(f[_],_,v,b,w))}}function h(x){switch(r.getTag(x)){case s.argumentsTag:case s.arrayTag:case s.arrayBufferTag:case s.dataViewTag:case s.booleanTag:case s.dateTag:case s.float32ArrayTag:case s.float64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.mapTag:case s.numberTag:case s.objectTag:case s.regexpTag:case s.setTag:case s.stringTag:case s.symbolTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=u,t.copyProperties=m})(Uf)),Uf}var z4;function RL(){return z4||(z4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=nC();function r(s){return a.cloneDeepWithImpl(s,void 0,s,new Map,void 0)}t.cloneDeep=r})(Ff)),Ff}var M4;function LL(){return M4||(M4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=aC(),r=RL();function s(i){return i=r.cloneDeep(i),c=>a.isMatch(c,i)}t.matches=s})(Mf)),Mf}var Kf={},Yf={},Xf={},R4;function IL(){return R4||(R4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=nC(),r=sC();function s(i,c){return a.cloneDeepWith(i,(o,u,m,h)=>{const x=c?.(o,u,m,h);if(x!==void 0)return x;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new i.constructor(i?.valueOf());return a.copyProperties(f,i),f}case r.argumentsTag:{const f={};return a.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}t.cloneDeepWith=s})(Xf)),Xf}var L4;function $L(){return L4||(L4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=IL();function r(s){return a.cloneDeepWith(s)}t.cloneDeep=r})(Yf)),Yf}var Wf={},Zf={},I4;function iC(){return I4||(I4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=/^(?:0|[1-9]\d*)$/;function r(s,i=Number.MAX_SAFE_INTEGER){switch(typeof s){case"number":return Number.isInteger(s)&&s>=0&&s<i;case"symbol":return!1;case"string":return a.test(s)}}t.isIndex=r})(Zf)),Zf}var Qf={},$4;function BL(){return $4||($4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=rC();function r(s){return s!==null&&typeof s=="object"&&a.getTag(s)==="[object Arguments]"}t.isArguments=r})(Qf)),Qf}var B4;function FL(){return B4||(B4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=K5(),r=iC(),s=BL(),i=zv();function c(o,u){let m;if(Array.isArray(u)?m=u:typeof u=="string"&&a.isDeepKey(u)&&o?.[u]==null?m=i.toPath(u):m=[u],m.length===0)return!1;let h=o;for(let x=0;x<m.length;x++){const f=m[x];if((h==null||!Object.hasOwn(h,f))&&!((Array.isArray(h)||s.isArguments(h))&&r.isIndex(f)&&f<h.length))return!1;h=h[f]}return!0}t.has=c})(Wf)),Wf}var F4;function UL(){return F4||(F4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=aC(),r=Pv(),s=$L(),i=Mv(),c=FL();function o(u,m){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=r.toKey(u);break}}return m=s.cloneDeep(m),function(h){const x=i.get(h,u);return x===void 0?c.has(h,u):m===void 0?x===void 0:a.isMatch(x,m)}}t.matchesProperty=o})(Kf)),Kf}var U4;function qL(){return U4||(U4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=Q5(),r=DL(),s=LL(),i=UL();function c(o){if(o==null)return a.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):s.matches(o);case"string":case"symbol":case"number":return r.property(o)}}t.iteratee=c})(Pf)),Pf}var q4;function HL(){return q4||(q4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=AL(),r=Q5(),s=TL(),i=qL();function c(o,u=r.identity){return s.isArrayLikeObject(o)?a.uniqBy(Array.from(o),i.iteratee(u)):[]}t.uniqBy=c})(Cf)),Cf}var Jf,H4;function VL(){return H4||(H4=1,Jf=HL().uniqBy),Jf}var GL=VL();const V4=xn(GL);function lC(t,a,r){return a===!0?V4(t,r):typeof a=="function"?V4(t,a):t}var eg={exports:{}},tg={},ag={exports:{}},rg={};var G4;function KL(){if(G4)return rg;G4=1;var t=xc();function a(f,v){return f===v&&(f!==0||1/f===1/v)||f!==f&&v!==v}var r=typeof Object.is=="function"?Object.is:a,s=t.useState,i=t.useEffect,c=t.useLayoutEffect,o=t.useDebugValue;function u(f,v){var b=v(),w=s({inst:{value:b,getSnapshot:v}}),N=w[0].inst,y=w[1];return c(function(){N.value=b,N.getSnapshot=v,m(N)&&y({inst:N})},[f,b,v]),i(function(){return m(N)&&y({inst:N}),f(function(){m(N)&&y({inst:N})})},[f]),o(b),b}function m(f){var v=f.getSnapshot;f=f.value;try{var b=v();return!r(f,b)}catch{return!0}}function h(f,v){return v()}var x=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return rg.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:x,rg}var K4;function YL(){return K4||(K4=1,ag.exports=KL()),ag.exports}var Y4;function XL(){if(Y4)return tg;Y4=1;var t=xc(),a=YL();function r(h,x){return h===x&&(h!==0||1/h===1/x)||h!==h&&x!==x}var s=typeof Object.is=="function"?Object.is:r,i=a.useSyncExternalStore,c=t.useRef,o=t.useEffect,u=t.useMemo,m=t.useDebugValue;return tg.useSyncExternalStoreWithSelector=function(h,x,f,v,b){var w=c(null);if(w.current===null){var N={hasValue:!1,value:null};w.current=N}else N=w.current;w=u(function(){function _(O){if(!A){if(A=!0,C=O,O=v(O),b!==void 0&&N.hasValue){var D=N.value;if(b(D,O))return E=D}return E=O}if(D=E,s(C,O))return D;var P=v(O);return b!==void 0&&b(D,P)?(C=O,D):(C=O,E=P)}var A=!1,C,E,k=f===void 0?null:f;return[function(){return _(x())},k===null?void 0:function(){return _(k())}]},[x,f,v,b]);var y=i(h,w[0],w[1]);return o(function(){N.hasValue=!0,N.value=y},[y]),m(y),y},tg}var X4;function WL(){return X4||(X4=1,eg.exports=XL()),eg.exports}var ZL=WL(),Bv=g.createContext(null),QL=t=>t,ot=()=>{var t=g.useContext(Bv);return t?t.store.dispatch:QL},Lm=()=>{},JL=()=>Lm,eI=(t,a)=>t===a;function be(t){var a=g.useContext(Bv);return ZL.useSyncExternalStoreWithSelector(a?a.subscription.addNestedSub:JL,a?a.store.getState:Lm,a?a.store.getState:Lm,a?t:Lm,eI)}function tI(t,a=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(a)}function aI(t,a=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(a)}function rI(t,a="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(s=>typeof s=="function"?`function ${s.name||"unnamed"}()`:typeof s).join(", ");throw new TypeError(`${a}[${r}]`)}}var W4=t=>Array.isArray(t)?t:[t];function sI(t){const a=Array.isArray(t[0])?t[0]:t;return rI(a,"createSelector expects all input-selectors to be functions, but received the following types: "),a}function nI(t,a){const r=[],{length:s}=t;for(let i=0;i<s;i++)r.push(t[i].apply(null,a));return r}var iI=class{constructor(t){this.value=t}deref(){return this.value}},lI=typeof WeakRef<"u"?WeakRef:iI,cI=0,Z4=1;function lm(){return{s:cI,v:void 0,o:null,p:null}}function cC(t,a={}){let r=lm();const{resultEqualityCheck:s}=a;let i,c=0;function o(){let u=r;const{length:m}=arguments;for(let f=0,v=m;f<v;f++){const b=arguments[f];if(typeof b=="function"||typeof b=="object"&&b!==null){let w=u.o;w===null&&(u.o=w=new WeakMap);const N=w.get(b);N===void 0?(u=lm(),w.set(b,u)):u=N}else{let w=u.p;w===null&&(u.p=w=new Map);const N=w.get(b);N===void 0?(u=lm(),w.set(b,u)):u=N}}const h=u;let x;if(u.s===Z4)x=u.v;else if(x=t.apply(null,arguments),c++,s){const f=i?.deref?.()??i;f!=null&&s(f,x)&&(x=f,c!==0&&c--),i=typeof x=="object"&&x!==null||typeof x=="function"?new lI(x):x}return h.s=Z4,h.v=x,x}return o.clearCache=()=>{r=lm(),o.resetResultsCount()},o.resultsCount=()=>c,o.resetResultsCount=()=>{c=0},o}function oI(t,...a){const r=typeof t=="function"?{memoize:t,memoizeOptions:a}:t,s=(...i)=>{let c=0,o=0,u,m={},h=i.pop();typeof h=="object"&&(m=h,h=i.pop()),tI(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const x={...r,...m},{memoize:f,memoizeOptions:v=[],argsMemoize:b=cC,argsMemoizeOptions:w=[]}=x,N=W4(v),y=W4(w),_=sI(i),A=f(function(){return c++,h.apply(null,arguments)},...N),C=b(function(){o++;const k=nI(_,arguments);return u=A.apply(null,k),u},...y);return Object.assign(C,{resultFunc:h,memoizedResultFunc:A,dependencies:_,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>u,recomputations:()=>c,resetRecomputations:()=>{c=0},memoize:f,argsMemoize:b})};return Object.assign(s,{withTypes:()=>s}),s}var ae=oI(cC),dI=Object.assign((t,a=ae)=>{aI(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),s=r.map(c=>t[c]);return a(s,(...c)=>c.reduce((o,u,m)=>(o[r[m]]=u,o),{}))},{withTypes:()=>dI}),sg={},ng={},ig={},Q4;function uI(){return Q4||(Q4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(s){return typeof s=="symbol"?1:s===null?2:s===void 0?3:s!==s?4:0}const r=(s,i,c)=>{if(s!==i){const o=a(s),u=a(i);if(o===u&&o===0){if(s<i)return c==="desc"?1:-1;if(s>i)return c==="desc"?-1:1}return c==="desc"?u-o:o-u}return 0};t.compareValues=r})(ig)),ig}var lg={},cg={},J4;function oC(){return J4||(J4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=a})(cg)),cg}var e6;function mI(){return e6||(e6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=oC(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;function i(c,o){return Array.isArray(c)?!1:typeof c=="number"||typeof c=="boolean"||c==null||a.isSymbol(c)?!0:typeof c=="string"&&(s.test(c)||!r.test(c))||o!=null&&Object.hasOwn(o,c)}t.isKey=i})(lg)),lg}var t6;function xI(){return t6||(t6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=uI(),r=mI(),s=zv();function i(c,o,u,m){if(c==null)return[];u=m?void 0:u,Array.isArray(c)||(c=Object.values(c)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(b=>String(b));const h=(b,w)=>{let N=b;for(let y=0;y<w.length&&N!=null;++y)N=N[w[y]];return N},x=(b,w)=>w==null||b==null?w:typeof b=="object"&&"key"in b?Object.hasOwn(w,b.key)?w[b.key]:h(w,b.path):typeof b=="function"?b(w):Array.isArray(b)?h(w,b):typeof w=="object"?w[b]:w,f=o.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||r.isKey(b)?b:{key:b,path:s.toPath(b)}));return c.map(b=>({original:b,criteria:f.map(w=>x(w,b))})).slice().sort((b,w)=>{for(let N=0;N<f.length;N++){const y=a.compareValues(b.criteria[N],w.criteria[N],u[N]);if(y!==0)return y}return 0}).map(b=>b.original)}t.orderBy=i})(ng)),ng}var og={},a6;function hI(){return a6||(a6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r,s=1){const i=[],c=Math.floor(s),o=(u,m)=>{for(let h=0;h<u.length;h++){const x=u[h];Array.isArray(x)&&m<c?o(x,m+1):i.push(x)}};return o(r,0),i}t.flatten=a})(og)),og}var dg={},r6;function dC(){return r6||(r6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=iC(),r=$v(),s=J5(),i=tC();function c(o,u,m){return s.isObject(m)&&(typeof u=="number"&&r.isArrayLike(m)&&a.isIndex(u)&&u<m.length||typeof u=="string"&&u in m)?i.eq(m[u],o):!1}t.isIterateeCall=c})(dg)),dg}var s6;function pI(){return s6||(s6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=xI(),r=hI(),s=dC();function i(c,...o){const u=o.length;return u>1&&s.isIterateeCall(c,o[0],o[1])?o=[]:u>2&&s.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),a.orderBy(c,r.flatten(o),["asc"])}t.sortBy=i})(sg)),sg}var ug,n6;function fI(){return n6||(n6=1,ug=pI().sortBy),ug}var gI=fI();const th=xn(gI);var uC=t=>t.legend.settings,yI=t=>t.legend.size,vI=t=>t.legend.payload,bI=ae([vI,uC],(t,a)=>{var{itemSorter:r}=a,s=t.flat(1);return r?th(s,r):s});function jI(){return be(bI)}var cm=1;function mC(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[a,r]=g.useState({height:0,left:0,top:0,width:0}),s=g.useCallback(i=>{if(i!=null){var c=i.getBoundingClientRect(),o={height:c.height,left:c.left,top:c.top,width:c.width};(Math.abs(o.height-a.height)>cm||Math.abs(o.left-a.left)>cm||Math.abs(o.top-a.top)>cm||Math.abs(o.width-a.width)>cm)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[a.width,a.height,a.top,a.left,...t]);return[a,s]}function ga(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var NI=typeof Symbol=="function"&&Symbol.observable||"@@observable",i6=NI,mg=()=>Math.random().toString(36).substring(7).split("").join("."),wI={INIT:`@@redux/INIT${mg()}`,REPLACE:`@@redux/REPLACE${mg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${mg()}`},Jm=wI;function Fv(t){if(typeof t!="object"||t===null)return!1;let a=t;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(t)===a||Object.getPrototypeOf(t)===null}function xC(t,a,r){if(typeof t!="function")throw new Error(ga(2));if(typeof a=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ga(0));if(typeof a=="function"&&typeof r>"u"&&(r=a,a=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ga(1));return r(xC)(t,a)}let s=t,i=a,c=new Map,o=c,u=0,m=!1;function h(){o===c&&(o=new Map,c.forEach((y,_)=>{o.set(_,y)}))}function x(){if(m)throw new Error(ga(3));return i}function f(y){if(typeof y!="function")throw new Error(ga(4));if(m)throw new Error(ga(5));let _=!0;h();const A=u++;return o.set(A,y),function(){if(_){if(m)throw new Error(ga(6));_=!1,h(),o.delete(A),c=null}}}function v(y){if(!Fv(y))throw new Error(ga(7));if(typeof y.type>"u")throw new Error(ga(8));if(typeof y.type!="string")throw new Error(ga(17));if(m)throw new Error(ga(9));try{m=!0,i=s(i,y)}finally{m=!1}return(c=o).forEach(A=>{A()}),y}function b(y){if(typeof y!="function")throw new Error(ga(10));s=y,v({type:Jm.REPLACE})}function w(){const y=f;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(ga(11));function A(){const E=_;E.next&&E.next(x())}return A(),{unsubscribe:y(A)}},[i6](){return this}}}return v({type:Jm.INIT}),{dispatch:v,subscribe:f,getState:x,replaceReducer:b,[i6]:w}}function SI(t){Object.keys(t).forEach(a=>{const r=t[a];if(typeof r(void 0,{type:Jm.INIT})>"u")throw new Error(ga(12));if(typeof r(void 0,{type:Jm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ga(13))})}function hC(t){const a=Object.keys(t),r={};for(let c=0;c<a.length;c++){const o=a[c];typeof t[o]=="function"&&(r[o]=t[o])}const s=Object.keys(r);let i;try{SI(r)}catch(c){i=c}return function(o={},u){if(i)throw i;let m=!1;const h={};for(let x=0;x<s.length;x++){const f=s[x],v=r[f],b=o[f],w=v(b,u);if(typeof w>"u")throw u&&u.type,new Error(ga(14));h[f]=w,m=m||w!==b}return m=m||s.length!==Object.keys(o).length,m?h:o}}function ex(...t){return t.length===0?a=>a:t.length===1?t[0]:t.reduce((a,r)=>(...s)=>a(r(...s)))}function _I(...t){return a=>(r,s)=>{const i=a(r,s);let c=()=>{throw new Error(ga(15))};const o={getState:i.getState,dispatch:(m,...h)=>c(m,...h)},u=t.map(m=>m(o));return c=ex(...u)(i.dispatch),{...i,dispatch:c}}}function pC(t){return Fv(t)&&"type"in t&&typeof t.type=="string"}var fC=Symbol.for("immer-nothing"),l6=Symbol.for("immer-draftable"),gr=Symbol.for("immer-state");function es(t,...a){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Zo=Object.getPrototypeOf;function Gi(t){return!!t&&!!t[gr]}function cn(t){return t?gC(t)||Array.isArray(t)||!!t[l6]||!!t.constructor?.[l6]||jd(t)||rh(t):!1}var CI=Object.prototype.constructor.toString(),c6=new WeakMap;function gC(t){if(!t||typeof t!="object")return!1;const a=Object.getPrototypeOf(t);if(a===null||a===Object.prototype)return!0;const r=Object.hasOwnProperty.call(a,"constructor")&&a.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let s=c6.get(r);return s===void 0&&(s=Function.toString.call(r),c6.set(r,s)),s===CI}function tx(t,a,r=!0){ah(t)===0?(r?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{a(i,t[i],t)}):t.forEach((s,i)=>a(i,s,t))}function ah(t){const a=t[gr];return a?a.type_:Array.isArray(t)?1:jd(t)?2:rh(t)?3:0}function Ny(t,a){return ah(t)===2?t.has(a):Object.prototype.hasOwnProperty.call(t,a)}function yC(t,a,r){const s=ah(t);s===2?t.set(a,r):s===3?t.add(r):t[a]=r}function kI(t,a){return t===a?t!==0||1/t===1/a:t!==t&&a!==a}function jd(t){return t instanceof Map}function rh(t){return t instanceof Set}function Ai(t){return t.copy_||t.base_}function wy(t,a){if(jd(t))return new Map(t);if(rh(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=gC(t);if(a===!0||a==="class_only"&&!r){const s=Object.getOwnPropertyDescriptors(t);delete s[gr];let i=Reflect.ownKeys(s);for(let c=0;c<i.length;c++){const o=i[c],u=s[o];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(s[o]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[o]})}return Object.create(Zo(t),s)}else{const s=Zo(t);if(s!==null&&r)return{...t};const i=Object.create(s);return Object.assign(i,t)}}function Uv(t,a=!1){return sh(t)||Gi(t)||!cn(t)||(ah(t)>1&&Object.defineProperties(t,{set:om,add:om,clear:om,delete:om}),Object.freeze(t),a&&Object.values(t).forEach(r=>Uv(r,!0))),t}function AI(){es(2)}var om={value:AI};function sh(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var EI={};function Ki(t){const a=EI[t];return a||es(0,t),a}var Qo;function vC(){return Qo}function OI(t,a){return{drafts_:[],parent_:t,immer_:a,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function o6(t,a){a&&(Ki("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=a)}function Sy(t){_y(t),t.drafts_.forEach(TI),t.drafts_=null}function _y(t){t===Qo&&(Qo=t.parent_)}function d6(t){return Qo=OI(Qo,t)}function TI(t){const a=t[gr];a.type_===0||a.type_===1?a.revoke_():a.revoked_=!0}function u6(t,a){a.unfinalizedDrafts_=a.drafts_.length;const r=a.drafts_[0];return t!==void 0&&t!==r?(r[gr].modified_&&(Sy(a),es(4)),cn(t)&&(t=ax(a,t),a.parent_||rx(a,t)),a.patches_&&Ki("Patches").generateReplacementPatches_(r[gr].base_,t,a.patches_,a.inversePatches_)):t=ax(a,r,[]),Sy(a),a.patches_&&a.patchListener_(a.patches_,a.inversePatches_),t!==fC?t:void 0}function ax(t,a,r){if(sh(a))return a;const s=t.immer_.shouldUseStrictIteration(),i=a[gr];if(!i)return tx(a,(c,o)=>m6(t,i,a,c,o,r),s),a;if(i.scope_!==t)return a;if(!i.modified_)return rx(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const c=i.copy_;let o=c,u=!1;i.type_===3&&(o=new Set(c),c.clear(),u=!0),tx(o,(m,h)=>m6(t,i,c,m,h,r,u),s),rx(t,c,!1),r&&t.patches_&&Ki("Patches").generatePatches_(i,r,t.patches_,t.inversePatches_)}return i.copy_}function m6(t,a,r,s,i,c,o){if(i==null||typeof i!="object"&&!o)return;const u=sh(i);if(!(u&&!o)){if(Gi(i)){const m=c&&a&&a.type_!==3&&!Ny(a.assigned_,s)?c.concat(s):void 0,h=ax(t,i,m);if(yC(r,s,h),Gi(h))t.canAutoFreeze_=!1;else return}else o&&r.add(i);if(cn(i)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||a&&a.base_&&a.base_[s]===i&&u)return;ax(t,i),(!a||!a.scope_.parent_)&&typeof s!="symbol"&&(jd(r)?r.has(s):Object.prototype.propertyIsEnumerable.call(r,s))&&rx(t,i)}}}function rx(t,a,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Uv(a,r)}function DI(t,a){const r=Array.isArray(t),s={type_:r?1:0,scope_:a?a.scope_:vC(),modified_:!1,finalized_:!1,assigned_:{},parent_:a,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=s,c=qv;r&&(i=[s],c=Jo);const{revoke:o,proxy:u}=Proxy.revocable(i,c);return s.draft_=u,s.revoke_=o,u}var qv={get(t,a){if(a===gr)return t;const r=Ai(t);if(!Ny(r,a))return PI(t,r,a);const s=r[a];return t.finalized_||!cn(s)?s:s===xg(t.base_,a)?(hg(t),t.copy_[a]=ky(s,t)):s},has(t,a){return a in Ai(t)},ownKeys(t){return Reflect.ownKeys(Ai(t))},set(t,a,r){const s=bC(Ai(t),a);if(s?.set)return s.set.call(t.draft_,r),!0;if(!t.modified_){const i=xg(Ai(t),a),c=i?.[gr];if(c&&c.base_===r)return t.copy_[a]=r,t.assigned_[a]=!1,!0;if(kI(r,i)&&(r!==void 0||Ny(t.base_,a)))return!0;hg(t),Cy(t)}return t.copy_[a]===r&&(r!==void 0||a in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[a])||(t.copy_[a]=r,t.assigned_[a]=!0),!0},deleteProperty(t,a){return xg(t.base_,a)!==void 0||a in t.base_?(t.assigned_[a]=!1,hg(t),Cy(t)):delete t.assigned_[a],t.copy_&&delete t.copy_[a],!0},getOwnPropertyDescriptor(t,a){const r=Ai(t),s=Reflect.getOwnPropertyDescriptor(r,a);return s&&{writable:!0,configurable:t.type_!==1||a!=="length",enumerable:s.enumerable,value:r[a]}},defineProperty(){es(11)},getPrototypeOf(t){return Zo(t.base_)},setPrototypeOf(){es(12)}},Jo={};tx(qv,(t,a)=>{Jo[t]=function(){return arguments[0]=arguments[0][0],a.apply(this,arguments)}});Jo.deleteProperty=function(t,a){return Jo.set.call(this,t,a,void 0)};Jo.set=function(t,a,r){return qv.set.call(this,t[0],a,r,t[0])};function xg(t,a){const r=t[gr];return(r?Ai(r):t)[a]}function PI(t,a,r){const s=bC(a,r);return s?"value"in s?s.value:s.get?.call(t.draft_):void 0}function bC(t,a){if(!(a in t))return;let r=Zo(t);for(;r;){const s=Object.getOwnPropertyDescriptor(r,a);if(s)return s;r=Zo(r)}}function Cy(t){t.modified_||(t.modified_=!0,t.parent_&&Cy(t.parent_))}function hg(t){t.copy_||(t.copy_=wy(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var zI=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(a,r,s)=>{if(typeof a=="function"&&typeof r!="function"){const c=r;r=a;const o=this;return function(m=c,...h){return o.produce(m,x=>r.call(this,x,...h))}}typeof r!="function"&&es(6),s!==void 0&&typeof s!="function"&&es(7);let i;if(cn(a)){const c=d6(this),o=ky(a,void 0);let u=!0;try{i=r(o),u=!1}finally{u?Sy(c):_y(c)}return o6(c,s),u6(i,c)}else if(!a||typeof a!="object"){if(i=r(a),i===void 0&&(i=a),i===fC&&(i=void 0),this.autoFreeze_&&Uv(i,!0),s){const c=[],o=[];Ki("Patches").generateReplacementPatches_(a,i,c,o),s(c,o)}return i}else es(1,a)},this.produceWithPatches=(a,r)=>{if(typeof a=="function")return(o,...u)=>this.produceWithPatches(o,m=>a(m,...u));let s,i;return[this.produce(a,r,(o,u)=>{s=o,i=u}),s,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){cn(t)||es(8),Gi(t)&&(t=rs(t));const a=d6(this),r=ky(t,void 0);return r[gr].isManual_=!0,_y(a),r}finishDraft(t,a){const r=t&&t[gr];(!r||!r.isManual_)&&es(9);const{scope_:s}=r;return o6(s,a),u6(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,a){let r;for(r=a.length-1;r>=0;r--){const i=a[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(a=a.slice(r+1));const s=Ki("Patches").applyPatches_;return Gi(t)?s(t,a):this.produce(t,i=>s(i,a))}};function ky(t,a){const r=jd(t)?Ki("MapSet").proxyMap_(t,a):rh(t)?Ki("MapSet").proxySet_(t,a):DI(t,a);return(a?a.scope_:vC()).drafts_.push(r),r}function rs(t){return Gi(t)||es(10,t),jC(t)}function jC(t){if(!cn(t)||sh(t))return t;const a=t[gr];let r,s=!0;if(a){if(!a.modified_)return a.base_;a.finalized_=!0,r=wy(t,a.scope_.immer_.useStrictShallowCopy_),s=a.scope_.immer_.shouldUseStrictIteration()}else r=wy(t,!0);return tx(r,(i,c)=>{yC(r,i,jC(c))},s),a&&(a.finalized_=!1),r}var Ay=new zI,NC=Ay.produce,MI=Ay.setUseStrictIteration.bind(Ay);function wC(t){return({dispatch:r,getState:s})=>i=>c=>typeof c=="function"?c(r,s,t):i(c)}var RI=wC(),LI=wC,II=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ex:ex.apply(null,arguments)};function Hr(t,a){function r(...s){if(a){let i=a(...s);if(!i)throw new Error(pr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:s[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=s=>pC(s)&&s.type===t,r}var SC=class $o extends Array{constructor(...a){super(...a),Object.setPrototypeOf(this,$o.prototype)}static get[Symbol.species](){return $o}concat(...a){return super.concat.apply(this,a)}prepend(...a){return a.length===1&&Array.isArray(a[0])?new $o(...a[0].concat(this)):new $o(...a.concat(this))}};function x6(t){return cn(t)?NC(t,()=>{}):t}function dm(t,a,r){return t.has(a)?t.get(a):t.set(a,r(a)).get(a)}function $I(t){return typeof t=="boolean"}var BI=()=>function(a){const{thunk:r=!0,immutableCheck:s=!0,serializableCheck:i=!0,actionCreatorCheck:c=!0}=a??{};let o=new SC;return r&&($I(r)?o.push(RI):o.push(LI(r.extraArgument))),o},_C="RTK_autoBatch",vt=()=>t=>({payload:t,meta:{[_C]:!0}}),h6=t=>a=>{setTimeout(a,t)},CC=(t={type:"raf"})=>a=>(...r)=>{const s=a(...r);let i=!0,c=!1,o=!1;const u=new Set,m=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:h6(10):t.type==="callback"?t.queueNotification:h6(t.timeout),h=()=>{o=!1,c&&(c=!1,u.forEach(x=>x()))};return Object.assign({},s,{subscribe(x){const f=()=>i&&x(),v=s.subscribe(f);return u.add(x),()=>{v(),u.delete(x)}},dispatch(x){try{return i=!x?.meta?.[_C],c=!i,c&&(o||(o=!0,m(h))),s.dispatch(x)}finally{i=!0}}})},FI=t=>function(r){const{autoBatch:s=!0}=r??{};let i=new SC(t);return s&&i.push(CC(typeof s=="object"?s:void 0)),i};function UI(t){const a=BI(),{reducer:r=void 0,middleware:s,devTools:i=!0,preloadedState:c=void 0,enhancers:o=void 0}=t||{};let u;if(typeof r=="function")u=r;else if(Fv(r))u=hC(r);else throw new Error(pr(1));let m;typeof s=="function"?m=s(a):m=a();let h=ex;i&&(h=II({trace:!1,...typeof i=="object"&&i}));const x=_I(...m),f=FI(x);let v=typeof o=="function"?o(f):f();const b=h(...v);return xC(u,c,b)}function kC(t){const a={},r=[];let s;const i={addCase(c,o){const u=typeof c=="string"?c:c.type;if(!u)throw new Error(pr(28));if(u in a)throw new Error(pr(29));return a[u]=o,i},addAsyncThunk(c,o){return o.pending&&(a[c.pending.type]=o.pending),o.rejected&&(a[c.rejected.type]=o.rejected),o.fulfilled&&(a[c.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:c.settled,reducer:o.settled}),i},addMatcher(c,o){return r.push({matcher:c,reducer:o}),i},addDefaultCase(c){return s=c,i}};return t(i),[a,r,s]}MI(!1);function qI(t){return typeof t=="function"}function HI(t,a){let[r,s,i]=kC(a),c;if(qI(t))c=()=>x6(t());else{const u=x6(t);c=()=>u}function o(u=c(),m){let h=[r[m.type],...s.filter(({matcher:x})=>x(m)).map(({reducer:x})=>x)];return h.filter(x=>!!x).length===0&&(h=[i]),h.reduce((x,f)=>{if(f)if(Gi(x)){const b=f(x,m);return b===void 0?x:b}else{if(cn(x))return NC(x,v=>f(v,m));{const v=f(x,m);if(v===void 0){if(x===null)return x;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return x},u)}return o.getInitialState=c,o}var VI="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",GI=(t=21)=>{let a="",r=t;for(;r--;)a+=VI[Math.random()*64|0];return a},KI=Symbol.for("rtk-slice-createasyncthunk");function YI(t,a){return`${t}/${a}`}function XI({creators:t}={}){const a=t?.asyncThunk?.[KI];return function(s){const{name:i,reducerPath:c=i}=s;if(!i)throw new Error(pr(11));const o=(typeof s.reducers=="function"?s.reducers(ZI()):s.reducers)||{},u=Object.keys(o),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(C,E){const k=typeof C=="string"?C:C.type;if(!k)throw new Error(pr(12));if(k in m.sliceCaseReducersByType)throw new Error(pr(13));return m.sliceCaseReducersByType[k]=E,h},addMatcher(C,E){return m.sliceMatchers.push({matcher:C,reducer:E}),h},exposeAction(C,E){return m.actionCreators[C]=E,h},exposeCaseReducer(C,E){return m.sliceCaseReducersByName[C]=E,h}};u.forEach(C=>{const E=o[C],k={reducerName:C,type:YI(i,C),createNotation:typeof s.reducers=="function"};JI(E)?t$(k,E,h,a):QI(k,E,h)});function x(){const[C={},E=[],k=void 0]=typeof s.extraReducers=="function"?kC(s.extraReducers):[s.extraReducers],O={...C,...m.sliceCaseReducersByType};return HI(s.initialState,D=>{for(let P in O)D.addCase(P,O[P]);for(let P of m.sliceMatchers)D.addMatcher(P.matcher,P.reducer);for(let P of E)D.addMatcher(P.matcher,P.reducer);k&&D.addDefaultCase(k)})}const f=C=>C,v=new Map,b=new WeakMap;let w;function N(C,E){return w||(w=x()),w(C,E)}function y(){return w||(w=x()),w.getInitialState()}function _(C,E=!1){function k(D){let P=D[C];return typeof P>"u"&&E&&(P=dm(b,k,y)),P}function O(D=f){const P=dm(v,E,()=>new WeakMap);return dm(P,D,()=>{const L={};for(const[z,M]of Object.entries(s.selectors??{}))L[z]=WI(M,D,()=>dm(b,D,y),E);return L})}return{reducerPath:C,getSelectors:O,get selectors(){return O(k)},selectSlice:k}}const A={name:i,reducer:N,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:y,..._(c),injectInto(C,{reducerPath:E,...k}={}){const O=E??c;return C.inject({reducerPath:O,reducer:N},k),{...A,..._(O,!0)}}};return A}}function WI(t,a,r,s){function i(c,...o){let u=a(c);return typeof u>"u"&&s&&(u=r()),t(u,...o)}return i.unwrapped=t,i}var ar=XI();function ZI(){function t(a,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:a,...r}}return t.withTypes=()=>t,{reducer(a){return Object.assign({[a.name](...r){return a(...r)}}[a.name],{_reducerDefinitionType:"reducer"})},preparedReducer(a,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:a,reducer:r}},asyncThunk:t}}function QI({type:t,reducerName:a,createNotation:r},s,i){let c,o;if("reducer"in s){if(r&&!e$(s))throw new Error(pr(17));c=s.reducer,o=s.prepare}else c=s;i.addCase(t,c).exposeCaseReducer(a,c).exposeAction(a,o?Hr(t,o):Hr(t))}function JI(t){return t._reducerDefinitionType==="asyncThunk"}function e$(t){return t._reducerDefinitionType==="reducerWithPrepare"}function t$({type:t,reducerName:a},r,s,i){if(!i)throw new Error(pr(18));const{payloadCreator:c,fulfilled:o,pending:u,rejected:m,settled:h,options:x}=r,f=i(t,c,x);s.exposeAction(a,f),o&&s.addCase(f.fulfilled,o),u&&s.addCase(f.pending,u),m&&s.addCase(f.rejected,m),h&&s.addMatcher(f.settled,h),s.exposeCaseReducer(a,{fulfilled:o||um,pending:u||um,rejected:m||um,settled:h||um})}function um(){}var a$="task",AC="listener",EC="completed",Hv="cancelled",r$=`task-${Hv}`,s$=`task-${EC}`,Ey=`${AC}-${Hv}`,n$=`${AC}-${EC}`,nh=class{constructor(t){this.code=t,this.message=`${a$} ${Hv} (reason: ${t})`}name="TaskAbortError";message},Vv=(t,a)=>{if(typeof t!="function")throw new TypeError(pr(32))},sx=()=>{},OC=(t,a=sx)=>(t.catch(a),t),TC=(t,a)=>(t.addEventListener("abort",a,{once:!0}),()=>t.removeEventListener("abort",a)),Ii=(t,a)=>{const r=t.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:a,configurable:!0,writable:!0}),t.abort(a))},$i=t=>{if(t.aborted){const{reason:a}=t;throw new nh(a)}};function DC(t,a){let r=sx;return new Promise((s,i)=>{const c=()=>i(new nh(t.reason));if(t.aborted){c();return}r=TC(t,c),a.finally(()=>r()).then(s,i)}).finally(()=>{r=sx})}var i$=async(t,a)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof nh?"cancelled":"rejected",error:r}}finally{a?.()}},nx=t=>a=>OC(DC(t,a).then(r=>($i(t),r))),PC=t=>{const a=nx(t);return r=>a(new Promise(s=>setTimeout(s,r)))},{assign:Ql}=Object,p6={},ih="listenerMiddleware",l$=(t,a)=>{const r=s=>TC(t,()=>Ii(s,t.reason));return(s,i)=>{Vv(s);const c=new AbortController;r(c);const o=i$(async()=>{$i(t),$i(c.signal);const u=await s({pause:nx(c.signal),delay:PC(c.signal),signal:c.signal});return $i(c.signal),u},()=>Ii(c,s$));return i?.autoJoin&&a.push(o.catch(sx)),{result:nx(t)(o),cancel(){Ii(c,r$)}}}},c$=(t,a)=>{const r=async(s,i)=>{$i(a);let c=()=>{};const u=[new Promise((m,h)=>{let x=t({predicate:s,effect:(f,v)=>{v.unsubscribe(),m([f,v.getState(),v.getOriginalState()])}});c=()=>{x(),h()}})];i!=null&&u.push(new Promise(m=>setTimeout(m,i,null)));try{const m=await DC(a,Promise.race(u));return $i(a),m}finally{c()}};return(s,i)=>OC(r(s,i))},zC=t=>{let{type:a,actionCreator:r,matcher:s,predicate:i,effect:c}=t;if(a)i=Hr(a).match;else if(r)a=r.type,i=r.match;else if(s)i=s;else if(!i)throw new Error(pr(21));return Vv(c),{predicate:i,type:a,effect:c}},MC=Ql(t=>{const{type:a,predicate:r,effect:s}=zC(t);return{id:GI(),effect:s,type:a,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(pr(22))}}},{withTypes:()=>MC}),f6=(t,a)=>{const{type:r,effect:s,predicate:i}=zC(a);return Array.from(t.values()).find(c=>(typeof r=="string"?c.type===r:c.predicate===i)&&c.effect===s)},Oy=t=>{t.pending.forEach(a=>{Ii(a,Ey)})},o$=(t,a)=>()=>{for(const r of a.keys())Oy(r);t.clear()},g6=(t,a,r)=>{try{t(a,r)}catch(s){setTimeout(()=>{throw s},0)}},RC=Ql(Hr(`${ih}/add`),{withTypes:()=>RC}),d$=Hr(`${ih}/removeAll`),LC=Ql(Hr(`${ih}/remove`),{withTypes:()=>LC}),u$=(...t)=>{console.error(`${ih}/error`,...t)},Nd=(t={})=>{const a=new Map,r=new Map,s=b=>{const w=r.get(b)??0;r.set(b,w+1)},i=b=>{const w=r.get(b)??1;w===1?r.delete(b):r.set(b,w-1)},{extra:c,onError:o=u$}=t;Vv(o);const u=b=>(b.unsubscribe=()=>a.delete(b.id),a.set(b.id,b),w=>{b.unsubscribe(),w?.cancelActive&&Oy(b)}),m=b=>{const w=f6(a,b)??MC(b);return u(w)};Ql(m,{withTypes:()=>m});const h=b=>{const w=f6(a,b);return w&&(w.unsubscribe(),b.cancelActive&&Oy(w)),!!w};Ql(h,{withTypes:()=>h});const x=async(b,w,N,y)=>{const _=new AbortController,A=c$(m,_.signal),C=[];try{b.pending.add(_),s(b),await Promise.resolve(b.effect(w,Ql({},N,{getOriginalState:y,condition:(E,k)=>A(E,k).then(Boolean),take:A,delay:PC(_.signal),pause:nx(_.signal),extra:c,signal:_.signal,fork:l$(_.signal,C),unsubscribe:b.unsubscribe,subscribe:()=>{a.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((E,k,O)=>{E!==_&&(Ii(E,Ey),O.delete(E))})},cancel:()=>{Ii(_,Ey),b.pending.delete(_)},throwIfCancelled:()=>{$i(_.signal)}})))}catch(E){E instanceof nh||g6(o,E,{raisedBy:"effect"})}finally{await Promise.all(C),Ii(_,n$),i(b),b.pending.delete(_)}},f=o$(a,r);return{middleware:b=>w=>N=>{if(!pC(N))return w(N);if(RC.match(N))return m(N.payload);if(d$.match(N)){f();return}if(LC.match(N))return h(N.payload);let y=b.getState();const _=()=>{if(y===p6)throw new Error(pr(23));return y};let A;try{if(A=w(N),a.size>0){const C=b.getState(),E=Array.from(a.values());for(const k of E){let O=!1;try{O=k.predicate(N,C,y)}catch(D){O=!1,g6(o,D,{raisedBy:"predicate"})}O&&x(k,N,b,_)}}}finally{y=p6}return A},startListening:m,stopListening:h,clearListeners:f}};function pr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var m$={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},IC=ar({name:"chartLayout",initialState:m$,reducers:{setLayout(t,a){t.layoutType=a.payload},setChartSize(t,a){t.width=a.payload.width,t.height=a.payload.height},setMargin(t,a){var r,s,i,c;t.margin.top=(r=a.payload.top)!==null&&r!==void 0?r:0,t.margin.right=(s=a.payload.right)!==null&&s!==void 0?s:0,t.margin.bottom=(i=a.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(c=a.payload.left)!==null&&c!==void 0?c:0},setScale(t,a){t.scale=a.payload}}}),{setMargin:x$,setLayout:h$,setChartSize:p$,setScale:f$}=IC.actions,g$=IC.reducer;function $C(t,a,r){return Array.isArray(t)&&t&&a+r!==0?t.slice(a,r+1):t}function y6(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function Wl(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?y6(Object(r),!0).forEach(function(s){y$(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y6(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function y$(t,a,r){return(a=v$(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function v$(t){var a=b$(t,"string");return typeof a=="symbol"?a:a+""}function b$(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function bt(t,a,r){return Wt(t)||Wt(a)?r:qr(a)?Vi(t,a,r):typeof a=="function"?a(t):r}var j$=(t,a,r)=>{if(a&&r){var{width:s,height:i}=r,{align:c,verticalAlign:o,layout:u}=a;if((u==="vertical"||u==="horizontal"&&o==="middle")&&c!=="center"&&Se(t[c]))return Wl(Wl({},t),{},{[c]:t[c]+(s||0)});if((u==="horizontal"||u==="vertical"&&c==="center")&&o!=="middle"&&Se(t[o]))return Wl(Wl({},t),{},{[o]:t[o]+(i||0)})}return t},ri=(t,a)=>t==="horizontal"&&a==="xAxis"||t==="vertical"&&a==="yAxis"||t==="centric"&&a==="angleAxis"||t==="radial"&&a==="radiusAxis",BC=(t,a,r,s)=>{if(s)return t.map(u=>u.coordinate);var i,c,o=t.map(u=>(u.coordinate===a&&(i=!0),u.coordinate===r&&(c=!0),u.coordinate));return i||o.push(a),c||o.push(r),o},FC=(t,a,r)=>{if(!t)return null;var{duplicateDomain:s,type:i,range:c,scale:o,realScaleType:u,isCategorical:m,categoricalDomain:h,tickCount:x,ticks:f,niceTicks:v,axisType:b}=t;if(!o)return null;var w=u==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,N=i==="category"&&o.bandwidth?o.bandwidth()/w:0;if(N=b==="angleAxis"&&c&&c.length>=2?Aa(c[0]-c[1])*2*N:N,f||v){var y=(f||v||[]).map((_,A)=>{var C=s?s.indexOf(_):_;return{coordinate:o(C)+N,value:_,offset:N,index:A}});return y.filter(_=>!Ur(_.coordinate))}return m&&h?h.map((_,A)=>({coordinate:o(_)+N,value:_,index:A,offset:N})):o.ticks&&x!=null?o.ticks(x).map((_,A)=>({coordinate:o(_)+N,value:_,offset:N,index:A})):o.domain().map((_,A)=>({coordinate:o(_)+N,value:s?s[_]:_,index:A,offset:N}))},v6=1e-4,N$=t=>{var a=t.domain();if(!(!a||a.length<=2)){var r=a.length,s=t.range(),i=Math.min(s[0],s[1])-v6,c=Math.max(s[0],s[1])+v6,o=t(a[0]),u=t(a[r-1]);(o<i||o>c||u<i||u>c)&&t.domain([a[0],a[r-1]])}},w$=t=>{var a=t.length;if(!(a<=0))for(var r=0,s=t[0].length;r<s;++r)for(var i=0,c=0,o=0;o<a;++o){var u=Ur(t[o][r][1])?t[o][r][0]:t[o][r][1];u>=0?(t[o][r][0]=i,t[o][r][1]=i+u,i=t[o][r][1]):(t[o][r][0]=c,t[o][r][1]=c+u,c=t[o][r][1])}},S$=t=>{var a=t.length;if(!(a<=0))for(var r=0,s=t[0].length;r<s;++r)for(var i=0,c=0;c<a;++c){var o=Ur(t[c][r][1])?t[c][r][0]:t[c][r][1];o>=0?(t[c][r][0]=i,t[c][r][1]=i+o,i=t[c][r][1]):(t[c][r][0]=0,t[c][r][1]=0)}},_$={sign:w$,expand:WR,none:lc,silhouette:ZR,wiggle:QR,positive:S$},C$=(t,a,r)=>{var s=_$[r],i=XR().keys(a).value((c,o)=>Number(bt(c,o,0))).order(by).offset(s);return i(t)};function b6(t){var{axis:a,ticks:r,bandSize:s,entry:i,index:c,dataKey:o}=t;if(a.type==="category"){if(!a.allowDuplicatedCategory&&a.dataKey&&!Wt(i[a.dataKey])){var u=X5(r,"value",i[a.dataKey]);if(u)return u.coordinate+s/2}return r[c]?r[c].coordinate+s/2:null}var m=bt(i,Wt(o)?a.dataKey:o);return Wt(m)?null:a.scale(m)}var k$=t=>{var a=t.flat(2).filter(Se);return[Math.min(...a),Math.max(...a)]},A$=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],E$=(t,a,r)=>{if(t!=null)return A$(Object.keys(t).reduce((s,i)=>{var c=t[i],{stackedData:o}=c,u=o.reduce((m,h)=>{var x=$C(h,a,r),f=k$(x);return[Math.min(m[0],f[0]),Math.max(m[1],f[1])]},[1/0,-1/0]);return[Math.min(u[0],s[0]),Math.max(u[1],s[1])]},[1/0,-1/0]))},j6=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,N6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ix=(t,a,r)=>{if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!r||s>0)return s}if(t&&a&&a.length>=2){for(var i=th(a,x=>x.coordinate),c=1/0,o=1,u=i.length;o<u;o++){var m=i[o],h=i[o-1];c=Math.min((m.coordinate||0)-(h.coordinate||0),c)}return c===1/0?0:c}return r?void 0:0};function w6(t){var{tooltipEntrySettings:a,dataKey:r,payload:s,value:i,name:c}=t;return Wl(Wl({},a),{},{dataKey:r,payload:s,value:i,name:c})}function lh(t,a){if(t)return String(t);if(typeof a=="string")return a}var O$=(t,a)=>{if(a==="horizontal")return t.chartX;if(a==="vertical")return t.chartY},T$=(t,a)=>a==="centric"?t.angle:t.radius,hn=t=>t.layout.width,pn=t=>t.layout.height,D$=t=>t.layout.scale,UC=t=>t.layout.margin,ch=ae(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),oh=ae(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),qC="data-recharts-item-index",HC="data-recharts-item-data-key",wd=60;function S6(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function mm(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?S6(Object(r),!0).forEach(function(s){P$(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S6(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function P$(t,a,r){return(a=z$(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function z$(t){var a=M$(t,"string");return typeof a=="symbol"?a:a+""}function M$(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}var R$=t=>t.brush.height;function L$(t){var a=oh(t);return a.reduce((r,s)=>{if(s.orientation==="left"&&!s.mirror&&!s.hide){var i=typeof s.width=="number"?s.width:wd;return r+i}return r},0)}function I$(t){var a=oh(t);return a.reduce((r,s)=>{if(s.orientation==="right"&&!s.mirror&&!s.hide){var i=typeof s.width=="number"?s.width:wd;return r+i}return r},0)}function $$(t){var a=ch(t);return a.reduce((r,s)=>s.orientation==="top"&&!s.mirror&&!s.hide?r+s.height:r,0)}function B$(t){var a=ch(t);return a.reduce((r,s)=>s.orientation==="bottom"&&!s.mirror&&!s.hide?r+s.height:r,0)}var da=ae([hn,pn,UC,R$,L$,I$,$$,B$,uC,yI],(t,a,r,s,i,c,o,u,m,h)=>{var x={left:(r.left||0)+i,right:(r.right||0)+c},f={top:(r.top||0)+o,bottom:(r.bottom||0)+u},v=mm(mm({},f),x),b=v.bottom;v.bottom+=s,v=j$(v,m,h);var w=t-v.left-v.right,N=a-v.top-v.bottom;return mm(mm({brushBottom:b},v),{},{width:Math.max(w,0),height:Math.max(N,0)})}),F$=ae(da,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),VC=ae(hn,pn,(t,a)=>({x:0,y:0,width:t,height:a})),U$=g.createContext(null),La=()=>g.useContext(U$)!=null,dh=t=>t.brush,uh=ae([dh,da,UC],(t,a,r)=>({height:t.height,x:Se(t.x)?t.x:a.left,y:Se(t.y)?t.y:a.top+a.height+a.brushBottom-(r?.bottom||0),width:Se(t.width)?t.width:a.width})),pg={},fg={},gg={},_6;function q$(){return _6||(_6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r,s,{signal:i,edges:c}={}){let o,u=null;const m=c!=null&&c.includes("leading"),h=c==null||c.includes("trailing"),x=()=>{u!==null&&(r.apply(o,u),o=void 0,u=null)},f=()=>{h&&x(),N()};let v=null;const b=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,f()},s)},w=()=>{v!==null&&(clearTimeout(v),v=null)},N=()=>{w(),o=void 0,u=null},y=()=>{x()},_=function(...A){if(i?.aborted)return;o=this,u=A;const C=v==null;b(),m&&C&&x()};return _.schedule=b,_.cancel=N,_.flush=y,i?.addEventListener("abort",N,{once:!0}),_}t.debounce=a})(gg)),gg}var C6;function H$(){return C6||(C6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=q$();function r(s,i=0,c={}){typeof c!="object"&&(c={});const{leading:o=!1,trailing:u=!0,maxWait:m}=c,h=Array(2);o&&(h[0]="leading"),u&&(h[1]="trailing");let x,f=null;const v=a.debounce(function(...N){x=s.apply(this,N),f=null},i,{edges:h}),b=function(...N){return m!=null&&(f===null&&(f=Date.now()),Date.now()-f>=m)?(x=s.apply(this,N),f=Date.now(),v.cancel(),v.schedule(),x):(v.apply(this,N),x)},w=()=>(v.flush(),x);return b.cancel=v.cancel,b.flush=w,b}t.debounce=r})(fg)),fg}var k6;function V$(){return k6||(k6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=H$();function r(s,i=0,c={}){const{leading:o=!0,trailing:u=!0}=c;return a.debounce(s,i,{leading:o,maxWait:i,trailing:u})}t.throttle=r})(pg)),pg}var yg,A6;function G$(){return A6||(A6=1,yg=V$().throttle),yg}var K$=G$();const Y$=xn(K$);var lx=function(a,r){for(var s=arguments.length,i=new Array(s>2?s-2:0),c=2;c<s;c++)i[c-2]=arguments[c];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!a))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>i[o++]))}},GC=(t,a,r)=>{var{width:s="100%",height:i="100%",aspect:c,maxHeight:o}=r,u=ln(s)?t:Number(s),m=ln(i)?a:Number(i);return c&&c>0&&(u?m=u/c:m&&(u=m*c),o&&m!=null&&m>o&&(m=o)),{calculatedWidth:u,calculatedHeight:m}},X$={width:0,height:0,overflow:"visible"},W$={width:0,overflowX:"visible"},Z$={height:0,overflowY:"visible"},Q$={},J$=t=>{var{width:a,height:r}=t,s=ln(a),i=ln(r);return s&&i?X$:s?W$:i?Z$:Q$};function eB(t){var{width:a,height:r,aspect:s}=t,i=a,c=r;return i===void 0&&c===void 0?(i="100%",c="100%"):i===void 0?i=s&&s>0?void 0:"100%":c===void 0&&(c=s&&s>0?void 0:"100%"),{width:i,height:c}}function Tt(t){return Number.isFinite(t)}function Ns(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function Ty(){return Ty=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)({}).hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ty.apply(null,arguments)}function E6(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function O6(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?E6(Object(r),!0).forEach(function(s){tB(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E6(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function tB(t,a,r){return(a=aB(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function aB(t){var a=rB(t,"string");return typeof a=="symbol"?a:a+""}function rB(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}var KC=g.createContext({width:-1,height:-1});function sB(t){return Ns(t.width)&&Ns(t.height)}function YC(t){var{children:a,width:r,height:s}=t,i=g.useMemo(()=>({width:r,height:s}),[r,s]);return sB(i)?g.createElement(KC.Provider,{value:i},a):null}var Gv=()=>g.useContext(KC),nB=g.forwardRef((t,a)=>{var{aspect:r,initialDimension:s={width:-1,height:-1},width:i,height:c,minWidth:o=0,minHeight:u,maxHeight:m,children:h,debounce:x=0,id:f,className:v,onResize:b,style:w={}}=t,N=g.useRef(null),y=g.useRef();y.current=b,g.useImperativeHandle(a,()=>N.current);var[_,A]=g.useState({containerWidth:s.width,containerHeight:s.height}),C=g.useCallback((P,L)=>{A(z=>{var M=Math.round(P),F=Math.round(L);return z.containerWidth===M&&z.containerHeight===F?z:{containerWidth:M,containerHeight:F}})},[]);g.useEffect(()=>{if(N.current==null||typeof ResizeObserver>"u")return bd;var P=F=>{var q,{width:te,height:W}=F[0].contentRect;C(te,W),(q=y.current)===null||q===void 0||q.call(y,te,W)};x>0&&(P=Y$(P,x,{trailing:!0,leading:!1}));var L=new ResizeObserver(P),{width:z,height:M}=N.current.getBoundingClientRect();return C(z,M),L.observe(N.current),()=>{L.disconnect()}},[C,x]);var{containerWidth:E,containerHeight:k}=_;lx(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:O,calculatedHeight:D}=GC(E,k,{width:i,height:c,aspect:r,maxHeight:m});return lx(O!=null&&O>0||D!=null&&D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,D,i,c,o,u,r),g.createElement("div",{id:f?"".concat(f):void 0,className:Ge("recharts-responsive-container",v),style:O6(O6({},w),{},{width:i,height:c,minWidth:o,minHeight:u,maxHeight:m}),ref:N},g.createElement("div",{style:J$({width:i,height:c})},g.createElement(YC,{width:O,height:D},h)))}),cx=g.forwardRef((t,a)=>{var r=Gv();if(Ns(r.width)&&Ns(r.height))return t.children;var{width:s,height:i}=eB({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:c,calculatedHeight:o}=GC(void 0,void 0,{width:s,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Se(c)&&Se(o)?g.createElement(YC,{width:c,height:o},t.children):g.createElement(nB,Ty({},t,{width:s,height:i,ref:a}))});function XC(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Sd=()=>{var t,a=La(),r=be(F$),s=be(uh),i=(t=be(dh))===null||t===void 0?void 0:t.padding;return!a||!s||!i?r:{width:s.width-i.left-i.right,height:s.height-i.top-i.bottom,x:i.left,y:i.top}},iB={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},WC=()=>{var t;return(t=be(da))!==null&&t!==void 0?t:iB},Kv=()=>be(hn),Yv=()=>be(pn),lB=()=>be(t=>t.layout.margin),it=t=>t.layout.layoutType,mh=()=>be(it),cB=()=>{var t=mh();return t!==void 0},xh=t=>{var a=ot(),r=La(),{width:s,height:i}=t,c=Gv(),o=s,u=i;return c&&(o=c.width>0?c.width:s,u=c.height>0?c.height:i),g.useEffect(()=>{!r&&Ns(o)&&Ns(u)&&a(p$({width:o,height:u}))},[a,r,o,u]),null},oB={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},ZC=ar({name:"legend",initialState:oB,reducers:{setLegendSize(t,a){t.size.width=a.payload.width,t.size.height=a.payload.height},setLegendSettings(t,a){t.settings.align=a.payload.align,t.settings.layout=a.payload.layout,t.settings.verticalAlign=a.payload.verticalAlign,t.settings.itemSorter=a.payload.itemSorter},addLegendPayload:{reducer(t,a){t.payload.push(a.payload)},prepare:vt()},replaceLegendPayload:{reducer(t,a){var{prev:r,next:s}=a.payload,i=rs(t).payload.indexOf(r);i>-1&&(t.payload[i]=s)},prepare:vt()},removeLegendPayload:{reducer(t,a){var r=rs(t).payload.indexOf(a.payload);r>-1&&t.payload.splice(r,1)},prepare:vt()}}}),{setLegendSize:T6,setLegendSettings:dB,addLegendPayload:QC,replaceLegendPayload:JC,removeLegendPayload:ek}=ZC.actions,uB=ZC.reducer,mB=["contextPayload"];function Dy(){return Dy=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)({}).hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Dy.apply(null,arguments)}function D6(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function cc(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?D6(Object(r),!0).forEach(function(s){xB(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D6(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function xB(t,a,r){return(a=hB(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function hB(t){var a=pB(t,"string");return typeof a=="symbol"?a:a+""}function pB(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function fB(t,a){if(t==null)return{};var r,s,i=gB(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(s=0;s<c.length;s++)r=c[s],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function gB(t,a){if(t==null)return{};var r={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(a.indexOf(s)!==-1)continue;r[s]=t[s]}return r}function yB(t){return t.value}function vB(t){var{contextPayload:a}=t,r=fB(t,mB),s=lC(a,t.payloadUniqBy,yB),i=cc(cc({},r),{},{payload:s});return g.isValidElement(t.content)?g.cloneElement(t.content,i):typeof t.content=="function"?g.createElement(t.content,i):g.createElement(kL,i)}function bB(t,a,r,s,i,c){var{layout:o,align:u,verticalAlign:m}=a,h,x;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(u==="center"&&o==="vertical"?h={left:((s||0)-c.width)/2}:h=u==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(m==="middle"?x={top:((i||0)-c.height)/2}:x=m==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),cc(cc({},h),x)}function jB(t){var a=ot();return g.useEffect(()=>{a(dB(t))},[a,t]),null}function NB(t){var a=ot();return g.useEffect(()=>(a(T6(t)),()=>{a(T6({width:0,height:0}))}),[a,t]),null}function wB(t,a,r,s){return t==="vertical"&&Se(a)?{height:a}:t==="horizontal"?{width:r||s}:null}var SB={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function tk(t){var a=Vt(t,SB),r=jI(),s=vR(),i=lB(),{width:c,height:o,wrapperStyle:u,portal:m}=a,[h,x]=mC([r]),f=Kv(),v=Yv();if(f==null||v==null)return null;var b=f-(i?.left||0)-(i?.right||0),w=wB(a.layout,o,c,b),N=m?u:cc(cc({position:"absolute",width:w?.width||c||"auto",height:w?.height||o||"auto"},bB(u,a,i,f,v,h)),u),y=m??s;if(y==null||r==null)return null;var _=g.createElement("div",{className:"recharts-legend-wrapper",style:N,ref:x},g.createElement(jB,{layout:a.layout,align:a.align,verticalAlign:a.verticalAlign,itemSorter:a.itemSorter}),!m&&g.createElement(NB,{width:h.width,height:h.height}),g.createElement(vB,Dy({},a,w,{margin:i,chartWidth:f,chartHeight:v,contextPayload:r})));return Yn.createPortal(_,y)}tk.displayName="Legend";function Py(){return Py=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)({}).hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Py.apply(null,arguments)}function P6(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function vg(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?P6(Object(r),!0).forEach(function(s){_B(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P6(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function _B(t,a,r){return(a=CB(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function CB(t){var a=kB(t,"string");return typeof a=="symbol"?a:a+""}function kB(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function AB(t){return Array.isArray(t)&&qr(t[0])&&qr(t[1])?t.join(" ~ "):t}var EB=t=>{var{separator:a=" : ",contentStyle:r={},itemStyle:s={},labelStyle:i={},payload:c,formatter:o,itemSorter:u,wrapperClassName:m,labelClassName:h,label:x,labelFormatter:f,accessibilityLayer:v=!1}=t,b=()=>{if(c&&c.length){var k={padding:0,margin:0},O=(u?th(c,u):c).map((D,P)=>{if(D.type==="none")return null;var L=D.formatter||o||AB,{value:z,name:M}=D,F=z,q=M;if(L){var te=L(z,M,D,P,c);if(Array.isArray(te))[F,q]=te;else if(te!=null)F=te;else return null}var W=vg({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},s);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:W},qr(q)?g.createElement("span",{className:"recharts-tooltip-item-name"},q):null,qr(q)?g.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,g.createElement("span",{className:"recharts-tooltip-item-value"},F),g.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:k},O)}return null},w=vg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),N=vg({margin:0},i),y=!Wt(x),_=y?x:"",A=Ge("recharts-default-tooltip",m),C=Ge("recharts-tooltip-label",h);y&&f&&c!==void 0&&c!==null&&(_=f(x,c));var E=v?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",Py({className:A,style:w},E),g.createElement("p",{className:C,style:N},g.isValidElement(_)?_:"".concat(_)),b())},ko="recharts-tooltip-wrapper",OB={visibility:"hidden"};function TB(t){var{coordinate:a,translateX:r,translateY:s}=t;return Ge(ko,{["".concat(ko,"-right")]:Se(r)&&a&&Se(a.x)&&r>=a.x,["".concat(ko,"-left")]:Se(r)&&a&&Se(a.x)&&r<a.x,["".concat(ko,"-bottom")]:Se(s)&&a&&Se(a.y)&&s>=a.y,["".concat(ko,"-top")]:Se(s)&&a&&Se(a.y)&&s<a.y})}function z6(t){var{allowEscapeViewBox:a,coordinate:r,key:s,offsetTopLeft:i,position:c,reverseDirection:o,tooltipDimension:u,viewBox:m,viewBoxDimension:h}=t;if(c&&Se(c[s]))return c[s];var x=r[s]-u-(i>0?i:0),f=r[s]+i;if(a[s])return o[s]?x:f;var v=m[s];if(v==null)return 0;if(o[s]){var b=x,w=v;return b<w?Math.max(f,v):Math.max(x,v)}if(h==null)return 0;var N=f+u,y=v+h;return N>y?Math.max(x,v):Math.max(f,v)}function DB(t){var{translateX:a,translateY:r,useTranslate3d:s}=t;return{transform:s?"translate3d(".concat(a,"px, ").concat(r,"px, 0)"):"translate(".concat(a,"px, ").concat(r,"px)")}}function PB(t){var{allowEscapeViewBox:a,coordinate:r,offsetTopLeft:s,position:i,reverseDirection:c,tooltipBox:o,useTranslate3d:u,viewBox:m}=t,h,x,f;return o.height>0&&o.width>0&&r?(x=z6({allowEscapeViewBox:a,coordinate:r,key:"x",offsetTopLeft:s,position:i,reverseDirection:c,tooltipDimension:o.width,viewBox:m,viewBoxDimension:m.width}),f=z6({allowEscapeViewBox:a,coordinate:r,key:"y",offsetTopLeft:s,position:i,reverseDirection:c,tooltipDimension:o.height,viewBox:m,viewBoxDimension:m.height}),h=DB({translateX:x,translateY:f,useTranslate3d:u})):h=OB,{cssProperties:h,cssClasses:TB({translateX:x,translateY:f,coordinate:r})}}function M6(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function xm(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?M6(Object(r),!0).forEach(function(s){zy(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M6(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function zy(t,a,r){return(a=zB(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function zB(t){var a=MB(t,"string");return typeof a=="symbol"?a:a+""}function MB(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}class RB extends g.PureComponent{constructor(){super(...arguments),zy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),zy(this,"handleKeyDown",a=>{if(a.key==="Escape"){var r,s,i,c;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==null&&r!==void 0?r:0,y:(i=(c=this.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var a,r;this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:a,allowEscapeViewBox:r,animationDuration:s,animationEasing:i,children:c,coordinate:o,hasPayload:u,isAnimationActive:m,offset:h,position:x,reverseDirection:f,useTranslate3d:v,viewBox:b,wrapperStyle:w,lastBoundingBox:N,innerRef:y,hasPortalFromProps:_}=this.props,{cssClasses:A,cssProperties:C}=PB({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:h,position:x,reverseDirection:f,tooltipBox:{height:N.height,width:N.width},useTranslate3d:v,viewBox:b}),E=_?{}:xm(xm({transition:m&&a?"transform ".concat(s,"ms ").concat(i):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&u?"visible":"hidden",position:"absolute",top:0,left:0}),k=xm(xm({},E),{},{visibility:!this.state.dismissed&&a&&u?"visible":"hidden"},w);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:A,style:k,ref:y},c)}}var LB=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Qi={devToolsEnabled:!1,isSsr:LB()},ak=()=>{var t;return(t=be(a=>a.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function My(){return My=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)({}).hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},My.apply(null,arguments)}function R6(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function L6(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?R6(Object(r),!0).forEach(function(s){IB(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R6(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function IB(t,a,r){return(a=$B(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function $B(t){var a=BB(t,"string");return typeof a=="symbol"?a:a+""}function BB(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}var I6={curveBasisClosed:IR,curveBasisOpen:$R,curveBasis:LR,curveBumpX:wR,curveBumpY:SR,curveLinearClosed:BR,curveLinear:Jx,curveMonotoneX:FR,curveMonotoneY:UR,curveNatural:qR,curveStep:HR,curveStepAfter:GR,curveStepBefore:VR},ox=t=>Tt(t.x)&&Tt(t.y),$6=t=>t.base!=null&&ox(t.base)&&ox(t),Ao=t=>t.x,Eo=t=>t.y,FB=(t,a)=>{if(typeof t=="function")return t;var r="curve".concat(vd(t));return(r==="curveMonotone"||r==="curveBump")&&a?I6["".concat(r).concat(a==="vertical"?"Y":"X")]:I6[r]||Jx},UB=t=>{var{type:a="linear",points:r=[],baseLine:s,layout:i,connectNulls:c=!1}=t,o=FB(a,i),u=c?r.filter(ox):r,m;if(Array.isArray(s)){var h=r.map((b,w)=>L6(L6({},b),{},{base:s[w]}));i==="vertical"?m=im().y(Eo).x1(Ao).x0(b=>b.base.x):m=im().x(Ao).y1(Eo).y0(b=>b.base.y);var x=m.defined($6).curve(o),f=c?h.filter($6):h;return x(f)}i==="vertical"&&Se(s)?m=im().y(Eo).x1(Ao).x0(s):Se(s)?m=im().x(Ao).y1(Eo).y0(s):m=R5().x(Ao).y(Eo);var v=m.defined(ox).curve(o);return v(u)},Xv=t=>{var{className:a,points:r,path:s,pathRef:i}=t;if((!r||!r.length)&&!s)return null;var c=r&&r.length?UB(t):s;return g.createElement("path",My({},Fr(t),Lv(t),{className:Ge("recharts-curve",a),d:c===null?void 0:c,ref:i}))},qB=["x","y","top","left","width","height","className"];function Ry(){return Ry=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)({}).hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ry.apply(null,arguments)}function B6(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function HB(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?B6(Object(r),!0).forEach(function(s){VB(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B6(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function VB(t,a,r){return(a=GB(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function GB(t){var a=KB(t,"string");return typeof a=="symbol"?a:a+""}function KB(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function YB(t,a){if(t==null)return{};var r,s,i=XB(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(s=0;s<c.length;s++)r=c[s],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function XB(t,a){if(t==null)return{};var r={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(a.indexOf(s)!==-1)continue;r[s]=t[s]}return r}var WB=(t,a,r,s,i,c)=>"M".concat(t,",").concat(i,"v").concat(s,"M").concat(c,",").concat(a,"h").concat(r),ZB=t=>{var{x:a=0,y:r=0,top:s=0,left:i=0,width:c=0,height:o=0,className:u}=t,m=YB(t,qB),h=HB({x:a,y:r,top:s,left:i,width:c,height:o},m);return!Se(a)||!Se(r)||!Se(c)||!Se(o)||!Se(s)||!Se(i)?null:g.createElement("path",Ry({},Ea(h),{className:Ge("recharts-cross",u),d:WB(a,r,c,o,s,i)}))};function QB(t,a,r,s){var i=s/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?a.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:a.y-i,width:t==="horizontal"?s:r.width-1,height:t==="horizontal"?r.height-1:s}}function F6(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function U6(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?F6(Object(r),!0).forEach(function(s){JB(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F6(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function JB(t,a,r){return(a=eF(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function eF(t){var a=tF(t,"string");return typeof a=="symbol"?a:a+""}function tF(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}var aF=t=>t.replace(/([A-Z])/g,a=>"-".concat(a.toLowerCase())),rk=(t,a,r)=>t.map(s=>"".concat(aF(s)," ").concat(a,"ms ").concat(r)).join(","),rF=(t,a)=>[Object.keys(t),Object.keys(a)].reduce((r,s)=>r.filter(i=>s.includes(i))),ed=(t,a)=>Object.keys(a).reduce((r,s)=>U6(U6({},r),{},{[s]:t(s,a[s])}),{});function q6(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function Yt(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?q6(Object(r),!0).forEach(function(s){sF(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q6(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function sF(t,a,r){return(a=nF(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function nF(t){var a=iF(t,"string");return typeof a=="symbol"?a:a+""}function iF(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}var dx=(t,a,r)=>t+(a-t)*r,Ly=t=>{var{from:a,to:r}=t;return a!==r},sk=(t,a,r)=>{var s=ed((i,c)=>{if(Ly(c)){var[o,u]=t(c.from,c.to,c.velocity);return Yt(Yt({},c),{},{from:o,velocity:u})}return c},a);return r<1?ed((i,c)=>Ly(c)?Yt(Yt({},c),{},{velocity:dx(c.velocity,s[i].velocity,r),from:dx(c.from,s[i].from,r)}):c,a):sk(t,s,r-1)};function lF(t,a,r,s,i,c){var o,u=s.reduce((v,b)=>Yt(Yt({},v),{},{[b]:{from:t[b],velocity:0,to:a[b]}}),{}),m=()=>ed((v,b)=>b.from,u),h=()=>!Object.values(u).filter(Ly).length,x=null,f=v=>{o||(o=v);var b=v-o,w=b/r.dt;u=sk(r,u,w),i(Yt(Yt(Yt({},t),a),m())),o=v,h()||(x=c.setTimeout(f))};return()=>(x=c.setTimeout(f),()=>{var v;(v=x)===null||v===void 0||v()})}function cF(t,a,r,s,i,c,o){var u=null,m=i.reduce((f,v)=>Yt(Yt({},f),{},{[v]:[t[v],a[v]]}),{}),h,x=f=>{h||(h=f);var v=(f-h)/s,b=ed((N,y)=>dx(...y,r(v)),m);if(c(Yt(Yt(Yt({},t),a),b)),v<1)u=o.setTimeout(x);else{var w=ed((N,y)=>dx(...y,r(1)),m);c(Yt(Yt(Yt({},t),a),w))}};return()=>(u=o.setTimeout(x),()=>{var f;(f=u)===null||f===void 0||f()})}const oF=(t,a,r,s,i,c)=>{var o=rF(t,a);return r==null?()=>(i(Yt(Yt({},t),a)),()=>{}):r.isStepper===!0?lF(t,a,r,o,i,c):cF(t,a,r,s,o,i,c)};var ux=1e-4,nk=(t,a)=>[0,3*t,3*a-6*t,3*t-3*a+1],ik=(t,a)=>t.map((r,s)=>r*a**s).reduce((r,s)=>r+s),H6=(t,a)=>r=>{var s=nk(t,a);return ik(s,r)},dF=(t,a)=>r=>{var s=nk(t,a),i=[...s.map((c,o)=>c*o).slice(1),0];return ik(i,r)},uF=function(){for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,c=r[0].split("(");if(c[0]==="cubic-bezier"&&((i=c[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var o=c[1].split(")")[0].split(",").map(u=>parseFloat(u));return[o[0],o[1],o[2],o[3]]}}}return r.length===4?r:[0,0,1,1]},mF=(t,a,r,s)=>{var i=H6(t,r),c=H6(a,s),o=dF(t,r),u=h=>h>1?1:h<0?0:h,m=h=>{for(var x=h>1?1:h,f=x,v=0;v<8;++v){var b=i(f)-x,w=o(f);if(Math.abs(b-x)<ux||w<ux)return c(f);f=u(f-b/w)}return c(f)};return m.isStepper=!1,m},V6=function(){return mF(...uF(...arguments))},xF=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:s=8,dt:i=17}=a,c=(o,u,m)=>{var h=-(o-u)*r,x=m*s,f=m+(h-x)*i/1e3,v=m*i/1e3+o;return Math.abs(v-u)<ux&&Math.abs(f)<ux?[u,0]:[v,f]};return c.isStepper=!0,c.dt=i,c},hF=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return V6(t);case"spring":return xF();default:if(t.split("(")[0]==="cubic-bezier")return V6(t)}return typeof t=="function"?t:null};function pF(t){var a,r=()=>null,s=!1,i=null,c=o=>{if(!s){if(Array.isArray(o)){if(!o.length)return;var u=o,[m,...h]=u;if(typeof m=="number"){i=t.setTimeout(c.bind(null,h),m);return}c(m),i=t.setTimeout(c.bind(null,h));return}typeof o=="string"&&(a=o,r(a)),typeof o=="object"&&(a=o,r(a)),typeof o=="function"&&o()}};return{stop:()=>{s=!0},start:o=>{s=!1,i&&(i(),i=null),c(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>t}}class fF{setTimeout(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=performance.now(),i=null,c=o=>{o-s>=r?a(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(c))};return i=requestAnimationFrame(c),()=>{i!=null&&cancelAnimationFrame(i)}}}function gF(){return pF(new fF)}var yF=g.createContext(gF);function vF(t,a){var r=g.useContext(yF);return g.useMemo(()=>a??r(t),[t,a,r])}var bF={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},G6={t:0},bg={t:1};function hh(t){var a=Vt(t,bF),{isActive:r,canBegin:s,duration:i,easing:c,begin:o,onAnimationEnd:u,onAnimationStart:m,children:h}=a,x=r==="auto"?!Qi.isSsr:r,f=vF(a.animationId,a.animationManager),[v,b]=g.useState(x?G6:bg),w=g.useRef(null);return g.useEffect(()=>{x||b(bg)},[x]),g.useEffect(()=>{if(!x||!s)return bd;var N=oF(G6,bg,hF(c),i,b,f.getTimeoutController()),y=()=>{w.current=N()};return f.start([m,o,y,i,u]),()=>{f.stop(),w.current&&w.current(),u()}},[x,s,i,c,o,m,u,f]),h(v.t)}function ph(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=g.useRef(Wo(a)),s=g.useRef(t);return s.current!==t&&(r.current=Wo(a),s.current=t),r.current}var jF=["radius"],NF=["radius"];function K6(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function Y6(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?K6(Object(r),!0).forEach(function(s){wF(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K6(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function wF(t,a,r){return(a=SF(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function SF(t){var a=_F(t,"string");return typeof a=="symbol"?a:a+""}function _F(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function mx(){return mx=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)({}).hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},mx.apply(null,arguments)}function X6(t,a){if(t==null)return{};var r,s,i=CF(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(s=0;s<c.length;s++)r=c[s],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function CF(t,a){if(t==null)return{};var r={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(a.indexOf(s)!==-1)continue;r[s]=t[s]}return r}var W6=(t,a,r,s,i)=>{var c=Math.min(Math.abs(r)/2,Math.abs(s)/2),o=s>=0?1:-1,u=r>=0?1:-1,m=s>=0&&r>=0||s<0&&r<0?1:0,h;if(c>0&&i instanceof Array){for(var x=[0,0,0,0],f=0,v=4;f<v;f++)x[f]=i[f]>c?c:i[f];h="M".concat(t,",").concat(a+o*x[0]),x[0]>0&&(h+="A ".concat(x[0],",").concat(x[0],",0,0,").concat(m,",").concat(t+u*x[0],",").concat(a)),h+="L ".concat(t+r-u*x[1],",").concat(a),x[1]>0&&(h+="A ".concat(x[1],",").concat(x[1],",0,0,").concat(m,`,
        `).concat(t+r,",").concat(a+o*x[1])),h+="L ".concat(t+r,",").concat(a+s-o*x[2]),x[2]>0&&(h+="A ".concat(x[2],",").concat(x[2],",0,0,").concat(m,`,
        `).concat(t+r-u*x[2],",").concat(a+s)),h+="L ".concat(t+u*x[3],",").concat(a+s),x[3]>0&&(h+="A ".concat(x[3],",").concat(x[3],",0,0,").concat(m,`,
        `).concat(t,",").concat(a+s-o*x[3])),h+="Z"}else if(c>0&&i===+i&&i>0){var b=Math.min(c,i);h="M ".concat(t,",").concat(a+o*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(m,",").concat(t+u*b,",").concat(a,`
            L `).concat(t+r-u*b,",").concat(a,`
            A `).concat(b,",").concat(b,",0,0,").concat(m,",").concat(t+r,",").concat(a+o*b,`
            L `).concat(t+r,",").concat(a+s-o*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(m,",").concat(t+r-u*b,",").concat(a+s,`
            L `).concat(t+u*b,",").concat(a+s,`
            A `).concat(b,",").concat(b,",0,0,").concat(m,",").concat(t,",").concat(a+s-o*b," Z")}else h="M ".concat(t,",").concat(a," h ").concat(r," v ").concat(s," h ").concat(-r," Z");return h},Z6={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lk=t=>{var a=Vt(t,Z6),r=g.useRef(null),[s,i]=g.useState(-1);g.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var R=r.current.getTotalLength();R&&i(R)}catch{}},[]);var{x:c,y:o,width:u,height:m,radius:h,className:x}=a,{animationEasing:f,animationDuration:v,animationBegin:b,isAnimationActive:w,isUpdateAnimationActive:N}=a,y=g.useRef(u),_=g.useRef(m),A=g.useRef(c),C=g.useRef(o),E=g.useMemo(()=>({x:c,y:o,width:u,height:m,radius:h}),[c,o,u,m,h]),k=ph(E,"rectangle-");if(c!==+c||o!==+o||u!==+u||m!==+m||u===0||m===0)return null;var O=Ge("recharts-rectangle",x);if(!N){var D=Ea(a),{radius:P}=D,L=X6(D,jF);return g.createElement("path",mx({},L,{radius:typeof h=="number"?h:void 0,className:O,d:W6(c,o,u,m,h)}))}var z=y.current,M=_.current,F=A.current,q=C.current,te="0px ".concat(s===-1?1:s,"px"),W="".concat(s,"px 0px"),H=rk(["strokeDasharray"],v,typeof f=="string"?f:Z6.animationEasing);return g.createElement(hh,{animationId:k,key:k,canBegin:s>0,duration:v,easing:f,isActive:N,begin:b},R=>{var $=Ca(z,u,R),V=Ca(M,m,R),Z=Ca(F,c,R),B=Ca(q,o,R);r.current&&(y.current=$,_.current=V,A.current=Z,C.current=B);var K;w?R>0?K={transition:H,strokeDasharray:W}:K={strokeDasharray:te}:K={strokeDasharray:W};var Y=Ea(a),{radius:ie}=Y,xe=X6(Y,NF);return g.createElement("path",mx({},xe,{radius:typeof h=="number"?h:void 0,className:O,d:W6(Z,B,$,V,h),ref:r,style:Y6(Y6({},K),a.style)}))})};function Q6(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function J6(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Q6(Object(r),!0).forEach(function(s){kF(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q6(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function kF(t,a,r){return(a=AF(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function AF(t){var a=EF(t,"string");return typeof a=="symbol"?a:a+""}function EF(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}var xx=Math.PI/180,OF=t=>t*180/Math.PI,Ut=(t,a,r,s)=>({x:t+Math.cos(-xx*s)*r,y:a+Math.sin(-xx*s)*r}),ck=function(a,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(a-(s.left||0)-(s.right||0)),Math.abs(r-(s.top||0)-(s.bottom||0)))/2},TF=(t,a)=>{var{x:r,y:s}=t,{x:i,y:c}=a;return Math.sqrt((r-i)**2+(s-c)**2)},DF=(t,a)=>{var{x:r,y:s}=t,{cx:i,cy:c}=a,o=TF({x:r,y:s},{x:i,y:c});if(o<=0)return{radius:o,angle:0};var u=(r-i)/o,m=Math.acos(u);return s>c&&(m=2*Math.PI-m),{radius:o,angle:OF(m),angleInRadian:m}},PF=t=>{var{startAngle:a,endAngle:r}=t,s=Math.floor(a/360),i=Math.floor(r/360),c=Math.min(s,i);return{startAngle:a-c*360,endAngle:r-c*360}},zF=(t,a)=>{var{startAngle:r,endAngle:s}=a,i=Math.floor(r/360),c=Math.floor(s/360),o=Math.min(i,c);return t+o*360},MF=(t,a)=>{var{chartX:r,chartY:s}=t,{radius:i,angle:c}=DF({x:r,y:s},a),{innerRadius:o,outerRadius:u}=a;if(i<o||i>u||i===0)return null;var{startAngle:m,endAngle:h}=PF(a),x=c,f;if(m<=h){for(;x>h;)x-=360;for(;x<m;)x+=360;f=x>=m&&x<=h}else{for(;x>m;)x-=360;for(;x<h;)x+=360;f=x>=h&&x<=m}return f?J6(J6({},a),{},{radius:i,angle:zF(x,a)}):null};function ok(t){var{cx:a,cy:r,radius:s,startAngle:i,endAngle:c}=t,o=Ut(a,r,s,i),u=Ut(a,r,s,c);return{points:[o,u],cx:a,cy:r,radius:s,startAngle:i,endAngle:c}}function Iy(){return Iy=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)({}).hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Iy.apply(null,arguments)}var RF=(t,a)=>{var r=Aa(a-t),s=Math.min(Math.abs(a-t),359.999);return r*s},hm=t=>{var{cx:a,cy:r,radius:s,angle:i,sign:c,isExternal:o,cornerRadius:u,cornerIsExternal:m}=t,h=u*(o?1:-1)+s,x=Math.asin(u/h)/xx,f=m?i:i+c*x,v=Ut(a,r,h,f),b=Ut(a,r,s,f),w=m?i-c*x:i,N=Ut(a,r,h*Math.cos(x*xx),w);return{center:v,circleTangency:b,lineTangency:N,theta:x}},dk=t=>{var{cx:a,cy:r,innerRadius:s,outerRadius:i,startAngle:c,endAngle:o}=t,u=RF(c,o),m=c+u,h=Ut(a,r,i,c),x=Ut(a,r,i,m),f="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(c>m),`,
    `).concat(x.x,",").concat(x.y,`
  `);if(s>0){var v=Ut(a,r,s,c),b=Ut(a,r,s,m);f+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(c<=m),`,
            `).concat(v.x,",").concat(v.y," Z")}else f+="L ".concat(a,",").concat(r," Z");return f},LF=t=>{var{cx:a,cy:r,innerRadius:s,outerRadius:i,cornerRadius:c,forceCornerRadius:o,cornerIsExternal:u,startAngle:m,endAngle:h}=t,x=Aa(h-m),{circleTangency:f,lineTangency:v,theta:b}=hm({cx:a,cy:r,radius:i,angle:m,sign:x,cornerRadius:c,cornerIsExternal:u}),{circleTangency:w,lineTangency:N,theta:y}=hm({cx:a,cy:r,radius:i,angle:h,sign:-x,cornerRadius:c,cornerIsExternal:u}),_=u?Math.abs(m-h):Math.abs(m-h)-b-y;if(_<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(c,",").concat(c,",0,0,1,").concat(c*2,`,0
        a`).concat(c,",").concat(c,",0,0,1,").concat(-c*2,`,0
      `):dk({cx:a,cy:r,innerRadius:s,outerRadius:i,startAngle:m,endAngle:h});var A="M ".concat(v.x,",").concat(v.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(x<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(x<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(x<0),",").concat(N.x,",").concat(N.y,`
  `);if(s>0){var{circleTangency:C,lineTangency:E,theta:k}=hm({cx:a,cy:r,radius:s,angle:m,sign:x,isExternal:!0,cornerRadius:c,cornerIsExternal:u}),{circleTangency:O,lineTangency:D,theta:P}=hm({cx:a,cy:r,radius:s,angle:h,sign:-x,isExternal:!0,cornerRadius:c,cornerIsExternal:u}),L=u?Math.abs(m-h):Math.abs(m-h)-k-P;if(L<0&&c===0)return"".concat(A,"L").concat(a,",").concat(r,"Z");A+="L".concat(D.x,",").concat(D.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(x<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(L>180),",").concat(+(x>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(x<0),",").concat(E.x,",").concat(E.y,"Z")}else A+="L".concat(a,",").concat(r,"Z");return A},IF={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},uk=t=>{var a=Vt(t,IF),{cx:r,cy:s,innerRadius:i,outerRadius:c,cornerRadius:o,forceCornerRadius:u,cornerIsExternal:m,startAngle:h,endAngle:x,className:f}=a;if(c<i||h===x)return null;var v=Ge("recharts-sector",f),b=c-i,w=hr(o,b,0,!0),N;return w>0&&Math.abs(h-x)<360?N=LF({cx:r,cy:s,innerRadius:i,outerRadius:c,cornerRadius:Math.min(w,b/2),forceCornerRadius:u,cornerIsExternal:m,startAngle:h,endAngle:x}):N=dk({cx:r,cy:s,innerRadius:i,outerRadius:c,startAngle:h,endAngle:x}),g.createElement("path",Iy({},Ea(a),{className:v,d:N}))};function $F(t,a,r){if(t==="horizontal")return[{x:a.x,y:r.top},{x:a.x,y:r.top+r.height}];if(t==="vertical")return[{x:r.left,y:a.y},{x:r.left+r.width,y:a.y}];if(Z5(a)){if(t==="centric"){var{cx:s,cy:i,innerRadius:c,outerRadius:o,angle:u}=a,m=Ut(s,i,c,u),h=Ut(s,i,o,u);return[{x:m.x,y:m.y},{x:h.x,y:h.y}]}return ok(a)}}var jg={},Ng={},wg={},eS;function BF(){return eS||(eS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=oC();function r(s){return a.isSymbol(s)?NaN:Number(s)}t.toNumber=r})(wg)),wg}var tS;function FF(){return tS||(tS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=BF();function r(s){return s?(s=a.toNumber(s),s===1/0||s===-1/0?(s<0?-1:1)*Number.MAX_VALUE:s===s?s:0):s===0?s:0}t.toFinite=r})(Ng)),Ng}var aS;function UF(){return aS||(aS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=dC(),r=FF();function s(i,c,o){o&&typeof o!="number"&&a.isIterateeCall(i,c,o)&&(c=o=void 0),i=r.toFinite(i),c===void 0?(c=i,i=0):c=r.toFinite(c),o=o===void 0?i<c?1:-1:r.toFinite(o);const u=Math.max(Math.ceil((c-i)/(o||1)),0),m=new Array(u);for(let h=0;h<u;h++)m[h]=i,i+=o;return m}t.range=s})(jg)),jg}var Sg,rS;function qF(){return rS||(rS=1,Sg=UF().range),Sg}var HF=qF();const mk=xn(HF);function Zn(t,a){return t==null||a==null?NaN:t<a?-1:t>a?1:t>=a?0:NaN}function VF(t,a){return t==null||a==null?NaN:a<t?-1:a>t?1:a>=t?0:NaN}function Wv(t){let a,r,s;t.length!==2?(a=Zn,r=(u,m)=>Zn(t(u),m),s=(u,m)=>t(u)-m):(a=t===Zn||t===VF?t:GF,r=t,s=t);function i(u,m,h=0,x=u.length){if(h<x){if(a(m,m)!==0)return x;do{const f=h+x>>>1;r(u[f],m)<0?h=f+1:x=f}while(h<x)}return h}function c(u,m,h=0,x=u.length){if(h<x){if(a(m,m)!==0)return x;do{const f=h+x>>>1;r(u[f],m)<=0?h=f+1:x=f}while(h<x)}return h}function o(u,m,h=0,x=u.length){const f=i(u,m,h,x-1);return f>h&&s(u[f-1],m)>-s(u[f],m)?f-1:f}return{left:i,center:o,right:c}}function GF(){return 0}function xk(t){return t===null?NaN:+t}function*KF(t,a){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const YF=Wv(Zn),_d=YF.right;Wv(xk).center;class sS extends Map{constructor(a,r=ZF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),a!=null)for(const[s,i]of a)this.set(s,i)}get(a){return super.get(nS(this,a))}has(a){return super.has(nS(this,a))}set(a,r){return super.set(XF(this,a),r)}delete(a){return super.delete(WF(this,a))}}function nS({_intern:t,_key:a},r){const s=a(r);return t.has(s)?t.get(s):r}function XF({_intern:t,_key:a},r){const s=a(r);return t.has(s)?t.get(s):(t.set(s,r),r)}function WF({_intern:t,_key:a},r){const s=a(r);return t.has(s)&&(r=t.get(s),t.delete(s)),r}function ZF(t){return t!==null&&typeof t=="object"?t.valueOf():t}function QF(t=Zn){if(t===Zn)return hk;if(typeof t!="function")throw new TypeError("compare is not a function");return(a,r)=>{const s=t(a,r);return s||s===0?s:(t(r,r)===0)-(t(a,a)===0)}}function hk(t,a){return(t==null||!(t>=t))-(a==null||!(a>=a))||(t<a?-1:t>a?1:0)}const JF=Math.sqrt(50),eU=Math.sqrt(10),tU=Math.sqrt(2);function hx(t,a,r){const s=(a-t)/Math.max(0,r),i=Math.floor(Math.log10(s)),c=s/Math.pow(10,i),o=c>=JF?10:c>=eU?5:c>=tU?2:1;let u,m,h;return i<0?(h=Math.pow(10,-i)/o,u=Math.round(t*h),m=Math.round(a*h),u/h<t&&++u,m/h>a&&--m,h=-h):(h=Math.pow(10,i)*o,u=Math.round(t/h),m=Math.round(a/h),u*h<t&&++u,m*h>a&&--m),m<u&&.5<=r&&r<2?hx(t,a,r*2):[u,m,h]}function $y(t,a,r){if(a=+a,t=+t,r=+r,!(r>0))return[];if(t===a)return[t];const s=a<t,[i,c,o]=s?hx(a,t,r):hx(t,a,r);if(!(c>=i))return[];const u=c-i+1,m=new Array(u);if(s)if(o<0)for(let h=0;h<u;++h)m[h]=(c-h)/-o;else for(let h=0;h<u;++h)m[h]=(c-h)*o;else if(o<0)for(let h=0;h<u;++h)m[h]=(i+h)/-o;else for(let h=0;h<u;++h)m[h]=(i+h)*o;return m}function By(t,a,r){return a=+a,t=+t,r=+r,hx(t,a,r)[2]}function Fy(t,a,r){a=+a,t=+t,r=+r;const s=a<t,i=s?By(a,t,r):By(t,a,r);return(s?-1:1)*(i<0?1/-i:i)}function iS(t,a){let r;for(const s of t)s!=null&&(r<s||r===void 0&&s>=s)&&(r=s);return r}function lS(t,a){let r;for(const s of t)s!=null&&(r>s||r===void 0&&s>=s)&&(r=s);return r}function pk(t,a,r=0,s=1/0,i){if(a=Math.floor(a),r=Math.floor(Math.max(0,r)),s=Math.floor(Math.min(t.length-1,s)),!(r<=a&&a<=s))return t;for(i=i===void 0?hk:QF(i);s>r;){if(s-r>600){const m=s-r+1,h=a-r+1,x=Math.log(m),f=.5*Math.exp(2*x/3),v=.5*Math.sqrt(x*f*(m-f)/m)*(h-m/2<0?-1:1),b=Math.max(r,Math.floor(a-h*f/m+v)),w=Math.min(s,Math.floor(a+(m-h)*f/m+v));pk(t,a,b,w,i)}const c=t[a];let o=r,u=s;for(Oo(t,r,a),i(t[s],c)>0&&Oo(t,r,s);o<u;){for(Oo(t,o,u),++o,--u;i(t[o],c)<0;)++o;for(;i(t[u],c)>0;)--u}i(t[r],c)===0?Oo(t,r,u):(++u,Oo(t,u,s)),u<=a&&(r=u+1),a<=u&&(s=u-1)}return t}function Oo(t,a,r){const s=t[a];t[a]=t[r],t[r]=s}function aU(t,a,r){if(t=Float64Array.from(KF(t)),!(!(s=t.length)||isNaN(a=+a))){if(a<=0||s<2)return lS(t);if(a>=1)return iS(t);var s,i=(s-1)*a,c=Math.floor(i),o=iS(pk(t,c).subarray(0,c+1)),u=lS(t.subarray(c+1));return o+(u-o)*(i-c)}}function rU(t,a,r=xk){if(!(!(s=t.length)||isNaN(a=+a))){if(a<=0||s<2)return+r(t[0],0,t);if(a>=1)return+r(t[s-1],s-1,t);var s,i=(s-1)*a,c=Math.floor(i),o=+r(t[c],c,t),u=+r(t[c+1],c+1,t);return o+(u-o)*(i-c)}}function sU(t,a,r){t=+t,a=+a,r=(i=arguments.length)<2?(a=t,t=0,1):i<3?1:+r;for(var s=-1,i=Math.max(0,Math.ceil((a-t)/r))|0,c=new Array(i);++s<i;)c[s]=t+s*r;return c}function Gr(t,a){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(a).domain(t);break}return this}function fn(t,a){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof a=="function"?this.interpolator(a):this.range(a);break}}return this}const Uy=Symbol("implicit");function Zv(){var t=new sS,a=[],r=[],s=Uy;function i(c){let o=t.get(c);if(o===void 0){if(s!==Uy)return s;t.set(c,o=a.push(c)-1)}return r[o%r.length]}return i.domain=function(c){if(!arguments.length)return a.slice();a=[],t=new sS;for(const o of c)t.has(o)||t.set(o,a.push(o)-1);return i},i.range=function(c){return arguments.length?(r=Array.from(c),i):r.slice()},i.unknown=function(c){return arguments.length?(s=c,i):s},i.copy=function(){return Zv(a,r).unknown(s)},Gr.apply(i,arguments),i}function Qv(){var t=Zv().unknown(void 0),a=t.domain,r=t.range,s=0,i=1,c,o,u=!1,m=0,h=0,x=.5;delete t.unknown;function f(){var v=a().length,b=i<s,w=b?i:s,N=b?s:i;c=(N-w)/Math.max(1,v-m+h*2),u&&(c=Math.floor(c)),w+=(N-w-c*(v-m))*x,o=c*(1-m),u&&(w=Math.round(w),o=Math.round(o));var y=sU(v).map(function(_){return w+c*_});return r(b?y.reverse():y)}return t.domain=function(v){return arguments.length?(a(v),f()):a()},t.range=function(v){return arguments.length?([s,i]=v,s=+s,i=+i,f()):[s,i]},t.rangeRound=function(v){return[s,i]=v,s=+s,i=+i,u=!0,f()},t.bandwidth=function(){return o},t.step=function(){return c},t.round=function(v){return arguments.length?(u=!!v,f()):u},t.padding=function(v){return arguments.length?(m=Math.min(1,h=+v),f()):m},t.paddingInner=function(v){return arguments.length?(m=Math.min(1,v),f()):m},t.paddingOuter=function(v){return arguments.length?(h=+v,f()):h},t.align=function(v){return arguments.length?(x=Math.max(0,Math.min(1,v)),f()):x},t.copy=function(){return Qv(a(),[s,i]).round(u).paddingInner(m).paddingOuter(h).align(x)},Gr.apply(f(),arguments)}function fk(t){var a=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return fk(a())},t}function nU(){return fk(Qv.apply(null,arguments).paddingInner(1))}function Jv(t,a,r){t.prototype=a.prototype=r,r.constructor=t}function gk(t,a){var r=Object.create(t.prototype);for(var s in a)r[s]=a[s];return r}function Cd(){}var td=.7,px=1/td,Jl="\\s*([+-]?\\d+)\\s*",ad="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iU=/^#([0-9a-f]{3,8})$/,lU=new RegExp(`^rgb\\(${Jl},${Jl},${Jl}\\)$`),cU=new RegExp(`^rgb\\(${bs},${bs},${bs}\\)$`),oU=new RegExp(`^rgba\\(${Jl},${Jl},${Jl},${ad}\\)$`),dU=new RegExp(`^rgba\\(${bs},${bs},${bs},${ad}\\)$`),uU=new RegExp(`^hsl\\(${ad},${bs},${bs}\\)$`),mU=new RegExp(`^hsla\\(${ad},${bs},${bs},${ad}\\)$`),cS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Jv(Cd,rd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:oS,formatHex:oS,formatHex8:xU,formatHsl:hU,formatRgb:dS,toString:dS});function oS(){return this.rgb().formatHex()}function xU(){return this.rgb().formatHex8()}function hU(){return yk(this).formatHsl()}function dS(){return this.rgb().formatRgb()}function rd(t){var a,r;return t=(t+"").trim().toLowerCase(),(a=iU.exec(t))?(r=a[1].length,a=parseInt(a[1],16),r===6?uS(a):r===3?new Qa(a>>8&15|a>>4&240,a>>4&15|a&240,(a&15)<<4|a&15,1):r===8?pm(a>>24&255,a>>16&255,a>>8&255,(a&255)/255):r===4?pm(a>>12&15|a>>8&240,a>>8&15|a>>4&240,a>>4&15|a&240,((a&15)<<4|a&15)/255):null):(a=lU.exec(t))?new Qa(a[1],a[2],a[3],1):(a=cU.exec(t))?new Qa(a[1]*255/100,a[2]*255/100,a[3]*255/100,1):(a=oU.exec(t))?pm(a[1],a[2],a[3],a[4]):(a=dU.exec(t))?pm(a[1]*255/100,a[2]*255/100,a[3]*255/100,a[4]):(a=uU.exec(t))?hS(a[1],a[2]/100,a[3]/100,1):(a=mU.exec(t))?hS(a[1],a[2]/100,a[3]/100,a[4]):cS.hasOwnProperty(t)?uS(cS[t]):t==="transparent"?new Qa(NaN,NaN,NaN,0):null}function uS(t){return new Qa(t>>16&255,t>>8&255,t&255,1)}function pm(t,a,r,s){return s<=0&&(t=a=r=NaN),new Qa(t,a,r,s)}function pU(t){return t instanceof Cd||(t=rd(t)),t?(t=t.rgb(),new Qa(t.r,t.g,t.b,t.opacity)):new Qa}function qy(t,a,r,s){return arguments.length===1?pU(t):new Qa(t,a,r,s??1)}function Qa(t,a,r,s){this.r=+t,this.g=+a,this.b=+r,this.opacity=+s}Jv(Qa,qy,gk(Cd,{brighter(t){return t=t==null?px:Math.pow(px,t),new Qa(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?td:Math.pow(td,t),new Qa(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Qa(Bi(this.r),Bi(this.g),Bi(this.b),fx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mS,formatHex:mS,formatHex8:fU,formatRgb:xS,toString:xS}));function mS(){return`#${Di(this.r)}${Di(this.g)}${Di(this.b)}`}function fU(){return`#${Di(this.r)}${Di(this.g)}${Di(this.b)}${Di((isNaN(this.opacity)?1:this.opacity)*255)}`}function xS(){const t=fx(this.opacity);return`${t===1?"rgb(":"rgba("}${Bi(this.r)}, ${Bi(this.g)}, ${Bi(this.b)}${t===1?")":`, ${t})`}`}function fx(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Bi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Di(t){return t=Bi(t),(t<16?"0":"")+t.toString(16)}function hS(t,a,r,s){return s<=0?t=a=r=NaN:r<=0||r>=1?t=a=NaN:a<=0&&(t=NaN),new ts(t,a,r,s)}function yk(t){if(t instanceof ts)return new ts(t.h,t.s,t.l,t.opacity);if(t instanceof Cd||(t=rd(t)),!t)return new ts;if(t instanceof ts)return t;t=t.rgb();var a=t.r/255,r=t.g/255,s=t.b/255,i=Math.min(a,r,s),c=Math.max(a,r,s),o=NaN,u=c-i,m=(c+i)/2;return u?(a===c?o=(r-s)/u+(r<s)*6:r===c?o=(s-a)/u+2:o=(a-r)/u+4,u/=m<.5?c+i:2-c-i,o*=60):u=m>0&&m<1?0:o,new ts(o,u,m,t.opacity)}function gU(t,a,r,s){return arguments.length===1?yk(t):new ts(t,a,r,s??1)}function ts(t,a,r,s){this.h=+t,this.s=+a,this.l=+r,this.opacity=+s}Jv(ts,gU,gk(Cd,{brighter(t){return t=t==null?px:Math.pow(px,t),new ts(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?td:Math.pow(td,t),new ts(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,a=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,s=r+(r<.5?r:1-r)*a,i=2*r-s;return new Qa(_g(t>=240?t-240:t+120,i,s),_g(t,i,s),_g(t<120?t+240:t-120,i,s),this.opacity)},clamp(){return new ts(pS(this.h),fm(this.s),fm(this.l),fx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=fx(this.opacity);return`${t===1?"hsl(":"hsla("}${pS(this.h)}, ${fm(this.s)*100}%, ${fm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function pS(t){return t=(t||0)%360,t<0?t+360:t}function fm(t){return Math.max(0,Math.min(1,t||0))}function _g(t,a,r){return(t<60?a+(r-a)*t/60:t<180?r:t<240?a+(r-a)*(240-t)/60:a)*255}const eb=t=>()=>t;function yU(t,a){return function(r){return t+r*a}}function vU(t,a,r){return t=Math.pow(t,r),a=Math.pow(a,r)-t,r=1/r,function(s){return Math.pow(t+s*a,r)}}function bU(t){return(t=+t)==1?vk:function(a,r){return r-a?vU(a,r,t):eb(isNaN(a)?r:a)}}function vk(t,a){var r=a-t;return r?yU(t,r):eb(isNaN(t)?a:t)}const fS=(function t(a){var r=bU(a);function s(i,c){var o=r((i=qy(i)).r,(c=qy(c)).r),u=r(i.g,c.g),m=r(i.b,c.b),h=vk(i.opacity,c.opacity);return function(x){return i.r=o(x),i.g=u(x),i.b=m(x),i.opacity=h(x),i+""}}return s.gamma=t,s})(1);function jU(t,a){a||(a=[]);var r=t?Math.min(a.length,t.length):0,s=a.slice(),i;return function(c){for(i=0;i<r;++i)s[i]=t[i]*(1-c)+a[i]*c;return s}}function NU(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function wU(t,a){var r=a?a.length:0,s=t?Math.min(r,t.length):0,i=new Array(s),c=new Array(r),o;for(o=0;o<s;++o)i[o]=bc(t[o],a[o]);for(;o<r;++o)c[o]=a[o];return function(u){for(o=0;o<s;++o)c[o]=i[o](u);return c}}function SU(t,a){var r=new Date;return t=+t,a=+a,function(s){return r.setTime(t*(1-s)+a*s),r}}function gx(t,a){return t=+t,a=+a,function(r){return t*(1-r)+a*r}}function _U(t,a){var r={},s={},i;(t===null||typeof t!="object")&&(t={}),(a===null||typeof a!="object")&&(a={});for(i in a)i in t?r[i]=bc(t[i],a[i]):s[i]=a[i];return function(c){for(i in r)s[i]=r[i](c);return s}}var Hy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cg=new RegExp(Hy.source,"g");function CU(t){return function(){return t}}function kU(t){return function(a){return t(a)+""}}function AU(t,a){var r=Hy.lastIndex=Cg.lastIndex=0,s,i,c,o=-1,u=[],m=[];for(t=t+"",a=a+"";(s=Hy.exec(t))&&(i=Cg.exec(a));)(c=i.index)>r&&(c=a.slice(r,c),u[o]?u[o]+=c:u[++o]=c),(s=s[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,m.push({i:o,x:gx(s,i)})),r=Cg.lastIndex;return r<a.length&&(c=a.slice(r),u[o]?u[o]+=c:u[++o]=c),u.length<2?m[0]?kU(m[0].x):CU(a):(a=m.length,function(h){for(var x=0,f;x<a;++x)u[(f=m[x]).i]=f.x(h);return u.join("")})}function bc(t,a){var r=typeof a,s;return a==null||r==="boolean"?eb(a):(r==="number"?gx:r==="string"?(s=rd(a))?(a=s,fS):AU:a instanceof rd?fS:a instanceof Date?SU:NU(a)?jU:Array.isArray(a)?wU:typeof a.valueOf!="function"&&typeof a.toString!="function"||isNaN(a)?_U:gx)(t,a)}function tb(t,a){return t=+t,a=+a,function(r){return Math.round(t*(1-r)+a*r)}}function EU(t,a){a===void 0&&(a=t,t=bc);for(var r=0,s=a.length-1,i=a[0],c=new Array(s<0?0:s);r<s;)c[r]=t(i,i=a[++r]);return function(o){var u=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return c[u](o-u)}}function OU(t){return function(){return t}}function yx(t){return+t}var gS=[0,1];function Ma(t){return t}function Vy(t,a){return(a-=t=+t)?function(r){return(r-t)/a}:OU(isNaN(a)?NaN:.5)}function TU(t,a){var r;return t>a&&(r=t,t=a,a=r),function(s){return Math.max(t,Math.min(a,s))}}function DU(t,a,r){var s=t[0],i=t[1],c=a[0],o=a[1];return i<s?(s=Vy(i,s),c=r(o,c)):(s=Vy(s,i),c=r(c,o)),function(u){return c(s(u))}}function PU(t,a,r){var s=Math.min(t.length,a.length)-1,i=new Array(s),c=new Array(s),o=-1;for(t[s]<t[0]&&(t=t.slice().reverse(),a=a.slice().reverse());++o<s;)i[o]=Vy(t[o],t[o+1]),c[o]=r(a[o],a[o+1]);return function(u){var m=_d(t,u,1,s)-1;return c[m](i[m](u))}}function kd(t,a){return a.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function fh(){var t=gS,a=gS,r=bc,s,i,c,o=Ma,u,m,h;function x(){var v=Math.min(t.length,a.length);return o!==Ma&&(o=TU(t[0],t[v-1])),u=v>2?PU:DU,m=h=null,f}function f(v){return v==null||isNaN(v=+v)?c:(m||(m=u(t.map(s),a,r)))(s(o(v)))}return f.invert=function(v){return o(i((h||(h=u(a,t.map(s),gx)))(v)))},f.domain=function(v){return arguments.length?(t=Array.from(v,yx),x()):t.slice()},f.range=function(v){return arguments.length?(a=Array.from(v),x()):a.slice()},f.rangeRound=function(v){return a=Array.from(v),r=tb,x()},f.clamp=function(v){return arguments.length?(o=v?!0:Ma,x()):o!==Ma},f.interpolate=function(v){return arguments.length?(r=v,x()):r},f.unknown=function(v){return arguments.length?(c=v,f):c},function(v,b){return s=v,i=b,x()}}function ab(){return fh()(Ma,Ma)}function zU(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function vx(t,a){if((r=(t=a?t.toExponential(a-1):t.toExponential()).indexOf("e"))<0)return null;var r,s=t.slice(0,r);return[s.length>1?s[0]+s.slice(2):s,+t.slice(r+1)]}function oc(t){return t=vx(Math.abs(t)),t?t[1]:NaN}function MU(t,a){return function(r,s){for(var i=r.length,c=[],o=0,u=t[0],m=0;i>0&&u>0&&(m+u+1>s&&(u=Math.max(1,s-m)),c.push(r.substring(i-=u,i+u)),!((m+=u+1)>s));)u=t[o=(o+1)%t.length];return c.reverse().join(a)}}function RU(t){return function(a){return a.replace(/[0-9]/g,function(r){return t[+r]})}}var LU=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sd(t){if(!(a=LU.exec(t)))throw new Error("invalid format: "+t);var a;return new rb({fill:a[1],align:a[2],sign:a[3],symbol:a[4],zero:a[5],width:a[6],comma:a[7],precision:a[8]&&a[8].slice(1),trim:a[9],type:a[10]})}sd.prototype=rb.prototype;function rb(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}rb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function IU(t){e:for(var a=t.length,r=1,s=-1,i;r<a;++r)switch(t[r]){case".":s=i=r;break;case"0":s===0&&(s=r),i=r;break;default:if(!+t[r])break e;s>0&&(s=0);break}return s>0?t.slice(0,s)+t.slice(i+1):t}var bk;function $U(t,a){var r=vx(t,a);if(!r)return t+"";var s=r[0],i=r[1],c=i-(bk=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=s.length;return c===o?s:c>o?s+new Array(c-o+1).join("0"):c>0?s.slice(0,c)+"."+s.slice(c):"0."+new Array(1-c).join("0")+vx(t,Math.max(0,a+c-1))[0]}function yS(t,a){var r=vx(t,a);if(!r)return t+"";var s=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+s:s.length>i+1?s.slice(0,i+1)+"."+s.slice(i+1):s+new Array(i-s.length+2).join("0")}const vS={"%":(t,a)=>(t*100).toFixed(a),b:t=>Math.round(t).toString(2),c:t=>t+"",d:zU,e:(t,a)=>t.toExponential(a),f:(t,a)=>t.toFixed(a),g:(t,a)=>t.toPrecision(a),o:t=>Math.round(t).toString(8),p:(t,a)=>yS(t*100,a),r:yS,s:$U,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function bS(t){return t}var jS=Array.prototype.map,NS=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function BU(t){var a=t.grouping===void 0||t.thousands===void 0?bS:MU(jS.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",s=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",c=t.numerals===void 0?bS:RU(jS.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",m=t.nan===void 0?"NaN":t.nan+"";function h(f){f=sd(f);var v=f.fill,b=f.align,w=f.sign,N=f.symbol,y=f.zero,_=f.width,A=f.comma,C=f.precision,E=f.trim,k=f.type;k==="n"?(A=!0,k="g"):vS[k]||(C===void 0&&(C=12),E=!0,k="g"),(y||v==="0"&&b==="=")&&(y=!0,v="0",b="=");var O=N==="$"?r:N==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",D=N==="$"?s:/[%p]/.test(k)?o:"",P=vS[k],L=/[defgprs%]/.test(k);C=C===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function z(M){var F=O,q=D,te,W,H;if(k==="c")q=P(M)+q,M="";else{M=+M;var R=M<0||1/M<0;if(M=isNaN(M)?m:P(Math.abs(M),C),E&&(M=IU(M)),R&&+M==0&&w!=="+"&&(R=!1),F=(R?w==="("?w:u:w==="-"||w==="("?"":w)+F,q=(k==="s"?NS[8+bk/3]:"")+q+(R&&w==="("?")":""),L){for(te=-1,W=M.length;++te<W;)if(H=M.charCodeAt(te),48>H||H>57){q=(H===46?i+M.slice(te+1):M.slice(te))+q,M=M.slice(0,te);break}}}A&&!y&&(M=a(M,1/0));var $=F.length+M.length+q.length,V=$<_?new Array(_-$+1).join(v):"";switch(A&&y&&(M=a(V+M,V.length?_-q.length:1/0),V=""),b){case"<":M=F+M+q+V;break;case"=":M=F+V+M+q;break;case"^":M=V.slice(0,$=V.length>>1)+F+M+q+V.slice($);break;default:M=V+F+M+q;break}return c(M)}return z.toString=function(){return f+""},z}function x(f,v){var b=h((f=sd(f),f.type="f",f)),w=Math.max(-8,Math.min(8,Math.floor(oc(v)/3)))*3,N=Math.pow(10,-w),y=NS[8+w/3];return function(_){return b(N*_)+y}}return{format:h,formatPrefix:x}}var gm,sb,jk;FU({thousands:",",grouping:[3],currency:["$",""]});function FU(t){return gm=BU(t),sb=gm.format,jk=gm.formatPrefix,gm}function UU(t){return Math.max(0,-oc(Math.abs(t)))}function qU(t,a){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(oc(a)/3)))*3-oc(Math.abs(t)))}function HU(t,a){return t=Math.abs(t),a=Math.abs(a)-t,Math.max(0,oc(a)-oc(t))+1}function Nk(t,a,r,s){var i=Fy(t,a,r),c;switch(s=sd(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(a));return s.precision==null&&!isNaN(c=qU(i,o))&&(s.precision=c),jk(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(c=HU(i,Math.max(Math.abs(t),Math.abs(a))))&&(s.precision=c-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(c=UU(i))&&(s.precision=c-(s.type==="%")*2);break}}return sb(s)}function si(t){var a=t.domain;return t.ticks=function(r){var s=a();return $y(s[0],s[s.length-1],r??10)},t.tickFormat=function(r,s){var i=a();return Nk(i[0],i[i.length-1],r??10,s)},t.nice=function(r){r==null&&(r=10);var s=a(),i=0,c=s.length-1,o=s[i],u=s[c],m,h,x=10;for(u<o&&(h=o,o=u,u=h,h=i,i=c,c=h);x-- >0;){if(h=By(o,u,r),h===m)return s[i]=o,s[c]=u,a(s);if(h>0)o=Math.floor(o/h)*h,u=Math.ceil(u/h)*h;else if(h<0)o=Math.ceil(o*h)/h,u=Math.floor(u*h)/h;else break;m=h}return t},t}function wk(){var t=ab();return t.copy=function(){return kd(t,wk())},Gr.apply(t,arguments),si(t)}function Sk(t){var a;function r(s){return s==null||isNaN(s=+s)?a:s}return r.invert=r,r.domain=r.range=function(s){return arguments.length?(t=Array.from(s,yx),r):t.slice()},r.unknown=function(s){return arguments.length?(a=s,r):a},r.copy=function(){return Sk(t).unknown(a)},t=arguments.length?Array.from(t,yx):[0,1],si(r)}function _k(t,a){t=t.slice();var r=0,s=t.length-1,i=t[r],c=t[s],o;return c<i&&(o=r,r=s,s=o,o=i,i=c,c=o),t[r]=a.floor(i),t[s]=a.ceil(c),t}function wS(t){return Math.log(t)}function SS(t){return Math.exp(t)}function VU(t){return-Math.log(-t)}function GU(t){return-Math.exp(-t)}function KU(t){return isFinite(t)?+("1e"+t):t<0?0:t}function YU(t){return t===10?KU:t===Math.E?Math.exp:a=>Math.pow(t,a)}function XU(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),a=>Math.log(a)/t)}function _S(t){return(a,r)=>-t(-a,r)}function nb(t){const a=t(wS,SS),r=a.domain;let s=10,i,c;function o(){return i=XU(s),c=YU(s),r()[0]<0?(i=_S(i),c=_S(c),t(VU,GU)):t(wS,SS),a}return a.base=function(u){return arguments.length?(s=+u,o()):s},a.domain=function(u){return arguments.length?(r(u),o()):r()},a.ticks=u=>{const m=r();let h=m[0],x=m[m.length-1];const f=x<h;f&&([h,x]=[x,h]);let v=i(h),b=i(x),w,N;const y=u==null?10:+u;let _=[];if(!(s%1)&&b-v<y){if(v=Math.floor(v),b=Math.ceil(b),h>0){for(;v<=b;++v)for(w=1;w<s;++w)if(N=v<0?w/c(-v):w*c(v),!(N<h)){if(N>x)break;_.push(N)}}else for(;v<=b;++v)for(w=s-1;w>=1;--w)if(N=v>0?w/c(-v):w*c(v),!(N<h)){if(N>x)break;_.push(N)}_.length*2<y&&(_=$y(h,x,y))}else _=$y(v,b,Math.min(b-v,y)).map(c);return f?_.reverse():_},a.tickFormat=(u,m)=>{if(u==null&&(u=10),m==null&&(m=s===10?"s":","),typeof m!="function"&&(!(s%1)&&(m=sd(m)).precision==null&&(m.trim=!0),m=sb(m)),u===1/0)return m;const h=Math.max(1,s*u/a.ticks().length);return x=>{let f=x/c(Math.round(i(x)));return f*s<s-.5&&(f*=s),f<=h?m(x):""}},a.nice=()=>r(_k(r(),{floor:u=>c(Math.floor(i(u))),ceil:u=>c(Math.ceil(i(u)))})),a}function Ck(){const t=nb(fh()).domain([1,10]);return t.copy=()=>kd(t,Ck()).base(t.base()),Gr.apply(t,arguments),t}function CS(t){return function(a){return Math.sign(a)*Math.log1p(Math.abs(a/t))}}function kS(t){return function(a){return Math.sign(a)*Math.expm1(Math.abs(a))*t}}function ib(t){var a=1,r=t(CS(a),kS(a));return r.constant=function(s){return arguments.length?t(CS(a=+s),kS(a)):a},si(r)}function kk(){var t=ib(fh());return t.copy=function(){return kd(t,kk()).constant(t.constant())},Gr.apply(t,arguments)}function AS(t){return function(a){return a<0?-Math.pow(-a,t):Math.pow(a,t)}}function WU(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ZU(t){return t<0?-t*t:t*t}function lb(t){var a=t(Ma,Ma),r=1;function s(){return r===1?t(Ma,Ma):r===.5?t(WU,ZU):t(AS(r),AS(1/r))}return a.exponent=function(i){return arguments.length?(r=+i,s()):r},si(a)}function cb(){var t=lb(fh());return t.copy=function(){return kd(t,cb()).exponent(t.exponent())},Gr.apply(t,arguments),t}function QU(){return cb.apply(null,arguments).exponent(.5)}function ES(t){return Math.sign(t)*t*t}function JU(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Ak(){var t=ab(),a=[0,1],r=!1,s;function i(c){var o=JU(t(c));return isNaN(o)?s:r?Math.round(o):o}return i.invert=function(c){return t.invert(ES(c))},i.domain=function(c){return arguments.length?(t.domain(c),i):t.domain()},i.range=function(c){return arguments.length?(t.range((a=Array.from(c,yx)).map(ES)),i):a.slice()},i.rangeRound=function(c){return i.range(c).round(!0)},i.round=function(c){return arguments.length?(r=!!c,i):r},i.clamp=function(c){return arguments.length?(t.clamp(c),i):t.clamp()},i.unknown=function(c){return arguments.length?(s=c,i):s},i.copy=function(){return Ak(t.domain(),a).round(r).clamp(t.clamp()).unknown(s)},Gr.apply(i,arguments),si(i)}function Ek(){var t=[],a=[],r=[],s;function i(){var o=0,u=Math.max(1,a.length);for(r=new Array(u-1);++o<u;)r[o-1]=rU(t,o/u);return c}function c(o){return o==null||isNaN(o=+o)?s:a[_d(r,o)]}return c.invertExtent=function(o){var u=a.indexOf(o);return u<0?[NaN,NaN]:[u>0?r[u-1]:t[0],u<r.length?r[u]:t[t.length-1]]},c.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let u of o)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Zn),i()},c.range=function(o){return arguments.length?(a=Array.from(o),i()):a.slice()},c.unknown=function(o){return arguments.length?(s=o,c):s},c.quantiles=function(){return r.slice()},c.copy=function(){return Ek().domain(t).range(a).unknown(s)},Gr.apply(c,arguments)}function Ok(){var t=0,a=1,r=1,s=[.5],i=[0,1],c;function o(m){return m!=null&&m<=m?i[_d(s,m,0,r)]:c}function u(){var m=-1;for(s=new Array(r);++m<r;)s[m]=((m+1)*a-(m-r)*t)/(r+1);return o}return o.domain=function(m){return arguments.length?([t,a]=m,t=+t,a=+a,u()):[t,a]},o.range=function(m){return arguments.length?(r=(i=Array.from(m)).length-1,u()):i.slice()},o.invertExtent=function(m){var h=i.indexOf(m);return h<0?[NaN,NaN]:h<1?[t,s[0]]:h>=r?[s[r-1],a]:[s[h-1],s[h]]},o.unknown=function(m){return arguments.length&&(c=m),o},o.thresholds=function(){return s.slice()},o.copy=function(){return Ok().domain([t,a]).range(i).unknown(c)},Gr.apply(si(o),arguments)}function Tk(){var t=[.5],a=[0,1],r,s=1;function i(c){return c!=null&&c<=c?a[_d(t,c,0,s)]:r}return i.domain=function(c){return arguments.length?(t=Array.from(c),s=Math.min(t.length,a.length-1),i):t.slice()},i.range=function(c){return arguments.length?(a=Array.from(c),s=Math.min(t.length,a.length-1),i):a.slice()},i.invertExtent=function(c){var o=a.indexOf(c);return[t[o-1],t[o]]},i.unknown=function(c){return arguments.length?(r=c,i):r},i.copy=function(){return Tk().domain(t).range(a).unknown(r)},Gr.apply(i,arguments)}const kg=new Date,Ag=new Date;function Zt(t,a,r,s){function i(c){return t(c=arguments.length===0?new Date:new Date(+c)),c}return i.floor=c=>(t(c=new Date(+c)),c),i.ceil=c=>(t(c=new Date(c-1)),a(c,1),t(c),c),i.round=c=>{const o=i(c),u=i.ceil(c);return c-o<u-c?o:u},i.offset=(c,o)=>(a(c=new Date(+c),o==null?1:Math.floor(o)),c),i.range=(c,o,u)=>{const m=[];if(c=i.ceil(c),u=u==null?1:Math.floor(u),!(c<o)||!(u>0))return m;let h;do m.push(h=new Date(+c)),a(c,u),t(c);while(h<c&&c<o);return m},i.filter=c=>Zt(o=>{if(o>=o)for(;t(o),!c(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;a(o,-1),!c(o););else for(;--u>=0;)for(;a(o,1),!c(o););}),r&&(i.count=(c,o)=>(kg.setTime(+c),Ag.setTime(+o),t(kg),t(Ag),Math.floor(r(kg,Ag))),i.every=c=>(c=Math.floor(c),!isFinite(c)||!(c>0)?null:c>1?i.filter(s?o=>s(o)%c===0:o=>i.count(0,o)%c===0):i)),i}const bx=Zt(()=>{},(t,a)=>{t.setTime(+t+a)},(t,a)=>a-t);bx.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Zt(a=>{a.setTime(Math.floor(a/t)*t)},(a,r)=>{a.setTime(+a+r*t)},(a,r)=>(r-a)/t):bx);bx.range;const Zs=1e3,$r=Zs*60,Qs=$r*60,on=Qs*24,ob=on*7,OS=on*30,Eg=on*365,Pi=Zt(t=>{t.setTime(t-t.getMilliseconds())},(t,a)=>{t.setTime(+t+a*Zs)},(t,a)=>(a-t)/Zs,t=>t.getUTCSeconds());Pi.range;const db=Zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Zs)},(t,a)=>{t.setTime(+t+a*$r)},(t,a)=>(a-t)/$r,t=>t.getMinutes());db.range;const ub=Zt(t=>{t.setUTCSeconds(0,0)},(t,a)=>{t.setTime(+t+a*$r)},(t,a)=>(a-t)/$r,t=>t.getUTCMinutes());ub.range;const mb=Zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Zs-t.getMinutes()*$r)},(t,a)=>{t.setTime(+t+a*Qs)},(t,a)=>(a-t)/Qs,t=>t.getHours());mb.range;const xb=Zt(t=>{t.setUTCMinutes(0,0,0)},(t,a)=>{t.setTime(+t+a*Qs)},(t,a)=>(a-t)/Qs,t=>t.getUTCHours());xb.range;const Ad=Zt(t=>t.setHours(0,0,0,0),(t,a)=>t.setDate(t.getDate()+a),(t,a)=>(a-t-(a.getTimezoneOffset()-t.getTimezoneOffset())*$r)/on,t=>t.getDate()-1);Ad.range;const gh=Zt(t=>{t.setUTCHours(0,0,0,0)},(t,a)=>{t.setUTCDate(t.getUTCDate()+a)},(t,a)=>(a-t)/on,t=>t.getUTCDate()-1);gh.range;const Dk=Zt(t=>{t.setUTCHours(0,0,0,0)},(t,a)=>{t.setUTCDate(t.getUTCDate()+a)},(t,a)=>(a-t)/on,t=>Math.floor(t/on));Dk.range;function Ji(t){return Zt(a=>{a.setDate(a.getDate()-(a.getDay()+7-t)%7),a.setHours(0,0,0,0)},(a,r)=>{a.setDate(a.getDate()+r*7)},(a,r)=>(r-a-(r.getTimezoneOffset()-a.getTimezoneOffset())*$r)/ob)}const yh=Ji(0),jx=Ji(1),eq=Ji(2),tq=Ji(3),dc=Ji(4),aq=Ji(5),rq=Ji(6);yh.range;jx.range;eq.range;tq.range;dc.range;aq.range;rq.range;function el(t){return Zt(a=>{a.setUTCDate(a.getUTCDate()-(a.getUTCDay()+7-t)%7),a.setUTCHours(0,0,0,0)},(a,r)=>{a.setUTCDate(a.getUTCDate()+r*7)},(a,r)=>(r-a)/ob)}const vh=el(0),Nx=el(1),sq=el(2),nq=el(3),uc=el(4),iq=el(5),lq=el(6);vh.range;Nx.range;sq.range;nq.range;uc.range;iq.range;lq.range;const hb=Zt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,a)=>{t.setMonth(t.getMonth()+a)},(t,a)=>a.getMonth()-t.getMonth()+(a.getFullYear()-t.getFullYear())*12,t=>t.getMonth());hb.range;const pb=Zt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,a)=>{t.setUTCMonth(t.getUTCMonth()+a)},(t,a)=>a.getUTCMonth()-t.getUTCMonth()+(a.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());pb.range;const dn=Zt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,a)=>{t.setFullYear(t.getFullYear()+a)},(t,a)=>a.getFullYear()-t.getFullYear(),t=>t.getFullYear());dn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zt(a=>{a.setFullYear(Math.floor(a.getFullYear()/t)*t),a.setMonth(0,1),a.setHours(0,0,0,0)},(a,r)=>{a.setFullYear(a.getFullYear()+r*t)});dn.range;const un=Zt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,a)=>{t.setUTCFullYear(t.getUTCFullYear()+a)},(t,a)=>a.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());un.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zt(a=>{a.setUTCFullYear(Math.floor(a.getUTCFullYear()/t)*t),a.setUTCMonth(0,1),a.setUTCHours(0,0,0,0)},(a,r)=>{a.setUTCFullYear(a.getUTCFullYear()+r*t)});un.range;function Pk(t,a,r,s,i,c){const o=[[Pi,1,Zs],[Pi,5,5*Zs],[Pi,15,15*Zs],[Pi,30,30*Zs],[c,1,$r],[c,5,5*$r],[c,15,15*$r],[c,30,30*$r],[i,1,Qs],[i,3,3*Qs],[i,6,6*Qs],[i,12,12*Qs],[s,1,on],[s,2,2*on],[r,1,ob],[a,1,OS],[a,3,3*OS],[t,1,Eg]];function u(h,x,f){const v=x<h;v&&([h,x]=[x,h]);const b=f&&typeof f.range=="function"?f:m(h,x,f),w=b?b.range(h,+x+1):[];return v?w.reverse():w}function m(h,x,f){const v=Math.abs(x-h)/f,b=Wv(([,,y])=>y).right(o,v);if(b===o.length)return t.every(Fy(h/Eg,x/Eg,f));if(b===0)return bx.every(Math.max(Fy(h,x,f),1));const[w,N]=o[v/o[b-1][2]<o[b][2]/v?b-1:b];return w.every(N)}return[u,m]}const[cq,oq]=Pk(un,pb,vh,Dk,xb,ub),[dq,uq]=Pk(dn,hb,yh,Ad,mb,db);function Og(t){if(0<=t.y&&t.y<100){var a=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return a.setFullYear(t.y),a}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Tg(t){if(0<=t.y&&t.y<100){var a=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return a.setUTCFullYear(t.y),a}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function To(t,a,r){return{y:t,m:a,d:r,H:0,M:0,S:0,L:0}}function mq(t){var a=t.dateTime,r=t.date,s=t.time,i=t.periods,c=t.days,o=t.shortDays,u=t.months,m=t.shortMonths,h=Do(i),x=Po(i),f=Do(c),v=Po(c),b=Do(o),w=Po(o),N=Do(u),y=Po(u),_=Do(m),A=Po(m),C={a:R,A:$,b:V,B:Z,c:null,d:RS,e:RS,f:Mq,g:Vq,G:Kq,H:Dq,I:Pq,j:zq,L:zk,m:Rq,M:Lq,p:B,q:K,Q:$S,s:BS,S:Iq,u:$q,U:Bq,V:Fq,w:Uq,W:qq,x:null,X:null,y:Hq,Y:Gq,Z:Yq,"%":IS},E={a:Y,A:ie,b:xe,B:he,c:null,d:LS,e:LS,f:Qq,g:cH,G:dH,H:Xq,I:Wq,j:Zq,L:Rk,m:Jq,M:eH,p:ye,q:Ce,Q:$S,s:BS,S:tH,u:aH,U:rH,V:sH,w:nH,W:iH,x:null,X:null,y:lH,Y:oH,Z:uH,"%":IS},k={a:z,A:M,b:F,B:q,c:te,d:zS,e:zS,f:Aq,g:PS,G:DS,H:MS,I:MS,j:Sq,L:kq,m:wq,M:_q,p:L,q:Nq,Q:Oq,s:Tq,S:Cq,u:gq,U:yq,V:vq,w:fq,W:bq,x:W,X:H,y:PS,Y:DS,Z:jq,"%":Eq};C.x=O(r,C),C.X=O(s,C),C.c=O(a,C),E.x=O(r,E),E.X=O(s,E),E.c=O(a,E);function O(re,fe){return function(Te){var de=[],pt=-1,Ee=0,ft=re.length,gt,yr,yn;for(Te instanceof Date||(Te=new Date(+Te));++pt<ft;)re.charCodeAt(pt)===37&&(de.push(re.slice(Ee,pt)),(yr=TS[gt=re.charAt(++pt)])!=null?gt=re.charAt(++pt):yr=gt==="e"?" ":"0",(yn=fe[gt])&&(gt=yn(Te,yr)),de.push(gt),Ee=pt+1);return de.push(re.slice(Ee,pt)),de.join("")}}function D(re,fe){return function(Te){var de=To(1900,void 0,1),pt=P(de,re,Te+="",0),Ee,ft;if(pt!=Te.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(fe&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(Ee=Tg(To(de.y,0,1)),ft=Ee.getUTCDay(),Ee=ft>4||ft===0?Nx.ceil(Ee):Nx(Ee),Ee=gh.offset(Ee,(de.V-1)*7),de.y=Ee.getUTCFullYear(),de.m=Ee.getUTCMonth(),de.d=Ee.getUTCDate()+(de.w+6)%7):(Ee=Og(To(de.y,0,1)),ft=Ee.getDay(),Ee=ft>4||ft===0?jx.ceil(Ee):jx(Ee),Ee=Ad.offset(Ee,(de.V-1)*7),de.y=Ee.getFullYear(),de.m=Ee.getMonth(),de.d=Ee.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),ft="Z"in de?Tg(To(de.y,0,1)).getUTCDay():Og(To(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(ft+5)%7:de.w+de.U*7-(ft+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,Tg(de)):Og(de)}}function P(re,fe,Te,de){for(var pt=0,Ee=fe.length,ft=Te.length,gt,yr;pt<Ee;){if(de>=ft)return-1;if(gt=fe.charCodeAt(pt++),gt===37){if(gt=fe.charAt(pt++),yr=k[gt in TS?fe.charAt(pt++):gt],!yr||(de=yr(re,Te,de))<0)return-1}else if(gt!=Te.charCodeAt(de++))return-1}return de}function L(re,fe,Te){var de=h.exec(fe.slice(Te));return de?(re.p=x.get(de[0].toLowerCase()),Te+de[0].length):-1}function z(re,fe,Te){var de=b.exec(fe.slice(Te));return de?(re.w=w.get(de[0].toLowerCase()),Te+de[0].length):-1}function M(re,fe,Te){var de=f.exec(fe.slice(Te));return de?(re.w=v.get(de[0].toLowerCase()),Te+de[0].length):-1}function F(re,fe,Te){var de=_.exec(fe.slice(Te));return de?(re.m=A.get(de[0].toLowerCase()),Te+de[0].length):-1}function q(re,fe,Te){var de=N.exec(fe.slice(Te));return de?(re.m=y.get(de[0].toLowerCase()),Te+de[0].length):-1}function te(re,fe,Te){return P(re,a,fe,Te)}function W(re,fe,Te){return P(re,r,fe,Te)}function H(re,fe,Te){return P(re,s,fe,Te)}function R(re){return o[re.getDay()]}function $(re){return c[re.getDay()]}function V(re){return m[re.getMonth()]}function Z(re){return u[re.getMonth()]}function B(re){return i[+(re.getHours()>=12)]}function K(re){return 1+~~(re.getMonth()/3)}function Y(re){return o[re.getUTCDay()]}function ie(re){return c[re.getUTCDay()]}function xe(re){return m[re.getUTCMonth()]}function he(re){return u[re.getUTCMonth()]}function ye(re){return i[+(re.getUTCHours()>=12)]}function Ce(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var fe=O(re+="",C);return fe.toString=function(){return re},fe},parse:function(re){var fe=D(re+="",!1);return fe.toString=function(){return re},fe},utcFormat:function(re){var fe=O(re+="",E);return fe.toString=function(){return re},fe},utcParse:function(re){var fe=D(re+="",!0);return fe.toString=function(){return re},fe}}}var TS={"-":"",_:" ",0:"0"},ua=/^\s*\d+/,xq=/^%/,hq=/[\\^$*+?|[\]().{}]/g;function Ke(t,a,r){var s=t<0?"-":"",i=(s?-t:t)+"",c=i.length;return s+(c<r?new Array(r-c+1).join(a)+i:i)}function pq(t){return t.replace(hq,"\\$&")}function Do(t){return new RegExp("^(?:"+t.map(pq).join("|")+")","i")}function Po(t){return new Map(t.map((a,r)=>[a.toLowerCase(),r]))}function fq(t,a,r){var s=ua.exec(a.slice(r,r+1));return s?(t.w=+s[0],r+s[0].length):-1}function gq(t,a,r){var s=ua.exec(a.slice(r,r+1));return s?(t.u=+s[0],r+s[0].length):-1}function yq(t,a,r){var s=ua.exec(a.slice(r,r+2));return s?(t.U=+s[0],r+s[0].length):-1}function vq(t,a,r){var s=ua.exec(a.slice(r,r+2));return s?(t.V=+s[0],r+s[0].length):-1}function bq(t,a,r){var s=ua.exec(a.slice(r,r+2));return s?(t.W=+s[0],r+s[0].length):-1}function DS(t,a,r){var s=ua.exec(a.slice(r,r+4));return s?(t.y=+s[0],r+s[0].length):-1}function PS(t,a,r){var s=ua.exec(a.slice(r,r+2));return s?(t.y=+s[0]+(+s[0]>68?1900:2e3),r+s[0].length):-1}function jq(t,a,r){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(a.slice(r,r+6));return s?(t.Z=s[1]?0:-(s[2]+(s[3]||"00")),r+s[0].length):-1}function Nq(t,a,r){var s=ua.exec(a.slice(r,r+1));return s?(t.q=s[0]*3-3,r+s[0].length):-1}function wq(t,a,r){var s=ua.exec(a.slice(r,r+2));return s?(t.m=s[0]-1,r+s[0].length):-1}function zS(t,a,r){var s=ua.exec(a.slice(r,r+2));return s?(t.d=+s[0],r+s[0].length):-1}function Sq(t,a,r){var s=ua.exec(a.slice(r,r+3));return s?(t.m=0,t.d=+s[0],r+s[0].length):-1}function MS(t,a,r){var s=ua.exec(a.slice(r,r+2));return s?(t.H=+s[0],r+s[0].length):-1}function _q(t,a,r){var s=ua.exec(a.slice(r,r+2));return s?(t.M=+s[0],r+s[0].length):-1}function Cq(t,a,r){var s=ua.exec(a.slice(r,r+2));return s?(t.S=+s[0],r+s[0].length):-1}function kq(t,a,r){var s=ua.exec(a.slice(r,r+3));return s?(t.L=+s[0],r+s[0].length):-1}function Aq(t,a,r){var s=ua.exec(a.slice(r,r+6));return s?(t.L=Math.floor(s[0]/1e3),r+s[0].length):-1}function Eq(t,a,r){var s=xq.exec(a.slice(r,r+1));return s?r+s[0].length:-1}function Oq(t,a,r){var s=ua.exec(a.slice(r));return s?(t.Q=+s[0],r+s[0].length):-1}function Tq(t,a,r){var s=ua.exec(a.slice(r));return s?(t.s=+s[0],r+s[0].length):-1}function RS(t,a){return Ke(t.getDate(),a,2)}function Dq(t,a){return Ke(t.getHours(),a,2)}function Pq(t,a){return Ke(t.getHours()%12||12,a,2)}function zq(t,a){return Ke(1+Ad.count(dn(t),t),a,3)}function zk(t,a){return Ke(t.getMilliseconds(),a,3)}function Mq(t,a){return zk(t,a)+"000"}function Rq(t,a){return Ke(t.getMonth()+1,a,2)}function Lq(t,a){return Ke(t.getMinutes(),a,2)}function Iq(t,a){return Ke(t.getSeconds(),a,2)}function $q(t){var a=t.getDay();return a===0?7:a}function Bq(t,a){return Ke(yh.count(dn(t)-1,t),a,2)}function Mk(t){var a=t.getDay();return a>=4||a===0?dc(t):dc.ceil(t)}function Fq(t,a){return t=Mk(t),Ke(dc.count(dn(t),t)+(dn(t).getDay()===4),a,2)}function Uq(t){return t.getDay()}function qq(t,a){return Ke(jx.count(dn(t)-1,t),a,2)}function Hq(t,a){return Ke(t.getFullYear()%100,a,2)}function Vq(t,a){return t=Mk(t),Ke(t.getFullYear()%100,a,2)}function Gq(t,a){return Ke(t.getFullYear()%1e4,a,4)}function Kq(t,a){var r=t.getDay();return t=r>=4||r===0?dc(t):dc.ceil(t),Ke(t.getFullYear()%1e4,a,4)}function Yq(t){var a=t.getTimezoneOffset();return(a>0?"-":(a*=-1,"+"))+Ke(a/60|0,"0",2)+Ke(a%60,"0",2)}function LS(t,a){return Ke(t.getUTCDate(),a,2)}function Xq(t,a){return Ke(t.getUTCHours(),a,2)}function Wq(t,a){return Ke(t.getUTCHours()%12||12,a,2)}function Zq(t,a){return Ke(1+gh.count(un(t),t),a,3)}function Rk(t,a){return Ke(t.getUTCMilliseconds(),a,3)}function Qq(t,a){return Rk(t,a)+"000"}function Jq(t,a){return Ke(t.getUTCMonth()+1,a,2)}function eH(t,a){return Ke(t.getUTCMinutes(),a,2)}function tH(t,a){return Ke(t.getUTCSeconds(),a,2)}function aH(t){var a=t.getUTCDay();return a===0?7:a}function rH(t,a){return Ke(vh.count(un(t)-1,t),a,2)}function Lk(t){var a=t.getUTCDay();return a>=4||a===0?uc(t):uc.ceil(t)}function sH(t,a){return t=Lk(t),Ke(uc.count(un(t),t)+(un(t).getUTCDay()===4),a,2)}function nH(t){return t.getUTCDay()}function iH(t,a){return Ke(Nx.count(un(t)-1,t),a,2)}function lH(t,a){return Ke(t.getUTCFullYear()%100,a,2)}function cH(t,a){return t=Lk(t),Ke(t.getUTCFullYear()%100,a,2)}function oH(t,a){return Ke(t.getUTCFullYear()%1e4,a,4)}function dH(t,a){var r=t.getUTCDay();return t=r>=4||r===0?uc(t):uc.ceil(t),Ke(t.getUTCFullYear()%1e4,a,4)}function uH(){return"+0000"}function IS(){return"%"}function $S(t){return+t}function BS(t){return Math.floor(+t/1e3)}var Ul,Ik,$k;mH({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mH(t){return Ul=mq(t),Ik=Ul.format,Ul.parse,$k=Ul.utcFormat,Ul.utcParse,Ul}function xH(t){return new Date(t)}function hH(t){return t instanceof Date?+t:+new Date(+t)}function fb(t,a,r,s,i,c,o,u,m,h){var x=ab(),f=x.invert,v=x.domain,b=h(".%L"),w=h(":%S"),N=h("%I:%M"),y=h("%I %p"),_=h("%a %d"),A=h("%b %d"),C=h("%B"),E=h("%Y");function k(O){return(m(O)<O?b:u(O)<O?w:o(O)<O?N:c(O)<O?y:s(O)<O?i(O)<O?_:A:r(O)<O?C:E)(O)}return x.invert=function(O){return new Date(f(O))},x.domain=function(O){return arguments.length?v(Array.from(O,hH)):v().map(xH)},x.ticks=function(O){var D=v();return t(D[0],D[D.length-1],O??10)},x.tickFormat=function(O,D){return D==null?k:h(D)},x.nice=function(O){var D=v();return(!O||typeof O.range!="function")&&(O=a(D[0],D[D.length-1],O??10)),O?v(_k(D,O)):x},x.copy=function(){return kd(x,fb(t,a,r,s,i,c,o,u,m,h))},x}function pH(){return Gr.apply(fb(dq,uq,dn,hb,yh,Ad,mb,db,Pi,Ik).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function fH(){return Gr.apply(fb(cq,oq,un,pb,vh,gh,xb,ub,Pi,$k).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function bh(){var t=0,a=1,r,s,i,c,o=Ma,u=!1,m;function h(f){return f==null||isNaN(f=+f)?m:o(i===0?.5:(f=(c(f)-r)*i,u?Math.max(0,Math.min(1,f)):f))}h.domain=function(f){return arguments.length?([t,a]=f,r=c(t=+t),s=c(a=+a),i=r===s?0:1/(s-r),h):[t,a]},h.clamp=function(f){return arguments.length?(u=!!f,h):u},h.interpolator=function(f){return arguments.length?(o=f,h):o};function x(f){return function(v){var b,w;return arguments.length?([b,w]=v,o=f(b,w),h):[o(0),o(1)]}}return h.range=x(bc),h.rangeRound=x(tb),h.unknown=function(f){return arguments.length?(m=f,h):m},function(f){return c=f,r=f(t),s=f(a),i=r===s?0:1/(s-r),h}}function ni(t,a){return a.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Bk(){var t=si(bh()(Ma));return t.copy=function(){return ni(t,Bk())},fn.apply(t,arguments)}function Fk(){var t=nb(bh()).domain([1,10]);return t.copy=function(){return ni(t,Fk()).base(t.base())},fn.apply(t,arguments)}function Uk(){var t=ib(bh());return t.copy=function(){return ni(t,Uk()).constant(t.constant())},fn.apply(t,arguments)}function gb(){var t=lb(bh());return t.copy=function(){return ni(t,gb()).exponent(t.exponent())},fn.apply(t,arguments)}function gH(){return gb.apply(null,arguments).exponent(.5)}function qk(){var t=[],a=Ma;function r(s){if(s!=null&&!isNaN(s=+s))return a((_d(t,s,1)-1)/(t.length-1))}return r.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let i of s)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Zn),r},r.interpolator=function(s){return arguments.length?(a=s,r):a},r.range=function(){return t.map((s,i)=>a(i/(t.length-1)))},r.quantiles=function(s){return Array.from({length:s+1},(i,c)=>aU(t,c/s))},r.copy=function(){return qk(a).domain(t)},fn.apply(r,arguments)}function jh(){var t=0,a=.5,r=1,s=1,i,c,o,u,m,h=Ma,x,f=!1,v;function b(N){return isNaN(N=+N)?v:(N=.5+((N=+x(N))-c)*(s*N<s*c?u:m),h(f?Math.max(0,Math.min(1,N)):N))}b.domain=function(N){return arguments.length?([t,a,r]=N,i=x(t=+t),c=x(a=+a),o=x(r=+r),u=i===c?0:.5/(c-i),m=c===o?0:.5/(o-c),s=c<i?-1:1,b):[t,a,r]},b.clamp=function(N){return arguments.length?(f=!!N,b):f},b.interpolator=function(N){return arguments.length?(h=N,b):h};function w(N){return function(y){var _,A,C;return arguments.length?([_,A,C]=y,h=EU(N,[_,A,C]),b):[h(0),h(.5),h(1)]}}return b.range=w(bc),b.rangeRound=w(tb),b.unknown=function(N){return arguments.length?(v=N,b):v},function(N){return x=N,i=N(t),c=N(a),o=N(r),u=i===c?0:.5/(c-i),m=c===o?0:.5/(o-c),s=c<i?-1:1,b}}function Hk(){var t=si(jh()(Ma));return t.copy=function(){return ni(t,Hk())},fn.apply(t,arguments)}function Vk(){var t=nb(jh()).domain([.1,1,10]);return t.copy=function(){return ni(t,Vk()).base(t.base())},fn.apply(t,arguments)}function Gk(){var t=ib(jh());return t.copy=function(){return ni(t,Gk()).constant(t.constant())},fn.apply(t,arguments)}function yb(){var t=lb(jh());return t.copy=function(){return ni(t,yb()).exponent(t.exponent())},fn.apply(t,arguments)}function yH(){return yb.apply(null,arguments).exponent(.5)}const Bo=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Qv,scaleDiverging:Hk,scaleDivergingLog:Vk,scaleDivergingPow:yb,scaleDivergingSqrt:yH,scaleDivergingSymlog:Gk,scaleIdentity:Sk,scaleImplicit:Uy,scaleLinear:wk,scaleLog:Ck,scaleOrdinal:Zv,scalePoint:nU,scalePow:cb,scaleQuantile:Ek,scaleQuantize:Ok,scaleRadial:Ak,scaleSequential:Bk,scaleSequentialLog:Fk,scaleSequentialPow:gb,scaleSequentialQuantile:qk,scaleSequentialSqrt:gH,scaleSequentialSymlog:Uk,scaleSqrt:QU,scaleSymlog:kk,scaleThreshold:Tk,scaleTime:pH,scaleUtc:fH,tickFormat:Nk},Symbol.toStringTag,{value:"Module"}));var ii=t=>t.chartData,vb=ae([ii],t=>{var a=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:a,dataStartIndex:0}}),bb=(t,a,r,s)=>s?vb(t):ii(t);function Jn(t){if(Array.isArray(t)&&t.length===2){var[a,r]=t;if(Tt(a)&&Tt(r))return!0}return!1}function FS(t,a,r){return r?t:[Math.min(t[0],a[0]),Math.max(t[1],a[1])]}function Kk(t,a){if(a&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,s]=t,i,c;if(Tt(r))i=r;else if(typeof r=="function")return;if(Tt(s))c=s;else if(typeof s=="function")return;var o=[i,c];if(Jn(o))return o}}function vH(t,a,r){if(!(!r&&a==null)){if(typeof t=="function"&&a!=null)try{var s=t(a,r);if(Jn(s))return FS(s,a,r)}catch{}if(Array.isArray(t)&&t.length===2){var[i,c]=t,o,u;if(i==="auto")a!=null&&(o=Math.min(...a));else if(Se(i))o=i;else if(typeof i=="function")try{a!=null&&(o=i(a?.[0]))}catch{}else if(typeof i=="string"&&j6.test(i)){var m=j6.exec(i);if(m==null||a==null)o=void 0;else{var h=+m[1];o=a[0]-h}}else o=a?.[0];if(c==="auto")a!=null&&(u=Math.max(...a));else if(Se(c))u=c;else if(typeof c=="function")try{a!=null&&(u=c(a?.[1]))}catch{}else if(typeof c=="string"&&N6.test(c)){var x=N6.exec(c);if(x==null||a==null)u=void 0;else{var f=+x[1];u=a[1]+f}}else u=a?.[1];var v=[o,u];if(Jn(v))return a==null?v:FS(v,a,r)}}}var jc=1e9,bH={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Nb,jt=!0,Vr="[DecimalError] ",Fi=Vr+"Invalid argument: ",jb=Vr+"Exponent out of range: ",Nc=Math.floor,Ei=Math.pow,jH=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,mr,na=1e7,xt=7,Yk=9007199254740991,wx=Nc(Yk/xt),ge={};ge.absoluteValue=ge.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ge.comparedTo=ge.cmp=function(t){var a,r,s,i,c=this;if(t=new c.constructor(t),c.s!==t.s)return c.s||-t.s;if(c.e!==t.e)return c.e>t.e^c.s<0?1:-1;for(s=c.d.length,i=t.d.length,a=0,r=s<i?s:i;a<r;++a)if(c.d[a]!==t.d[a])return c.d[a]>t.d[a]^c.s<0?1:-1;return s===i?0:s>i^c.s<0?1:-1};ge.decimalPlaces=ge.dp=function(){var t=this,a=t.d.length-1,r=(a-t.e)*xt;if(a=t.d[a],a)for(;a%10==0;a/=10)r--;return r<0?0:r};ge.dividedBy=ge.div=function(t){return tn(this,new this.constructor(t))};ge.dividedToIntegerBy=ge.idiv=function(t){var a=this,r=a.constructor;return ct(tn(a,new r(t),0,1),r.precision)};ge.equals=ge.eq=function(t){return!this.cmp(t)};ge.exponent=function(){return qt(this)};ge.greaterThan=ge.gt=function(t){return this.cmp(t)>0};ge.greaterThanOrEqualTo=ge.gte=function(t){return this.cmp(t)>=0};ge.isInteger=ge.isint=function(){return this.e>this.d.length-2};ge.isNegative=ge.isneg=function(){return this.s<0};ge.isPositive=ge.ispos=function(){return this.s>0};ge.isZero=function(){return this.s===0};ge.lessThan=ge.lt=function(t){return this.cmp(t)<0};ge.lessThanOrEqualTo=ge.lte=function(t){return this.cmp(t)<1};ge.logarithm=ge.log=function(t){var a,r=this,s=r.constructor,i=s.precision,c=i+5;if(t===void 0)t=new s(10);else if(t=new s(t),t.s<1||t.eq(mr))throw Error(Vr+"NaN");if(r.s<1)throw Error(Vr+(r.s?"NaN":"-Infinity"));return r.eq(mr)?new s(0):(jt=!1,a=tn(nd(r,c),nd(t,c),c),jt=!0,ct(a,i))};ge.minus=ge.sub=function(t){var a=this;return t=new a.constructor(t),a.s==t.s?Zk(a,t):Xk(a,(t.s=-t.s,t))};ge.modulo=ge.mod=function(t){var a,r=this,s=r.constructor,i=s.precision;if(t=new s(t),!t.s)throw Error(Vr+"NaN");return r.s?(jt=!1,a=tn(r,t,0,1).times(t),jt=!0,r.minus(a)):ct(new s(r),i)};ge.naturalExponential=ge.exp=function(){return Wk(this)};ge.naturalLogarithm=ge.ln=function(){return nd(this)};ge.negated=ge.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ge.plus=ge.add=function(t){var a=this;return t=new a.constructor(t),a.s==t.s?Xk(a,t):Zk(a,(t.s=-t.s,t))};ge.precision=ge.sd=function(t){var a,r,s,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Fi+t);if(a=qt(i)+1,s=i.d.length-1,r=s*xt+1,s=i.d[s],s){for(;s%10==0;s/=10)r--;for(s=i.d[0];s>=10;s/=10)r++}return t&&a>r?a:r};ge.squareRoot=ge.sqrt=function(){var t,a,r,s,i,c,o,u=this,m=u.constructor;if(u.s<1){if(!u.s)return new m(0);throw Error(Vr+"NaN")}for(t=qt(u),jt=!1,i=Math.sqrt(+u),i==0||i==1/0?(a=ys(u.d),(a.length+t)%2==0&&(a+="0"),i=Math.sqrt(a),t=Nc((t+1)/2)-(t<0||t%2),i==1/0?a="5e"+t:(a=i.toExponential(),a=a.slice(0,a.indexOf("e")+1)+t),s=new m(a)):s=new m(i.toString()),r=m.precision,i=o=r+3;;)if(c=s,s=c.plus(tn(u,c,o+2)).times(.5),ys(c.d).slice(0,o)===(a=ys(s.d)).slice(0,o)){if(a=a.slice(o-3,o+1),i==o&&a=="4999"){if(ct(c,r+1,0),c.times(c).eq(u)){s=c;break}}else if(a!="9999")break;o+=4}return jt=!0,ct(s,r)};ge.times=ge.mul=function(t){var a,r,s,i,c,o,u,m,h,x=this,f=x.constructor,v=x.d,b=(t=new f(t)).d;if(!x.s||!t.s)return new f(0);for(t.s*=x.s,r=x.e+t.e,m=v.length,h=b.length,m<h&&(c=v,v=b,b=c,o=m,m=h,h=o),c=[],o=m+h,s=o;s--;)c.push(0);for(s=h;--s>=0;){for(a=0,i=m+s;i>s;)u=c[i]+b[s]*v[i-s-1]+a,c[i--]=u%na|0,a=u/na|0;c[i]=(c[i]+a)%na|0}for(;!c[--o];)c.pop();return a?++r:c.shift(),t.d=c,t.e=r,jt?ct(t,f.precision):t};ge.toDecimalPlaces=ge.todp=function(t,a){var r=this,s=r.constructor;return r=new s(r),t===void 0?r:(ws(t,0,jc),a===void 0?a=s.rounding:ws(a,0,8),ct(r,t+qt(r)+1,a))};ge.toExponential=function(t,a){var r,s=this,i=s.constructor;return t===void 0?r=Yi(s,!0):(ws(t,0,jc),a===void 0?a=i.rounding:ws(a,0,8),s=ct(new i(s),t+1,a),r=Yi(s,!0,t+1)),r};ge.toFixed=function(t,a){var r,s,i=this,c=i.constructor;return t===void 0?Yi(i):(ws(t,0,jc),a===void 0?a=c.rounding:ws(a,0,8),s=ct(new c(i),t+qt(i)+1,a),r=Yi(s.abs(),!1,t+qt(s)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ge.toInteger=ge.toint=function(){var t=this,a=t.constructor;return ct(new a(t),qt(t)+1,a.rounding)};ge.toNumber=function(){return+this};ge.toPower=ge.pow=function(t){var a,r,s,i,c,o,u=this,m=u.constructor,h=12,x=+(t=new m(t));if(!t.s)return new m(mr);if(u=new m(u),!u.s){if(t.s<1)throw Error(Vr+"Infinity");return u}if(u.eq(mr))return u;if(s=m.precision,t.eq(mr))return ct(u,s);if(a=t.e,r=t.d.length-1,o=a>=r,c=u.s,o){if((r=x<0?-x:x)<=Yk){for(i=new m(mr),a=Math.ceil(s/xt+4),jt=!1;r%2&&(i=i.times(u),qS(i.d,a)),r=Nc(r/2),r!==0;)u=u.times(u),qS(u.d,a);return jt=!0,t.s<0?new m(mr).div(i):ct(i,s)}}else if(c<0)throw Error(Vr+"NaN");return c=c<0&&t.d[Math.max(a,r)]&1?-1:1,u.s=1,jt=!1,i=t.times(nd(u,s+h)),jt=!0,i=Wk(i),i.s=c,i};ge.toPrecision=function(t,a){var r,s,i=this,c=i.constructor;return t===void 0?(r=qt(i),s=Yi(i,r<=c.toExpNeg||r>=c.toExpPos)):(ws(t,1,jc),a===void 0?a=c.rounding:ws(a,0,8),i=ct(new c(i),t,a),r=qt(i),s=Yi(i,t<=r||r<=c.toExpNeg,t)),s};ge.toSignificantDigits=ge.tosd=function(t,a){var r=this,s=r.constructor;return t===void 0?(t=s.precision,a=s.rounding):(ws(t,1,jc),a===void 0?a=s.rounding:ws(a,0,8)),ct(new s(r),t,a)};ge.toString=ge.valueOf=ge.val=ge.toJSON=ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,a=qt(t),r=t.constructor;return Yi(t,a<=r.toExpNeg||a>=r.toExpPos)};function Xk(t,a){var r,s,i,c,o,u,m,h,x=t.constructor,f=x.precision;if(!t.s||!a.s)return a.s||(a=new x(t)),jt?ct(a,f):a;if(m=t.d,h=a.d,o=t.e,i=a.e,m=m.slice(),c=o-i,c){for(c<0?(s=m,c=-c,u=h.length):(s=h,i=o,u=m.length),o=Math.ceil(f/xt),u=o>u?o+1:u+1,c>u&&(c=u,s.length=1),s.reverse();c--;)s.push(0);s.reverse()}for(u=m.length,c=h.length,u-c<0&&(c=u,s=h,h=m,m=s),r=0;c;)r=(m[--c]=m[c]+h[c]+r)/na|0,m[c]%=na;for(r&&(m.unshift(r),++i),u=m.length;m[--u]==0;)m.pop();return a.d=m,a.e=i,jt?ct(a,f):a}function ws(t,a,r){if(t!==~~t||t<a||t>r)throw Error(Fi+t)}function ys(t){var a,r,s,i=t.length-1,c="",o=t[0];if(i>0){for(c+=o,a=1;a<i;a++)s=t[a]+"",r=xt-s.length,r&&(c+=Hn(r)),c+=s;o=t[a],s=o+"",r=xt-s.length,r&&(c+=Hn(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return c+o}var tn=(function(){function t(s,i){var c,o=0,u=s.length;for(s=s.slice();u--;)c=s[u]*i+o,s[u]=c%na|0,o=c/na|0;return o&&s.unshift(o),s}function a(s,i,c,o){var u,m;if(c!=o)m=c>o?1:-1;else for(u=m=0;u<c;u++)if(s[u]!=i[u]){m=s[u]>i[u]?1:-1;break}return m}function r(s,i,c){for(var o=0;c--;)s[c]-=o,o=s[c]<i[c]?1:0,s[c]=o*na+s[c]-i[c];for(;!s[0]&&s.length>1;)s.shift()}return function(s,i,c,o){var u,m,h,x,f,v,b,w,N,y,_,A,C,E,k,O,D,P,L=s.constructor,z=s.s==i.s?1:-1,M=s.d,F=i.d;if(!s.s)return new L(s);if(!i.s)throw Error(Vr+"Division by zero");for(m=s.e-i.e,D=F.length,k=M.length,b=new L(z),w=b.d=[],h=0;F[h]==(M[h]||0);)++h;if(F[h]>(M[h]||0)&&--m,c==null?A=c=L.precision:o?A=c+(qt(s)-qt(i))+1:A=c,A<0)return new L(0);if(A=A/xt+2|0,h=0,D==1)for(x=0,F=F[0],A++;(h<k||x)&&A--;h++)C=x*na+(M[h]||0),w[h]=C/F|0,x=C%F|0;else{for(x=na/(F[0]+1)|0,x>1&&(F=t(F,x),M=t(M,x),D=F.length,k=M.length),E=D,N=M.slice(0,D),y=N.length;y<D;)N[y++]=0;P=F.slice(),P.unshift(0),O=F[0],F[1]>=na/2&&++O;do x=0,u=a(F,N,D,y),u<0?(_=N[0],D!=y&&(_=_*na+(N[1]||0)),x=_/O|0,x>1?(x>=na&&(x=na-1),f=t(F,x),v=f.length,y=N.length,u=a(f,N,v,y),u==1&&(x--,r(f,D<v?P:F,v))):(x==0&&(u=x=1),f=F.slice()),v=f.length,v<y&&f.unshift(0),r(N,f,y),u==-1&&(y=N.length,u=a(F,N,D,y),u<1&&(x++,r(N,D<y?P:F,y))),y=N.length):u===0&&(x++,N=[0]),w[h++]=x,u&&N[0]?N[y++]=M[E]||0:(N=[M[E]],y=1);while((E++<k||N[0]!==void 0)&&A--)}return w[0]||w.shift(),b.e=m,ct(b,o?c+qt(b)+1:c)}})();function Wk(t,a){var r,s,i,c,o,u,m=0,h=0,x=t.constructor,f=x.precision;if(qt(t)>16)throw Error(jb+qt(t));if(!t.s)return new x(mr);for(jt=!1,u=f,o=new x(.03125);t.abs().gte(.1);)t=t.times(o),h+=5;for(s=Math.log(Ei(2,h))/Math.LN10*2+5|0,u+=s,r=i=c=new x(mr),x.precision=u;;){if(i=ct(i.times(t),u),r=r.times(++m),o=c.plus(tn(i,r,u)),ys(o.d).slice(0,u)===ys(c.d).slice(0,u)){for(;h--;)c=ct(c.times(c),u);return x.precision=f,a==null?(jt=!0,ct(c,f)):c}c=o}}function qt(t){for(var a=t.e*xt,r=t.d[0];r>=10;r/=10)a++;return a}function Dg(t,a,r){if(a>t.LN10.sd())throw jt=!0,r&&(t.precision=r),Error(Vr+"LN10 precision limit exceeded");return ct(new t(t.LN10),a)}function Hn(t){for(var a="";t--;)a+="0";return a}function nd(t,a){var r,s,i,c,o,u,m,h,x,f=1,v=10,b=t,w=b.d,N=b.constructor,y=N.precision;if(b.s<1)throw Error(Vr+(b.s?"NaN":"-Infinity"));if(b.eq(mr))return new N(0);if(a==null?(jt=!1,h=y):h=a,b.eq(10))return a==null&&(jt=!0),Dg(N,h);if(h+=v,N.precision=h,r=ys(w),s=r.charAt(0),c=qt(b),Math.abs(c)<15e14){for(;s<7&&s!=1||s==1&&r.charAt(1)>3;)b=b.times(t),r=ys(b.d),s=r.charAt(0),f++;c=qt(b),s>1?(b=new N("0."+r),c++):b=new N(s+"."+r.slice(1))}else return m=Dg(N,h+2,y).times(c+""),b=nd(new N(s+"."+r.slice(1)),h-v).plus(m),N.precision=y,a==null?(jt=!0,ct(b,y)):b;for(u=o=b=tn(b.minus(mr),b.plus(mr),h),x=ct(b.times(b),h),i=3;;){if(o=ct(o.times(x),h),m=u.plus(tn(o,new N(i),h)),ys(m.d).slice(0,h)===ys(u.d).slice(0,h))return u=u.times(2),c!==0&&(u=u.plus(Dg(N,h+2,y).times(c+""))),u=tn(u,new N(f),h),N.precision=y,a==null?(jt=!0,ct(u,y)):u;u=m,i+=2}}function US(t,a){var r,s,i;for((r=a.indexOf("."))>-1&&(a=a.replace(".","")),(s=a.search(/e/i))>0?(r<0&&(r=s),r+=+a.slice(s+1),a=a.substring(0,s)):r<0&&(r=a.length),s=0;a.charCodeAt(s)===48;)++s;for(i=a.length;a.charCodeAt(i-1)===48;)--i;if(a=a.slice(s,i),a){if(i-=s,r=r-s-1,t.e=Nc(r/xt),t.d=[],s=(r+1)%xt,r<0&&(s+=xt),s<i){for(s&&t.d.push(+a.slice(0,s)),i-=xt;s<i;)t.d.push(+a.slice(s,s+=xt));a=a.slice(s),s=xt-a.length}else s-=i;for(;s--;)a+="0";if(t.d.push(+a),jt&&(t.e>wx||t.e<-wx))throw Error(jb+r)}else t.s=0,t.e=0,t.d=[0];return t}function ct(t,a,r){var s,i,c,o,u,m,h,x,f=t.d;for(o=1,c=f[0];c>=10;c/=10)o++;if(s=a-o,s<0)s+=xt,i=a,h=f[x=0];else{if(x=Math.ceil((s+1)/xt),c=f.length,x>=c)return t;for(h=c=f[x],o=1;c>=10;c/=10)o++;s%=xt,i=s-xt+o}if(r!==void 0&&(c=Ei(10,o-i-1),u=h/c%10|0,m=a<0||f[x+1]!==void 0||h%c,m=r<4?(u||m)&&(r==0||r==(t.s<0?3:2)):u>5||u==5&&(r==4||m||r==6&&(s>0?i>0?h/Ei(10,o-i):0:f[x-1])%10&1||r==(t.s<0?8:7))),a<1||!f[0])return m?(c=qt(t),f.length=1,a=a-c-1,f[0]=Ei(10,(xt-a%xt)%xt),t.e=Nc(-a/xt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(s==0?(f.length=x,c=1,x--):(f.length=x+1,c=Ei(10,xt-s),f[x]=i>0?(h/Ei(10,o-i)%Ei(10,i)|0)*c:0),m)for(;;)if(x==0){(f[0]+=c)==na&&(f[0]=1,++t.e);break}else{if(f[x]+=c,f[x]!=na)break;f[x--]=0,c=1}for(s=f.length;f[--s]===0;)f.pop();if(jt&&(t.e>wx||t.e<-wx))throw Error(jb+qt(t));return t}function Zk(t,a){var r,s,i,c,o,u,m,h,x,f,v=t.constructor,b=v.precision;if(!t.s||!a.s)return a.s?a.s=-a.s:a=new v(t),jt?ct(a,b):a;if(m=t.d,f=a.d,s=a.e,h=t.e,m=m.slice(),o=h-s,o){for(x=o<0,x?(r=m,o=-o,u=f.length):(r=f,s=h,u=m.length),i=Math.max(Math.ceil(b/xt),u)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=m.length,u=f.length,x=i<u,x&&(u=i),i=0;i<u;i++)if(m[i]!=f[i]){x=m[i]<f[i];break}o=0}for(x&&(r=m,m=f,f=r,a.s=-a.s),u=m.length,i=f.length-u;i>0;--i)m[u++]=0;for(i=f.length;i>o;){if(m[--i]<f[i]){for(c=i;c&&m[--c]===0;)m[c]=na-1;--m[c],m[i]+=na}m[i]-=f[i]}for(;m[--u]===0;)m.pop();for(;m[0]===0;m.shift())--s;return m[0]?(a.d=m,a.e=s,jt?ct(a,b):a):new v(0)}function Yi(t,a,r){var s,i=qt(t),c=ys(t.d),o=c.length;return a?(r&&(s=r-o)>0?c=c.charAt(0)+"."+c.slice(1)+Hn(s):o>1&&(c=c.charAt(0)+"."+c.slice(1)),c=c+(i<0?"e":"e+")+i):i<0?(c="0."+Hn(-i-1)+c,r&&(s=r-o)>0&&(c+=Hn(s))):i>=o?(c+=Hn(i+1-o),r&&(s=r-i-1)>0&&(c=c+"."+Hn(s))):((s=i+1)<o&&(c=c.slice(0,s)+"."+c.slice(s)),r&&(s=r-o)>0&&(i+1===o&&(c+="."),c+=Hn(s))),t.s<0?"-"+c:c}function qS(t,a){if(t.length>a)return t.length=a,!0}function Qk(t){var a,r,s;function i(c){var o=this;if(!(o instanceof i))return new i(c);if(o.constructor=i,c instanceof i){o.s=c.s,o.e=c.e,o.d=(c=c.d)?c.slice():c;return}if(typeof c=="number"){if(c*0!==0)throw Error(Fi+c);if(c>0)o.s=1;else if(c<0)c=-c,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(c===~~c&&c<1e7){o.e=0,o.d=[c];return}return US(o,c.toString())}else if(typeof c!="string")throw Error(Fi+c);if(c.charCodeAt(0)===45?(c=c.slice(1),o.s=-1):o.s=1,jH.test(c))US(o,c);else throw Error(Fi+c)}if(i.prototype=ge,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Qk,i.config=i.set=NH,t===void 0&&(t={}),t)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],a=0;a<s.length;)t.hasOwnProperty(r=s[a++])||(t[r]=this[r]);return i.config(t),i}function NH(t){if(!t||typeof t!="object")throw Error(Vr+"Object expected");var a,r,s,i=["precision",1,jc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(a=0;a<i.length;a+=3)if((s=t[r=i[a]])!==void 0)if(Nc(s)===s&&s>=i[a+1]&&s<=i[a+2])this[r]=s;else throw Error(Fi+r+": "+s);if((s=t[r="LN10"])!==void 0)if(s==Math.LN10)this[r]=new this(s);else throw Error(Fi+r+": "+s);return this}var Nb=Qk(bH);mr=new Nb(1);const et=Nb;var wH=t=>t,Jk={},eA=t=>t===Jk,HS=t=>function a(){return arguments.length===0||arguments.length===1&&eA(arguments.length<=0?void 0:arguments[0])?a:t(...arguments)},tA=(t,a)=>t===1?a:HS(function(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];var c=s.filter(o=>o!==Jk).length;return c>=t?a(...s):tA(t-c,HS(function(){for(var o=arguments.length,u=new Array(o),m=0;m<o;m++)u[m]=arguments[m];var h=s.map(x=>eA(x)?u.shift():x);return a(...h,...u)}))}),SH=t=>tA(t.length,t),Gy=(t,a)=>{for(var r=[],s=t;s<a;++s)r[s-t]=s;return r},_H=SH((t,a)=>Array.isArray(a)?a.map(t):Object.keys(a).map(r=>a[r]).map(t)),CH=function(){for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];if(!r.length)return wH;var i=r.reverse(),c=i[0],o=i.slice(1);return function(){return o.reduce((u,m)=>m(u),c(...arguments))}},Ky=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function aA(t){var a;return t===0?a=1:a=Math.floor(new et(t).abs().log(10).toNumber())+1,a}function rA(t,a,r){for(var s=new et(t),i=0,c=[];s.lt(a)&&i<1e5;)c.push(s.toNumber()),s=s.add(r),i++;return c}var sA=t=>{var[a,r]=t,[s,i]=[a,r];return a>r&&([s,i]=[r,a]),[s,i]},nA=(t,a,r)=>{if(t.lte(0))return new et(0);var s=aA(t.toNumber()),i=new et(10).pow(s),c=t.div(i),o=s!==1?.05:.1,u=new et(Math.ceil(c.div(o).toNumber())).add(r).mul(o),m=u.mul(i);return a?new et(m.toNumber()):new et(Math.ceil(m.toNumber()))},kH=(t,a,r)=>{var s=new et(1),i=new et(t);if(!i.isint()&&r){var c=Math.abs(t);c<1?(s=new et(10).pow(aA(t)-1),i=new et(Math.floor(i.div(s).toNumber())).mul(s)):c>1&&(i=new et(Math.floor(t)))}else t===0?i=new et(Math.floor((a-1)/2)):r||(i=new et(Math.floor(t)));var o=Math.floor((a-1)/2),u=CH(_H(m=>i.add(new et(m-o).mul(s)).toNumber()),Gy);return u(0,a)},iA=function(a,r,s,i){var c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-a)/(s-1)))return{step:new et(0),tickMin:new et(0),tickMax:new et(0)};var o=nA(new et(r).sub(a).div(s-1),i,c),u;a<=0&&r>=0?u=new et(0):(u=new et(a).add(r).div(2),u=u.sub(new et(u).mod(o)));var m=Math.ceil(u.sub(a).div(o).toNumber()),h=Math.ceil(new et(r).sub(u).div(o).toNumber()),x=m+h+1;return x>s?iA(a,r,s,i,c+1):(x<s&&(h=r>0?h+(s-x):h,m=r>0?m:m+(s-x)),{step:o,tickMin:u.sub(new et(m).mul(o)),tickMax:u.add(new et(h).mul(o))})},AH=function(a){var[r,s]=a,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[u,m]=sA([r,s]);if(u===-1/0||m===1/0){var h=m===1/0?[u,...Gy(0,i-1).map(()=>1/0)]:[...Gy(0,i-1).map(()=>-1/0),m];return r>s?Ky(h):h}if(u===m)return kH(u,i,c);var{step:x,tickMin:f,tickMax:v}=iA(u,m,o,c,0),b=rA(f,v.add(new et(.1).mul(x)),x);return r>s?Ky(b):b},EH=function(a,r){var[s,i]=a,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,u]=sA([s,i]);if(o===-1/0||u===1/0)return[s,i];if(o===u)return[o];var m=Math.max(r,2),h=nA(new et(u).sub(o).div(m-1),c,0),x=[...rA(new et(o),new et(u),h),u];return c===!1&&(x=x.map(f=>Math.round(f))),s>i?Ky(x):x},OH=t=>t.rootProps.barCategoryGap,Ed=t=>t.rootProps.stackOffset,lA=t=>t.rootProps.reverseStackOrder,wb=t=>t.options.chartName,Sb=t=>t.rootProps.syncId,cA=t=>t.rootProps.syncMethod,_b=t=>t.options.eventEmitter,la={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Xs={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ur={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Nh=(t,a)=>{if(!(!t||!a))return t!=null&&t.reversed?[a[1],a[0]]:a},TH={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Xs.angleAxisId,includeHidden:!1,name:void 0,reversed:Xs.reversed,scale:Xs.scale,tick:Xs.tick,tickCount:void 0,ticks:void 0,type:Xs.type,unit:void 0},DH={allowDataOverflow:ur.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ur.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ur.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ur.scale,tick:ur.tick,tickCount:ur.tickCount,ticks:void 0,type:ur.type,unit:void 0},PH={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Xs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xs.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Xs.scale,tick:Xs.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},zH={allowDataOverflow:ur.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ur.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ur.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ur.scale,tick:ur.tick,tickCount:ur.tickCount,ticks:void 0,type:"category",unit:void 0},Cb=(t,a)=>t.polarAxis.angleAxis[a]!=null?t.polarAxis.angleAxis[a]:t.layout.layoutType==="radial"?PH:TH,kb=(t,a)=>t.polarAxis.radiusAxis[a]!=null?t.polarAxis.radiusAxis[a]:t.layout.layoutType==="radial"?zH:DH,wh=t=>t.polarOptions,Ab=ae([hn,pn,da],ck),oA=ae([wh,Ab],(t,a)=>{if(t!=null)return hr(t.innerRadius,a,0)}),dA=ae([wh,Ab],(t,a)=>{if(t!=null)return hr(t.outerRadius,a,a*.8)}),MH=t=>{if(t==null)return[0,0];var{startAngle:a,endAngle:r}=t;return[a,r]},uA=ae([wh],MH);ae([Cb,uA],Nh);var mA=ae([Ab,oA,dA],(t,a,r)=>{if(!(t==null||a==null||r==null))return[a,r]});ae([kb,mA],Nh);var xA=ae([it,wh,oA,dA,hn,pn],(t,a,r,s,i,c)=>{if(!(t!=="centric"&&t!=="radial"||a==null||r==null||s==null)){var{cx:o,cy:u,startAngle:m,endAngle:h}=a;return{cx:hr(o,i,i/2),cy:hr(u,c,c/2),innerRadius:r,outerRadius:s,startAngle:m,endAngle:h,clockWise:!1}}}),St=(t,a)=>a,Od=(t,a,r)=>r;function hA(t){return t?.id}function pA(t,a,r){var{chartData:s=[]}=a,{allowDuplicatedCategory:i,dataKey:c}=r,o=new Map;return t.forEach(u=>{var m,h=(m=u.data)!==null&&m!==void 0?m:s;if(!(h==null||h.length===0)){var x=hA(u);h.forEach((f,v)=>{var b=c==null||i?v:String(bt(f,c,null)),w=bt(f,u.dataKey,0),N;o.has(b)?N=o.get(b):N={},Object.assign(N,{[x]:w}),o.set(b,N)})}}),Array.from(o.values())}function Eb(t){return t.stackId!=null&&t.dataKey!=null}var Sh=(t,a)=>t===a?!0:t==null||a==null?!1:t[0]===a[0]&&t[1]===a[1];function _h(t,a){return Array.isArray(t)&&Array.isArray(a)&&t.length===0&&a.length===0?!0:t===a}function RH(t,a){if(t.length===a.length){for(var r=0;r<t.length;r++)if(t[r]!==a[r])return!1;return!0}return!1}var Qt=t=>{var a=it(t);return a==="horizontal"?"xAxis":a==="vertical"?"yAxis":a==="centric"?"angleAxis":"radiusAxis"},wc=t=>t.tooltip.settings.axisId;function VS(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function Sx(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?VS(Object(r),!0).forEach(function(s){LH(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VS(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function LH(t,a,r){return(a=IH(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function IH(t){var a=$H(t,"string");return typeof a=="symbol"?a:a+""}function $H(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}var Yy=[0,"auto"],ra={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},fA=(t,a)=>t.cartesianAxis.xAxis[a],_s=(t,a)=>{var r=fA(t,a);return r??ra},sa={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Yy,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:wd},gA=(t,a)=>t.cartesianAxis.yAxis[a],Cs=(t,a)=>{var r=gA(t,a);return r??sa},BH={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Ob=(t,a)=>{var r=t.cartesianAxis.zAxis[a];return r??BH},kt=(t,a,r)=>{switch(a){case"xAxis":return _s(t,r);case"yAxis":return Cs(t,r);case"zAxis":return Ob(t,r);case"angleAxis":return Cb(t,r);case"radiusAxis":return kb(t,r);default:throw new Error("Unexpected axis type: ".concat(a))}},FH=(t,a,r)=>{switch(a){case"xAxis":return _s(t,r);case"yAxis":return Cs(t,r);default:throw new Error("Unexpected axis type: ".concat(a))}},Td=(t,a,r)=>{switch(a){case"xAxis":return _s(t,r);case"yAxis":return Cs(t,r);case"angleAxis":return Cb(t,r);case"radiusAxis":return kb(t,r);default:throw new Error("Unexpected axis type: ".concat(a))}},yA=t=>t.graphicalItems.cartesianItems.some(a=>a.type==="bar")||t.graphicalItems.polarItems.some(a=>a.type==="radialBar");function Tb(t,a){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===a;case"yAxis":return"yAxisId"in r&&r.yAxisId===a;case"zAxis":return"zAxisId"in r&&r.zAxisId===a;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===a;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===a;default:return!1}}}var vA=t=>t.graphicalItems.cartesianItems,UH=ae([St,Od],Tb),Db=(t,a,r)=>t.filter(r).filter(s=>a?.includeHidden===!0?!0:!s.hide),Dd=ae([vA,kt,UH],Db,{memoizeOptions:{resultEqualityCheck:_h}}),bA=ae([Dd],t=>t.filter(a=>a.type==="area"||a.type==="bar").filter(Eb)),jA=t=>t.filter(a=>!("stackId"in a)||a.stackId===void 0),qH=ae([Dd],jA),Pb=t=>t.map(a=>a.data).filter(Boolean).flat(1),HH=ae([Dd],Pb,{memoizeOptions:{resultEqualityCheck:_h}}),zb=(t,a)=>{var{chartData:r=[],dataStartIndex:s,dataEndIndex:i}=a;return t.length>0?t:r.slice(s,i+1)},Mb=ae([HH,bb],zb),Rb=(t,a,r)=>a?.dataKey!=null?t.map(s=>({value:bt(s,a.dataKey)})):r.length>0?r.map(s=>s.dataKey).flatMap(s=>t.map(i=>({value:bt(i,s)}))):t.map(s=>({value:s})),Ch=ae([Mb,kt,Dd],Rb);function NA(t,a){switch(t){case"xAxis":return a.direction==="x";case"yAxis":return a.direction==="y";default:return!1}}function Im(t){if(qr(t)||t instanceof Date){var a=Number(t);if(Tt(a))return a}}function GS(t){if(Array.isArray(t)){var a=[Im(t[0]),Im(t[1])];return Jn(a)?a:void 0}var r=Im(t);if(r!=null)return[r,r]}function mn(t){return t.map(Im).filter(sL)}function VH(t,a,r){return!r||typeof a!="number"||Ur(a)?[]:r.length?mn(r.flatMap(s=>{var i=bt(t,s.dataKey),c,o;if(Array.isArray(i)?[c,o]=i:c=o=i,!(!Tt(c)||!Tt(o)))return[a-c,a+o]})):[]}var Jt=t=>{var a=Qt(t),r=wc(t);return Td(t,a,r)},Pd=ae([Jt],t=>t?.dataKey),GH=ae([bA,bb,Jt],pA),wA=(t,a,r,s)=>{var i={},c=a.reduce((o,u)=>(u.stackId==null||(o[u.stackId]==null&&(o[u.stackId]=[]),o[u.stackId].push(u)),o),i);return Object.fromEntries(Object.entries(c).map(o=>{var[u,m]=o,h=s?[...m].reverse():m,x=h.map(hA);return[u,{stackedData:C$(t,x,r),graphicalItems:h}]}))},KH=ae([GH,bA,Ed,lA],wA),SA=(t,a,r,s)=>{var{dataStartIndex:i,dataEndIndex:c}=a;if(s==null&&r!=="zAxis"){var o=E$(t,i,c);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},YH=ae([kt],t=>t.allowDataOverflow),Lb=t=>{var a;if(t==null||!("domain"in t))return Yy;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var r=mn(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(a=t?.domain)!==null&&a!==void 0?a:Yy},Ib=ae([kt],Lb),$b=ae([Ib,YH],Kk),XH=ae([KH,ii,St,$b],SA,{memoizeOptions:{resultEqualityCheck:Sh}}),kh=t=>t.errorBars,WH=(t,a,r)=>t.flatMap(s=>a[s.id]).filter(Boolean).filter(s=>NA(r,s)),_x=function(){for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];var i=r.filter(Boolean);if(i.length!==0){var c=i.flat(),o=Math.min(...c),u=Math.max(...c);return[o,u]}},Bb=(t,a,r,s,i)=>{var c,o;if(r.length>0&&t.forEach(u=>{r.forEach(m=>{var h,x,f=(h=s[m.id])===null||h===void 0?void 0:h.filter(_=>NA(i,_)),v=bt(u,(x=a.dataKey)!==null&&x!==void 0?x:m.dataKey),b=VH(u,v,f);if(b.length>=2){var w=Math.min(...b),N=Math.max(...b);(c==null||w<c)&&(c=w),(o==null||N>o)&&(o=N)}var y=GS(v);y!=null&&(c=c==null?y[0]:Math.min(c,y[0]),o=o==null?y[1]:Math.max(o,y[1]))})}),a?.dataKey!=null&&t.forEach(u=>{var m=GS(bt(u,a.dataKey));m!=null&&(c=c==null?m[0]:Math.min(c,m[0]),o=o==null?m[1]:Math.max(o,m[1]))}),Tt(c)&&Tt(o))return[c,o]},ZH=ae([Mb,kt,qH,kh,St],Bb,{memoizeOptions:{resultEqualityCheck:Sh}});function QH(t){var{value:a}=t;if(qr(a)||a instanceof Date)return a}var JH=(t,a,r)=>{var s=t.map(QH).filter(i=>i!=null);return r&&(a.dataKey==null||a.allowDuplicatedCategory&&Y5(s))?mk(0,t.length):a.allowDuplicatedCategory?s:Array.from(new Set(s))},_A=t=>t.referenceElements.dots,Sc=(t,a,r)=>t.filter(s=>s.ifOverflow==="extendDomain").filter(s=>a==="xAxis"?s.xAxisId===r:s.yAxisId===r),eV=ae([_A,St,Od],Sc),CA=t=>t.referenceElements.areas,tV=ae([CA,St,Od],Sc),kA=t=>t.referenceElements.lines,aV=ae([kA,St,Od],Sc),AA=(t,a)=>{var r=mn(t.map(s=>a==="xAxis"?s.x:s.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},rV=ae(eV,St,AA),EA=(t,a)=>{var r=mn(t.flatMap(s=>[a==="xAxis"?s.x1:s.y1,a==="xAxis"?s.x2:s.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},sV=ae([tV,St],EA);function nV(t){var a;if(t.x!=null)return mn([t.x]);var r=(a=t.segment)===null||a===void 0?void 0:a.map(s=>s.x);return r==null||r.length===0?[]:mn(r)}function iV(t){var a;if(t.y!=null)return mn([t.y]);var r=(a=t.segment)===null||a===void 0?void 0:a.map(s=>s.y);return r==null||r.length===0?[]:mn(r)}var OA=(t,a)=>{var r=t.flatMap(s=>a==="xAxis"?nV(s):iV(s));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},lV=ae([aV,St],OA),cV=ae(rV,lV,sV,(t,a,r)=>_x(t,r,a)),Fb=(t,a,r,s,i,c,o,u)=>{if(r!=null)return r;var m=o==="vertical"&&u==="xAxis"||o==="horizontal"&&u==="yAxis",h=m?_x(s,c,i):_x(c,i);return vH(a,h,t.allowDataOverflow)},oV=ae([kt,Ib,$b,XH,ZH,cV,it,St],Fb,{memoizeOptions:{resultEqualityCheck:Sh}}),dV=[0,1],Ub=(t,a,r,s,i,c,o)=>{if(!((t==null||r==null||r.length===0)&&o===void 0)){var{dataKey:u,type:m}=t,h=ri(a,c);if(h&&u==null){var x;return mk(0,(x=r?.length)!==null&&x!==void 0?x:0)}return m==="category"?JH(s,t,h):i==="expand"?dV:o}},qb=ae([kt,it,Mb,Ch,Ed,St,oV],Ub),TA=(t,a,r,s,i)=>{if(t!=null){var{scale:c,type:o}=t;if(c==="auto")return a==="radial"&&i==="radiusAxis"?"band":a==="radial"&&i==="angleAxis"?"linear":o==="category"&&s&&(s.indexOf("LineChart")>=0||s.indexOf("AreaChart")>=0||s.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof c=="string"){var u="scale".concat(vd(c));return u in Bo?u:"point"}}},_c=ae([kt,it,yA,wb,St],TA);function uV(t){if(t!=null){if(t in Bo)return Bo[t]();var a="scale".concat(vd(t));if(a in Bo)return Bo[a]()}}function Hb(t,a,r,s){if(!(r==null||s==null)){if(typeof t.scale=="function")return t.scale.copy().domain(r).range(s);var i=uV(a);if(i!=null){var c=i.domain(r).range(s);return N$(c),c}}}var Vb=(t,a,r)=>{var s=Lb(a);if(!(r!=="auto"&&r!=="linear")){if(a!=null&&a.tickCount&&Array.isArray(s)&&(s[0]==="auto"||s[1]==="auto")&&Jn(t))return AH(t,a.tickCount,a.allowDecimals);if(a!=null&&a.tickCount&&a.type==="number"&&Jn(t))return EH(t,a.tickCount,a.allowDecimals)}},Gb=ae([qb,Td,_c],Vb),Kb=(t,a,r,s)=>{if(s!=="angleAxis"&&t?.type==="number"&&Jn(a)&&Array.isArray(r)&&r.length>0){var i=a[0],c=r[0],o=a[1],u=r[r.length-1];return[Math.min(i,c),Math.max(o,u)]}return a},mV=ae([kt,qb,Gb,St],Kb),xV=ae(Ch,kt,(t,a)=>{if(!(!a||a.type!=="number")){var r=1/0,s=Array.from(mn(t.map(u=>u.value))).sort((u,m)=>u-m);if(s.length<2)return 1/0;var i=s[s.length-1]-s[0];if(i===0)return 1/0;for(var c=0;c<s.length-1;c++){var o=s[c+1]-s[c];r=Math.min(r,o)}return r/i}}),DA=ae(xV,it,OH,da,(t,a,r,s)=>s,(t,a,r,s,i)=>{if(!Tt(t))return 0;var c=a==="vertical"?s.height:s.width;if(i==="gap")return t*c/2;if(i==="no-gap"){var o=hr(r,t*c),u=t*c/2;return u-o-(u-o)/c*o}return 0}),hV=(t,a)=>{var r=_s(t,a);return r==null||typeof r.padding!="string"?0:DA(t,"xAxis",a,r.padding)},pV=(t,a)=>{var r=Cs(t,a);return r==null||typeof r.padding!="string"?0:DA(t,"yAxis",a,r.padding)},fV=ae(_s,hV,(t,a)=>{var r,s;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:a,right:a}:{left:((r=i.left)!==null&&r!==void 0?r:0)+a,right:((s=i.right)!==null&&s!==void 0?s:0)+a}}),gV=ae(Cs,pV,(t,a)=>{var r,s;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:a,bottom:a}:{top:((r=i.top)!==null&&r!==void 0?r:0)+a,bottom:((s=i.bottom)!==null&&s!==void 0?s:0)+a}}),yV=ae([da,fV,uh,dh,(t,a,r)=>r],(t,a,r,s,i)=>{var{padding:c}=s;return i?[c.left,r.width-c.right]:[t.left+a.left,t.left+t.width-a.right]}),vV=ae([da,it,gV,uh,dh,(t,a,r)=>r],(t,a,r,s,i,c)=>{var{padding:o}=i;return c?[s.height-o.bottom,o.top]:a==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),zd=(t,a,r,s)=>{var i;switch(a){case"xAxis":return yV(t,r,s);case"yAxis":return vV(t,r,s);case"zAxis":return(i=Ob(t,r))===null||i===void 0?void 0:i.range;case"angleAxis":return uA(t);case"radiusAxis":return mA(t,r);default:return}},PA=ae([kt,zd],Nh),ei=ae([kt,_c,mV,PA],Hb);ae([Dd,kh,St],WH);function zA(t,a){return t.id<a.id?-1:t.id>a.id?1:0}var Ah=(t,a)=>a,Eh=(t,a,r)=>r,bV=ae(ch,Ah,Eh,(t,a,r)=>t.filter(s=>s.orientation===a).filter(s=>s.mirror===r).sort(zA)),jV=ae(oh,Ah,Eh,(t,a,r)=>t.filter(s=>s.orientation===a).filter(s=>s.mirror===r).sort(zA)),MA=(t,a)=>({width:t.width,height:a.height}),NV=(t,a)=>{var r=typeof a.width=="number"?a.width:wd;return{width:r,height:t.height}},wV=ae(da,_s,MA),SV=(t,a,r)=>{switch(a){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},_V=(t,a,r)=>{switch(a){case"left":return t.left;case"right":return r-t.right;default:return 0}},CV=ae(pn,da,bV,Ah,Eh,(t,a,r,s,i)=>{var c={},o;return r.forEach(u=>{var m=MA(a,u);o==null&&(o=SV(a,s,t));var h=s==="top"&&!i||s==="bottom"&&i;c[u.id]=o-Number(h)*m.height,o+=(h?-1:1)*m.height}),c}),kV=ae(hn,da,jV,Ah,Eh,(t,a,r,s,i)=>{var c={},o;return r.forEach(u=>{var m=NV(a,u);o==null&&(o=_V(a,s,t));var h=s==="left"&&!i||s==="right"&&i;c[u.id]=o-Number(h)*m.width,o+=(h?-1:1)*m.width}),c}),AV=(t,a)=>{var r=_s(t,a);if(r!=null)return CV(t,r.orientation,r.mirror)},EV=ae([da,_s,AV,(t,a)=>a],(t,a,r,s)=>{if(a!=null){var i=r?.[s];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),OV=(t,a)=>{var r=Cs(t,a);if(r!=null)return kV(t,r.orientation,r.mirror)},TV=ae([da,Cs,OV,(t,a)=>a],(t,a,r,s)=>{if(a!=null){var i=r?.[s];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),DV=ae(da,Cs,(t,a)=>{var r=typeof a.width=="number"?a.width:wd;return{width:r,height:t.height}}),RA=(t,a,r,s)=>{if(r!=null){var{allowDuplicatedCategory:i,type:c,dataKey:o}=r,u=ri(t,s),m=a.map(h=>h.value);if(o&&u&&c==="category"&&i&&Y5(m))return m}},Yb=ae([it,Ch,kt,St],RA),LA=(t,a,r,s)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:c}=r,o=ri(t,s);if(o&&(i==="number"||c!=="auto"))return a.map(u=>u.value)}},Xb=ae([it,Ch,Td,St],LA),KS=ae([it,FH,_c,ei,Yb,Xb,zd,Gb,St],(t,a,r,s,i,c,o,u,m)=>{if(a!=null){var h=ri(t,m);return{angle:a.angle,interval:a.interval,minTickGap:a.minTickGap,orientation:a.orientation,tick:a.tick,tickCount:a.tickCount,tickFormatter:a.tickFormatter,ticks:a.ticks,type:a.type,unit:a.unit,axisType:m,categoricalDomain:c,duplicateDomain:i,isCategorical:h,niceTicks:u,range:o,realScaleType:r,scale:s}}}),PV=(t,a,r,s,i,c,o,u,m)=>{if(!(a==null||s==null)){var h=ri(t,m),{type:x,ticks:f,tickCount:v}=a,b=r==="scaleBand"&&typeof s.bandwidth=="function"?s.bandwidth()/2:2,w=x==="category"&&s.bandwidth?s.bandwidth()/b:0;w=m==="angleAxis"&&c!=null&&c.length>=2?Aa(c[0]-c[1])*2*w:w;var N=f||i;if(N){var y=N.map((_,A)=>{var C=o?o.indexOf(_):_;return{index:A,coordinate:s(C)+w,value:_,offset:w}});return y.filter(_=>Tt(_.coordinate))}return h&&u?u.map((_,A)=>({coordinate:s(_)+w,value:_,index:A,offset:w})).filter(_=>Tt(_.coordinate)):s.ticks?s.ticks(v).map(_=>({coordinate:s(_)+w,value:_,offset:w})):s.domain().map((_,A)=>({coordinate:s(_)+w,value:o?o[_]:_,index:A,offset:w}))}},IA=ae([it,Td,_c,ei,Gb,zd,Yb,Xb,St],PV),zV=(t,a,r,s,i,c,o)=>{if(!(a==null||r==null||s==null||s[0]===s[1])){var u=ri(t,o),{tickCount:m}=a,h=0;return h=o==="angleAxis"&&s?.length>=2?Aa(s[0]-s[1])*2*h:h,u&&c?c.map((x,f)=>({coordinate:r(x)+h,value:x,index:f,offset:h})):r.ticks?r.ticks(m).map(x=>({coordinate:r(x)+h,value:x,offset:h})):r.domain().map((x,f)=>({coordinate:r(x)+h,value:i?i[x]:x,index:f,offset:h}))}},$A=ae([it,Td,ei,zd,Yb,Xb,St],zV),BA=ae(kt,ei,(t,a)=>{if(!(t==null||a==null))return Sx(Sx({},t),{},{scale:a})}),MV=ae([kt,_c,qb,PA],Hb);ae((t,a,r)=>Ob(t,r),MV,(t,a)=>{if(!(t==null||a==null))return Sx(Sx({},t),{},{scale:a})});var RV=ae([it,ch,oh],(t,a,r)=>{switch(t){case"horizontal":return a.some(s=>s.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(s=>s.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),FA=t=>t.options.defaultTooltipEventType,UA=t=>t.options.validateTooltipEventTypes;function qA(t,a,r){if(t==null)return a;var s=t?"axis":"item";return r==null?a:r.includes(s)?s:a}function Wb(t,a){var r=FA(t),s=UA(t);return qA(a,r,s)}function LV(t){return be(a=>Wb(a,t))}var HA=(t,a)=>{var r,s=Number(a);if(!(Ur(s)||a==null))return s>=0?t==null||(r=t[s])===null||r===void 0?void 0:r.value:void 0},IV=t=>t.tooltip.settings,Kn={active:!1,index:null,dataKey:void 0,coordinate:void 0},$V={itemInteraction:{click:Kn,hover:Kn},axisInteraction:{click:Kn,hover:Kn},keyboardInteraction:Kn,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},VA=ar({name:"tooltip",initialState:$V,reducers:{addTooltipEntrySettings:{reducer(t,a){t.tooltipItemPayloads.push(a.payload)},prepare:vt()},replaceTooltipEntrySettings:{reducer(t,a){var{prev:r,next:s}=a.payload,i=rs(t).tooltipItemPayloads.indexOf(r);i>-1&&(t.tooltipItemPayloads[i]=s)},prepare:vt()},removeTooltipEntrySettings:{reducer(t,a){var r=rs(t).tooltipItemPayloads.indexOf(a.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},prepare:vt()},setTooltipSettingsState(t,a){t.settings=a.payload},setActiveMouseOverItemIndex(t,a){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=a.payload.activeIndex,t.itemInteraction.hover.dataKey=a.payload.activeDataKey,t.itemInteraction.hover.coordinate=a.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,a){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=a.payload.activeIndex,t.itemInteraction.click.dataKey=a.payload.activeDataKey,t.itemInteraction.click.coordinate=a.payload.activeCoordinate},setMouseOverAxisIndex(t,a){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=a.payload.activeIndex,t.axisInteraction.hover.dataKey=a.payload.activeDataKey,t.axisInteraction.hover.coordinate=a.payload.activeCoordinate},setMouseClickAxisIndex(t,a){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=a.payload.activeIndex,t.axisInteraction.click.dataKey=a.payload.activeDataKey,t.axisInteraction.click.coordinate=a.payload.activeCoordinate},setSyncInteraction(t,a){t.syncInteraction=a.payload},setKeyboardInteraction(t,a){t.keyboardInteraction.active=a.payload.active,t.keyboardInteraction.index=a.payload.activeIndex,t.keyboardInteraction.coordinate=a.payload.activeCoordinate,t.keyboardInteraction.dataKey=a.payload.activeDataKey}}}),{addTooltipEntrySettings:BV,replaceTooltipEntrySettings:FV,removeTooltipEntrySettings:UV,setTooltipSettingsState:qV,setActiveMouseOverItemIndex:GA,mouseLeaveItem:HV,mouseLeaveChart:KA,setActiveClickItemIndex:VV,setMouseOverAxisIndex:YA,setMouseClickAxisIndex:GV,setSyncInteraction:Xy,setKeyboardInteraction:Wy}=VA.actions,KV=VA.reducer;function YS(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function ym(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?YS(Object(r),!0).forEach(function(s){YV(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YS(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function YV(t,a,r){return(a=XV(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function XV(t){var a=WV(t,"string");return typeof a=="symbol"?a:a+""}function WV(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function ZV(t,a,r){return a==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function QV(t){return t.index!=null}var XA=(t,a,r,s)=>{if(a==null)return Kn;var i=ZV(t,a,r);if(i==null)return Kn;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var c=t.settings.active===!0;if(QV(i)){if(c)return ym(ym({},i),{},{active:!0})}else if(s!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:s};return ym(ym({},Kn),{},{coordinate:i.coordinate})};function JV(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var a=t.valueOf();return Number.isFinite(a)?a:void 0}var r=Number(t);return Number.isFinite(r)?r:void 0}function eG(t,a){var r=JV(t),s=a[0],i=a[1];if(r===void 0)return!1;var c=Math.min(s,i),o=Math.max(s,i);return r>=c&&r<=o}function tG(t,a,r){if(r==null||a==null)return!0;var s=bt(t,a);return s==null||!Jn(r)?!0:eG(s,r)}var Zb=(t,a,r,s)=>{var i=t?.index;if(i==null)return null;var c=Number(i);if(!Tt(c))return i;var o=0,u=1/0;a.length>0&&(u=a.length-1);var m=Math.max(o,Math.min(c,u)),h=a[m];return h==null||tG(h,r,s)?String(m):null},WA=(t,a,r,s,i,c,o,u)=>{if(!(c==null||u==null)){var m=o[0],h=m==null?void 0:u(m.positions,c);if(h!=null)return h;var x=i?.[Number(c)];if(x)switch(r){case"horizontal":return{x:x.coordinate,y:(s.top+a)/2};default:return{x:(s.left+t)/2,y:x.coordinate}}}},ZA=(t,a,r,s)=>{if(a==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&s!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(c=>{var o;return((o=c.settings)===null||o===void 0?void 0:o.dataKey)===i})},Md=t=>t.options.tooltipPayloadSearcher,Cc=t=>t.tooltip;function XS(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function WS(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?XS(Object(r),!0).forEach(function(s){aG(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XS(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function aG(t,a,r){return(a=rG(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function rG(t){var a=sG(t,"string");return typeof a=="symbol"?a:a+""}function sG(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function nG(t,a){return t??a}var QA=(t,a,r,s,i,c,o)=>{if(!(a==null||c==null)){var{chartData:u,computedData:m,dataStartIndex:h,dataEndIndex:x}=r,f=[];return t.reduce((v,b)=>{var w,{dataDefinedOnItem:N,settings:y}=b,_=nG(N,u),A=Array.isArray(_)?$C(_,h,x):_,C=(w=y?.dataKey)!==null&&w!==void 0?w:s,E=y?.nameKey,k;if(s&&Array.isArray(A)&&!Array.isArray(A[0])&&o==="axis"?k=X5(A,s,i):k=c(A,a,m,E),Array.isArray(k))k.forEach(D=>{var P=WS(WS({},y),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});v.push(w6({tooltipEntrySettings:P,dataKey:D.dataKey,payload:D.payload,value:bt(D.payload,D.dataKey),name:D.name}))});else{var O;v.push(w6({tooltipEntrySettings:y,dataKey:C,payload:k,value:bt(k,C),name:(O=bt(k,E))!==null&&O!==void 0?O:y?.name}))}return v},f)}},Qb=ae([Jt,it,yA,wb,Qt],TA),iG=ae([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,a)=>[...t,...a]),lG=ae([Qt,wc],Tb),Rd=ae([iG,Jt,lG],Db,{memoizeOptions:{resultEqualityCheck:_h}}),cG=ae([Rd],t=>t.filter(Eb)),oG=ae([Rd],Pb,{memoizeOptions:{resultEqualityCheck:_h}}),kc=ae([oG,ii],zb),dG=ae([cG,ii,Jt],pA),Jb=ae([kc,Jt,Rd],Rb),JA=ae([Jt],Lb),uG=ae([Jt],t=>t.allowDataOverflow),eE=ae([JA,uG],Kk),mG=ae([Rd],t=>t.filter(Eb)),xG=ae([dG,mG,Ed,lA],wA),hG=ae([xG,ii,Qt,eE],SA),pG=ae([Rd],jA),fG=ae([kc,Jt,pG,kh,Qt],Bb,{memoizeOptions:{resultEqualityCheck:Sh}}),gG=ae([_A,Qt,wc],Sc),yG=ae([gG,Qt],AA),vG=ae([CA,Qt,wc],Sc),bG=ae([vG,Qt],EA),jG=ae([kA,Qt,wc],Sc),NG=ae([jG,Qt],OA),wG=ae([yG,NG,bG],_x),SG=ae([Jt,JA,eE,hG,fG,wG,it,Qt],Fb),Ld=ae([Jt,it,kc,Jb,Ed,Qt,SG],Ub),_G=ae([Ld,Jt,Qb],Vb),CG=ae([Jt,Ld,_G,Qt],Kb),tE=t=>{var a=Qt(t),r=wc(t),s=!1;return zd(t,a,r,s)},aE=ae([Jt,tE],Nh),rE=ae([Jt,Qb,CG,aE],Hb),kG=ae([it,Jb,Jt,Qt],RA),AG=ae([it,Jb,Jt,Qt],LA),EG=(t,a,r,s,i,c,o,u)=>{if(a){var{type:m}=a,h=ri(t,u);if(s){var x=r==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,f=m==="category"&&s.bandwidth?s.bandwidth()/x:0;return f=u==="angleAxis"&&i!=null&&i?.length>=2?Aa(i[0]-i[1])*2*f:f,h&&o?o.map((v,b)=>({coordinate:s(v)+f,value:v,index:b,offset:f})):s.domain().map((v,b)=>({coordinate:s(v)+f,value:c?c[v]:v,index:b,offset:f}))}}},gn=ae([it,Jt,Qb,rE,tE,kG,AG,Qt],EG),ej=ae([FA,UA,IV],(t,a,r)=>qA(r.shared,t,a)),sE=t=>t.tooltip.settings.trigger,tj=t=>t.tooltip.settings.defaultIndex,Oh=ae([Cc,ej,sE,tj],XA),mc=ae([Oh,kc,Pd,Ld],Zb),nE=ae([gn,mc],HA),OG=ae([Oh],t=>{if(t)return t.dataKey}),iE=ae([Cc,ej,sE,tj],ZA),TG=ae([hn,pn,it,da,gn,tj,iE,Md],WA),DG=ae([Oh,TG],(t,a)=>t!=null&&t.coordinate?t.coordinate:a),PG=ae([Oh],t=>t.active),zG=ae([iE,mc,ii,Pd,nE,Md,ej],QA),MG=ae([zG],t=>{if(t!=null){var a=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(a))}});function ZS(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function QS(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?ZS(Object(r),!0).forEach(function(s){RG(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZS(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function RG(t,a,r){return(a=LG(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function LG(t){var a=IG(t,"string");return typeof a=="symbol"?a:a+""}function IG(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}var $G=()=>be(Jt),BG=()=>{var t=$G(),a=be(gn),r=be(rE);return ix(!t||!r?void 0:QS(QS({},t),{},{scale:r}),a)};function JS(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function ql(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?JS(Object(r),!0).forEach(function(s){FG(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JS(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function FG(t,a,r){return(a=UG(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function UG(t){var a=qG(t,"string");return typeof a=="symbol"?a:a+""}function qG(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}var HG=(t,a,r,s)=>{var i=a.find(c=>c&&c.index===r);if(i){if(t==="horizontal")return{x:i.coordinate,y:s.chartY};if(t==="vertical")return{x:s.chartX,y:i.coordinate}}return{x:0,y:0}},VG=(t,a,r,s)=>{var i=a.find(h=>h&&h.index===r);if(i){if(t==="centric"){var c=i.coordinate,{radius:o}=s;return ql(ql(ql({},s),Ut(s.cx,s.cy,o,c)),{},{angle:c,radius:o})}var u=i.coordinate,{angle:m}=s;return ql(ql(ql({},s),Ut(s.cx,s.cy,u,m)),{},{angle:m,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function GG(t,a){var{chartX:r,chartY:s}=t;return r>=a.left&&r<=a.left+a.width&&s>=a.top&&s<=a.top+a.height}var lE=(t,a,r,s,i)=>{var c,o=-1,u=(c=a?.length)!==null&&c!==void 0?c:0;if(u<=1||t==null)return 0;if(s==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var m=0;m<u;m++){var h=m>0?r[m-1].coordinate:r[u-1].coordinate,x=r[m].coordinate,f=m>=u-1?r[0].coordinate:r[m+1].coordinate,v=void 0;if(Aa(x-h)!==Aa(f-x)){var b=[];if(Aa(f-x)===Aa(i[1]-i[0])){v=f;var w=x+i[1]-i[0];b[0]=Math.min(w,(w+h)/2),b[1]=Math.max(w,(w+h)/2)}else{v=h;var N=f+i[1]-i[0];b[0]=Math.min(x,(N+x)/2),b[1]=Math.max(x,(N+x)/2)}var y=[Math.min(x,(v+x)/2),Math.max(x,(v+x)/2)];if(t>y[0]&&t<=y[1]||t>=b[0]&&t<=b[1]){({index:o}=r[m]);break}}else{var _=Math.min(h,f),A=Math.max(h,f);if(t>(_+x)/2&&t<=(A+x)/2){({index:o}=r[m]);break}}}else if(a){for(var C=0;C<u;C++)if(C===0&&t<=(a[C].coordinate+a[C+1].coordinate)/2||C>0&&C<u-1&&t>(a[C].coordinate+a[C-1].coordinate)/2&&t<=(a[C].coordinate+a[C+1].coordinate)/2||C===u-1&&t>(a[C].coordinate+a[C-1].coordinate)/2){({index:o}=a[C]);break}}return o},KG=()=>be(wb),aj=(t,a)=>a,cE=(t,a,r)=>r,rj=(t,a,r,s)=>s,YG=ae(gn,t=>th(t,a=>a.coordinate)),sj=ae([Cc,aj,cE,rj],XA),nj=ae([sj,kc,Pd,Ld],Zb),XG=(t,a,r)=>{if(a!=null){var s=Cc(t);return a==="axis"?r==="hover"?s.axisInteraction.hover.dataKey:s.axisInteraction.click.dataKey:r==="hover"?s.itemInteraction.hover.dataKey:s.itemInteraction.click.dataKey}},oE=ae([Cc,aj,cE,rj],ZA),Cx=ae([hn,pn,it,da,gn,rj,oE,Md],WA),WG=ae([sj,Cx],(t,a)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:a}),dE=ae([gn,nj],HA),ZG=ae([oE,nj,ii,Pd,dE,Md,aj],QA),QG=ae([sj,nj],(t,a)=>({isActive:t.active&&a!=null,activeIndex:a})),JG=(t,a,r,s,i,c,o)=>{if(!(!t||!r||!s||!i)&&GG(t,o)){var u=O$(t,a),m=lE(u,c,i,r,s),h=HG(a,i,m,t);return{activeIndex:String(m),activeCoordinate:h}}},eK=(t,a,r,s,i,c,o)=>{if(!(!t||!s||!i||!c||!r)){var u=MF(t,r);if(u){var m=T$(u,a),h=lE(m,o,c,s,i),x=VG(a,c,h,u);return{activeIndex:String(h),activeCoordinate:x}}}},tK=(t,a,r,s,i,c,o,u)=>{if(!(!t||!a||!s||!i||!c))return a==="horizontal"||a==="vertical"?JG(t,a,s,i,c,o,u):eK(t,a,r,s,i,c,o)},aK=ae(t=>t.zIndex.zIndexMap,(t,a)=>a,(t,a,r)=>r,(t,a,r)=>{if(a!=null){var s=t[a];if(s!=null)return r?s.panoramaElementId:s.elementId}}),rK=ae(t=>t.zIndex.zIndexMap,t=>{var a=Object.keys(t).map(s=>parseInt(s,10)).concat(Object.values(la)),r=Array.from(new Set(a));return r.sort((s,i)=>s-i)},{memoizeOptions:{resultEqualityCheck:RH}});function e_(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function t_(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?e_(Object(r),!0).forEach(function(s){sK(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e_(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function sK(t,a,r){return(a=nK(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function nK(t){var a=iK(t,"string");return typeof a=="symbol"?a:a+""}function iK(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}var lK={},cK={zIndexMap:Object.values(la).reduce((t,a)=>t_(t_({},t),{},{[a]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),lK)},oK=new Set(Object.values(la));function dK(t){return oK.has(t)}var uE=ar({name:"zIndex",initialState:cK,reducers:{registerZIndexPortal:{reducer:(t,a)=>{var{zIndex:r}=a.payload;t.zIndexMap[r]?t.zIndexMap[r].consumers+=1:t.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:vt()},unregisterZIndexPortal:{reducer:(t,a)=>{var{zIndex:r}=a.payload;t.zIndexMap[r]&&(t.zIndexMap[r].consumers-=1,t.zIndexMap[r].consumers<=0&&!dK(r)&&delete t.zIndexMap[r])},prepare:vt()},registerZIndexPortalId:{reducer:(t,a)=>{var{zIndex:r,elementId:s,isPanorama:i}=a.payload;t.zIndexMap[r]?i?t.zIndexMap[r].panoramaElementId=s:t.zIndexMap[r].elementId=s:t.zIndexMap[r]={consumers:0,elementId:i?void 0:s,panoramaElementId:i?s:void 0}},prepare:vt()},unregisterZIndexPortalId:{reducer:(t,a)=>{var{zIndex:r}=a.payload;t.zIndexMap[r]&&(a.payload.isPanorama?t.zIndexMap[r].panoramaElementId=void 0:t.zIndexMap[r].elementId=void 0)},prepare:vt()}}}),{registerZIndexPortal:uK,unregisterZIndexPortal:mK,registerZIndexPortalId:xK,unregisterZIndexPortalId:hK}=uE.actions,pK=uE.reducer;function Kr(t){var{zIndex:a,children:r}=t,s=cB(),i=s&&a!==void 0&&a!==0,c=La(),o=ot();g.useLayoutEffect(()=>i?(o(uK({zIndex:a})),()=>{o(mK({zIndex:a}))}):bd,[o,a,i]);var u=be(h=>aK(h,a,c));if(!i)return r;if(!u)return null;var m=document.getElementById(u);return m?Yn.createPortal(r,m):null}function Zy(){return Zy=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)({}).hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Zy.apply(null,arguments)}function a_(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function vm(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?a_(Object(r),!0).forEach(function(s){fK(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a_(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function fK(t,a,r){return(a=gK(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function gK(t){var a=yK(t,"string");return typeof a=="symbol"?a:a+""}function yK(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function vK(t){var{cursor:a,cursorComp:r,cursorProps:s}=t;return g.isValidElement(a)?g.cloneElement(a,s):g.createElement(r,s)}function bK(t){var a,{coordinate:r,payload:s,index:i,offset:c,tooltipAxisBandSize:o,layout:u,cursor:m,tooltipEventType:h,chartName:x}=t,f=r,v=s,b=i;if(!m||!f||x!=="ScatterChart"&&h!=="axis")return null;var w,N,y;if(x==="ScatterChart")w=f,N=ZB,y=la.cursorLine;else if(x==="BarChart")w=QB(u,f,c,o),N=lk,y=la.cursorRectangle;else if(u==="radial"&&Z5(f)){var{cx:_,cy:A,radius:C,startAngle:E,endAngle:k}=ok(f);w={cx:_,cy:A,startAngle:E,endAngle:k,innerRadius:C,outerRadius:C},N=uk,y=la.cursorLine}else w={points:$F(u,f,c)},N=Xv,y=la.cursorLine;var O=typeof m=="object"&&"className"in m?m.className:void 0,D=vm(vm(vm(vm({stroke:"#ccc",pointerEvents:"none"},c),w),ic(m)),{},{payload:v,payloadIndex:b,className:Ge("recharts-tooltip-cursor",O)});return g.createElement(Kr,{zIndex:(a=t.zIndex)!==null&&a!==void 0?a:y},g.createElement(vK,{cursor:m,cursorComp:N,cursorProps:D}))}function jK(t){var a=BG(),r=WC(),s=mh(),i=KG();return a==null||r==null||s==null||i==null?null:g.createElement(bK,Zy({},t,{offset:r,layout:s,tooltipAxisBandSize:a,chartName:i}))}var mE=g.createContext(null),NK=()=>g.useContext(mE),Pg={exports:{}},r_;function wK(){return r_||(r_=1,(function(t){var a=Object.prototype.hasOwnProperty,r="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(r=!1));function i(m,h,x){this.fn=m,this.context=h,this.once=x||!1}function c(m,h,x,f,v){if(typeof x!="function")throw new TypeError("The listener must be a function");var b=new i(x,f||m,v),w=r?r+h:h;return m._events[w]?m._events[w].fn?m._events[w]=[m._events[w],b]:m._events[w].push(b):(m._events[w]=b,m._eventsCount++),m}function o(m,h){--m._eventsCount===0?m._events=new s:delete m._events[h]}function u(){this._events=new s,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],x,f;if(this._eventsCount===0)return h;for(f in x=this._events)a.call(x,f)&&h.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(x)):h},u.prototype.listeners=function(h){var x=r?r+h:h,f=this._events[x];if(!f)return[];if(f.fn)return[f.fn];for(var v=0,b=f.length,w=new Array(b);v<b;v++)w[v]=f[v].fn;return w},u.prototype.listenerCount=function(h){var x=r?r+h:h,f=this._events[x];return f?f.fn?1:f.length:0},u.prototype.emit=function(h,x,f,v,b,w){var N=r?r+h:h;if(!this._events[N])return!1;var y=this._events[N],_=arguments.length,A,C;if(y.fn){switch(y.once&&this.removeListener(h,y.fn,void 0,!0),_){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,x),!0;case 3:return y.fn.call(y.context,x,f),!0;case 4:return y.fn.call(y.context,x,f,v),!0;case 5:return y.fn.call(y.context,x,f,v,b),!0;case 6:return y.fn.call(y.context,x,f,v,b,w),!0}for(C=1,A=new Array(_-1);C<_;C++)A[C-1]=arguments[C];y.fn.apply(y.context,A)}else{var E=y.length,k;for(C=0;C<E;C++)switch(y[C].once&&this.removeListener(h,y[C].fn,void 0,!0),_){case 1:y[C].fn.call(y[C].context);break;case 2:y[C].fn.call(y[C].context,x);break;case 3:y[C].fn.call(y[C].context,x,f);break;case 4:y[C].fn.call(y[C].context,x,f,v);break;default:if(!A)for(k=1,A=new Array(_-1);k<_;k++)A[k-1]=arguments[k];y[C].fn.apply(y[C].context,A)}}return!0},u.prototype.on=function(h,x,f){return c(this,h,x,f,!1)},u.prototype.once=function(h,x,f){return c(this,h,x,f,!0)},u.prototype.removeListener=function(h,x,f,v){var b=r?r+h:h;if(!this._events[b])return this;if(!x)return o(this,b),this;var w=this._events[b];if(w.fn)w.fn===x&&(!v||w.once)&&(!f||w.context===f)&&o(this,b);else{for(var N=0,y=[],_=w.length;N<_;N++)(w[N].fn!==x||v&&!w[N].once||f&&w[N].context!==f)&&y.push(w[N]);y.length?this._events[b]=y.length===1?y[0]:y:o(this,b)}return this},u.prototype.removeAllListeners=function(h){var x;return h?(x=r?r+h:h,this._events[x]&&o(this,x)):(this._events=new s,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u})(Pg)),Pg.exports}var SK=wK();const _K=xn(SK);var id=new _K,Qy="recharts.syncEvent.tooltip",s_="recharts.syncEvent.brush";function xE(t,a){if(a){var r=Number.parseInt(a,10);if(!Ur(r))return t?.[r]}}var CK={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},hE=ar({name:"options",initialState:CK,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),kK=hE.reducer,{createEventEmitter:AK}=hE.actions;function EK(t){return t.tooltip.syncInteraction}var OK={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},pE=ar({name:"chartData",initialState:OK,reducers:{setChartData(t,a){if(t.chartData=a.payload,a.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}a.payload.length>0&&t.dataEndIndex!==a.payload.length-1&&(t.dataEndIndex=a.payload.length-1)},setComputedData(t,a){t.computedData=a.payload},setDataStartEndIndexes(t,a){var{startIndex:r,endIndex:s}=a.payload;r!=null&&(t.dataStartIndex=r),s!=null&&(t.dataEndIndex=s)}}}),{setChartData:n_,setDataStartEndIndexes:TK,setComputedData:Yse}=pE.actions,DK=pE.reducer,PK=["x","y"];function i_(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function Hl(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?i_(Object(r),!0).forEach(function(s){zK(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i_(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function zK(t,a,r){return(a=MK(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function MK(t){var a=RK(t,"string");return typeof a=="symbol"?a:a+""}function RK(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function LK(t,a){if(t==null)return{};var r,s,i=IK(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(s=0;s<c.length;s++)r=c[s],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function IK(t,a){if(t==null)return{};var r={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(a.indexOf(s)!==-1)continue;r[s]=t[s]}return r}function $K(){var t=be(Sb),a=be(_b),r=ot(),s=be(cA),i=be(gn),c=mh(),o=Sd(),u=be(m=>m.rootProps.className);g.useEffect(()=>{if(t==null)return bd;var m=(h,x,f)=>{if(a!==f&&t===h){if(s==="index"){var v;if(o&&x!==null&&x!==void 0&&(v=x.payload)!==null&&v!==void 0&&v.coordinate&&x.payload.sourceViewBox){var b=x.payload.coordinate,{x:w,y:N}=b,y=LK(b,PK),{x:_,y:A,width:C,height:E}=x.payload.sourceViewBox,k=Hl(Hl({},y),{},{x:o.x+(C?(w-_)/C:0)*o.width,y:o.y+(E?(N-A)/E:0)*o.height});r(Hl(Hl({},x),{},{payload:Hl(Hl({},x.payload),{},{coordinate:k})}))}else r(x);return}if(i!=null){var O;if(typeof s=="function"){var D={activeTooltipIndex:x.payload.index==null?void 0:Number(x.payload.index),isTooltipActive:x.payload.active,activeIndex:x.payload.index==null?void 0:Number(x.payload.index),activeLabel:x.payload.label,activeDataKey:x.payload.dataKey,activeCoordinate:x.payload.coordinate},P=s(i,D);O=i[P]}else s==="value"&&(O=i.find(H=>String(H.value)===x.payload.label));var{coordinate:L}=x.payload;if(O==null||x.payload.active===!1||L==null||o==null){r(Xy({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:z,y:M}=L,F=Math.min(z,o.x+o.width),q=Math.min(M,o.y+o.height),te={x:c==="horizontal"?O.coordinate:F,y:c==="horizontal"?q:O.coordinate},W=Xy({active:x.payload.active,coordinate:te,dataKey:x.payload.dataKey,index:String(O.index),label:x.payload.label,sourceViewBox:x.payload.sourceViewBox});r(W)}}};return id.on(Qy,m),()=>{id.off(Qy,m)}},[u,r,a,t,s,i,c,o])}function BK(){var t=be(Sb),a=be(_b),r=ot();g.useEffect(()=>{if(t==null)return bd;var s=(i,c,o)=>{a!==o&&t===i&&r(TK(c))};return id.on(s_,s),()=>{id.off(s_,s)}},[r,a,t])}function FK(){var t=ot();g.useEffect(()=>{t(AK())},[t]),$K(),BK()}function UK(t,a,r,s,i,c){var o=be(b=>XG(b,t,a)),u=be(_b),m=be(Sb),h=be(cA),x=be(EK),f=x?.active,v=Sd();g.useEffect(()=>{if(!f&&m!=null&&u!=null){var b=Xy({active:c,coordinate:r,dataKey:o,index:i,label:typeof s=="number"?String(s):s,sourceViewBox:v});id.emit(Qy,m,b,u)}},[f,r,o,i,s,u,m,h,c,v])}function l_(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function c_(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?l_(Object(r),!0).forEach(function(s){qK(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l_(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function qK(t,a,r){return(a=HK(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function HK(t){var a=VK(t,"string");return typeof a=="symbol"?a:a+""}function VK(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function GK(t){return t.dataKey}function KK(t,a){return g.isValidElement(t)?g.cloneElement(t,a):typeof t=="function"?g.createElement(t,a):g.createElement(EB,a)}var o_=[],YK={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Qi.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function kx(t){var a,r,s=Vt(t,YK),{active:i,allowEscapeViewBox:c,animationDuration:o,animationEasing:u,content:m,filterNull:h,isAnimationActive:x,offset:f,payloadUniqBy:v,position:b,reverseDirection:w,useTranslate3d:N,wrapperStyle:y,cursor:_,shared:A,trigger:C,defaultIndex:E,portal:k,axisId:O}=s,D=ot(),P=typeof E=="number"?String(E):E;g.useEffect(()=>{D(qV({shared:A,trigger:C,axisId:O,active:i,defaultIndex:P}))},[D,A,C,O,i,P]);var L=Sd(),z=ak(),M=LV(A),{activeIndex:F,isActive:q}=(a=be(ye=>QG(ye,M,C,P)))!==null&&a!==void 0?a:{},te=be(ye=>ZG(ye,M,C,P)),W=be(ye=>dE(ye,M,C,P)),H=be(ye=>WG(ye,M,C,P)),R=te,$=NK(),V=(r=i??q)!==null&&r!==void 0?r:!1,[Z,B]=mC([R,V]),K=M==="axis"?W:void 0;UK(M,C,H,K,F,V);var Y=k??$;if(Y==null||L==null||M==null)return null;var ie=R??o_;V||(ie=o_),h&&ie.length&&(ie=lC(ie.filter(ye=>ye.value!=null&&(ye.hide!==!0||s.includeHidden)),v,GK));var xe=ie.length>0,he=g.createElement(RB,{allowEscapeViewBox:c,animationDuration:o,animationEasing:u,isAnimationActive:x,active:V,coordinate:H,hasPayload:xe,offset:f,position:b,reverseDirection:w,useTranslate3d:N,viewBox:L,wrapperStyle:y,lastBoundingBox:Z,innerRef:B,hasPortalFromProps:!!k},KK(m,c_(c_({},s),{},{payload:ie,label:K,active:V,activeIndex:F,coordinate:H,accessibilityLayer:z})));return g.createElement(g.Fragment,null,Yn.createPortal(he,Y),V&&g.createElement(jK,{cursor:_,tooltipEventType:M,coordinate:H,payload:ie,index:F}))}var Th=t=>null;Th.displayName="Cell";function XK(t,a,r){return(a=WK(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function WK(t){var a=ZK(t,"string");return typeof a=="symbol"?a:a+""}function ZK(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}class QK{constructor(a){XK(this,"cache",new Map),this.maxSize=a}get(a){var r=this.cache.get(a);return r!==void 0&&(this.cache.delete(a),this.cache.set(a,r)),r}set(a,r){if(this.cache.has(a))this.cache.delete(a);else if(this.cache.size>=this.maxSize){var s=this.cache.keys().next().value;s!=null&&this.cache.delete(s)}this.cache.set(a,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function d_(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function JK(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?d_(Object(r),!0).forEach(function(s){eY(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d_(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function eY(t,a,r){return(a=tY(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function tY(t){var a=aY(t,"string");return typeof a=="symbol"?a:a+""}function aY(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}var rY={cacheSize:2e3,enableCache:!0},fE=JK({},rY),u_=new QK(fE.cacheSize),sY={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},m_="recharts_measurement_span";function nY(t,a){var r=a.fontSize||"",s=a.fontFamily||"",i=a.fontWeight||"",c=a.fontStyle||"",o=a.letterSpacing||"",u=a.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(s,"|").concat(i,"|").concat(c,"|").concat(o,"|").concat(u)}var x_=(t,a)=>{try{var r=document.getElementById(m_);r||(r=document.createElement("span"),r.setAttribute("id",m_),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,sY,a),r.textContent="".concat(t);var s=r.getBoundingClientRect();return{width:s.width,height:s.height}}catch{return{width:0,height:0}}},Uo=function(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a==null||Qi.isSsr)return{width:0,height:0};if(!fE.enableCache)return x_(a,r);var s=nY(a,r),i=u_.get(s);if(i)return i;var c=x_(a,r);return u_.set(s,c),c},h_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,p_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iY=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,lY=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,gE={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},cY=Object.keys(gE),Zl="NaN";function oY(t,a){return t*gE[a]}class Xa{static parse(a){var r,[,s,i]=(r=lY.exec(a))!==null&&r!==void 0?r:[];return new Xa(parseFloat(s),i??"")}constructor(a,r){this.num=a,this.unit=r,this.num=a,this.unit=r,Ur(a)&&(this.unit=""),r!==""&&!iY.test(r)&&(this.num=NaN,this.unit=""),cY.includes(r)&&(this.num=oY(a,r),this.unit="px")}add(a){return this.unit!==a.unit?new Xa(NaN,""):new Xa(this.num+a.num,this.unit)}subtract(a){return this.unit!==a.unit?new Xa(NaN,""):new Xa(this.num-a.num,this.unit)}multiply(a){return this.unit!==""&&a.unit!==""&&this.unit!==a.unit?new Xa(NaN,""):new Xa(this.num*a.num,this.unit||a.unit)}divide(a){return this.unit!==""&&a.unit!==""&&this.unit!==a.unit?new Xa(NaN,""):new Xa(this.num/a.num,this.unit||a.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ur(this.num)}}function yE(t){if(t.includes(Zl))return Zl;for(var a=t;a.includes("*")||a.includes("/");){var r,[,s,i,c]=(r=h_.exec(a))!==null&&r!==void 0?r:[],o=Xa.parse(s??""),u=Xa.parse(c??""),m=i==="*"?o.multiply(u):o.divide(u);if(m.isNaN())return Zl;a=a.replace(h_,m.toString())}for(;a.includes("+")||/.-\d+(?:\.\d+)?/.test(a);){var h,[,x,f,v]=(h=p_.exec(a))!==null&&h!==void 0?h:[],b=Xa.parse(x??""),w=Xa.parse(v??""),N=f==="+"?b.add(w):b.subtract(w);if(N.isNaN())return Zl;a=a.replace(p_,N.toString())}return a}var f_=/\(([^()]*)\)/;function dY(t){for(var a=t,r;(r=f_.exec(a))!=null;){var[,s]=r;a=a.replace(f_,yE(s))}return a}function uY(t){var a=t.replace(/\s+/g,"");return a=dY(a),a=yE(a),a}function mY(t){try{return uY(t)}catch{return Zl}}function zg(t){var a=mY(t.slice(5,-1));return a===Zl?"":a}var xY=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],hY=["dx","dy","angle","className","breakAll"];function Jy(){return Jy=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)({}).hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Jy.apply(null,arguments)}function g_(t,a){if(t==null)return{};var r,s,i=pY(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(s=0;s<c.length;s++)r=c[s],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function pY(t,a){if(t==null)return{};var r={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(a.indexOf(s)!==-1)continue;r[s]=t[s]}return r}var vE=/[ \f\n\r\t\v\u2028\u2029]+/,bE=t=>{var{children:a,breakAll:r,style:s}=t;try{var i=[];Wt(a)||(r?i=a.toString().split(""):i=a.toString().split(vE));var c=i.map(u=>({word:u,width:Uo(u,s).width})),o=r?0:Uo("",s).width;return{wordsWithComputedWidth:c,spaceWidth:o}}catch{return null}};function fY(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var jE=(t,a,r,s)=>t.reduce((i,c)=>{var{word:o,width:u}=c,m=i[i.length-1];if(m&&u!=null&&(a==null||s||m.width+u+r<Number(a)))m.words.push(o),m.width+=u+r;else{var h={words:[o],width:u};i.push(h)}return i},[]),NE=t=>t.reduce((a,r)=>a.width>r.width?a:r),gY="",y_=(t,a,r,s,i,c,o,u)=>{var m=t.slice(0,a),h=bE({breakAll:r,style:s,children:m+gY});if(!h)return[!1,[]];var x=jE(h.wordsWithComputedWidth,c,o,u),f=x.length>i||NE(x).width>Number(c);return[f,x]},yY=(t,a,r,s,i)=>{var{maxLines:c,children:o,style:u,breakAll:m}=t,h=Se(c),x=String(o),f=jE(a,s,r,i);if(!h||i)return f;var v=f.length>c||NE(f).width>Number(s);if(!v)return f;for(var b=0,w=x.length-1,N=0,y;b<=w&&N<=x.length-1;){var _=Math.floor((b+w)/2),A=_-1,[C,E]=y_(x,A,m,u,c,s,r,i),[k]=y_(x,_,m,u,c,s,r,i);if(!C&&!k&&(b=_+1),C&&k&&(w=_-1),!C&&k){y=E;break}N++}return y||f},v_=t=>{var a=Wt(t)?[]:t.toString().split(vE);return[{words:a,width:void 0}]},vY=t=>{var{width:a,scaleToFit:r,children:s,style:i,breakAll:c,maxLines:o}=t;if((a||r)&&!Qi.isSsr){var u,m,h=bE({breakAll:c,children:s,style:i});if(h){var{wordsWithComputedWidth:x,spaceWidth:f}=h;u=x,m=f}else return v_(s);return yY({breakAll:c,children:s,maxLines:o,style:i},u,m,a,!!r)}return v_(s)},wE="#808080",bY={angle:0,breakAll:!1,capHeight:"0.71em",fill:wE,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Dh=g.forwardRef((t,a)=>{var r=Vt(t,bY),{x:s,y:i,lineHeight:c,capHeight:o,fill:u,scaleToFit:m,textAnchor:h,verticalAnchor:x}=r,f=g_(r,xY),v=g.useMemo(()=>vY({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:m,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,m,f.style,f.width]),{dx:b,dy:w,angle:N,className:y,breakAll:_}=f,A=g_(f,hY);if(!qr(s)||!qr(i)||v.length===0)return null;var C=Number(s)+(Se(b)?b:0),E=Number(i)+(Se(w)?w:0);if(!Tt(C)||!Tt(E))return null;var k;switch(x){case"start":k=zg("calc(".concat(o,")"));break;case"middle":k=zg("calc(".concat((v.length-1)/2," * -").concat(c," + (").concat(o," / 2))"));break;default:k=zg("calc(".concat(v.length-1," * -").concat(c,")"));break}var O=[];if(m){var D=v[0].width,{width:P}=f;O.push("scale(".concat(Se(P)&&Se(D)?P/D:1,")"))}return N&&O.push("rotate(".concat(N,", ").concat(C,", ").concat(E,")")),O.length&&(A.transform=O.join(" ")),g.createElement("text",Jy({},Ea(A),{ref:a,x:C,y:E,className:Ge("recharts-text",y),textAnchor:h,fill:u.includes("url")?wE:u}),v.map((L,z)=>{var M=L.words.join(_?"":" ");return g.createElement("tspan",{x:C,dy:z===0?k:c,key:"".concat(M,"-").concat(z)},M)}))});Dh.displayName="Text";var jY=["labelRef"];function NY(t,a){if(t==null)return{};var r,s,i=wY(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(s=0;s<c.length;s++)r=c[s],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function wY(t,a){if(t==null)return{};var r={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(a.indexOf(s)!==-1)continue;r[s]=t[s]}return r}function b_(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function Rt(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?b_(Object(r),!0).forEach(function(s){SY(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b_(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function SY(t,a,r){return(a=_Y(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function _Y(t){var a=CY(t,"string");return typeof a=="symbol"?a:a+""}function CY(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function Ws(){return Ws=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)({}).hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ws.apply(null,arguments)}var SE=g.createContext(null),_E=t=>{var{x:a,y:r,upperWidth:s,lowerWidth:i,width:c,height:o,children:u}=t,m=g.useMemo(()=>({x:a,y:r,upperWidth:s,lowerWidth:i,width:c,height:o}),[a,r,s,i,c,o]);return g.createElement(SE.Provider,{value:m},u)},CE=()=>{var t=g.useContext(SE),a=Sd();return t||XC(a)},kY=g.createContext(null),AY=()=>{var t=g.useContext(kY),a=be(xA);return t||a},EY=t=>{var{value:a,formatter:r}=t,s=Wt(t.children)?a:t.children;return typeof r=="function"?r(s):s},ij=t=>t!=null&&typeof t=="function",OY=(t,a)=>{var r=Aa(a-t),s=Math.min(Math.abs(a-t),360);return r*s},TY=(t,a,r,s,i)=>{var{offset:c,className:o}=t,{cx:u,cy:m,innerRadius:h,outerRadius:x,startAngle:f,endAngle:v,clockWise:b}=i,w=(h+x)/2,N=OY(f,v),y=N>=0?1:-1,_,A;switch(a){case"insideStart":_=f+y*c,A=b;break;case"insideEnd":_=v-y*c,A=!b;break;case"end":_=v+y*c,A=b;break;default:throw new Error("Unsupported position ".concat(a))}A=N<=0?A:!A;var C=Ut(u,m,w,_),E=Ut(u,m,w,_+(A?1:-1)*359),k="M".concat(C.x,",").concat(C.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(A?0:1,`,
    `).concat(E.x,",").concat(E.y),O=Wt(t.id)?Wo("recharts-radial-line-"):t.id;return g.createElement("text",Ws({},s,{dominantBaseline:"central",className:Ge("recharts-radial-bar-label",o)}),g.createElement("defs",null,g.createElement("path",{id:O,d:k})),g.createElement("textPath",{xlinkHref:"#".concat(O)},r))},DY=(t,a,r)=>{var{cx:s,cy:i,innerRadius:c,outerRadius:o,startAngle:u,endAngle:m}=t,h=(u+m)/2;if(r==="outside"){var{x,y:f}=Ut(s,i,o+a,h);return{x,y:f,textAnchor:x>=s?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:s,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:s,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:s,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(c+o)/2,{x:b,y:w}=Ut(s,i,v,h);return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},ev=t=>"cx"in t&&Se(t.cx),PY=(t,a)=>{var{parentViewBox:r,offset:s,position:i}=t,c;r!=null&&!ev(r)&&(c=r);var{x:o,y:u,upperWidth:m,lowerWidth:h,height:x}=a,f=o,v=o+(m-h)/2,b=(f+v)/2,w=(m+h)/2,N=f+m/2,y=x>=0?1:-1,_=y*s,A=y>0?"end":"start",C=y>0?"start":"end",E=m>=0?1:-1,k=E*s,O=E>0?"end":"start",D=E>0?"start":"end";if(i==="top"){var P={x:f+m/2,y:u-_,textAnchor:"middle",verticalAnchor:A};return Rt(Rt({},P),c?{height:Math.max(u-c.y,0),width:m}:{})}if(i==="bottom"){var L={x:v+h/2,y:u+x+_,textAnchor:"middle",verticalAnchor:C};return Rt(Rt({},L),c?{height:Math.max(c.y+c.height-(u+x),0),width:h}:{})}if(i==="left"){var z={x:b-k,y:u+x/2,textAnchor:O,verticalAnchor:"middle"};return Rt(Rt({},z),c?{width:Math.max(z.x-c.x,0),height:x}:{})}if(i==="right"){var M={x:b+w+k,y:u+x/2,textAnchor:D,verticalAnchor:"middle"};return Rt(Rt({},M),c?{width:Math.max(c.x+c.width-M.x,0),height:x}:{})}var F=c?{width:w,height:x}:{};return i==="insideLeft"?Rt({x:b+k,y:u+x/2,textAnchor:D,verticalAnchor:"middle"},F):i==="insideRight"?Rt({x:b+w-k,y:u+x/2,textAnchor:O,verticalAnchor:"middle"},F):i==="insideTop"?Rt({x:f+m/2,y:u+_,textAnchor:"middle",verticalAnchor:C},F):i==="insideBottom"?Rt({x:v+h/2,y:u+x-_,textAnchor:"middle",verticalAnchor:A},F):i==="insideTopLeft"?Rt({x:f+k,y:u+_,textAnchor:D,verticalAnchor:C},F):i==="insideTopRight"?Rt({x:f+m-k,y:u+_,textAnchor:O,verticalAnchor:C},F):i==="insideBottomLeft"?Rt({x:v+k,y:u+x-_,textAnchor:D,verticalAnchor:A},F):i==="insideBottomRight"?Rt({x:v+h-k,y:u+x-_,textAnchor:O,verticalAnchor:A},F):i&&typeof i=="object"&&(Se(i.x)||ln(i.x))&&(Se(i.y)||ln(i.y))?Rt({x:o+hr(i.x,w),y:u+hr(i.y,x),textAnchor:"end",verticalAnchor:"end"},F):Rt({x:N,y:u+x/2,textAnchor:"middle",verticalAnchor:"middle"},F)},zY={angle:0,offset:5,zIndex:la.label,position:"middle",textBreakAll:!1};function Vn(t){var a=Vt(t,zY),{viewBox:r,position:s,value:i,children:c,content:o,className:u="",textBreakAll:m,labelRef:h}=a,x=AY(),f=CE(),v=s==="center"?f:x??f,b,w,N;if(r==null?b=v:ev(r)?b=r:b=XC(r),!b||Wt(i)&&Wt(c)&&!g.isValidElement(o)&&typeof o!="function")return null;var y=Rt(Rt({},a),{},{viewBox:b});if(g.isValidElement(o)){var{labelRef:_}=y,A=NY(y,jY);return g.cloneElement(o,A)}if(typeof o=="function"){if(w=g.createElement(o,y),g.isValidElement(w))return w}else w=EY(a);var C=Ea(a);if(ev(b)){if(s==="insideStart"||s==="insideEnd"||s==="end")return TY(a,s,w,C,b);N=DY(b,a.offset,a.position)}else N=PY(a,b);return g.createElement(Kr,{zIndex:a.zIndex},g.createElement(Dh,Ws({ref:h,className:Ge("recharts-label",u)},C,N,{textAnchor:fY(C.textAnchor)?C.textAnchor:N.textAnchor,breakAll:m}),w))}Vn.displayName="Label";var MY=(t,a,r)=>{if(!t)return null;var s={viewBox:a,labelRef:r};return t===!0?g.createElement(Vn,Ws({key:"label-implicit"},s)):qr(t)?g.createElement(Vn,Ws({key:"label-implicit",value:t},s)):g.isValidElement(t)?t.type===Vn?g.cloneElement(t,Rt({key:"label-implicit"},s)):g.createElement(Vn,Ws({key:"label-implicit",content:t},s)):ij(t)?g.createElement(Vn,Ws({key:"label-implicit",content:t},s)):t&&typeof t=="object"?g.createElement(Vn,Ws({},t,{key:"label-implicit"},s)):null};function kE(t){var{label:a,labelRef:r}=t,s=CE();return MY(a,s,r)||null}var Mg={},Rg={},j_;function RY(){return j_||(j_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r){return r[r.length-1]}t.last=a})(Rg)),Rg}var Lg={},N_;function LY(){return N_||(N_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=a})(Lg)),Lg}var w_;function IY(){return w_||(w_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=RY(),r=LY(),s=$v();function i(c){if(s.isArrayLike(c))return a.last(r.toArray(c))}t.last=i})(Mg)),Mg}var Ig,S_;function $Y(){return S_||(S_=1,Ig=IY().last),Ig}var BY=$Y();const FY=xn(BY);var UY=["valueAccessor"],qY=["dataKey","clockWise","id","textBreakAll","zIndex"];function Ax(){return Ax=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)({}).hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ax.apply(null,arguments)}function __(t,a){if(t==null)return{};var r,s,i=HY(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(s=0;s<c.length;s++)r=c[s],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function HY(t,a){if(t==null)return{};var r={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(a.indexOf(s)!==-1)continue;r[s]=t[s]}return r}var VY=t=>Array.isArray(t.value)?FY(t.value):t.value,AE=g.createContext(void 0),GY=AE.Provider,EE=g.createContext(void 0),KY=EE.Provider;function YY(){return g.useContext(AE)}function XY(){return g.useContext(EE)}function $m(t){var{valueAccessor:a=VY}=t,r=__(t,UY),{dataKey:s,clockWise:i,id:c,textBreakAll:o,zIndex:u}=r,m=__(r,qY),h=YY(),x=XY(),f=h||x;return!f||!f.length?null:g.createElement(Kr,{zIndex:u??la.label},g.createElement(Ra,{className:"recharts-label-list"},f.map((v,b)=>{var w,N=Wt(s)?a(v,b):bt(v&&v.payload,s),y=Wt(c)?{}:{id:"".concat(c,"-").concat(b)};return g.createElement(Vn,Ax({key:"label-".concat(b)},Ea(v),m,y,{fill:(w=r.fill)!==null&&w!==void 0?w:v.fill,parentViewBox:v.parentViewBox,value:N,textBreakAll:o,viewBox:v.viewBox,index:b,zIndex:0}))})))}$m.displayName="LabelList";function OE(t){var{label:a}=t;return a?a===!0?g.createElement($m,{key:"labelList-implicit"}):g.isValidElement(a)||ij(a)?g.createElement($m,{key:"labelList-implicit",content:a}):typeof a=="object"?g.createElement($m,Ax({key:"labelList-implicit"},a,{type:String(a.type)})):null:null}function tv(){return tv=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)({}).hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},tv.apply(null,arguments)}var TE=t=>{var{cx:a,cy:r,r:s,className:i}=t,c=Ge("recharts-dot",i);return Se(a)&&Se(r)&&Se(s)?g.createElement("circle",tv({},Fr(t),Lv(t),{className:c,cx:a,cy:r,r:s})):null},DE=t=>t.graphicalItems.polarItems,WY=ae([St,Od],Tb),Ph=ae([DE,kt,WY],Db),ZY=ae([Ph],Pb),zh=ae([ZY,vb],zb),QY=ae([zh,kt,Ph],Rb);ae([zh,kt,Ph],(t,a,r)=>r.length>0?t.flatMap(s=>r.flatMap(i=>{var c,o=bt(s,(c=a.dataKey)!==null&&c!==void 0?c:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):a?.dataKey!=null?t.map(s=>({value:bt(s,a.dataKey),errorDomain:[]})):t.map(s=>({value:s,errorDomain:[]})));var C_=()=>{},JY=ae([zh,kt,Ph,kh,St],Bb),eX=ae([kt,Ib,$b,C_,JY,C_,it,St],Fb),PE=ae([kt,it,zh,QY,Ed,St,eX],Ub),tX=ae([PE,kt,_c],Vb);ae([kt,PE,tX,St],Kb);var aX={radiusAxis:{},angleAxis:{}},zE=ar({name:"polarAxis",initialState:aX,reducers:{addRadiusAxis(t,a){t.radiusAxis[a.payload.id]=a.payload},removeRadiusAxis(t,a){delete t.radiusAxis[a.payload.id]},addAngleAxis(t,a){t.angleAxis[a.payload.id]=a.payload},removeAngleAxis(t,a){delete t.angleAxis[a.payload.id]}}}),{addRadiusAxis:Xse,removeRadiusAxis:Wse,addAngleAxis:Zse,removeAngleAxis:Qse}=zE.actions,rX=zE.reducer;function k_(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function A_(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?k_(Object(r),!0).forEach(function(s){sX(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k_(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function sX(t,a,r){return(a=nX(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function nX(t){var a=iX(t,"string");return typeof a=="symbol"?a:a+""}function iX(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}var lX=(t,a)=>a,lj=ae([DE,lX],(t,a)=>t.filter(r=>r.type==="pie").find(r=>r.id===a)),cX=[],cj=(t,a,r)=>r?.length===0?cX:r,ME=ae([vb,lj,cj],(t,a,r)=>{var{chartData:s}=t;if(a!=null){var i;if(a?.data!=null&&a.data.length>0?i=a.data:i=s,(!i||!i.length)&&r!=null&&(i=r.map(c=>A_(A_({},a.presentationProps),c.props))),i!=null)return i}}),oX=ae([ME,lj,cj],(t,a,r)=>{if(!(t==null||a==null))return t.map((s,i)=>{var c,o=bt(s,a.nameKey,a.name),u;return r!=null&&(c=r[i])!==null&&c!==void 0&&(c=c.props)!==null&&c!==void 0&&c.fill?u=r[i].props.fill:typeof s=="object"&&s!=null&&"fill"in s?u=s.fill:u=a.fill,{value:lh(o,a.dataKey),color:u,payload:s,type:a.legendType}})}),dX=ae([ME,lj,cj,da],(t,a,r,s)=>{if(!(a==null||t==null))return fW({offset:s,pieSettings:a,displayedData:t,cells:r})}),$g={exports:{}},st={};var E_;function uX(){if(E_)return st;E_=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function w(N){if(typeof N=="object"&&N!==null){var y=N.$$typeof;switch(y){case t:switch(N=N.type,N){case r:case i:case s:case m:case h:case v:return N;default:switch(N=N&&N.$$typeof,N){case o:case u:case f:case x:return N;case c:return N;default:return y}}case a:return y}}}return st.ContextConsumer=c,st.ContextProvider=o,st.Element=t,st.ForwardRef=u,st.Fragment=r,st.Lazy=f,st.Memo=x,st.Portal=a,st.Profiler=i,st.StrictMode=s,st.Suspense=m,st.SuspenseList=h,st.isContextConsumer=function(N){return w(N)===c},st.isContextProvider=function(N){return w(N)===o},st.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===t},st.isForwardRef=function(N){return w(N)===u},st.isFragment=function(N){return w(N)===r},st.isLazy=function(N){return w(N)===f},st.isMemo=function(N){return w(N)===x},st.isPortal=function(N){return w(N)===a},st.isProfiler=function(N){return w(N)===i},st.isStrictMode=function(N){return w(N)===s},st.isSuspense=function(N){return w(N)===m},st.isSuspenseList=function(N){return w(N)===h},st.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===r||N===i||N===s||N===m||N===h||typeof N=="object"&&N!==null&&(N.$$typeof===f||N.$$typeof===x||N.$$typeof===o||N.$$typeof===c||N.$$typeof===u||N.$$typeof===b||N.getModuleId!==void 0)},st.typeOf=w,st}var O_;function mX(){return O_||(O_=1,$g.exports=uX()),$g.exports}var xX=mX(),T_=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",D_=null,Bg=null,RE=t=>{if(t===D_&&Array.isArray(Bg))return Bg;var a=[];return g.Children.forEach(t,r=>{Wt(r)||(xX.isFragment(r)?a=a.concat(RE(r.props.children)):a.push(r))}),Bg=a,D_=t,a};function LE(t,a){var r=[],s=[];return Array.isArray(a)?s=a.map(i=>T_(i)):s=[T_(a)],RE(t).forEach(i=>{var c=Vi(i,"type.displayName")||Vi(i,"type.name");c&&s.indexOf(c)!==-1&&r.push(i)}),r}var IE=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,Fg={},P_;function hX(){return P_||(P_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${i}]`}let s=r;for(;Object.getPrototypeOf(s)!==null;)s=Object.getPrototypeOf(s);return Object.getPrototypeOf(r)===s}t.isPlainObject=a})(Fg)),Fg}var Ug,z_;function pX(){return z_||(z_=1,Ug=hX().isPlainObject),Ug}var fX=pX();const gX=xn(fX);function M_(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function R_(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?M_(Object(r),!0).forEach(function(s){yX(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M_(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function yX(t,a,r){return(a=vX(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function vX(t){var a=bX(t,"string");return typeof a=="symbol"?a:a+""}function bX(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function Ex(){return Ex=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)({}).hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ex.apply(null,arguments)}var L_=(t,a,r,s,i)=>{var c=r-s,o;return o="M ".concat(t,",").concat(a),o+="L ".concat(t+r,",").concat(a),o+="L ".concat(t+r-c/2,",").concat(a+i),o+="L ".concat(t+r-c/2-s,",").concat(a+i),o+="L ".concat(t,",").concat(a," Z"),o},jX={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},NX=t=>{var a=Vt(t,jX),{x:r,y:s,upperWidth:i,lowerWidth:c,height:o,className:u}=a,{animationEasing:m,animationDuration:h,animationBegin:x,isUpdateAnimationActive:f}=a,v=g.useRef(null),[b,w]=g.useState(-1),N=g.useRef(i),y=g.useRef(c),_=g.useRef(o),A=g.useRef(r),C=g.useRef(s),E=ph(t,"trapezoid-");if(g.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var te=v.current.getTotalLength();te&&w(te)}catch{}},[]),r!==+r||s!==+s||i!==+i||c!==+c||o!==+o||i===0&&c===0||o===0)return null;var k=Ge("recharts-trapezoid",u);if(!f)return g.createElement("g",null,g.createElement("path",Ex({},Ea(a),{className:k,d:L_(r,s,i,c,o)})));var O=N.current,D=y.current,P=_.current,L=A.current,z=C.current,M="0px ".concat(b===-1?1:b,"px"),F="".concat(b,"px 0px"),q=rk(["strokeDasharray"],h,m);return g.createElement(hh,{animationId:E,key:E,canBegin:b>0,duration:h,easing:m,isActive:f,begin:x},te=>{var W=Ca(O,i,te),H=Ca(D,c,te),R=Ca(P,o,te),$=Ca(L,r,te),V=Ca(z,s,te);v.current&&(N.current=W,y.current=H,_.current=R,A.current=$,C.current=V);var Z=te>0?{transition:q,strokeDasharray:F}:{strokeDasharray:M};return g.createElement("path",Ex({},Ea(a),{className:k,d:L_($,V,W,H,R),ref:v,style:R_(R_({},Z),a.style)}))})},wX=["option","shapeType","propTransformer","activeClassName"];function SX(t,a){if(t==null)return{};var r,s,i=_X(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(s=0;s<c.length;s++)r=c[s],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function _X(t,a){if(t==null)return{};var r={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(a.indexOf(s)!==-1)continue;r[s]=t[s]}return r}function I_(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function Ox(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?I_(Object(r),!0).forEach(function(s){CX(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I_(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function CX(t,a,r){return(a=kX(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function kX(t){var a=AX(t,"string");return typeof a=="symbol"?a:a+""}function AX(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function EX(t,a){return Ox(Ox({},a),t)}function OX(t,a){return t==="symbols"}function $_(t){var{shapeType:a,elementProps:r}=t;switch(a){case"rectangle":return g.createElement(lk,r);case"trapezoid":return g.createElement(NX,r);case"sector":return g.createElement(uk,r);case"symbols":if(OX(a))return g.createElement(Rv,r);break;case"curve":return g.createElement(Xv,r);default:return null}}function TX(t){return g.isValidElement(t)?t.props:t}function $E(t){var{option:a,shapeType:r,propTransformer:s=EX,activeClassName:i="recharts-active-shape"}=t,c=SX(t,wX),o;if(g.isValidElement(a))o=g.cloneElement(a,Ox(Ox({},c),TX(a)));else if(typeof a=="function")o=a(c);else if(gX(a)&&typeof a!="boolean"){var u=s(a,c);o=g.createElement($_,{shapeType:r,elementProps:u})}else{var m=c;o=g.createElement($_,{shapeType:r,elementProps:m})}return c.isActive?g.createElement(Ra,{className:i},o):o}var DX=(t,a)=>{var r=ot();return(s,i)=>c=>{t?.(s,i,c),r(GA({activeIndex:String(i),activeDataKey:a,activeCoordinate:s.tooltipPosition}))}},PX=t=>{var a=ot();return(r,s)=>i=>{t?.(r,s,i),a(HV())}},zX=(t,a)=>{var r=ot();return(s,i)=>c=>{t?.(s,i,c),r(VV({activeIndex:String(i),activeDataKey:a,activeCoordinate:s.tooltipPosition}))}};function BE(t){var{tooltipEntrySettings:a}=t,r=ot(),s=La(),i=g.useRef(null);return g.useLayoutEffect(()=>{s||(i.current===null?r(BV(a)):i.current!==a&&r(FV({prev:i.current,next:a})),i.current=a)},[a,r,s]),g.useLayoutEffect(()=>()=>{i.current&&(r(UV(i.current)),i.current=null)},[r]),null}function MX(t){var{legendPayload:a}=t,r=ot(),s=La(),i=g.useRef(null);return g.useLayoutEffect(()=>{s||(i.current===null?r(QC(a)):i.current!==a&&r(JC({prev:i.current,next:a})),i.current=a)},[r,s,a]),g.useLayoutEffect(()=>()=>{i.current&&(r(ek(i.current)),i.current=null)},[r]),null}function RX(t){var{legendPayload:a}=t,r=ot(),s=be(it),i=g.useRef(null);return g.useLayoutEffect(()=>{s!=="centric"&&s!=="radial"||(i.current===null?r(QC(a)):i.current!==a&&r(JC({prev:i.current,next:a})),i.current=a)},[r,s,a]),g.useLayoutEffect(()=>()=>{i.current&&(r(ek(i.current)),i.current=null)},[r]),null}var qg,LX=()=>{var[t]=g.useState(()=>Wo("uid-"));return t},IX=(qg=xD.useId)!==null&&qg!==void 0?qg:LX;function FE(t,a){var r=IX();return a||(t?"".concat(t,"-").concat(r):r)}var $X=g.createContext(void 0),UE=t=>{var{id:a,type:r,children:s}=t,i=FE("recharts-".concat(r),a);return g.createElement($X.Provider,{value:i},s(i))},BX={cartesianItems:[],polarItems:[]},qE=ar({name:"graphicalItems",initialState:BX,reducers:{addCartesianGraphicalItem:{reducer(t,a){t.cartesianItems.push(a.payload)},prepare:vt()},replaceCartesianGraphicalItem:{reducer(t,a){var{prev:r,next:s}=a.payload,i=rs(t).cartesianItems.indexOf(r);i>-1&&(t.cartesianItems[i]=s)},prepare:vt()},removeCartesianGraphicalItem:{reducer(t,a){var r=rs(t).cartesianItems.indexOf(a.payload);r>-1&&t.cartesianItems.splice(r,1)},prepare:vt()},addPolarGraphicalItem:{reducer(t,a){t.polarItems.push(a.payload)},prepare:vt()},removePolarGraphicalItem:{reducer(t,a){var r=rs(t).polarItems.indexOf(a.payload);r>-1&&t.polarItems.splice(r,1)},prepare:vt()}}}),{addCartesianGraphicalItem:FX,replaceCartesianGraphicalItem:UX,removeCartesianGraphicalItem:qX,addPolarGraphicalItem:HX,removePolarGraphicalItem:VX}=qE.actions,GX=qE.reducer,KX=t=>{var a=ot(),r=g.useRef(null);return g.useLayoutEffect(()=>{r.current===null?a(FX(t)):r.current!==t&&a(UX({prev:r.current,next:t})),r.current=t},[a,t]),g.useLayoutEffect(()=>()=>{r.current&&(a(qX(r.current)),r.current=null)},[a]),null},YX=g.memo(KX);function XX(t){var a=ot();return g.useLayoutEffect(()=>(a(HX(t)),()=>{a(VX(t))}),[a,t]),null}var WX=["key"],ZX=["onMouseEnter","onClick","onMouseLeave"],QX=["id"],JX=["id"];function B_(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function Ot(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?B_(Object(r),!0).forEach(function(s){eW(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B_(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function eW(t,a,r){return(a=tW(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function tW(t){var a=aW(t,"string");return typeof a=="symbol"?a:a+""}function aW(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function ti(){return ti=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)({}).hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ti.apply(null,arguments)}function Mh(t,a){if(t==null)return{};var r,s,i=rW(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(s=0;s<c.length;s++)r=c[s],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function rW(t,a){if(t==null)return{};var r={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(a.indexOf(s)!==-1)continue;r[s]=t[s]}return r}function sW(t){var a=g.useMemo(()=>LE(t.children,Th),[t.children]),r=be(s=>oX(s,t.id,a));return r==null?null:g.createElement(RX,{legendPayload:r})}var nW=g.memo(t=>{var{dataKey:a,nameKey:r,sectors:s,stroke:i,strokeWidth:c,fill:o,name:u,hide:m,tooltipType:h}=t,x={dataDefinedOnItem:s.map(f=>f.tooltipPayload),positions:s.map(f=>f.tooltipPosition),settings:{stroke:i,strokeWidth:c,fill:o,dataKey:a,nameKey:r,name:lh(u,a),hide:m,type:h,color:o,unit:""}};return g.createElement(BE,{tooltipEntrySettings:x})}),iW=(t,a)=>t>a?"start":t<a?"end":"middle",lW=(t,a,r)=>hr(typeof a=="function"?a(t):a,r,r*.8),cW=(t,a,r)=>{var{top:s,left:i,width:c,height:o}=a,u=ck(c,o),m=i+hr(t.cx,c,c/2),h=s+hr(t.cy,o,o/2),x=hr(t.innerRadius,u,0),f=lW(r,t.outerRadius,u),v=t.maxRadius||Math.sqrt(c*c+o*o)/2;return{cx:m,cy:h,innerRadius:x,outerRadius:f,maxRadius:v}},oW=(t,a)=>{var r=Aa(a-t),s=Math.min(Math.abs(a-t),360);return r*s};function dW(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var uW=(t,a)=>{if(g.isValidElement(t))return g.cloneElement(t,a);if(typeof t=="function")return t(a);var r=Ge("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:s}=a,i=Mh(a,WX);return g.createElement(Xv,ti({},i,{type:"linear",className:r}))},mW=(t,a,r)=>{if(g.isValidElement(t))return g.cloneElement(t,a);var s=r;if(typeof t=="function"&&(s=t(a),g.isValidElement(s)))return s;var i=Ge("recharts-pie-label-text",dW(t));return g.createElement(Dh,ti({},a,{alignmentBaseline:"middle",className:i}),s)};function xW(t){var{sectors:a,props:r,showLabels:s}=t,{label:i,labelLine:c,dataKey:o}=r;if(!s||!i||!a)return null;var u=Fr(r),m=ic(i),h=ic(c),x=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=a.map((v,b)=>{var w=(v.startAngle+v.endAngle)/2,N=Ut(v.cx,v.cy,v.outerRadius+x,w),y=Ot(Ot(Ot(Ot({},u),v),{},{stroke:"none"},m),{},{index:b,textAnchor:iW(N.x,v.cx)},N),_=Ot(Ot(Ot(Ot({},u),v),{},{fill:"none",stroke:v.fill},h),{},{index:b,points:[Ut(v.cx,v.cy,v.outerRadius,w),N],key:"line"});return g.createElement(Kr,{zIndex:la.label,key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(b)},g.createElement(Ra,null,c&&uW(c,_),mW(i,y,bt(v,o))))});return g.createElement(Ra,{className:"recharts-pie-labels"},f)}function hW(t){var{sectors:a,props:r,showLabels:s}=t,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?g.createElement(OE,{label:i}):g.createElement(xW,{sectors:a,props:r,showLabels:s})}function pW(t){var{sectors:a,activeShape:r,inactiveShape:s,allOtherPieProps:i,shape:c}=t,o=be(mc),{onMouseEnter:u,onClick:m,onMouseLeave:h}=i,x=Mh(i,ZX),f=DX(u,i.dataKey),v=PX(h),b=zX(m,i.dataKey);return a==null||a.length===0?null:g.createElement(g.Fragment,null,a.map((w,N)=>{if(w?.startAngle===0&&w?.endAngle===0&&a.length!==1)return null;var y=String(N)===o,_=o?s:null,A=r&&y?r:_,C=Ot(Ot({},w),{},{stroke:w.stroke,tabIndex:-1,[qC]:N,[HC]:i.dataKey});return g.createElement(Ra,ti({key:"sector-".concat(w?.startAngle,"-").concat(w?.endAngle,"-").concat(w.midAngle,"-").concat(N),tabIndex:-1,className:"recharts-pie-sector"},Iv(x,w,N),{onMouseEnter:f(w,N),onMouseLeave:v(w,N),onClick:b(w,N)}),g.createElement($E,ti({option:c??A,shapeType:"sector",isActive:y},C)))}))}function fW(t){var a,{pieSettings:r,displayedData:s,cells:i,offset:c}=t,{cornerRadius:o,startAngle:u,endAngle:m,dataKey:h,nameKey:x,tooltipType:f}=r,v=Math.abs(r.minAngle),b=oW(u,m),w=Math.abs(b),N=s.length<=1?0:(a=r.paddingAngle)!==null&&a!==void 0?a:0,y=s.filter(O=>bt(O,h,0)!==0).length,_=(w>=360?y:y-1)*N,A=w-y*v-_,C=s.reduce((O,D)=>{var P=bt(D,h,0);return O+(Se(P)?P:0)},0),E;if(C>0){var k;E=s.map((O,D)=>{var P=bt(O,h,0),L=bt(O,x,D),z=cW(r,c,O),M=(Se(P)?P:0)/C,F,q=Ot(Ot({},O),i&&i[D]&&i[D].props);D?F=k.endAngle+Aa(b)*N*(P!==0?1:0):F=u;var te=F+Aa(b)*((P!==0?v:0)+M*A),W=(F+te)/2,H=(z.innerRadius+z.outerRadius)/2,R=[{name:L,value:P,payload:q,dataKey:h,type:f}],$=Ut(z.cx,z.cy,H,W);return k=Ot(Ot(Ot(Ot({},r.presentationProps),{},{percent:M,cornerRadius:typeof o=="string"?parseFloat(o):o,name:L,tooltipPayload:R,midAngle:W,middleRadius:H,tooltipPosition:$},q),z),{},{value:P,startAngle:F,endAngle:te,payload:q,paddingAngle:Aa(b)*N}),k})}return E}function gW(t){var{showLabels:a,sectors:r,children:s}=t,i=g.useMemo(()=>!a||!r?[]:r.map(c=>({value:c.value,payload:c.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:c.cx,cy:c.cy,innerRadius:c.innerRadius,outerRadius:c.outerRadius,startAngle:c.startAngle,endAngle:c.endAngle,clockWise:!1},fill:c.fill})),[r,a]);return g.createElement(KY,{value:a?i:void 0},s)}function yW(t){var{props:a,previousSectorsRef:r}=t,{sectors:s,isAnimationActive:i,animationBegin:c,animationDuration:o,animationEasing:u,activeShape:m,inactiveShape:h,onAnimationStart:x,onAnimationEnd:f}=a,v=ph(a,"recharts-pie-"),b=r.current,[w,N]=g.useState(!1),y=g.useCallback(()=>{typeof f=="function"&&f(),N(!1)},[f]),_=g.useCallback(()=>{typeof x=="function"&&x(),N(!0)},[x]);return g.createElement(gW,{showLabels:!w,sectors:s},g.createElement(hh,{animationId:v,begin:c,duration:o,isActive:i,easing:u,onAnimationStart:_,onAnimationEnd:y,key:v},A=>{var C=[],E=s&&s[0],k=E?.startAngle;return s?.forEach((O,D)=>{var P=b&&b[D],L=D>0?Vi(O,"paddingAngle",0):0;if(P){var z=Ca(P.endAngle-P.startAngle,O.endAngle-O.startAngle,A),M=Ot(Ot({},O),{},{startAngle:k+L,endAngle:k+z+L});C.push(M),k=M.endAngle}else{var{endAngle:F,startAngle:q}=O,te=Ca(0,F-q,A),W=Ot(Ot({},O),{},{startAngle:k+L,endAngle:k+te+L});C.push(W),k=W.endAngle}}),r.current=C,g.createElement(Ra,null,g.createElement(pW,{sectors:C,activeShape:m,inactiveShape:h,allOtherPieProps:a,shape:a.shape}))}),g.createElement(hW,{showLabels:!w,sectors:s,props:a}),a.children)}var vW={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Qi.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:la.area};function bW(t){var{id:a}=t,r=Mh(t,QX),{hide:s,className:i,rootTabIndex:c}=t,o=g.useMemo(()=>LE(t.children,Th),[t.children]),u=be(x=>dX(x,a,o)),m=g.useRef(null),h=Ge("recharts-pie",i);return s||u==null?(m.current=null,g.createElement(Ra,{tabIndex:c,className:h})):g.createElement(Kr,{zIndex:t.zIndex},g.createElement(nW,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:u,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType}),g.createElement(Ra,{tabIndex:c,className:h},g.createElement(yW,{props:Ot(Ot({},r),{},{sectors:u}),previousSectorsRef:m})))}function HE(t){var a=Vt(t,vW),{id:r}=a,s=Mh(a,JX),i=Fr(s);return g.createElement(UE,{id:r,type:"pie"},c=>g.createElement(g.Fragment,null,g.createElement(XX,{type:"pie",id:c,data:s.data,dataKey:s.dataKey,hide:s.hide,angleAxisId:0,radiusAxisId:0,name:s.name,nameKey:s.nameKey,tooltipType:s.tooltipType,legendType:s.legendType,fill:s.fill,cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,paddingAngle:s.paddingAngle,minAngle:s.minAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius,cornerRadius:s.cornerRadius,presentationProps:i,maxRadius:a.maxRadius}),g.createElement(sW,ti({},s,{id:c})),g.createElement(bW,ti({},s,{id:c}))))}HE.displayName="Pie";var jW=["points"];function F_(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function Hg(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?F_(Object(r),!0).forEach(function(s){NW(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F_(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function NW(t,a,r){return(a=wW(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function wW(t){var a=SW(t,"string");return typeof a=="symbol"?a:a+""}function SW(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function Tx(){return Tx=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)({}).hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Tx.apply(null,arguments)}function _W(t,a){if(t==null)return{};var r,s,i=CW(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(s=0;s<c.length;s++)r=c[s],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function CW(t,a){if(t==null)return{};var r={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(a.indexOf(s)!==-1)continue;r[s]=t[s]}return r}function kW(t){var{option:a,dotProps:r,className:s}=t;if(g.isValidElement(a))return g.cloneElement(a,r);if(typeof a=="function")return a(r);var i=Ge(s,typeof a!="boolean"?a.className:""),c=r??{},{points:o}=c,u=_W(c,jW);return g.createElement(TE,Tx({},u,{className:i}))}function AW(t,a){return t==null?!1:a?!0:t.length===1}function EW(t){var{points:a,dot:r,className:s,dotClassName:i,dataKey:c,baseProps:o,needClip:u,clipPathId:m,zIndex:h=la.scatter}=t;if(!AW(a,r))return null;var x=IE(r),f=mR(r),v=a.map((w,N)=>{var y,_,A=Hg(Hg(Hg({r:3},o),f),{},{index:N,cx:(y=w.x)!==null&&y!==void 0?y:void 0,cy:(_=w.y)!==null&&_!==void 0?_:void 0,dataKey:c,value:w.value,payload:w.payload,points:a});return g.createElement(kW,{key:"dot-".concat(N),option:r,dotProps:A,className:i})}),b={};return u&&m!=null&&(b.clipPath="url(#clipPath-".concat(x?"":"dots-").concat(m,")")),g.createElement(Kr,{zIndex:h},g.createElement(Ra,Tx({className:s},b),v))}function U_(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function q_(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?U_(Object(r),!0).forEach(function(s){OW(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U_(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function OW(t,a,r){return(a=TW(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function TW(t){var a=DW(t,"string");return typeof a=="symbol"?a:a+""}function DW(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}var PW={xAxis:{},yAxis:{},zAxis:{}},VE=ar({name:"cartesianAxis",initialState:PW,reducers:{addXAxis:{reducer(t,a){t.xAxis[a.payload.id]=a.payload},prepare:vt()},replaceXAxis:{reducer(t,a){var{prev:r,next:s}=a.payload;t.xAxis[r.id]!==void 0&&(r.id!==s.id&&delete t.xAxis[r.id],t.xAxis[s.id]=s)},prepare:vt()},removeXAxis:{reducer(t,a){delete t.xAxis[a.payload.id]},prepare:vt()},addYAxis:{reducer(t,a){t.yAxis[a.payload.id]=a.payload},prepare:vt()},replaceYAxis:{reducer(t,a){var{prev:r,next:s}=a.payload;t.yAxis[r.id]!==void 0&&(r.id!==s.id&&delete t.yAxis[r.id],t.yAxis[s.id]=s)},prepare:vt()},removeYAxis:{reducer(t,a){delete t.yAxis[a.payload.id]},prepare:vt()},addZAxis:{reducer(t,a){t.zAxis[a.payload.id]=a.payload},prepare:vt()},replaceZAxis:{reducer(t,a){var{prev:r,next:s}=a.payload;t.zAxis[r.id]!==void 0&&(r.id!==s.id&&delete t.zAxis[r.id],t.zAxis[s.id]=s)},prepare:vt()},removeZAxis:{reducer(t,a){delete t.zAxis[a.payload.id]},prepare:vt()},updateYAxisWidth(t,a){var{id:r,width:s}=a.payload,i=t.yAxis[r];if(i){var c=i.widthHistory||[];if(c.length===3&&c[0]===c[2]&&s===c[1]&&s!==i.width&&Math.abs(s-c[0])<=1)return;var o=[...c,s].slice(-3);t.yAxis[r]=q_(q_({},t.yAxis[r]),{},{width:s,widthHistory:o})}}}}),{addXAxis:zW,replaceXAxis:MW,removeXAxis:RW,addYAxis:LW,replaceYAxis:IW,removeYAxis:$W,addZAxis:Jse,replaceZAxis:ene,removeZAxis:tne,updateYAxisWidth:BW}=VE.actions,FW=VE.reducer,UW=ae([da],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),qW=ae([UW,hn,pn],(t,a,r)=>{if(!(!t||a==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,a-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),oj=()=>be(qW),HW=()=>be(MG);function H_(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function Vg(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?H_(Object(r),!0).forEach(function(s){VW(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H_(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function VW(t,a,r){return(a=GW(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function GW(t){var a=KW(t,"string");return typeof a=="symbol"?a:a+""}function KW(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}var YW=t=>{var{point:a,childIndex:r,mainColor:s,activeDot:i,dataKey:c,clipPath:o}=t;if(i===!1||a.x==null||a.y==null)return null;var u={index:r,dataKey:c,cx:a.x,cy:a.y,r:4,fill:s??"none",strokeWidth:2,stroke:"#fff",payload:a.payload,value:a.value},m=Vg(Vg(Vg({},u),ic(i)),Lv(i)),h;return g.isValidElement(i)?h=g.cloneElement(i,m):typeof i=="function"?h=i(m):h=g.createElement(TE,m),g.createElement(Ra,{className:"recharts-active-dot",clipPath:o},h)};function XW(t){var{points:a,mainColor:r,activeDot:s,itemDataKey:i,clipPath:c,zIndex:o=la.activeDot}=t,u=be(mc),m=HW();if(a==null||m==null)return null;var h=a.find(x=>m.includes(x.payload));return Wt(h)?null:g.createElement(Kr,{zIndex:o},g.createElement(YW,{point:h,childIndex:Number(u),mainColor:r,dataKey:i,activeDot:s,clipPath:c}))}var WW={},GE=ar({name:"errorBars",initialState:WW,reducers:{addErrorBar:(t,a)=>{var{itemId:r,errorBar:s}=a.payload;t[r]||(t[r]=[]),t[r].push(s)},replaceErrorBar:(t,a)=>{var{itemId:r,prev:s,next:i}=a.payload;t[r]&&(t[r]=t[r].map(c=>c.dataKey===s.dataKey&&c.direction===s.direction?i:c))},removeErrorBar:(t,a)=>{var{itemId:r,errorBar:s}=a.payload;t[r]&&(t[r]=t[r].filter(i=>i.dataKey!==s.dataKey||i.direction!==s.direction))}}}),{addErrorBar:ane,replaceErrorBar:rne,removeErrorBar:sne}=GE.actions,ZW=GE.reducer,QW=["children"];function JW(t,a){if(t==null)return{};var r,s,i=eZ(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(s=0;s<c.length;s++)r=c[s],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function eZ(t,a){if(t==null)return{};var r={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(a.indexOf(s)!==-1)continue;r[s]=t[s]}return r}var tZ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},aZ=g.createContext(tZ);function rZ(t){var{children:a}=t,r=JW(t,QW);return g.createElement(aZ.Provider,{value:r},a)}function KE(t,a){var r,s,i=be(h=>_s(h,t)),c=be(h=>Cs(h,a)),o=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:ra.allowDataOverflow,u=(s=c?.allowDataOverflow)!==null&&s!==void 0?s:sa.allowDataOverflow,m=o||u;return{needClip:m,needClipX:o,needClipY:u}}function sZ(t){var{xAxisId:a,yAxisId:r,clipPathId:s}=t,i=oj(),{needClipX:c,needClipY:o,needClip:u}=KE(a,r);if(!u||!i)return null;var{x:m,y:h,width:x,height:f}=i;return g.createElement("clipPath",{id:"clipPath-".concat(s)},g.createElement("rect",{x:c?m:m-x/2,y:o?h:h-f/2,width:c?x:x*2,height:o?f:f*2}))}var Gg={exports:{}},Kg={};var V_;function nZ(){if(V_)return Kg;V_=1;var t=xc();function a(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var r=typeof Object.is=="function"?Object.is:a,s=t.useSyncExternalStore,i=t.useRef,c=t.useEffect,o=t.useMemo,u=t.useDebugValue;return Kg.useSyncExternalStoreWithSelector=function(m,h,x,f,v){var b=i(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=o(function(){function y(k){if(!_){if(_=!0,A=k,k=f(k),v!==void 0&&w.hasValue){var O=w.value;if(v(O,k))return C=O}return C=k}if(O=C,r(A,k))return O;var D=f(k);return v!==void 0&&v(O,D)?(A=k,O):(A=k,C=D)}var _=!1,A,C,E=x===void 0?null:x;return[function(){return y(h())},E===null?void 0:function(){return y(E())}]},[h,x,f,v]);var N=s(m,b[0],b[1]);return c(function(){w.hasValue=!0,w.value=N},[N]),u(N),N},Kg}var G_;function iZ(){return G_||(G_=1,Gg.exports=nZ()),Gg.exports}iZ();function lZ(t){t()}function cZ(){let t=null,a=null;return{clear(){t=null,a=null},notify(){lZ(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let s=t;for(;s;)r.push(s),s=s.next;return r},subscribe(r){let s=!0;const i=a={callback:r,next:null,prev:a};return i.prev?i.prev.next=i:t=i,function(){!s||t===null||(s=!1,i.next?i.next.prev=i.prev:a=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var K_={notify(){},get:()=>[]};function oZ(t,a){let r,s=K_,i=0,c=!1;function o(N){x();const y=s.subscribe(N);let _=!1;return()=>{_||(_=!0,y(),f())}}function u(){s.notify()}function m(){w.onStateChange&&w.onStateChange()}function h(){return c}function x(){i++,r||(r=t.subscribe(m),s=cZ())}function f(){i--,r&&i===0&&(r(),r=void 0,s.clear(),s=K_)}function v(){c||(c=!0,x())}function b(){c&&(c=!1,f())}const w={addNestedSub:o,notifyNestedSubs:u,handleChangeWrapper:m,isSubscribed:h,trySubscribe:v,tryUnsubscribe:b,getListeners:()=>s};return w}var dZ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uZ=dZ(),mZ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",xZ=mZ(),hZ=()=>uZ||xZ?g.useLayoutEffect:g.useEffect,pZ=hZ();function Y_(t,a){return t===a?t!==0||a!==0||1/t===1/a:t!==t&&a!==a}function fZ(t,a){if(Y_(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;const r=Object.keys(t),s=Object.keys(a);if(r.length!==s.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(a,r[i])||!Y_(t[r[i]],a[r[i]]))return!1;return!0}var gZ=Symbol.for("react-redux-context"),yZ=typeof globalThis<"u"?globalThis:{};function vZ(){if(!g.createContext)return{};const t=yZ[gZ]??=new Map;let a=t.get(g.createContext);return a||(a=g.createContext(null),t.set(g.createContext,a)),a}var bZ=vZ();function jZ(t){const{children:a,context:r,serverState:s,store:i}=t,c=g.useMemo(()=>{const m=oZ(i);return{store:i,subscription:m,getServerState:s?()=>s:void 0}},[i,s]),o=g.useMemo(()=>i.getState(),[i]);pZ(()=>{const{subscription:m}=c;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),o!==i.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[c,o]);const u=r||bZ;return g.createElement(u.Provider,{value:c},a)}var NZ=jZ,wZ=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function SZ(t,a){return t==null&&a==null?!0:typeof t=="number"&&typeof a=="number"?t===a||t!==t&&a!==a:t===a}function dj(t,a){var r=new Set([...Object.keys(t),...Object.keys(a)]);for(var s of r)if(wZ.has(s)){if(t[s]==null&&a[s]==null)continue;if(!fZ(t[s],a[s]))return!1}else if(!SZ(t[s],a[s]))return!1;return!0}var YE=t=>{var{chartData:a}=t,r=ot(),s=La();return g.useEffect(()=>s?()=>{}:(r(n_(a)),()=>{r(n_(void 0))}),[a,r,s]),null},X_={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},XE=ar({name:"brush",initialState:X_,reducers:{setBrushSettings(t,a){return a.payload==null?X_:a.payload}}}),{setBrushSettings:nne}=XE.actions,_Z=XE.reducer;function W_(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function bm(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?W_(Object(r),!0).forEach(function(s){WE(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W_(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function WE(t,a,r){return(a=CZ(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function CZ(t){var a=kZ(t,"string");return typeof a=="symbol"?a:a+""}function kZ(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}var AZ=(t,a)=>{var{x:r,y:s}=t,{x:i,y:c}=a;return{x:Math.min(r,i),y:Math.min(s,c),width:Math.abs(i-r),height:Math.abs(c-s)}},EZ=t=>{var{x1:a,y1:r,x2:s,y2:i}=t;return AZ({x:a,y:r},{x:s,y:i})};class Rh{static create(a){return new Rh(a)}constructor(a){this.scale=a}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(a){var{bandAware:r,position:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a!==void 0){if(s)switch(s){case"start":return this.scale(a);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(a)+i}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(a)+c}default:return this.scale(a)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(a)+o}return this.scale(a)}}isInRange(a){var r=this.range(),s=r[0],i=r[r.length-1];return s<=i?a>=s&&a<=i:a>=i&&a<=s}}WE(Rh,"EPS",1e-4);var OZ=t=>{var a=Object.keys(t).reduce((r,s)=>bm(bm({},r),{},{[s]:Rh.create(t[s])}),{});return bm(bm({},a),{},{apply(r){var{bandAware:s,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(c=>{var[o,u]=c;return[o,a[o].apply(u,{bandAware:s,position:i})]}))},isInRange(r){return Object.keys(r).every(s=>a[s].isInRange(r[s]))}})};function TZ(t){return(t%180+180)%180}var DZ=function(a){var{width:r,height:s}=a,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=TZ(i),o=c*Math.PI/180,u=Math.atan(s/r),m=o>u&&o<Math.PI-u?s/Math.sin(o):r/Math.cos(o);return Math.abs(m)},PZ={dots:[],areas:[],lines:[]},ZE=ar({name:"referenceElements",initialState:PZ,reducers:{addDot:(t,a)=>{t.dots.push(a.payload)},removeDot:(t,a)=>{var r=rs(t).dots.findIndex(s=>s===a.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,a)=>{t.areas.push(a.payload)},removeArea:(t,a)=>{var r=rs(t).areas.findIndex(s=>s===a.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,a)=>{t.lines.push(a.payload)},removeLine:(t,a)=>{var r=rs(t).lines.findIndex(s=>s===a.payload);r!==-1&&t.lines.splice(r,1)}}}),{addDot:ine,removeDot:lne,addArea:cne,removeArea:one,addLine:zZ,removeLine:MZ}=ZE.actions,RZ=ZE.reducer,QE=g.createContext(void 0),LZ=t=>{var{children:a}=t,[r]=g.useState("".concat(Wo("recharts"),"-clip")),s=oj();if(s==null)return null;var{x:i,y:c,width:o,height:u}=s;return g.createElement(QE.Provider,{value:r},g.createElement("defs",null,g.createElement("clipPath",{id:r},g.createElement("rect",{x:i,y:c,height:u,width:o}))),a)},IZ=()=>g.useContext(QE);function Z_(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function Q_(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Z_(Object(r),!0).forEach(function(s){$Z(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z_(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function $Z(t,a,r){return(a=BZ(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function BZ(t){var a=FZ(t,"string");return typeof a=="symbol"?a:a+""}function FZ(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function Dx(){return Dx=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)({}).hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Dx.apply(null,arguments)}var UZ=(t,a)=>{var r;if(g.isValidElement(t))r=g.cloneElement(t,a);else if(typeof t=="function")r=t(a);else{if(!Tt(a.x1)||!Tt(a.y1)||!Tt(a.x2)||!Tt(a.y2))return null;r=g.createElement("line",Dx({},a,{className:"recharts-reference-line-line"}))}return r},qZ=(t,a,r,s,i,c)=>{var{x:o,width:u}=c,m=i.y.apply(t,{position:r});if(Ur(m)||a==="discard"&&!i.y.isInRange(m))return null;var h=[{x:o+u,y:m},{x:o,y:m}];return s==="left"?h.reverse():h},HZ=(t,a,r,s,i,c)=>{var{y:o,height:u}=c,m=i.x.apply(t,{position:r});if(Ur(m)||a==="discard"&&!i.x.isInRange(m))return null;var h=[{x:m,y:o+u},{x:m,y:o}];return s==="top"?h.reverse():h},VZ=(t,a,r,s)=>{var i=t.map(c=>s.apply(c,{position:r}));return a==="discard"&&i.some(c=>!s.isInRange(c))?null:i},GZ=(t,a,r,s,i,c)=>{var{x:o,y:u,segment:m,ifOverflow:h}=c,x=qr(o),f=qr(u);return f?qZ(u,h,r,i,t,a):x?HZ(o,h,r,s,t,a):m!=null&&m.length===2?VZ(m,h,r,t):null};function KZ(t){var a=ot();return g.useEffect(()=>(a(zZ(t)),()=>{a(MZ(t))})),null}function YZ(t){var{xAxisId:a,yAxisId:r,shape:s,className:i,ifOverflow:c}=t,o=La(),u=IZ(),m=be(O=>_s(O,a)),h=be(O=>Cs(O,r)),x=be(O=>ei(O,"xAxis",a,o)),f=be(O=>ei(O,"yAxis",r,o)),v=Sd();if(!u||!v||m==null||h==null||x==null||f==null)return null;var b=OZ({x,y:f}),w=GZ(b,v,t.position,m.orientation,h.orientation,t);if(!w)return null;var[{x:N,y},{x:_,y:A}]=w,C=c==="hidden"?"url(#".concat(u,")"):void 0,E=Q_(Q_({clipPath:C},Ea(t)),{},{x1:N,y1:y,x2:_,y2:A}),k=EZ({x1:N,y1:y,x2:_,y2:A});return g.createElement(Kr,{zIndex:t.zIndex},g.createElement(Ra,{className:Ge("recharts-reference-line",i)},UZ(s,E),g.createElement(_E,Dx({},k,{lowerWidth:k.width,upperWidth:k.width}),g.createElement(kE,{label:t.label}),t.children)))}var XZ={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:la.line};function JE(t){var a=Vt(t,XZ);return g.createElement(g.Fragment,null,g.createElement(KZ,{yAxisId:a.yAxisId,xAxisId:a.xAxisId,ifOverflow:a.ifOverflow,x:a.x,y:a.y,segment:a.segment}),g.createElement(YZ,a))}JE.displayName="ReferenceLine";function eO(t,a){if(a<1)return[];if(a===1)return t;for(var r=[],s=0;s<t.length;s+=a)r.push(t[s]);return r}function WZ(t,a,r){var s={width:t.width+a.width,height:t.height+a.height};return DZ(s,r)}function ZZ(t,a,r){var s=r==="width",{x:i,y:c,width:o,height:u}=t;return a===1?{start:s?i:c,end:s?i+o:c+u}:{start:s?i+o:c+u,end:s?i:c}}function Px(t,a,r,s,i){if(t*a<t*s||t*a>t*i)return!1;var c=r();return t*(a-t*c/2-s)>=0&&t*(a+t*c/2-i)<=0}function QZ(t,a){return eO(t,a+1)}function JZ(t,a,r,s,i){for(var c=(s||[]).slice(),{start:o,end:u}=a,m=0,h=1,x=o,f=function(){var w=s?.[m];if(w===void 0)return{v:eO(s,h)};var N=m,y,_=()=>(y===void 0&&(y=r(w,N)),y),A=w.coordinate,C=m===0||Px(t,A,_,x,u);C||(m=0,x=o,h+=1),C&&(x=A+t*(_()/2+i),m+=h)},v;h<=c.length;)if(v=f(),v)return v.v;return[]}function J_(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function wa(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?J_(Object(r),!0).forEach(function(s){eQ(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J_(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function eQ(t,a,r){return(a=tQ(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function tQ(t){var a=aQ(t,"string");return typeof a=="symbol"?a:a+""}function aQ(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function rQ(t,a,r,s,i){for(var c=(s||[]).slice(),o=c.length,{start:u}=a,{end:m}=a,h=function(v){var b=c[v],w,N=()=>(w===void 0&&(w=r(b,v)),w);if(v===o-1){var y=t*(b.coordinate+t*N()/2-m);c[v]=b=wa(wa({},b),{},{tickCoord:y>0?b.coordinate-y*t:b.coordinate})}else c[v]=b=wa(wa({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var _=Px(t,b.tickCoord,N,u,m);_&&(m=b.tickCoord-t*(N()/2+i),c[v]=wa(wa({},b),{},{isShow:!0}))}},x=o-1;x>=0;x--)h(x);return c}function sQ(t,a,r,s,i,c){var o=(s||[]).slice(),u=o.length,{start:m,end:h}=a;if(c){var x=s[u-1],f=r(x,u-1),v=t*(x.coordinate+t*f/2-h);if(o[u-1]=x=wa(wa({},x),{},{tickCoord:v>0?x.coordinate-v*t:x.coordinate}),x.tickCoord!=null){var b=Px(t,x.tickCoord,()=>f,m,h);b&&(h=x.tickCoord-t*(f/2+i),o[u-1]=wa(wa({},x),{},{isShow:!0}))}}for(var w=c?u-1:u,N=function(A){var C=o[A],E,k=()=>(E===void 0&&(E=r(C,A)),E);if(A===0){var O=t*(C.coordinate-t*k()/2-m);o[A]=C=wa(wa({},C),{},{tickCoord:O<0?C.coordinate-O*t:C.coordinate})}else o[A]=C=wa(wa({},C),{},{tickCoord:C.coordinate});if(C.tickCoord!=null){var D=Px(t,C.tickCoord,k,m,h);D&&(m=C.tickCoord+t*(k()/2+i),o[A]=wa(wa({},C),{},{isShow:!0}))}},y=0;y<w;y++)N(y);return o}function uj(t,a,r){var{tick:s,ticks:i,viewBox:c,minTickGap:o,orientation:u,interval:m,tickFormatter:h,unit:x,angle:f}=t;if(!i||!i.length||!s)return[];if(Se(m)||Qi.isSsr){var v;return(v=QZ(i,Se(m)?m:0))!==null&&v!==void 0?v:[]}var b=[],w=u==="top"||u==="bottom"?"width":"height",N=x&&w==="width"?Uo(x,{fontSize:a,letterSpacing:r}):{width:0,height:0},y=(C,E)=>{var k=typeof h=="function"?h(C.value,E):C.value;return w==="width"?WZ(Uo(k,{fontSize:a,letterSpacing:r}),N,f):Uo(k,{fontSize:a,letterSpacing:r})[w]},_=i.length>=2?Aa(i[1].coordinate-i[0].coordinate):1,A=ZZ(c,_,w);return m==="equidistantPreserveStart"?JZ(_,A,y,i,o):(m==="preserveStart"||m==="preserveStartEnd"?b=sQ(_,A,y,i,o,m==="preserveStartEnd"):b=rQ(_,A,y,i,o),b.filter(C=>C.isShow))}var nQ=t=>{var{ticks:a,label:r,labelGapWithTick:s=5,tickSize:i=0,tickMargin:c=0}=t,o=0;if(a){Array.from(a).forEach(x=>{if(x){var f=x.getBoundingClientRect();f.width>o&&(o=f.width)}});var u=r?r.getBoundingClientRect().width:0,m=i+c,h=o+m+u+(r?s:0);return Math.round(h)}return 0},iQ=["axisLine","width","height","className","hide","ticks","axisType"];function lQ(t,a){if(t==null)return{};var r,s,i=cQ(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(s=0;s<c.length;s++)r=c[s],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function cQ(t,a){if(t==null)return{};var r={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(a.indexOf(s)!==-1)continue;r[s]=t[s]}return r}function Xi(){return Xi=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)({}).hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Xi.apply(null,arguments)}function e3(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function Ft(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?e3(Object(r),!0).forEach(function(s){oQ(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e3(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function oQ(t,a,r){return(a=dQ(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function dQ(t){var a=uQ(t,"string");return typeof a=="symbol"?a:a+""}function uQ(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}var an={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:la.axis};function mQ(t){var{x:a,y:r,width:s,height:i,orientation:c,mirror:o,axisLine:u,otherSvgProps:m}=t;if(!u)return null;var h=Ft(Ft(Ft({},m),Fr(u)),{},{fill:"none"});if(c==="top"||c==="bottom"){var x=+(c==="top"&&!o||c==="bottom"&&o);h=Ft(Ft({},h),{},{x1:a,y1:r+x*i,x2:a+s,y2:r+x*i})}else{var f=+(c==="left"&&!o||c==="right"&&o);h=Ft(Ft({},h),{},{x1:a+f*s,y1:r,x2:a+f*s,y2:r+i})}return g.createElement("line",Xi({},h,{className:Ge("recharts-cartesian-axis-line",Vi(u,"className"))}))}function xQ(t,a,r,s,i,c,o,u,m){var h,x,f,v,b,w,N=u?-1:1,y=t.tickSize||o,_=Se(t.tickCoord)?t.tickCoord:t.coordinate;switch(c){case"top":h=x=t.coordinate,v=r+ +!u*i,f=v-N*y,w=f-N*m,b=_;break;case"left":f=v=t.coordinate,x=a+ +!u*s,h=x-N*y,b=h-N*m,w=_;break;case"right":f=v=t.coordinate,x=a+ +u*s,h=x+N*y,b=h+N*m,w=_;break;default:h=x=t.coordinate,v=r+ +u*i,f=v+N*y,w=f+N*m,b=_;break}return{line:{x1:h,y1:f,x2:x,y2:v},tick:{x:b,y:w}}}function hQ(t,a){switch(t){case"left":return a?"start":"end";case"right":return a?"end":"start";default:return"middle"}}function pQ(t,a){switch(t){case"left":case"right":return"middle";case"top":return a?"start":"end";default:return a?"end":"start"}}function fQ(t){var{option:a,tickProps:r,value:s}=t,i,c=Ge(r.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(a))i=g.cloneElement(a,Ft(Ft({},r),{},{className:c}));else if(typeof a=="function")i=a(Ft(Ft({},r),{},{className:c}));else{var o="recharts-cartesian-axis-tick-value";typeof a!="boolean"&&(o=Ge(o,a?.className)),i=g.createElement(Dh,Xi({},r,{className:o}),s)}return i}var gQ=g.forwardRef((t,a)=>{var{ticks:r=[],tick:s,tickLine:i,stroke:c,tickFormatter:o,unit:u,padding:m,tickTextProps:h,orientation:x,mirror:f,x:v,y:b,width:w,height:N,tickSize:y,tickMargin:_,fontSize:A,letterSpacing:C,getTicksConfig:E,events:k,axisType:O}=t,D=uj(Ft(Ft({},E),{},{ticks:r}),A,C),P=hQ(x,f),L=pQ(x,f),z=Fr(E),M=ic(s),F={};typeof i=="object"&&(F=i);var q=Ft(Ft({},z),{},{fill:"none"},F),te=D.map(R=>Ft({entry:R},xQ(R,v,b,w,N,x,y,f,_))),W=te.map(R=>{var{entry:$,line:V}=R;return g.createElement(Ra,{className:"recharts-cartesian-axis-tick",key:"tick-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},i&&g.createElement("line",Xi({},q,V,{className:Ge("recharts-cartesian-axis-tick-line",Vi(i,"className"))})))}),H=te.map((R,$)=>{var{entry:V,tick:Z}=R,B=Ft(Ft(Ft(Ft({textAnchor:P,verticalAnchor:L},z),{},{stroke:"none",fill:c},M),Z),{},{index:$,payload:V,visibleTicksCount:D.length,tickFormatter:o,padding:m},h);return g.createElement(Ra,Xi({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(V.value,"-").concat(V.coordinate,"-").concat(V.tickCoord)},Iv(k,V,$)),s&&g.createElement(fQ,{option:s,tickProps:B,value:"".concat(typeof o=="function"?o(V.value,$):V.value).concat(u||"")}))});return g.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(O,"-ticks")},H.length>0&&g.createElement(Kr,{zIndex:la.label},g.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(O,"-tick-labels"),ref:a},H)),W.length>0&&g.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(O,"-tick-lines")},W))}),yQ=g.forwardRef((t,a)=>{var{axisLine:r,width:s,height:i,className:c,hide:o,ticks:u,axisType:m}=t,h=lQ(t,iQ),[x,f]=g.useState(""),[v,b]=g.useState(""),w=g.useRef(null);g.useImperativeHandle(a,()=>({getCalculatedWidth:()=>{var y;return nQ({ticks:w.current,label:(y=t.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var N=g.useCallback(y=>{if(y){var _=y.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=_;var A=_[0];if(A){var C=window.getComputedStyle(A),E=C.fontSize,k=C.letterSpacing;(E!==x||k!==v)&&(f(E),b(k))}}},[x,v]);return o||s!=null&&s<=0||i!=null&&i<=0?null:g.createElement(Kr,{zIndex:t.zIndex},g.createElement(Ra,{className:Ge("recharts-cartesian-axis",c)},g.createElement(mQ,{x:t.x,y:t.y,width:s,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:r,otherSvgProps:Fr(t)}),g.createElement(gQ,{ref:N,axisType:m,events:h,fontSize:x,getTicksConfig:t,height:t.height,letterSpacing:v,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),g.createElement(_E,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},g.createElement(kE,{label:t.label,labelRef:t.labelRef}),t.children)))}),mj=g.forwardRef((t,a)=>{var r=Vt(t,an);return g.createElement(yQ,Xi({},r,{ref:a}))});mj.displayName="CartesianAxis";var vQ=["x1","y1","x2","y2","key"],bQ=["offset"],jQ=["xAxisId","yAxisId"],NQ=["xAxisId","yAxisId"];function t3(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function Sa(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?t3(Object(r),!0).forEach(function(s){wQ(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t3(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function wQ(t,a,r){return(a=SQ(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function SQ(t){var a=_Q(t,"string");return typeof a=="symbol"?a:a+""}function _Q(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function zi(){return zi=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)({}).hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},zi.apply(null,arguments)}function zx(t,a){if(t==null)return{};var r,s,i=CQ(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(s=0;s<c.length;s++)r=c[s],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function CQ(t,a){if(t==null)return{};var r={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(a.indexOf(s)!==-1)continue;r[s]=t[s]}return r}var kQ=t=>{var{fill:a}=t;if(!a||a==="none")return null;var{fillOpacity:r,x:s,y:i,width:c,height:o,ry:u}=t;return g.createElement("rect",{x:s,y:i,ry:u,width:c,height:o,stroke:"none",fill:a,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function tO(t){var{option:a,lineItemProps:r}=t,s;if(g.isValidElement(a))s=g.cloneElement(a,r);else if(typeof a=="function")s=a(r);else{var i,{x1:c,y1:o,x2:u,y2:m,key:h}=r,x=zx(r,vQ),f=(i=Fr(x))!==null&&i!==void 0?i:{},{offset:v}=f,b=zx(f,bQ);s=g.createElement("line",zi({},b,{x1:c,y1:o,x2:u,y2:m,fill:"none",key:h}))}return s}function AQ(t){var{x:a,width:r,horizontal:s=!0,horizontalPoints:i}=t;if(!s||!i||!i.length)return null;var{xAxisId:c,yAxisId:o}=t,u=zx(t,jQ),m=i.map((h,x)=>{var f=Sa(Sa({},u),{},{x1:a,y1:h,x2:a+r,y2:h,key:"line-".concat(x),index:x});return g.createElement(tO,{key:"line-".concat(x),option:s,lineItemProps:f})});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},m)}function EQ(t){var{y:a,height:r,vertical:s=!0,verticalPoints:i}=t;if(!s||!i||!i.length)return null;var{xAxisId:c,yAxisId:o}=t,u=zx(t,NQ),m=i.map((h,x)=>{var f=Sa(Sa({},u),{},{x1:h,y1:a,x2:h,y2:a+r,key:"line-".concat(x),index:x});return g.createElement(tO,{option:s,lineItemProps:f,key:"line-".concat(x)})});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},m)}function OQ(t){var{horizontalFill:a,fillOpacity:r,x:s,y:i,width:c,height:o,horizontalPoints:u,horizontal:m=!0}=t;if(!m||!a||!a.length||u==null)return null;var h=u.map(f=>Math.round(f+i-i)).sort((f,v)=>f-v);i!==h[0]&&h.unshift(0);var x=h.map((f,v)=>{var b=!h[v+1],w=b?i+o-f:h[v+1]-f;if(w<=0)return null;var N=v%a.length;return g.createElement("rect",{key:"react-".concat(v),y:f,x:s,height:w,width:c,stroke:"none",fill:a[N],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},x)}function TQ(t){var{vertical:a=!0,verticalFill:r,fillOpacity:s,x:i,y:c,width:o,height:u,verticalPoints:m}=t;if(!a||!r||!r.length)return null;var h=m.map(f=>Math.round(f+i-i)).sort((f,v)=>f-v);i!==h[0]&&h.unshift(0);var x=h.map((f,v)=>{var b=!h[v+1],w=b?i+o-f:h[v+1]-f;if(w<=0)return null;var N=v%r.length;return g.createElement("rect",{key:"react-".concat(v),x:f,y:c,width:w,height:u,stroke:"none",fill:r[N],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},x)}var DQ=(t,a)=>{var{xAxis:r,width:s,height:i,offset:c}=t;return BC(uj(Sa(Sa(Sa({},an),r),{},{ticks:FC(r),viewBox:{x:0,y:0,width:s,height:i}})),c.left,c.left+c.width,a)},PQ=(t,a)=>{var{yAxis:r,width:s,height:i,offset:c}=t;return BC(uj(Sa(Sa(Sa({},an),r),{},{ticks:FC(r),viewBox:{x:0,y:0,width:s,height:i}})),c.top,c.top+c.height,a)},zQ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:la.grid};function Lh(t){var a=Kv(),r=Yv(),s=WC(),i=Sa(Sa({},Vt(t,zQ)),{},{x:Se(t.x)?t.x:s.left,y:Se(t.y)?t.y:s.top,width:Se(t.width)?t.width:s.width,height:Se(t.height)?t.height:s.height}),{xAxisId:c,yAxisId:o,x:u,y:m,width:h,height:x,syncWithTicks:f,horizontalValues:v,verticalValues:b}=i,w=La(),N=be(L=>KS(L,"xAxis",c,w)),y=be(L=>KS(L,"yAxis",o,w));if(!Ns(h)||!Ns(x)||!Se(u)||!Se(m))return null;var _=i.verticalCoordinatesGenerator||DQ,A=i.horizontalCoordinatesGenerator||PQ,{horizontalPoints:C,verticalPoints:E}=i;if((!C||!C.length)&&typeof A=="function"){var k=v&&v.length,O=A({yAxis:y?Sa(Sa({},y),{},{ticks:k?v:y.ticks}):void 0,width:a??h,height:r??x,offset:s},k?!0:f);lx(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(C=O)}if((!E||!E.length)&&typeof _=="function"){var D=b&&b.length,P=_({xAxis:N?Sa(Sa({},N),{},{ticks:D?b:N.ticks}):void 0,width:a??h,height:r??x,offset:s},D?!0:f);lx(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(E=P)}return g.createElement(Kr,{zIndex:i.zIndex},g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(kQ,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),g.createElement(OQ,zi({},i,{horizontalPoints:C})),g.createElement(TQ,zi({},i,{verticalPoints:E})),g.createElement(AQ,zi({},i,{offset:s,horizontalPoints:C,xAxis:N,yAxis:y})),g.createElement(EQ,zi({},i,{offset:s,verticalPoints:E,xAxis:N,yAxis:y}))))}Lh.displayName="CartesianGrid";var aO=(t,a,r,s)=>BA(t,"xAxis",a,s),rO=(t,a,r,s)=>$A(t,"xAxis",a,s),sO=(t,a,r,s)=>BA(t,"yAxis",r,s),nO=(t,a,r,s)=>$A(t,"yAxis",r,s),MQ=ae([it,aO,sO,rO,nO],(t,a,r,s,i)=>ri(t,"xAxis")?ix(a,s,!1):ix(r,i,!1)),RQ=(t,a,r,s,i)=>i;function LQ(t){return t.type==="line"}var IQ=ae([vA,RQ],(t,a)=>t.filter(LQ).find(r=>r.id===a)),$Q=ae([it,aO,sO,rO,nO,IQ,MQ,bb],(t,a,r,s,i,c,o,u)=>{var{chartData:m,dataStartIndex:h,dataEndIndex:x}=u;if(!(c==null||a==null||r==null||s==null||i==null||s.length===0||i.length===0||o==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:f,data:v}=c,b;if(v!=null&&v.length>0?b=v:b=m?.slice(h,x+1),b!=null)return iJ({layout:t,xAxis:a,yAxis:r,xAxisTicks:s,yAxisTicks:i,dataKey:f,bandSize:o,displayedData:b})}});function BQ(t){var a=ic(t),r=3,s=2;if(a!=null){var{r:i,strokeWidth:c}=a,o=Number(i),u=Number(c);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(u)||u<0)&&(u=s),{r:o,strokeWidth:u}}return{r,strokeWidth:s}}var FQ=["id"],UQ=["type","layout","connectNulls","needClip","shape"],qQ=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function ld(){return ld=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)({}).hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ld.apply(null,arguments)}function a3(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function gs(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?a3(Object(r),!0).forEach(function(s){HQ(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a3(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function HQ(t,a,r){return(a=VQ(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function VQ(t){var a=GQ(t,"string");return typeof a=="symbol"?a:a+""}function GQ(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function xj(t,a){if(t==null)return{};var r,s,i=KQ(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(s=0;s<c.length;s++)r=c[s],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function KQ(t,a){if(t==null)return{};var r={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(a.indexOf(s)!==-1)continue;r[s]=t[s]}return r}var YQ=t=>{var{dataKey:a,name:r,stroke:s,legendType:i,hide:c}=t;return[{inactive:c,dataKey:a,type:i,color:s,value:lh(r,a),payload:t}]},XQ=g.memo(t=>{var{dataKey:a,data:r,stroke:s,strokeWidth:i,fill:c,name:o,hide:u,unit:m,tooltipType:h}=t,x={dataDefinedOnItem:r,positions:void 0,settings:{stroke:s,strokeWidth:i,fill:c,dataKey:a,nameKey:void 0,name:lh(o,a),hide:u,type:h,color:s,unit:m}};return g.createElement(BE,{tooltipEntrySettings:x})}),iO=(t,a)=>"".concat(a,"px ").concat(t-a,"px");function WQ(t,a){for(var r=t.length%2!==0?[...t,0]:t,s=[],i=0;i<a;++i)s=[...s,...r];return s}var ZQ=(t,a,r)=>{var s=r.reduce((f,v)=>f+v);if(!s)return iO(a,t);for(var i=Math.floor(t/s),c=t%s,o=a-t,u=[],m=0,h=0;m<r.length;h+=r[m],++m)if(h+r[m]>c){u=[...r.slice(0,m),c-h];break}var x=u.length%2===0?[0,o]:[o];return[...WQ(r,i),...u,...x].map(f=>"".concat(f,"px")).join(", ")};function QQ(t){var{clipPathId:a,points:r,props:s}=t,{dot:i,dataKey:c,needClip:o}=s,{id:u}=s,m=xj(s,FQ),h=Fr(m);return g.createElement(EW,{points:r,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:c,baseProps:h,needClip:o,clipPathId:a})}function JQ(t){var{showLabels:a,children:r,points:s}=t,i=g.useMemo(()=>s?.map(c=>{var o,u,m={x:(o=c.x)!==null&&o!==void 0?o:0,y:(u=c.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return gs(gs({},m),{},{value:c.value,payload:c.payload,viewBox:m,parentViewBox:void 0,fill:void 0})}),[s]);return g.createElement(GY,{value:a?i:void 0},r)}function r3(t){var{clipPathId:a,pathRef:r,points:s,strokeDasharray:i,props:c}=t,{type:o,layout:u,connectNulls:m,needClip:h,shape:x}=c,f=xj(c,UQ),v=gs(gs({},Ea(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(a,")"):void 0,points:s,type:o,layout:u,connectNulls:m,strokeDasharray:i??c.strokeDasharray});return g.createElement(g.Fragment,null,s?.length>1&&g.createElement($E,ld({shapeType:"curve",option:x},v,{pathRef:r})),g.createElement(QQ,{points:s,clipPathId:a,props:c}))}function eJ(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function tJ(t){var{clipPathId:a,props:r,pathRef:s,previousPointsRef:i,longestAnimatedLengthRef:c}=t,{points:o,strokeDasharray:u,isAnimationActive:m,animationBegin:h,animationDuration:x,animationEasing:f,animateNewValues:v,width:b,height:w,onAnimationEnd:N,onAnimationStart:y}=r,_=i.current,A=ph(o,"recharts-line-"),C=g.useRef(A),[E,k]=g.useState(!1),O=!E,D=g.useCallback(()=>{typeof N=="function"&&N(),k(!1)},[N]),P=g.useCallback(()=>{typeof y=="function"&&y(),k(!0)},[y]),L=eJ(s.current),z=g.useRef(0);C.current!==A&&(z.current=c.current,C.current=A);var M=z.current;return g.createElement(JQ,{points:o,showLabels:O},r.children,g.createElement(hh,{animationId:A,begin:h,duration:x,isActive:m,easing:f,onAnimationEnd:D,onAnimationStart:P,key:A},F=>{var q=Ca(M,L+M,F),te=Math.min(q,L),W;if(m)if(u){var H="".concat(u).split(/[,\s]+/gim).map(V=>parseFloat(V));W=ZQ(te,L,H)}else W=iO(L,te);else W=u==null?void 0:String(u);if(F>0&&L>0&&(i.current=o,c.current=Math.max(c.current,te)),_){var R=_.length/o.length,$=F===1?o:o.map((V,Z)=>{var B=Math.floor(Z*R);if(_[B]){var K=_[B];return gs(gs({},V),{},{x:Ca(K.x,V.x,F),y:Ca(K.y,V.y,F)})}return v?gs(gs({},V),{},{x:Ca(b*2,V.x,F),y:Ca(w/2,V.y,F)}):gs(gs({},V),{},{x:V.x,y:V.y})});return i.current=$,g.createElement(r3,{props:r,points:$,clipPathId:a,pathRef:s,strokeDasharray:W})}return g.createElement(r3,{props:r,points:o,clipPathId:a,pathRef:s,strokeDasharray:W})}),g.createElement(OE,{label:r.label}))}function aJ(t){var{clipPathId:a,props:r}=t,s=g.useRef(null),i=g.useRef(0),c=g.useRef(null);return g.createElement(tJ,{props:r,clipPathId:a,previousPointsRef:s,longestAnimatedLengthRef:i,pathRef:c})}var rJ=(t,a)=>{var r,s;return{x:(r=t.x)!==null&&r!==void 0?r:void 0,y:(s=t.y)!==null&&s!==void 0?s:void 0,value:t.value,errorVal:bt(t.payload,a)}};class sJ extends g.Component{render(){var{hide:a,dot:r,points:s,className:i,xAxisId:c,yAxisId:o,top:u,left:m,width:h,height:x,id:f,needClip:v,zIndex:b}=this.props;if(a)return null;var w=Ge("recharts-line",i),N=f,{r:y,strokeWidth:_}=BQ(r),A=IE(r),C=y*2+_,E=v?"url(#clipPath-".concat(A?"":"dots-").concat(N,")"):void 0;return g.createElement(Kr,{zIndex:b},g.createElement(Ra,{className:w},v&&g.createElement("defs",null,g.createElement(sZ,{clipPathId:N,xAxisId:c,yAxisId:o}),!A&&g.createElement("clipPath",{id:"clipPath-dots-".concat(N)},g.createElement("rect",{x:m-C/2,y:u-C/2,width:h+C,height:x+C}))),g.createElement(rZ,{xAxisId:c,yAxisId:o,data:s,dataPointFormatter:rJ,errorBarOffset:0},g.createElement(aJ,{props:this.props,clipPathId:N}))),g.createElement(XW,{activeDot:this.props.activeDot,points:s,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:E}))}}var lO={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:la.line,type:"linear"};function nJ(t){var a=Vt(t,lO),{activeDot:r,animateNewValues:s,animationBegin:i,animationDuration:c,animationEasing:o,connectNulls:u,dot:m,hide:h,isAnimationActive:x,label:f,legendType:v,xAxisId:b,yAxisId:w,id:N}=a,y=xj(a,qQ),{needClip:_}=KE(b,w),A=oj(),C=mh(),E=La(),k=be(z=>$Q(z,b,w,E,N));if(C!=="horizontal"&&C!=="vertical"||k==null||A==null)return null;var{height:O,width:D,x:P,y:L}=A;return g.createElement(sJ,ld({},y,{id:N,connectNulls:u,dot:m,activeDot:r,animateNewValues:s,animationBegin:i,animationDuration:c,animationEasing:o,isAnimationActive:x,hide:h,label:f,legendType:v,xAxisId:b,yAxisId:w,points:k,layout:C,height:O,width:D,left:P,top:L,needClip:_}))}function iJ(t){var{layout:a,xAxis:r,yAxis:s,xAxisTicks:i,yAxisTicks:c,dataKey:o,bandSize:u,displayedData:m}=t;return m.map((h,x)=>{var f=bt(h,o);if(a==="horizontal"){var v=b6({axis:r,ticks:i,bandSize:u,entry:h,index:x}),b=Wt(f)?null:s.scale(f);return{x:v,y:b,value:f,payload:h}}var w=Wt(f)?null:r.scale(f),N=b6({axis:s,ticks:c,bandSize:u,entry:h,index:x});return w==null||N==null?null:{x:w,y:N,value:f,payload:h}}).filter(Boolean)}function lJ(t){var a=Vt(t,lO),r=La();return g.createElement(UE,{id:a.id,type:"line"},s=>g.createElement(g.Fragment,null,g.createElement(MX,{legendPayload:YQ(a)}),g.createElement(XQ,{dataKey:a.dataKey,data:a.data,stroke:a.stroke,strokeWidth:a.strokeWidth,fill:a.fill,name:a.name,hide:a.hide,unit:a.unit,tooltipType:a.tooltipType}),g.createElement(YX,{type:"line",id:s,data:a.data,xAxisId:a.xAxisId,yAxisId:a.yAxisId,zAxisId:0,dataKey:a.dataKey,hide:a.hide,isPanorama:r}),g.createElement(nJ,ld({},a,{id:s}))))}var rn=g.memo(lJ,dj);rn.displayName="Line";var cJ=["domain","range"],oJ=["domain","range"];function s3(t,a){if(t==null)return{};var r,s,i=dJ(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(s=0;s<c.length;s++)r=c[s],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function dJ(t,a){if(t==null)return{};var r={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(a.indexOf(s)!==-1)continue;r[s]=t[s]}return r}function n3(t,a){return t===a?!0:Array.isArray(t)&&t.length===2&&Array.isArray(a)&&a.length===2?t[0]===a[0]&&t[1]===a[1]:!1}function cO(t,a){if(t===a)return!0;var{domain:r,range:s}=t,i=s3(t,cJ),{domain:c,range:o}=a,u=s3(a,oJ);return!n3(r,c)||!n3(s,o)?!1:dj(i,u)}var uJ=["dangerouslySetInnerHTML","ticks"],mJ=["id"];function av(){return av=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)({}).hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},av.apply(null,arguments)}function i3(t,a){if(t==null)return{};var r,s,i=xJ(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(s=0;s<c.length;s++)r=c[s],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function xJ(t,a){if(t==null)return{};var r={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(a.indexOf(s)!==-1)continue;r[s]=t[s]}return r}function hJ(t){var a=ot(),r=g.useRef(null);return g.useLayoutEffect(()=>{r.current===null?a(zW(t)):r.current!==t&&a(MW({prev:r.current,next:t})),r.current=t},[t,a]),g.useLayoutEffect(()=>()=>{r.current&&(a(RW(r.current)),r.current=null)},[a]),null}var pJ=t=>{var{xAxisId:a,className:r}=t,s=be(VC),i=La(),c="xAxis",o=be(y=>ei(y,c,a,i)),u=be(y=>IA(y,c,a,i)),m=be(y=>wV(y,a)),h=be(y=>EV(y,a)),x=be(y=>fA(y,a));if(m==null||h==null||x==null)return null;var{dangerouslySetInnerHTML:f,ticks:v}=t,b=i3(t,uJ),{id:w}=x,N=i3(x,mJ);return g.createElement(mj,av({},b,N,{scale:o,x:h.x,y:h.y,width:m.width,height:m.height,className:Ge("recharts-".concat(c," ").concat(c),r),viewBox:s,ticks:u,axisType:c}))},fJ={allowDataOverflow:ra.allowDataOverflow,allowDecimals:ra.allowDecimals,allowDuplicatedCategory:ra.allowDuplicatedCategory,angle:ra.angle,axisLine:an.axisLine,height:ra.height,hide:!1,includeHidden:ra.includeHidden,interval:ra.interval,minTickGap:ra.minTickGap,mirror:ra.mirror,orientation:ra.orientation,padding:ra.padding,reversed:ra.reversed,scale:ra.scale,tick:ra.tick,tickCount:ra.tickCount,tickLine:an.tickLine,tickSize:an.tickSize,type:ra.type,xAxisId:0},gJ=t=>{var a=Vt(t,fJ);return g.createElement(g.Fragment,null,g.createElement(hJ,{allowDataOverflow:a.allowDataOverflow,allowDecimals:a.allowDecimals,allowDuplicatedCategory:a.allowDuplicatedCategory,angle:a.angle,dataKey:a.dataKey,domain:a.domain,height:a.height,hide:a.hide,id:a.xAxisId,includeHidden:a.includeHidden,interval:a.interval,minTickGap:a.minTickGap,mirror:a.mirror,name:a.name,orientation:a.orientation,padding:a.padding,reversed:a.reversed,scale:a.scale,tick:a.tick,tickCount:a.tickCount,tickFormatter:a.tickFormatter,ticks:a.ticks,type:a.type,unit:a.unit}),g.createElement(pJ,a))},Ih=g.memo(gJ,cO);Ih.displayName="XAxis";var yJ=["dangerouslySetInnerHTML","ticks"],vJ=["id"];function rv(){return rv=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)({}).hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},rv.apply(null,arguments)}function l3(t,a){if(t==null)return{};var r,s,i=bJ(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(s=0;s<c.length;s++)r=c[s],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function bJ(t,a){if(t==null)return{};var r={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(a.indexOf(s)!==-1)continue;r[s]=t[s]}return r}function jJ(t){var a=ot(),r=g.useRef(null);return g.useLayoutEffect(()=>{r.current===null?a(LW(t)):r.current!==t&&a(IW({prev:r.current,next:t})),r.current=t},[t,a]),g.useLayoutEffect(()=>()=>{r.current&&(a($W(r.current)),r.current=null)},[a]),null}var NJ=t=>{var{yAxisId:a,className:r,width:s,label:i}=t,c=g.useRef(null),o=g.useRef(null),u=be(VC),m=La(),h=ot(),x="yAxis",f=be(k=>ei(k,x,a,m)),v=be(k=>DV(k,a)),b=be(k=>TV(k,a)),w=be(k=>IA(k,x,a,m)),N=be(k=>gA(k,a));if(g.useLayoutEffect(()=>{if(!(s!=="auto"||!v||ij(i)||g.isValidElement(i)||N==null)){var k=c.current;if(k){var O=k.getCalculatedWidth();Math.round(v.width)!==Math.round(O)&&h(BW({id:a,width:O}))}}},[w,v,h,i,a,s,N]),v==null||b==null||N==null)return null;var{dangerouslySetInnerHTML:y,ticks:_}=t,A=l3(t,yJ),{id:C}=N,E=l3(N,vJ);return g.createElement(mj,rv({},A,E,{ref:c,labelRef:o,scale:f,x:b.x,y:b.y,tickTextProps:s==="auto"?{width:void 0}:{width:s},width:v.width,height:v.height,className:Ge("recharts-".concat(x," ").concat(x),r),viewBox:u,ticks:w,axisType:x}))},wJ={allowDataOverflow:sa.allowDataOverflow,allowDecimals:sa.allowDecimals,allowDuplicatedCategory:sa.allowDuplicatedCategory,angle:sa.angle,axisLine:an.axisLine,hide:!1,includeHidden:sa.includeHidden,interval:sa.interval,minTickGap:sa.minTickGap,mirror:sa.mirror,orientation:sa.orientation,padding:sa.padding,reversed:sa.reversed,scale:sa.scale,tick:sa.tick,tickCount:sa.tickCount,tickLine:an.tickLine,tickSize:an.tickSize,type:sa.type,width:sa.width,yAxisId:0},SJ=t=>{var a=Vt(t,wJ);return g.createElement(g.Fragment,null,g.createElement(jJ,{interval:a.interval,id:a.yAxisId,scale:a.scale,type:a.type,domain:a.domain,allowDataOverflow:a.allowDataOverflow,dataKey:a.dataKey,allowDuplicatedCategory:a.allowDuplicatedCategory,allowDecimals:a.allowDecimals,tickCount:a.tickCount,padding:a.padding,includeHidden:a.includeHidden,reversed:a.reversed,ticks:a.ticks,width:a.width,orientation:a.orientation,mirror:a.mirror,hide:a.hide,unit:a.unit,name:a.name,angle:a.angle,minTickGap:a.minTickGap,tick:a.tick,tickFormatter:a.tickFormatter}),g.createElement(NJ,a))},$h=g.memo(SJ,cO);$h.displayName="YAxis";var _J=(t,a)=>a,hj=ae([_J,it,xA,Qt,aE,gn,YG,da],tK),pj=t=>{var a=t.currentTarget.getBoundingClientRect(),r=a.width/t.currentTarget.offsetWidth,s=a.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-a.left)/r),chartY:Math.round((t.clientY-a.top)/s)}},oO=Hr("mouseClick"),dO=Nd();dO.startListening({actionCreator:oO,effect:(t,a)=>{var r=t.payload,s=hj(a.getState(),pj(r));s?.activeIndex!=null&&a.dispatch(GV({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}});var sv=Hr("mouseMove"),uO=Nd(),jm=null;uO.startListening({actionCreator:sv,effect:(t,a)=>{var r=t.payload;jm!==null&&cancelAnimationFrame(jm);var s=pj(r);jm=requestAnimationFrame(()=>{var i=a.getState(),c=Wb(i,i.tooltip.settings.shared);if(c==="axis"){var o=hj(i,s);o?.activeIndex!=null?a.dispatch(YA({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):a.dispatch(KA())}jm=null})}});var c3={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},mO=ar({name:"rootProps",initialState:c3,reducers:{updateOptions:(t,a)=>{var r;t.accessibilityLayer=a.payload.accessibilityLayer,t.barCategoryGap=a.payload.barCategoryGap,t.barGap=(r=a.payload.barGap)!==null&&r!==void 0?r:c3.barGap,t.barSize=a.payload.barSize,t.maxBarSize=a.payload.maxBarSize,t.stackOffset=a.payload.stackOffset,t.syncId=a.payload.syncId,t.syncMethod=a.payload.syncMethod,t.className=a.payload.className,t.baseValue=a.payload.baseValue,t.reverseStackOrder=a.payload.reverseStackOrder}}}),CJ=mO.reducer,{updateOptions:kJ}=mO.actions,xO=ar({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,a)=>a.payload}}),{updatePolarOptions:AJ}=xO.actions,EJ=xO.reducer,hO=Hr("keyDown"),pO=Hr("focus"),fj=Nd();fj.startListening({actionCreator:hO,effect:(t,a)=>{var r=a.getState(),s=r.rootProps.accessibilityLayer!==!1;if(s){var{keyboardInteraction:i}=r.tooltip,c=t.payload;if(!(c!=="ArrowRight"&&c!=="ArrowLeft"&&c!=="Enter")){var o=Zb(i,kc(r),Pd(r),Ld(r)),u=o==null?-1:Number(o);if(!(!Number.isFinite(u)||u<0)){var m=gn(r);if(c==="Enter"){var h=Cx(r,"axis","hover",String(i.index));a.dispatch(Wy({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:h}));return}var x=RV(r),f=x==="left-to-right"?1:-1,v=c==="ArrowRight"?1:-1,b=u+v*f;if(!(m==null||b>=m.length||b<0)){var w=Cx(r,"axis","hover",String(b));a.dispatch(Wy({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}}});fj.startListening({actionCreator:pO,effect:(t,a)=>{var r=a.getState(),s=r.rootProps.accessibilityLayer!==!1;if(s){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var c="0",o=Cx(r,"axis","hover",String(c));a.dispatch(Wy({activeDataKey:void 0,active:!0,activeIndex:c,activeCoordinate:o}))}}}});var Rr=Hr("externalEvent"),fO=Nd(),Yg=new Map;fO.startListening({actionCreator:Rr,effect:(t,a)=>{var{handler:r,reactEvent:s}=t.payload;if(r!=null){s.persist();var i=s.type,c=Yg.get(i);c!==void 0&&cancelAnimationFrame(c);var o=requestAnimationFrame(()=>{try{var u=a.getState(),m={activeCoordinate:DG(u),activeDataKey:OG(u),activeIndex:mc(u),activeLabel:nE(u),activeTooltipIndex:mc(u),isTooltipActive:PG(u)};r(m,s)}finally{Yg.delete(i)}});Yg.set(i,o)}}});var OJ=ae([Cc],t=>t.tooltipItemPayloads),TJ=ae([OJ,Md,(t,a,r)=>a,(t,a,r)=>r],(t,a,r,s)=>{var i=t.find(u=>u.settings.dataKey===s);if(i!=null){var{positions:c}=i;if(c!=null){var o=a(c,r);return o}}}),gO=Hr("touchMove"),yO=Nd();yO.startListening({actionCreator:gO,effect:(t,a)=>{var r=t.payload;if(!(r.touches==null||r.touches.length===0)){var s=a.getState(),i=Wb(s,s.tooltip.settings.shared);if(i==="axis"){var c=hj(s,pj({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));c?.activeIndex!=null&&a.dispatch(YA({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(i==="item"){var o,u=r.touches[0];if(document.elementFromPoint==null)return;var m=document.elementFromPoint(u.clientX,u.clientY);if(!m||!m.getAttribute)return;var h=m.getAttribute(qC),x=(o=m.getAttribute(HC))!==null&&o!==void 0?o:void 0,f=TJ(a.getState(),h,x);a.dispatch(GA({activeDataKey:x,activeIndex:h,activeCoordinate:f}))}}}});var DJ=hC({brush:_Z,cartesianAxis:FW,chartData:DK,errorBars:ZW,graphicalItems:GX,layout:g$,legend:uB,options:kK,polarAxis:rX,polarOptions:EJ,referenceElements:RZ,rootProps:CJ,tooltip:KV,zIndex:pK}),PJ=function(a){return UI({reducer:DJ,preloadedState:a,middleware:r=>{var s;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((s="es6")!==null&&s!==void 0?s:"")}).concat([dO.middleware,uO.middleware,fj.middleware,fO.middleware,yO.middleware])},enhancers:r=>{var s=r;return typeof r=="function"&&(s=r()),s.concat(CC({type:"raf"}))},devTools:Qi.devToolsEnabled})};function vO(t){var{preloadedState:a,children:r,reduxStoreName:s}=t,i=La(),c=g.useRef(null);if(i)return r;c.current==null&&(c.current=PJ(a));var o=Bv;return g.createElement(NZ,{context:o,store:c.current},r)}function zJ(t){var{layout:a,margin:r}=t,s=ot(),i=La();return g.useEffect(()=>{i||(s(h$(a)),s(x$(r)))},[s,i,a,r]),null}var bO=g.memo(zJ,dj);function jO(t){var a=ot();return g.useEffect(()=>{a(kJ(t))},[a,t]),null}function o3(t){var{zIndex:a,isPanorama:r}=t,s=r?"recharts-zindex-panorama-":"recharts-zindex-",i=FE("".concat(s).concat(a)),c=ot();return g.useLayoutEffect(()=>(c(xK({zIndex:a,elementId:i,isPanorama:r})),()=>{c(hK({zIndex:a,isPanorama:r}))}),[c,a,i,r]),g.createElement("g",{id:i})}function d3(t){var{children:a,isPanorama:r}=t,s=be(rK);if(!s||s.length===0)return a;var i=s.filter(o=>o<0),c=s.filter(o=>o>0);return g.createElement(g.Fragment,null,i.map(o=>g.createElement(o3,{key:o,zIndex:o,isPanorama:r})),a,c.map(o=>g.createElement(o3,{key:o,zIndex:o,isPanorama:r})))}var MJ=["children"];function RJ(t,a){if(t==null)return{};var r,s,i=LJ(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(s=0;s<c.length;s++)r=c[s],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function LJ(t,a){if(t==null)return{};var r={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(a.indexOf(s)!==-1)continue;r[s]=t[s]}return r}function Mx(){return Mx=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)({}).hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Mx.apply(null,arguments)}var IJ={width:"100%",height:"100%",display:"block"},$J=g.forwardRef((t,a)=>{var r=Kv(),s=Yv(),i=ak();if(!Ns(r)||!Ns(s))return null;var{children:c,otherAttributes:o,title:u,desc:m}=t,h,x;return o!=null&&(typeof o.tabIndex=="number"?h=o.tabIndex:h=i?0:void 0,typeof o.role=="string"?x=o.role:x=i?"application":void 0),g.createElement(Ev,Mx({},o,{title:u,desc:m,role:x,tabIndex:h,width:r,height:s,style:IJ,ref:a}),c)}),BJ=t=>{var{children:a}=t,r=be(uh);if(!r)return null;var{width:s,height:i,y:c,x:o}=r;return g.createElement(Ev,{width:s,height:i,x:o,y:c},a)},u3=g.forwardRef((t,a)=>{var{children:r}=t,s=RJ(t,MJ),i=La();return i?g.createElement(BJ,null,g.createElement(d3,{isPanorama:!0},r)):g.createElement($J,Mx({ref:a},s),g.createElement(d3,{isPanorama:!1},r))});function FJ(){var t=ot(),[a,r]=g.useState(null),s=be(D$);return g.useEffect(()=>{if(a!=null){var i=a.getBoundingClientRect(),c=i.width/a.offsetWidth;Tt(c)&&c!==s&&t(f$(c))}},[a,t,s]),r}function m3(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function UJ(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?m3(Object(r),!0).forEach(function(s){qJ(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m3(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function qJ(t,a,r){return(a=HJ(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function HJ(t){var a=VJ(t,"string");return typeof a=="symbol"?a:a+""}function VJ(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function Wi(){return Wi=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)({}).hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Wi.apply(null,arguments)}var GJ=()=>(FK(),null);function Rx(t){if(typeof t=="number")return t;if(typeof t=="string"){var a=parseFloat(t);if(!Number.isNaN(a))return a}return 0}var KJ=g.forwardRef((t,a)=>{var r,s,i=g.useRef(null),[c,o]=g.useState({containerWidth:Rx((r=t.style)===null||r===void 0?void 0:r.width),containerHeight:Rx((s=t.style)===null||s===void 0?void 0:s.height)}),u=g.useCallback((h,x)=>{o(f=>{var v=Math.round(h),b=Math.round(x);return f.containerWidth===v&&f.containerHeight===b?f:{containerWidth:v,containerHeight:b}})},[]),m=g.useCallback(h=>{if(typeof a=="function"&&a(h),h!=null&&typeof ResizeObserver<"u"){var{width:x,height:f}=h.getBoundingClientRect();u(x,f);var v=w=>{var{width:N,height:y}=w[0].contentRect;u(N,y)},b=new ResizeObserver(v);b.observe(h),i.current=b}},[a,u]);return g.useEffect(()=>()=>{var h=i.current;h?.disconnect()},[u]),g.createElement(g.Fragment,null,g.createElement(xh,{width:c.containerWidth,height:c.containerHeight}),g.createElement("div",Wi({ref:m},t)))}),YJ=g.forwardRef((t,a)=>{var{width:r,height:s}=t,[i,c]=g.useState({containerWidth:Rx(r),containerHeight:Rx(s)}),o=g.useCallback((m,h)=>{c(x=>{var f=Math.round(m),v=Math.round(h);return x.containerWidth===f&&x.containerHeight===v?x:{containerWidth:f,containerHeight:v}})},[]),u=g.useCallback(m=>{if(typeof a=="function"&&a(m),m!=null){var{width:h,height:x}=m.getBoundingClientRect();o(h,x)}},[a,o]);return g.createElement(g.Fragment,null,g.createElement(xh,{width:i.containerWidth,height:i.containerHeight}),g.createElement("div",Wi({ref:u},t)))}),XJ=g.forwardRef((t,a)=>{var{width:r,height:s}=t;return g.createElement(g.Fragment,null,g.createElement(xh,{width:r,height:s}),g.createElement("div",Wi({ref:a},t)))}),WJ=g.forwardRef((t,a)=>{var{width:r,height:s}=t;return ln(r)||ln(s)?g.createElement(YJ,Wi({},t,{ref:a})):g.createElement(XJ,Wi({},t,{ref:a}))});function ZJ(t){return t===!0?KJ:WJ}var QJ=g.forwardRef((t,a)=>{var{children:r,className:s,height:i,onClick:c,onContextMenu:o,onDoubleClick:u,onMouseDown:m,onMouseEnter:h,onMouseLeave:x,onMouseMove:f,onMouseUp:v,onTouchEnd:b,onTouchMove:w,onTouchStart:N,style:y,width:_,responsive:A,dispatchTouchEvents:C=!0}=t,E=g.useRef(null),k=ot(),[O,D]=g.useState(null),[P,L]=g.useState(null),z=FJ(),M=Gv(),F=M?.width>0?M.width:_,q=M?.height>0?M.height:i,te=g.useCallback(re=>{z(re),typeof a=="function"&&a(re),D(re),L(re),re!=null&&(E.current=re)},[z,a,D,L]),W=g.useCallback(re=>{k(oO(re)),k(Rr({handler:c,reactEvent:re}))},[k,c]),H=g.useCallback(re=>{k(sv(re)),k(Rr({handler:h,reactEvent:re}))},[k,h]),R=g.useCallback(re=>{k(KA()),k(Rr({handler:x,reactEvent:re}))},[k,x]),$=g.useCallback(re=>{k(sv(re)),k(Rr({handler:f,reactEvent:re}))},[k,f]),V=g.useCallback(()=>{k(pO())},[k]),Z=g.useCallback(re=>{k(hO(re.key))},[k]),B=g.useCallback(re=>{k(Rr({handler:o,reactEvent:re}))},[k,o]),K=g.useCallback(re=>{k(Rr({handler:u,reactEvent:re}))},[k,u]),Y=g.useCallback(re=>{k(Rr({handler:m,reactEvent:re}))},[k,m]),ie=g.useCallback(re=>{k(Rr({handler:v,reactEvent:re}))},[k,v]),xe=g.useCallback(re=>{k(Rr({handler:N,reactEvent:re}))},[k,N]),he=g.useCallback(re=>{C&&k(gO(re)),k(Rr({handler:w,reactEvent:re}))},[k,C,w]),ye=g.useCallback(re=>{k(Rr({handler:b,reactEvent:re}))},[k,b]),Ce=ZJ(A);return g.createElement(mE.Provider,{value:O},g.createElement(O5.Provider,{value:P},g.createElement(Ce,{width:F??y?.width,height:q??y?.height,className:Ge("recharts-wrapper",s),style:UJ({position:"relative",cursor:"default",width:F,height:q},y),onClick:W,onContextMenu:B,onDoubleClick:K,onFocus:V,onKeyDown:Z,onMouseDown:Y,onMouseEnter:H,onMouseLeave:R,onMouseMove:$,onMouseUp:ie,onTouchEnd:ye,onTouchMove:he,onTouchStart:xe,ref:te},g.createElement(GJ,null),r)))}),JJ=["width","height","responsive","children","className","style","compact","title","desc"];function eee(t,a){if(t==null)return{};var r,s,i=tee(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(s=0;s<c.length;s++)r=c[s],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function tee(t,a){if(t==null)return{};var r={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(a.indexOf(s)!==-1)continue;r[s]=t[s]}return r}var NO=g.forwardRef((t,a)=>{var{width:r,height:s,responsive:i,children:c,className:o,style:u,compact:m,title:h,desc:x}=t,f=eee(t,JJ),v=Fr(f);return m?g.createElement(g.Fragment,null,g.createElement(xh,{width:r,height:s}),g.createElement(u3,{otherAttributes:v,title:h,desc:x},c)):g.createElement(QJ,{className:o,style:u,width:r,height:s,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},g.createElement(u3,{otherAttributes:v,title:h,desc:x,ref:a},g.createElement(LZ,null,c)))});function nv(){return nv=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)({}).hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},nv.apply(null,arguments)}var aee={top:5,right:5,bottom:5,left:5},ree={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:aee,reverseStackOrder:!1,syncMethod:"index",responsive:!1},see=g.forwardRef(function(a,r){var s,i=Vt(a.categoricalChartProps,ree),{chartName:c,defaultTooltipEventType:o,validateTooltipEventTypes:u,tooltipPayloadSearcher:m,categoricalChartProps:h}=a,x={chartName:c,defaultTooltipEventType:o,validateTooltipEventTypes:u,tooltipPayloadSearcher:m,eventEmitter:void 0};return g.createElement(vO,{preloadedState:{options:x},reduxStoreName:(s=h.id)!==null&&s!==void 0?s:c},g.createElement(YE,{chartData:h.data}),g.createElement(bO,{layout:i.layout,margin:i.margin}),g.createElement(jO,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),g.createElement(NO,nv({},i,{ref:r})))}),nee=["axis"],gj=g.forwardRef((t,a)=>g.createElement(see,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:nee,tooltipPayloadSearcher:xE,categoricalChartProps:t,ref:a}));function iee(t){var a=ot();return g.useEffect(()=>{a(AJ(t))},[a,t]),null}var lee=["layout"];function iv(){return iv=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)({}).hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},iv.apply(null,arguments)}function cee(t,a){if(t==null)return{};var r,s,i=oee(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(s=0;s<c.length;s++)r=c[s],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function oee(t,a){if(t==null)return{};var r={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(a.indexOf(s)!==-1)continue;r[s]=t[s]}return r}var dee={top:5,right:5,bottom:5,left:5},uee={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:dee,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},mee=g.forwardRef(function(a,r){var s,i=Vt(a.categoricalChartProps,uee),{layout:c}=i,o=cee(i,lee),{chartName:u,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:x}=a,f={chartName:u,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:x,eventEmitter:void 0};return g.createElement(vO,{preloadedState:{options:f},reduxStoreName:(s=i.id)!==null&&s!==void 0?s:u},g.createElement(YE,{chartData:i.data}),g.createElement(bO,{layout:c,margin:i.margin}),g.createElement(jO,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),g.createElement(iee,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),g.createElement(NO,iv({},o,{ref:r})))}),xee=["item"],hee={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},pee=g.forwardRef((t,a)=>{var r=Vt(t,hee);return g.createElement(mee,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:xee,tooltipPayloadSearcher:xE,categoricalChartProps:r,ref:a})});function wO({isOpen:t,onClose:a,onSelect:r,title:s="Select Project",description:i="Choose a project to continue"}){const{projects:c,activeProject:o,setActiveProject:u,loading:m,refreshProjects:h}=Nv(),[x,f]=g.useState(""),v=Be();g.useEffect(()=>{t&&c.length===0&&!m&&h()},[t]);const b=c.filter(y=>y.name.toLowerCase().includes(x.toLowerCase())),w=y=>{u(y),r&&r(y.id),a()},N=()=>{v("/projects"),a()};return t?e.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:a}),e.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:e.jsxs("div",{className:"relative w-full max-w-2xl bg-white rounded-lg shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:i})]}),e.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ht,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"relative",children:[e.jsx(Oa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",value:x,onChange:y=>f(y.target.value),placeholder:"Search projects...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",autoFocus:!0})]})}),e.jsx("div",{className:"px-6 py-4 max-h-96 overflow-y-auto",children:m?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Loading projects..."})]})}):b.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ko,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 mb-2",children:x?"No projects found":"No projects yet"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:x?"Try a different search term":"Create your first project to get started"}),e.jsxs("button",{onClick:N,className:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[e.jsx(wt,{className:"w-4 h-4"}),"Create Project"]})]}):e.jsx("div",{className:"space-y-2",children:b.map(y=>{const _=o?.id===y.id;return e.jsx("button",{onClick:()=>w(y),className:`w-full text-left p-4 rounded-lg border-2 transition-all ${_?"border-indigo-600 bg-indigo-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:y.color||"#6366f1"},children:e.jsx(Ko,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-medium text-gray-900 truncate",children:y.name}),y.description&&e.jsx("p",{className:"text-sm text-gray-600 truncate mt-0.5",children:y.description}),y.status&&e.jsx("span",{className:`inline-block text-xs px-2 py-0.5 rounded mt-1 ${y.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:y.status})]})]}),_&&e.jsx(Me,{className:"w-5 h-5 text-indigo-600 flex-shrink-0"})]})},y.id)})})}),e.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 px-6 py-4 bg-gray-50 rounded-b-lg",children:[e.jsx("button",{onClick:N,className:"text-sm text-indigo-600 hover:text-indigo-700 font-medium",children:"+ Create New Project"}),e.jsx("button",{onClick:a,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors",children:"Cancel"})]})]})})]}):null}function fee(){const{activeProject:t,projects:a}=Nv(),[r,s]=g.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"px-4 pb-4 border-b border-gray-200",children:[e.jsxs("button",{onClick:()=>s(!0),className:"w-full flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors group",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:"w-8 h-8 rounded-md flex items-center justify-center flex-shrink-0",style:{backgroundColor:t?.color||"#6366f1"},children:e.jsx(Ko,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"text-left flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:"Active Project"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t?.name||"No project selected"})]})]}),e.jsx(yd,{className:"w-4 h-4 text-gray-400 group-hover:text-gray-600 flex-shrink-0"})]}),a.length===0&&!t&&e.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"No projects yet. Create one to get started."})]}),e.jsx(wO,{isOpen:r,onClose:()=>s(!1),title:"Switch Project",description:"Select a project to work on"})]})}const gee=[{name:"Panou Control",path:"/dashboard",icon:Vl},{name:"Contabilitate",path:"/accounting",icon:Io,children:[{name:"Facturi",path:"/invoices",icon:Ze},{name:"Facturi Recurente",path:"/recurring-invoices",icon:J2},{name:"Chitane",path:"/bills",icon:Sv},{name:"Cheltuieli",path:"/expenses",icon:Gm},{name:"Pli",path:"/payments",icon:Ht},{name:"Jurnal Contabil",path:"/accounting/journal-entries",icon:za},{name:"Registru General",path:"/accounting/general-ledger",icon:_5},{name:"Plan Conturi",path:"/accounting/chart-of-accounts",icon:ff},{name:"Active Fixe",path:"/accounting/fixed-assets",icon:Li}]},{name:"e-Factura",path:"/efactura",icon:hy,children:[{name:"Facturi Primite",path:"/efactura/received",icon:jz},{name:"ncrcare n Lot",path:"/efactura/batch-upload",icon:Xo},{name:"Analize e-Factura",path:"/efactura/analytics",icon:Za},{name:"Setri e-Factura",path:"/efactura/settings",icon:Wn}]},{name:"Rapoarte Financiare",path:"/reports",icon:Ue,children:[{name:"Panou Rapoarte",path:"/reports",icon:Vl},{name:"Profit & Pierdere",path:"/reports/profit-loss",icon:QP},{name:"Cash Flow",path:"/reports/cash-flow",icon:en},{name:"Buget vs Realizat",path:"/reports/budget-vs-actual",icon:W2}]},{name:"Chitane OCR",path:"/receipts",icon:vM,children:[{name:"ncrcare Chitane",path:"/receipts/upload",icon:Xo},{name:"Lista Chitane",path:"/receipts/list",icon:Gm},{name:"abloane OCR",path:"/receipts/templates",icon:dy}]},{name:"Banking",path:"/bank",icon:zz,children:[{name:"Conturi Bancare",path:"/bank/connections",icon:Li},{name:"Tranzacii",path:"/bank/transactions",icon:X2}]},{name:"Inventar",path:"/inventory",icon:_t,children:[{name:"Panou Inventar",path:"/inventory",icon:Vl},{name:"Produse",path:"/inventory/products",icon:_t},{name:"Depozite",path:"/inventory/warehouses",icon:nn},{name:"Niveluri Stoc",path:"/inventory/stock-levels",icon:Za},{name:"Micri Stoc",path:"/inventory/movements",icon:X2},{name:"Ajustri Stoc",path:"/inventory/adjustments",icon:W2},{name:"Transferuri Stoc",path:"/inventory/transfers",icon:J2},{name:"Alerte Stoc Sczut",path:"/inventory/low-stock",icon:hy},{name:"Comenzi Achiziie",path:"/purchase-orders",icon:Rm}]},{name:"Vnzri & CRM",path:"/sales",icon:js,children:[{name:"Panou CRM",path:"/crm",icon:Vl},{name:"Contacte",path:"/contacts",icon:ka},{name:"Oportuniti",path:"/crm/opportunities",icon:js},{name:"Oferte",path:"/crm/quotations",icon:Ze}]},{name:"Management Proiecte",path:"/management",icon:Ko,children:[{name:"Panou Proiecte",path:"/projects",icon:Ko},{name:"Sprint-uri",path:"/sprints",icon:$z},{name:"Planificare Sprint",path:"/sprints/planning",icon:Az},{name:"Vizualizare Gantt",path:"/gantt",icon:TP},{name:"Pontaj Timp",path:"/time-tracking",icon:fr},{name:"Intrri Timp",path:"/time/entries",icon:fr}]},{name:"Resurse Umane",path:"/hr",icon:ka,children:[{name:"Angajai",path:"/hr/employees",icon:qM},{name:"Stat de Plat",path:"/dashboard/payroll",icon:Ht},{name:"Calendar Fiscal",path:"/dashboard/fiscal-calendar",icon:nt}]},{name:"Analize & BI",path:"/analysis",icon:Za,children:[{name:"Panou Analize",path:"/analytics",icon:Za},{name:"Insight-uri AI",path:"/insights",icon:Mm}]},{name:"Asisten AI",path:"/ai-assistance",icon:Wa,children:[{name:"Consultant Business",path:"/business-consultant",icon:Wa},{name:"Consultant Fiscal",path:"/fiscal-law",icon:xy},{name:"Arbori de Decizie",path:"/decision-trees",icon:ff}]},{name:"Educaie",path:"/education",icon:Z2,children:[{name:"Cursuri Disponibile",path:"/courses",icon:za},{name:"Cursurile Mele",path:"/my-courses",icon:Z2},{name:"Tutoriale & Ghiduri",path:"/tutorials",icon:za}]},{name:"Comunitate",path:"/community",icon:Vm,children:[{name:"Forum",path:"/forum",icon:Vm}]},{name:"Abonament",path:"/subscription",icon:xz,children:[{name:"Panou Abonament",path:"/subscription",icon:Vl},{name:"Planuri & Preuri",path:"/subscription/plans",icon:e4},{name:"Istoric Facturare",path:"/subscription/billing",icon:mM}]},{name:"Setri",path:"/settings",icon:Wn,children:[{name:"Setri Generale",path:"/settings",icon:Wn},{name:"Categorii Cheltuieli",path:"/settings/categories",icon:ff},{name:"Coduri TVA",path:"/settings/tax-codes",icon:e4},{name:"Context Personal",path:"/personal-context",icon:oy}]}],yee=[{name:"Actualizri Arbori",path:"/admin/decision-tree-updates",icon:kv}],lv=({isOpen:t=!0,onClose:a})=>{const r=Ss(),{logout:s,user:i}=Ct(),[c,o]=g.useState(["Contabilitate"]),u=()=>{a&&a()},m=h=>{o(x=>x.includes(h)?x.filter(f=>f!==h):[...x,h])};return e.jsxs(e.Fragment,{children:[t&&a&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:a}),e.jsxs("div",{className:`
        fixed lg:static inset-y-0 left-0 z-50
        w-64 bg-white border-r border-gray-200 h-screen flex flex-col
        transform transition-transform duration-300 ease-in-out
        ${t?"translate-x-0":"-translate-x-full lg:translate-x-0"}
      `,children:[a&&e.jsx("button",{onClick:a,className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-gray-600 lg:hidden",children:e.jsx(ht,{className:"w-6 h-6"})}),e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs(Ne,{to:"/dashboard",className:"flex items-center gap-2",onClick:u,children:[e.jsx("div",{className:"w-10 h-10 bg-primary-600 rounded-lg flex items-center justify-center",children:e.jsx(Vl,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-bold text-lg text-gray-900",children:"DocumentIulia"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Contabilitate AI"})]})]})}),e.jsx("div",{className:"pt-4",children:e.jsx(fee,{})}),e.jsxs("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:[gee.map(h=>{const x=h.icon,f=h.children&&h.children.length>0,v=c.includes(h.name),b=r.pathname===h.path||h.path==="/inventory"&&r.pathname.startsWith("/inventory")||h.path==="/crm"&&r.pathname.startsWith("/crm")||h.path==="/purchase-orders"&&r.pathname.startsWith("/purchase-orders")||h.path==="/projects"&&r.pathname.startsWith("/projects")||h.path==="/management"&&(r.pathname.startsWith("/projects")||r.pathname.startsWith("/sprints")||r.pathname.startsWith("/gantt"))||h.path==="/time-tracking"&&r.pathname.startsWith("/time")||h.path==="/analytics"&&r.pathname.startsWith("/analytics")||h.path==="/accounting"&&r.pathname.startsWith("/accounting")||h.path==="/hr"&&r.pathname.startsWith("/dashboard/payroll")||h.path==="/hr"&&r.pathname.startsWith("/dashboard/fiscal-calendar");if(f){const w=v?yd:vc;return e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>m(h.name),className:`flex items-center justify-between w-full px-4 py-3 rounded-lg transition-colors ${b?"bg-primary-50 text-primary-700 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(x,{className:`w-5 h-5 ${b?"text-primary-700":"text-gray-400"}`}),e.jsx("span",{children:h.name})]}),e.jsx(w,{className:"w-4 h-4 text-gray-400"})]}),v&&e.jsx("div",{className:"ml-6 mt-1 space-y-1",children:h.children?.map(N=>{const y=N.icon,_=r.pathname===N.path;return e.jsxs(Ne,{to:N.path,onClick:u,className:`flex items-center gap-3 px-4 py-2 rounded-lg transition-colors text-sm ${_?"bg-primary-50 text-primary-700 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx(y,{className:`w-4 h-4 ${_?"text-primary-700":"text-gray-400"}`}),e.jsx("span",{children:N.name})]},N.path)})})]},h.path)}return e.jsxs(Ne,{to:h.path,onClick:u,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${b?"bg-primary-50 text-primary-700 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(x,{className:`w-5 h-5 ${b?"text-primary-700":"text-gray-400"}`}),e.jsx("span",{children:h.name})]},h.path)}),i?.role==="admin"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"pt-4 mt-4 border-t border-gray-200",children:[e.jsx("p",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Administrare"}),yee.map(h=>{const x=h.icon,f=r.pathname===h.path;return e.jsxs(Ne,{to:h.path,onClick:u,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${f?"bg-orange-50 text-orange-700 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(x,{className:`w-5 h-5 ${f?"text-orange-700":"text-gray-400"}`}),e.jsx("span",{children:h.name})]},h.path)})]})})]}),e.jsxs("div",{className:"p-4 border-t border-gray-200",children:[e.jsxs("div",{className:"mb-3 px-4 py-2 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:i?.name}),e.jsx("p",{className:"text-xs text-gray-500",children:i?.email})]}),e.jsxs(Ne,{to:"/settings",onClick:u,className:"flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors mb-2",children:[e.jsx(Wn,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"text-sm",children:"Setri"})]}),e.jsxs("button",{onClick:()=>{s(),u()},className:"flex items-center gap-3 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors w-full",children:[e.jsx(Vz,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:"Deconectare"})]})]})]})]})},qe=({children:t})=>{const[a,r]=g.useState(!1);return e.jsxs("div",{className:"flex h-screen bg-gray-50",children:[e.jsx(lv,{isOpen:a,onClose:()=>r(!1)}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsxs("header",{className:"lg:hidden bg-white border-b border-gray-200 px-4 py-3 flex items-center gap-3",children:[e.jsx("button",{onClick:()=>r(!0),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:e.jsx(Zz,{className:"w-6 h-6"})}),e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"DocumentIulia"})]}),e.jsx("main",{className:"flex-1 overflow-y-auto",children:e.jsx("div",{className:"max-w-7xl mx-auto p-4 sm:p-6",children:t})})]})]})},vee=()=>{const[t,a]=g.useState(null),[r,s]=g.useState([]),[i,c]=g.useState([]),[o,u]=g.useState(!0);g.useEffect(()=>{m()},[]);const m=async()=>{try{const[f,v,b]=await Promise.all([vP.getStats(),cy.getCashFlow(),zm.list()]);a(f),s(v),c(b.filter(w=>!w.dismissed).slice(0,3))}catch(f){console.error("Failed to load dashboard data:",f)}finally{u(!1)}};if(o)return e.jsx(qe,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})})});const h=[{title:"Total Revenue",value:`$${t?.total_revenue?.toLocaleString()||0}`,icon:Ht,trend:"+12.5%",positive:!0},{title:"Net Profit",value:`$${t?.net_profit?.toLocaleString()||0}`,icon:Ue,trend:"+8.2%",positive:!0},{title:"Outstanding Invoices",value:t?.outstanding_invoices||0,icon:Ze,trend:`${t?.overdue_invoices||0} overdue`,positive:!1},{title:"Cash Balance",value:`$${t?.cash_balance?.toLocaleString()||0}`,icon:Ue,trend:"+5.8%",positive:!0}],x=[{name:"Salaries",value:45e3,color:"#3b82f6"},{name:"Marketing",value:12e3,color:"#8b5cf6"},{name:"Operations",value:8e3,color:"#ec4899"},{name:"Other",value:5e3,color:"#6b7280"}];return e.jsx(qe,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Bine ai revenit! Iat ce se ntmpl cu afacerea ta."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:h.map((f,v)=>{const b=f.icon;return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:f.title}),e.jsx("div",{className:"p-2 bg-primary-50 rounded-lg",children:e.jsx(b,{className:"w-5 h-5 text-primary-600"})})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-2",children:f.value}),e.jsxs("div",{className:"flex items-center gap-1",children:[f.positive?e.jsx(Ue,{className:"w-4 h-4 text-green-600"}):e.jsx(ca,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{className:`text-sm ${f.positive?"text-green-600":"text-red-600"}`,children:f.trend})]})]},v)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Cash Flow Forecast (12 Months)"}),e.jsx(cx,{width:"100%",height:300,children:e.jsxs(gj,{data:r,children:[e.jsx(Lh,{strokeDasharray:"3 3"}),e.jsx(Ih,{dataKey:"month"}),e.jsx($h,{}),e.jsx(kx,{formatter:f=>`$${f.toLocaleString()}`}),e.jsx(rn,{type:"monotone",dataKey:"projected_income",stroke:"#3b82f6",strokeWidth:2,name:"Income"}),e.jsx(rn,{type:"monotone",dataKey:"projected_expenses",stroke:"#ef4444",strokeWidth:2,name:"Expenses"}),e.jsx(rn,{type:"monotone",dataKey:"net_cash_flow",stroke:"#10b981",strokeWidth:2,name:"Net"})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Expense Breakdown"}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(cx,{width:"100%",height:300,children:e.jsxs(pee,{children:[e.jsx(HE,{data:x,cx:"50%",cy:"50%",labelLine:!1,label:({name:f,percent:v})=>`${f} ${((v||0)*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:x.map((f,v)=>e.jsx(Th,{fill:f.color},`cell-${v}`))}),e.jsx(kx,{formatter:f=>`$${f.toLocaleString()}`})]})})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card bg-gradient-to-br from-indigo-50 to-white border-2 border-indigo-100",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-1 flex items-center gap-2",children:[e.jsx(Jz,{className:"w-5 h-5 text-indigo-600"}),"Forum Comunitate"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Pune ntrebri i primete rspunsuri de la experi"})]}),e.jsxs(Ne,{to:"/forum",className:"text-sm text-indigo-600 hover:text-indigo-700 font-medium flex items-center gap-1",children:["Vezi tot",e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(Ne,{to:"/forum/category/legislation-tax",className:"flex items-center gap-3 p-3 rounded-lg hover:bg-white transition-colors",children:[e.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-lg",children:""})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Legislaie & TVA"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Discuii despre legi fiscale"})]})]}),e.jsxs(Ne,{to:"/forum/category/accounting-basics",className:"flex items-center gap-3 p-3 rounded-lg hover:bg-white transition-colors",children:[e.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-lg",children:""})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Baz Contabil"}),e.jsx("div",{className:"text-sm text-gray-500",children:"ntrebri pentru nceptori"})]})]}),e.jsx(Ne,{to:"/forum/new-thread",className:"block w-full text-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors mt-4",children:"Pune o ntrebare"})]})]}),e.jsxs("div",{className:"card bg-gradient-to-br from-purple-50 to-white border-2 border-purple-100",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-1 flex items-center gap-2",children:[e.jsx(za,{className:"w-5 h-5 text-purple-600"}),"Cursuri Finance"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"40 de lecii interactive despre contabilitate"})]}),e.jsxs(Ne,{to:"/courses",className:"text-sm text-purple-600 hover:text-purple-700 font-medium flex items-center gap-1",children:["Vezi tot",e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-white",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(LP,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Progresul tu"}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:e.jsx("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:"35%"}})}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"35% complet"})]})]}),e.jsxs(Ne,{to:"/courses/romanian-accounting-basics",className:"flex items-center gap-3 p-3 rounded-lg hover:bg-white transition-colors",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-lg",children:""})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Bazele Contabilitii"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Modulul 1  8 lecii"})]})]}),e.jsx(Ne,{to:"/my-courses",className:"block w-full text-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors mt-4",children:"Continu nvarea"})]})]})]}),i.length>0&&e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"AI Insights & Recommendations"}),e.jsx("div",{className:"space-y-4",children:i.map(f=>e.jsx("div",{className:"p-4 border border-gray-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${f.priority==="critical"?"bg-red-100":f.priority==="high"?"bg-orange-100":f.priority==="medium"?"bg-yellow-100":"bg-blue-100"}`,children:e.jsx(ca,{className:`w-5 h-5 ${f.priority==="critical"?"text-red-600":f.priority==="high"?"text-orange-600":f.priority==="medium"?"text-yellow-600":"text-blue-600"}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:f.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:f.description}),e.jsx("p",{className:"text-sm text-primary-600 mt-2",children:f.recommendation})]})]})},f.id))})]})]})})},bee=()=>{const[t,a]=g.useState([]),[r,s]=g.useState(!0),[i,c]=g.useState(""),[o,u]=g.useState("all");g.useEffect(()=>{m()},[]);const m=async()=>{try{const b=await Ri.list();a(b)}catch(b){console.error("Failed to load invoices:",b)}finally{s(!1)}},h=async b=>{if(window.confirm("Eti sigur c vrei s tergi aceast factur?"))try{await Ri.delete(b),a(t.filter(w=>w.id!==b))}catch(w){console.error("Failed to delete invoice:",w),alert("tergerea facturii a euat")}},x=async b=>{try{await Ri.sendEmail(b),alert("Factur trimis cu succes!")}catch(w){console.error("Failed to send invoice:",w),alert("Trimiterea facturii a euat")}},f=t.filter(b=>{const w=b.invoice_number.toLowerCase().includes(i.toLowerCase())||b.customer_name?.toLowerCase().includes(i.toLowerCase()),N=o==="all"||b.status===o;return w&&N}),v=b=>{switch(b){case"paid":return"bg-green-100 text-green-800";case"sent":return"bg-blue-100 text-blue-800";case"overdue":return"bg-red-100 text-red-800";case"partial":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return r?e.jsx(qe,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})})}):e.jsx(qe,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Facturi"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Gestioneaz facturile i plile tale"})]}),e.jsxs(Ne,{to:"/invoices/new",className:"btn-primary flex items-center gap-2",children:[e.jsx(wt,{className:"w-5 h-5"}),"Factur Nou"]})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Oa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Caut facturi...",value:i,onChange:b=>c(b.target.value),className:"input pl-10"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qi,{className:"w-5 h-5 text-gray-400"}),e.jsxs("select",{value:o,onChange:b=>u(b.target.value),className:"input",children:[e.jsx("option",{value:"all",children:"Toate Statusurile"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"sent",children:"Trimis"}),e.jsx("option",{value:"partial",children:"Parial"}),e.jsx("option",{value:"paid",children:"Pltit"}),e.jsx("option",{value:"overdue",children:"Restant"})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{label:"Total",value:t.length,color:"text-gray-900"},{label:"Pltite",value:t.filter(b=>b.status==="paid").length,color:"text-green-600"},{label:"n Ateptare",value:t.filter(b=>b.status==="sent").length,color:"text-blue-600"},{label:"Restante",value:t.filter(b=>b.status==="overdue").length,color:"text-red-600"}].map((b,w)=>e.jsxs("div",{className:"card",children:[e.jsx("p",{className:"text-sm text-gray-600",children:b.label}),e.jsx("p",{className:`text-2xl font-bold ${b.color} mt-1`,children:b.value})]},w))}),e.jsx("div",{className:"card overflow-hidden p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Factur #"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data Emiterii"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data Scadenei"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sum"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aciuni"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:7,className:"px-6 py-12 text-center",children:[e.jsx(Ze,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"Nu au fost gsite facturi"}),e.jsx(Ne,{to:"/invoices/new",className:"text-primary-600 hover:text-primary-700 text-sm mt-2 inline-block",children:"Creeaz prima ta factur"})]})}):f.map(b=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ze,{className:"w-5 h-5 text-gray-400 mr-2"}),e.jsx("span",{className:"font-medium text-gray-900",children:b.invoice_number})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-gray-900",children:b.customer_name||"N/A"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(b.invoice_date).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(b.due_date).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:"font-semibold text-gray-900",children:[b.currency||"RON"," ",b.total_amount.toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${v(b.status)}`,children:b.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>alert("Previzualizarea nu este nc implementat"),className:"text-gray-600 hover:text-gray-900",title:"Vizualizare",children:e.jsx(Qn,{className:"w-4 h-4"})}),e.jsx(Ne,{to:`/invoices/${b.id}/edit`,className:"text-primary-600 hover:text-primary-900",title:"Editeaz",children:e.jsx(ya,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>x(b.id),className:"text-blue-600 hover:text-blue-900",title:"Trimite Email",children:e.jsx(Zx,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>h(b.id),className:"text-red-600 hover:text-red-900",title:"terge",children:e.jsx(oa,{className:"w-4 h-4"})})]})})]},b.id))})]})})})]})})},x3=()=>{const{id:t}=cs(),a=Be(),r=!!t,[s,i]=g.useState(!1),[c,o]=g.useState([]),[u,m]=g.useState({customer_id:0,invoice_date:new Date().toISOString().split("T")[0],due_date:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],status:"draft",notes:""}),[h,x]=g.useState([{description:"",quantity:1,unit_price:0,tax_rate:0,amount:0}]);g.useEffect(()=>{f(),r&&v()},[t]);const f=async()=>{try{const O=await ac.list("customer");o(O)}catch(O){console.error("Failed to load customers:",O)}},v=async()=>{if(t)try{const D=(await Ri.list()).find(P=>P.id===parseInt(t));D&&(m({customer_id:D.customer_id,invoice_date:D.invoice_date,due_date:D.due_date,status:D.status,notes:""}),D.line_items&&D.line_items.length>0&&x(D.line_items))}catch(O){console.error("Failed to load invoice:",O)}},b=(O,D,P)=>{const L=O*D,z=L*(P/100);return L+z},w=(O,D,P)=>{const L=[...h];L[O]={...L[O],[D]:P},(D==="quantity"||D==="unit_price"||D==="tax_rate")&&(L[O].amount=b(L[O].quantity,L[O].unit_price,L[O].tax_rate)),x(L)},N=()=>{x([...h,{description:"",quantity:1,unit_price:0,tax_rate:0,amount:0}])},y=O=>{h.length>1&&x(h.filter((D,P)=>P!==O))},_=()=>{const O=h.reduce((L,z)=>{const M=z.quantity*z.unit_price;return L+M},0),D=h.reduce((L,z)=>{const F=z.quantity*z.unit_price*(z.tax_rate/100);return L+F},0),P=O+D;return{subtotal:O,taxAmount:D,total:P}},A=async O=>{if(O.preventDefault(),u.customer_id===0){alert("Please select a customer");return}const{subtotal:D,taxAmount:P,total:L}=_(),z={...u,subtotal:D,tax_amount:P,total:L,line_items:h};i(!0);try{r?(await Ri.update(parseInt(t),z),alert("Invoice updated successfully!")):(await Ri.create(z),alert("Invoice created successfully!")),a("/invoices")}catch(M){console.error("Failed to save invoice:",M),alert("Failed to save invoice")}finally{i(!1)}},{subtotal:C,taxAmount:E,total:k}=_();return e.jsx(qe,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>a("/invoices"),className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(gd,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r?"Editeaz Factur":"Factur Nou"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Completeaz detaliile facturii"})]})]})}),e.jsx("form",{onSubmit:A,children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Invoice Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer *"}),e.jsxs("select",{value:u.customer_id,onChange:O=>m({...u,customer_id:parseInt(O.target.value)}),className:"input",required:!0,children:[e.jsx("option",{value:0,children:"Select a customer"}),c.map(O=>e.jsx("option",{value:O.id,children:O.display_name},O.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{value:u.status,onChange:O=>m({...u,status:O.target.value}),className:"input",children:[e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"sent",children:"Sent"}),e.jsx("option",{value:"paid",children:"Paid"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Issue Date *"}),e.jsx("input",{type:"date",value:u.invoice_date,onChange:O=>m({...u,invoice_date:O.target.value}),className:"input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date *"}),e.jsx("input",{type:"date",value:u.due_date,onChange:O=>m({...u,due_date:O.target.value}),className:"input",required:!0})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Line Items"}),e.jsxs("button",{type:"button",onClick:N,className:"btn-secondary flex items-center gap-2 text-sm",children:[e.jsx(wt,{className:"w-4 h-4"}),"Add Item"]})]}),e.jsx("div",{className:"space-y-4",children:h.map((O,D)=>e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"grid grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-12 md:col-span-5",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("input",{type:"text",value:O.description,onChange:P=>w(D,"description",P.target.value),className:"input",placeholder:"Item description",required:!0})]}),e.jsxs("div",{className:"col-span-4 md:col-span-2",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Qty"}),e.jsx("input",{type:"number",value:O.quantity,onChange:P=>w(D,"quantity",parseFloat(P.target.value)),className:"input",min:"0",step:"0.01",required:!0})]}),e.jsxs("div",{className:"col-span-4 md:col-span-2",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Price"}),e.jsx("input",{type:"number",value:O.unit_price,onChange:P=>w(D,"unit_price",parseFloat(P.target.value)),className:"input",min:"0",step:"0.01",required:!0})]}),e.jsxs("div",{className:"col-span-3 md:col-span-2",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Tax %"}),e.jsx("input",{type:"number",value:O.tax_rate,onChange:P=>w(D,"tax_rate",parseFloat(P.target.value)),className:"input",min:"0",step:"0.01"})]}),e.jsx("div",{className:"col-span-1 flex items-end justify-center",children:e.jsx("button",{type:"button",onClick:()=>y(D),className:"p-2 text-red-600 hover:bg-red-50 rounded",disabled:h.length===1,children:e.jsx(oa,{className:"w-4 h-4"})})})]}),e.jsxs("div",{className:"mt-2 text-right",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Amount: "}),e.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["$",O.amount.toFixed(2)]})]})]},D))})]}),e.jsxs("div",{className:"card",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),e.jsx("textarea",{value:u.notes,onChange:O=>m({...u,notes:O.target.value}),className:"input",rows:3,placeholder:"Additional notes or payment terms..."})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"card sticky top-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Summary"}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),e.jsxs("span",{className:"font-medium",children:["$",C.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Tax:"}),e.jsxs("span",{className:"font-medium",children:["$",E.toFixed(2)]})]}),e.jsx("div",{className:"pt-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total:"}),e.jsxs("span",{className:"text-lg font-bold text-primary-600",children:["$",k.toFixed(2)]})]})})]}),e.jsx("button",{type:"submit",disabled:s,className:"btn-primary w-full flex items-center justify-center gap-2 disabled:opacity-50",children:s?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Xl,{className:"w-5 h-5"}),r?"Update Invoice":"Create Invoice"]})})]})})]})})]})})},jee=()=>{const[t,a]=g.useState([]),[r,s]=g.useState(!0),[i,c]=g.useState(""),[o,u]=g.useState("all");g.useEffect(()=>{m()},[]);const m=async()=>{try{const v=await G2.list();a(v)}catch(v){console.error("Failed to load bills:",v)}finally{s(!1)}},h=async v=>{if(window.confirm("Eti sigur c vrei s tergi aceast chitan?"))try{await G2.delete(v),a(t.filter(b=>b.id!==v))}catch(b){console.error("Failed to delete bill:",b),alert("tergerea chitanei a euat")}},x=t.filter(v=>{const b=v.bill_number?.toLowerCase().includes(i.toLowerCase())||v.vendor_name?.toLowerCase().includes(i.toLowerCase()),w=o==="all"||v.status===o;return b&&w}),f=[{value:"all",label:"Toate",color:"bg-gray-100 text-gray-800"},{value:"draft",label:"Draft",color:"bg-gray-100 text-gray-800"},{value:"open",label:"Deschise",color:"bg-yellow-100 text-yellow-800"},{value:"paid",label:"Pltite",color:"bg-green-100 text-green-800"},{value:"overdue",label:"Restante",color:"bg-red-100 text-red-800"}];return r?e.jsx(qe,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})})}):e.jsx(qe,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Chitane"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Gestionai chitanele de la furnizori"})]}),e.jsxs("button",{className:"btn-primary flex items-center gap-2",children:[e.jsx(wt,{className:"w-5 h-5"}),"Chitan Nou"]})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Oa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Caut dup numr sau furnizor...",value:i,onChange:v=>c(v.target.value),className:"input pl-10 w-full"})]})}),e.jsx("div",{className:"flex gap-2 overflow-x-auto",children:f.map(v=>e.jsx("button",{onClick:()=>u(v.value),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${o===v.value?"bg-primary-100 text-primary-700 font-medium":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:v.label},v.value))})]})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Numr Chitan"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Furnizor"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Scaden"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pltit"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aciuni"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:8,className:"px-6 py-12 text-center",children:[e.jsx(Sv,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Nu au fost gsite chitane"})]})}):x.map(v=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.bill_number})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:v.vendor_name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:v.bill_date})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:v.due_date})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[v.total_amount," RON"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-500",children:[v.amount_paid," RON"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${v.status==="paid"?"bg-green-100 text-green-800":v.status==="open"?"bg-yellow-100 text-yellow-800":v.status==="overdue"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:v.status==="paid"?"Pltit":v.status==="open"?"Deschis":v.status==="overdue"?"Restan":v.status==="draft"?"Draft":v.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"text-primary-600 hover:text-primary-900",title:"Vizualizare",children:e.jsx(Qn,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-blue-600 hover:text-blue-900",title:"Editare",children:e.jsx(ya,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-green-600 hover:text-green-900",title:"Download PDF",children:e.jsx(tr,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>h(v.id),className:"text-red-600 hover:text-red-900",title:"tergere",children:e.jsx(oa,{className:"w-4 h-4"})})]})})]},v.id))})]})})}),t.length>0&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Chitane"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:t.length})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total de Pltit"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:[t.reduce((v,b)=>v+parseFloat(b.total_amount||0),0).toFixed(2)," RON"]})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Pltit"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600 mt-2",children:[t.reduce((v,b)=>v+parseFloat(b.amount_paid||0),0).toFixed(2)," RON"]})]})]})]})})},Nee=()=>{const[t,a]=g.useState([]),[r,s]=g.useState([]),[i,c]=g.useState(null),[o,u]=g.useState(!0),[m,h]=g.useState(!1),[x,f]=g.useState("all");g.useEffect(()=>{v()},[]);const v=async()=>{try{const[C,E,k]=await Promise.all([zm.list(),cy.getCashFlow(),cy.getRunway().catch(()=>null)]);a(C.filter(O=>!O.dismissed)),s(E),c(k)}catch(C){console.error("Failed to load insights:",C)}finally{u(!1)}},b=async()=>{h(!0);try{const C=await zm.generate();a(C.filter(E=>!E.dismissed))}catch(C){console.error("Failed to generate insights:",C),alert("Failed to generate insights")}finally{h(!1)}},w=async C=>{try{await zm.dismiss(C),a(t.filter(E=>E.id!==C))}catch(E){console.error("Failed to dismiss insight:",E)}},N=C=>{switch(C){case"critical":return e.jsx(ca,{className:"w-6 h-6 text-red-600"});case"high":return e.jsx(ca,{className:"w-6 h-6 text-orange-600"});case"medium":return e.jsx(Mm,{className:"w-6 h-6 text-yellow-600"});default:return e.jsx(Mm,{className:"w-6 h-6 text-blue-600"})}},y=C=>{switch(C){case"critical":return"border-red-200 bg-red-50";case"high":return"border-orange-200 bg-orange-50";case"medium":return"border-yellow-200 bg-yellow-50";default:return"border-blue-200 bg-blue-50"}},_=t.filter(C=>x==="all"||C.priority===x),A={critical:t.filter(C=>C.priority==="critical").length,high:t.filter(C=>C.priority==="high").length,medium:t.filter(C=>C.priority==="medium").length,low:t.filter(C=>C.priority==="low").length};return o?e.jsx(qe,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})})}):e.jsx(qe,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"AI Insights & Recommendations"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Powered by AI to help you make better business decisions"})]}),e.jsxs("button",{onClick:b,disabled:m,className:"btn-primary flex items-center gap-2 disabled:opacity-50",children:[e.jsx(sc,{className:`w-5 h-5 ${m?"animate-spin":""}`}),m?"Generating...":"Generate New Insights"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{label:"Critical",value:A.critical,color:"text-red-600",bg:"bg-red-100"},{label:"High",value:A.high,color:"text-orange-600",bg:"bg-orange-100"},{label:"Medium",value:A.medium,color:"text-yellow-600",bg:"bg-yellow-100"},{label:"Low",value:A.low,color:"text-blue-600",bg:"bg-blue-100"}].map((C,E)=>e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[C.label," Priority"]}),e.jsx("p",{className:`text-2xl font-bold ${C.color} mt-1`,children:C.value})]}),e.jsx("div",{className:`p-3 ${C.bg} rounded-lg`,children:e.jsx(ca,{className:`w-6 h-6 ${C.color}`})})]})},E))}),i&&e.jsx("div",{className:"card bg-gradient-to-r from-blue-500 to-blue-600 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Cash Runway"}),e.jsxs("p",{className:"text-3xl font-bold",children:[i.months," months"]}),e.jsxs("p",{className:"text-blue-100 mt-1",children:["Monthly burn rate: $",i.burn_rate.toLocaleString()]})]}),e.jsx(Ht,{className:"w-16 h-16 text-blue-200"})]})}),r.length>0&&e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"12-Month Cash Flow Forecast"}),e.jsx(cx,{width:"100%",height:300,children:e.jsxs(gj,{data:r,children:[e.jsx(Lh,{strokeDasharray:"3 3"}),e.jsx(Ih,{dataKey:"month"}),e.jsx($h,{}),e.jsx(kx,{formatter:C=>`$${C.toLocaleString()}`}),e.jsx(rn,{type:"monotone",dataKey:"ending_balance",stroke:"#3b82f6",strokeWidth:3,name:"Balance"}),e.jsx(rn,{type:"monotone",dataKey:"projected_income",stroke:"#10b981",strokeWidth:2,name:"Income"}),e.jsx(rn,{type:"monotone",dataKey:"projected_expenses",stroke:"#ef4444",strokeWidth:2,name:"Expenses"})]})})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter by priority:"}),e.jsx("div",{className:"flex gap-2",children:["all","critical","high","medium","low"].map(C=>e.jsx("button",{onClick:()=>f(C),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${x===C?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:C.charAt(0).toUpperCase()+C.slice(1)},C))})]})}),e.jsx("div",{className:"space-y-4",children:_.length===0?e.jsxs("div",{className:"card text-center py-12",children:[e.jsx(Mm,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No insights available"}),e.jsx("p",{className:"text-gray-600 mb-4",children:'Click "Generate New Insights" to analyze your financial data'}),e.jsxs("button",{onClick:b,className:"btn-primary",children:[e.jsx(sc,{className:"w-5 h-5 inline mr-2"}),"Generate Insights"]})]}):_.map(C=>e.jsx("div",{className:`card border-2 ${y(C.priority)}`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 p-3 bg-white rounded-lg shadow-sm",children:N(C.priority)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:C.title}),e.jsx("span",{className:"text-xs font-medium text-gray-500",children:new Date(C.created_at).toLocaleDateString()})]}),e.jsx("button",{onClick:()=>w(C.id),className:"p-1 text-gray-400 hover:text-gray-600 rounded",title:"Dismiss",children:e.jsx(ht,{className:"w-5 h-5"})})]}),e.jsx("p",{className:"text-gray-700 mb-3",children:C.description}),e.jsx("div",{className:"bg-white rounded-lg p-4 mb-3 border border-gray-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Impact"}),e.jsx("p",{className:"text-sm text-gray-600",children:C.impact})]})]})}),e.jsx("div",{className:"bg-white rounded-lg p-4 border border-primary-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Me,{className:"w-5 h-5 text-primary-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Recommendation"}),e.jsx("p",{className:"text-sm text-gray-700",children:C.recommendation}),C.action_url&&e.jsx("a",{href:C.action_url,className:"text-sm text-primary-600 hover:text-primary-700 font-medium mt-2 inline-block",children:"Take Action "})]})]})})]})]})},C.id))})]})})},wee=()=>{const[t,a]=g.useState([]),[r,s]=g.useState(!0),[i,c]=g.useState(""),[o,u]=g.useState("all"),[m,h]=g.useState(!1);g.useEffect(()=>{x()},[]);const x=async()=>{try{const E=await Ro.list();a(E)}catch(E){console.error("Failed to load expenses:",E)}finally{s(!1)}},f=async E=>{if(window.confirm("Are you sure you want to delete this expense?"))try{await Ro.delete(E),a(t.filter(k=>k.id!==E))}catch(k){console.error("Failed to delete expense:",k),alert("Failed to delete expense")}},v=async E=>{try{await Ro.update(E,{status:"approved"}),a(t.map(k=>k.id===E?{...k,status:"approved"}:k))}catch(k){console.error("Failed to approve expense:",k)}},b=async E=>{try{await Ro.update(E,{status:"rejected"}),a(t.map(k=>k.id===E?{...k,status:"rejected"}:k))}catch(k){console.error("Failed to reject expense:",k)}},w=t.filter(E=>{const k=E.description.toLowerCase().includes(i.toLowerCase())||E.vendor_name?.toLowerCase().includes(i.toLowerCase())||E.category.toLowerCase().includes(i.toLowerCase()),O=o==="all"||E.status===o;return k&&O}),N=E=>{switch(E){case"approved":return e.jsx(Me,{className:"w-5 h-5 text-green-600"});case"rejected":return e.jsx(rc,{className:"w-5 h-5 text-red-600"});default:return e.jsx(fr,{className:"w-5 h-5 text-yellow-600"})}},y=E=>{switch(E){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},_=t.reduce((E,k)=>E+k.amount,0),A=t.filter(E=>E.status==="approved").reduce((E,k)=>E+k.amount,0),C=t.filter(E=>E.status==="pending").reduce((E,k)=>E+k.amount,0);return r?e.jsx(qe,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})})}):e.jsx(qe,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Expenses"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Track and manage your business expenses"})]}),e.jsxs("button",{onClick:()=>h(!0),className:"btn-primary flex items-center gap-2",children:[e.jsx(wt,{className:"w-5 h-5"}),"Add Expense"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{label:"Total Expenses",value:`$${_.toLocaleString()}`,color:"text-gray-900"},{label:"Approved",value:`$${A.toLocaleString()}`,color:"text-green-600"},{label:"Pending",value:`$${C.toLocaleString()}`,color:"text-yellow-600"},{label:"Count",value:t.length,color:"text-blue-600"}].map((E,k)=>e.jsxs("div",{className:"card",children:[e.jsx("p",{className:"text-sm text-gray-600",children:E.label}),e.jsx("p",{className:`text-2xl font-bold ${E.color} mt-1`,children:E.value})]},k))}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Oa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search expenses...",value:i,onChange:E=>c(E.target.value),className:"input pl-10"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qi,{className:"w-5 h-5 text-gray-400"}),e.jsxs("select",{value:o,onChange:E=>u(E.target.value),className:"input",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"})]})]})]})}),e.jsx("div",{className:"card overflow-hidden p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vendor"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:7,className:"px-6 py-12 text-center",children:[e.jsx(Gm,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No expenses found"}),e.jsx("button",{onClick:()=>h(!0),className:"text-primary-600 hover:text-primary-700 text-sm mt-2 inline-block",children:"Add your first expense"})]})}):w.map(E=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(E.date).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Gm,{className:"w-5 h-5 text-gray-400 mr-2 flex-shrink-0"}),e.jsx("span",{className:"text-gray-900",children:E.description})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded",children:E.category})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.vendor_name||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:"font-semibold text-gray-900",children:["$",E.amount.toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[N(E.status),e.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${y(E.status)}`,children:E.status})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[E.receipt_url&&e.jsx("a",{href:E.receipt_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-900",title:"View Receipt",children:e.jsx(Qn,{className:"w-4 h-4"})}),E.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>v(E.id),className:"text-green-600 hover:text-green-900",title:"Approve",children:e.jsx(Me,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>b(E.id),className:"text-red-600 hover:text-red-900",title:"Reject",children:e.jsx(rc,{className:"w-4 h-4"})})]}),e.jsx("button",{onClick:()=>f(E.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:e.jsx(oa,{className:"w-4 h-4"})})]})})]},E.id))})]})})}),m&&e.jsx(See,{onClose:()=>h(!1),onSuccess:()=>{h(!1),x()}})]})})},See=({onClose:t,onSuccess:a})=>{const[r,s]=g.useState(!1),[i,c]=g.useState({date:new Date().toISOString().split("T")[0],amount:"",category:"",description:"",vendor_name:""}),[o,u]=g.useState(null),m=async h=>{h.preventDefault(),s(!0);try{const x=new FormData;x.append("date",i.date),x.append("amount",i.amount),x.append("category",i.category),x.append("description",i.description),x.append("vendor_name",i.vendor_name),o&&x.append("receipt",o),await Ro.create(x),alert("Expense created successfully!"),a()}catch(x){console.error("Failed to create expense:",x),alert("Failed to create expense")}finally{s(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Add New Expense"}),e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),e.jsx("input",{type:"date",value:i.date,onChange:h=>c({...i,date:h.target.value}),className:"input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount *"}),e.jsx("input",{type:"number",value:i.amount,onChange:h=>c({...i,amount:h.target.value}),className:"input",placeholder:"0.00",step:"0.01",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),e.jsxs("select",{value:i.category,onChange:h=>c({...i,category:h.target.value}),className:"input",required:!0,children:[e.jsx("option",{value:"",children:"Select category"}),e.jsx("option",{value:"Office Supplies",children:"Office Supplies"}),e.jsx("option",{value:"Travel",children:"Travel"}),e.jsx("option",{value:"Meals",children:"Meals"}),e.jsx("option",{value:"Software",children:"Software"}),e.jsx("option",{value:"Marketing",children:"Marketing"}),e.jsx("option",{value:"Utilities",children:"Utilities"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),e.jsx("textarea",{value:i.description,onChange:h=>c({...i,description:h.target.value}),className:"input",rows:3,placeholder:"Expense description",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vendor Name"}),e.jsx("input",{type:"text",value:i.vendor_name,onChange:h=>c({...i,vendor_name:h.target.value}),className:"input",placeholder:"Vendor or merchant name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Receipt (Optional)"}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("label",{className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-500 cursor-pointer transition-colors",children:[e.jsx(Xo,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600",children:o?o.name:"Upload receipt"}),e.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:h=>u(h.target.files?.[0]||null),className:"hidden"})]})})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:t,className:"btn-secondary flex-1",disabled:r,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary flex-1 disabled:opacity-50",disabled:r,children:r?"Creating...":"Create Expense"})]})]})]})})})},_ee=()=>{const[t,a]=g.useState(null),r=[{id:"profit-loss",name:"Profit & Loss",description:"Raport de profit i pierdere - Venituri i cheltuieli",icon:Ue,color:"bg-green-50 border-green-200 hover:bg-green-100",iconColor:"text-green-600"},{id:"balance-sheet",name:"Bilan",description:"Situaia financiar - Active, Pasive, Capitaluri",icon:Za,color:"bg-blue-50 border-blue-200 hover:bg-blue-100",iconColor:"text-blue-600"},{id:"cash-flow",name:"Cash Flow",description:"Flux de numerar - Intrri i ieiri de bani",icon:Ue,color:"bg-purple-50 border-purple-200 hover:bg-purple-100",iconColor:"text-purple-600"},{id:"trial-balance",name:"Balan de Verificare",description:"Sold conturi i verificare echilibru contabil",icon:Io,color:"bg-orange-50 border-orange-200 hover:bg-orange-100",iconColor:"text-orange-600"},{id:"general-ledger",name:"Registru General",description:"Toate tranzaciile contabile nregistrate",icon:Ze,color:"bg-indigo-50 border-indigo-200 hover:bg-indigo-100",iconColor:"text-indigo-600"},{id:"accounts-receivable",name:"Conturi de ncasat",description:"Facturi de ncasat de la clieni",icon:Ze,color:"bg-pink-50 border-pink-200 hover:bg-pink-100",iconColor:"text-pink-600"},{id:"accounts-payable",name:"Conturi de Pltit",description:"Facturi de pltit ctre furnizori",icon:Ze,color:"bg-yellow-50 border-yellow-200 hover:bg-yellow-100",iconColor:"text-yellow-600"},{id:"tax-summary",name:"Rezumat Taxe",description:"TVA, impozite i contribuii",icon:Io,color:"bg-red-50 border-red-200 hover:bg-red-100",iconColor:"text-red-600"}],s=[{name:"Export n Excel",icon:tr,action:"export-excel"},{name:"Export n PDF",icon:tr,action:"export-pdf"},{name:"Programare Raport",icon:nt,action:"schedule"}];return e.jsx(qe,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Contabilitate"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Rapoarte i analize contabile complete"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Venituri Luna Curent"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:"0 RON"})]}),e.jsx("div",{className:"p-3 bg-green-50 rounded-lg",children:e.jsx(Ue,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Cheltuieli Luna Curent"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:"0 RON"})]}),e.jsx("div",{className:"p-3 bg-red-50 rounded-lg",children:e.jsx(Ue,{className:"w-6 h-6 text-red-600 transform rotate-180"})})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Profit Net"}),e.jsx("p",{className:"text-2xl font-bold text-green-600 mt-1",children:"0 RON"})]}),e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:e.jsx(Io,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Sold Cash"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:"0 RON"})]}),e.jsx("div",{className:"p-3 bg-purple-50 rounded-lg",children:e.jsx(Za,{className:"w-6 h-6 text-purple-600"})})]})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Rapoarte Disponibile"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map(i=>{const c=i.icon;return e.jsxs("button",{onClick:()=>a(i.id),className:`
                    p-6 border-2 rounded-lg transition-all text-left
                    ${t===i.id?"ring-2 ring-primary-500":""}
                    ${i.color}
                  `,children:[e.jsx(c,{className:`w-8 h-8 ${i.iconColor} mb-3`}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:i.name}),e.jsx("p",{className:"text-sm text-gray-600",children:i.description})]},i.id)})})]}),t&&e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r.find(i=>i.id===t)?.name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r.find(i=>i.id===t)?.description})]}),e.jsx("button",{onClick:()=>a(null),className:"text-gray-400 hover:text-gray-600",children:""})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data nceput"}),e.jsx("input",{type:"date",className:"input w-full",defaultValue:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data Sfrit"}),e.jsx("input",{type:"date",className:"input w-full",defaultValue:new Date().toISOString().split("T")[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Perioada Rapid"}),e.jsxs("select",{className:"input w-full",children:[e.jsx("option",{children:"Luna Curent"}),e.jsx("option",{children:"Trimestru Curent"}),e.jsx("option",{children:"An Curent"}),e.jsx("option",{children:"Luna Trecut"}),e.jsx("option",{children:"Anul Trecut"})]})]})]}),e.jsxs("div",{className:"flex gap-3 border-t border-gray-200 pt-6",children:[e.jsxs("button",{className:"btn-primary flex items-center gap-2",children:[e.jsx(Za,{className:"w-5 h-5"}),"Genereaz Raport"]}),s.map(i=>{const c=i.icon;return e.jsxs("button",{className:"btn-secondary flex items-center gap-2",children:[e.jsx(c,{className:"w-5 h-5"}),i.name]},i.action)})]}),e.jsxs("div",{className:"mt-6 p-8 bg-gray-50 rounded-lg text-center",children:[e.jsx(Ze,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:'Apsai "Genereaz Raport" pentru a vizualiza datele'})]})]}),e.jsx("div",{className:"card bg-blue-50 border-blue-200",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(Io,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Informaii Contabilitate"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Toate rapoartele sunt generate n timp real pe baza datelor din sistem. Putei exporta rapoartele n format Excel sau PDF pentru arhivare sau partajare."}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:" Rapoartele sunt conforme cu standardele IFRS"}),e.jsx("li",{children:" Date actualizate n timp real"}),e.jsx("li",{children:" Export disponibil n multiple formate"}),e.jsx("li",{children:" Posibilitate de programare rapoarte recurente"})]})]})]})})]})})},Cee=()=>{const{user:t}=Ct(),[a,r]=g.useState("profile"),[s,i]=g.useState(!1),[c,o]=g.useState(""),[u,m]=g.useState({name:t?.name||"",email:t?.email||"",phone:"",timezone:"UTC",language:"en"}),[h,x]=g.useState({name:"My Company",industry:"Technology",size:"1-10",address:"",city:"",country:"United States",tax_id:""}),[f,v]=g.useState({email_invoices:!0,email_payments:!0,email_expenses:!1,email_insights:!0,email_weekly_report:!0,push_notifications:!1,sms_notifications:!1}),[b,w]=g.useState({current_password:"",new_password:"",confirm_password:"",two_factor_enabled:!1});g.useEffect(()=>{t&&m({name:t.name,email:t.email,phone:"",timezone:"UTC",language:"en"})},[t]);const N=async E=>{E.preventDefault(),i(!0);try{await new Promise(k=>setTimeout(k,1e3)),o("Profile updated successfully!"),setTimeout(()=>o(""),3e3)}catch(k){console.error("Failed to update profile:",k)}finally{i(!1)}},y=async E=>{E.preventDefault(),i(!0);try{await new Promise(k=>setTimeout(k,1e3)),o("Company settings updated successfully!"),setTimeout(()=>o(""),3e3)}catch(k){console.error("Failed to update company:",k)}finally{i(!1)}},_=async E=>{E.preventDefault(),i(!0);try{await new Promise(k=>setTimeout(k,1e3)),o("Notification preferences updated successfully!"),setTimeout(()=>o(""),3e3)}catch(k){console.error("Failed to update notifications:",k)}finally{i(!1)}},A=async E=>{if(E.preventDefault(),b.new_password!==b.confirm_password){alert("New passwords do not match!");return}i(!0);try{await new Promise(k=>setTimeout(k,1e3)),o("Security settings updated successfully!"),w({current_password:"",new_password:"",confirm_password:"",two_factor_enabled:b.two_factor_enabled}),setTimeout(()=>o(""),3e3)}catch(k){console.error("Failed to update security:",k)}finally{i(!1)}},C=[{id:"profile",name:"Profile",icon:as},{id:"company",name:"Company",icon:Li},{id:"notifications",name:"Notifications",icon:$P},{id:"security",name:"Security",icon:kv}];return e.jsx(qe,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Setri"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Gestioneaz contul i preferinele tale"})]}),c&&e.jsx("div",{className:"bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded-lg",children:c}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 overflow-x-auto",children:C.map(E=>{const k=E.icon;return e.jsxs("button",{onClick:()=>r(E.id),className:`flex items-center gap-2 py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${a===E.id?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(k,{className:"w-5 h-5"}),E.name]},E.id)})})}),e.jsxs("div",{className:"card",children:[a==="profile"&&e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Profile Information"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Picture"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-20 h-20 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsx(as,{className:"w-10 h-10 text-primary-600"})}),e.jsxs("button",{type:"button",className:"btn-secondary flex items-center gap-2",children:[e.jsx(XP,{className:"w-4 h-4"}),"Change Photo"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",value:u.name,onChange:E=>m({...u,name:E.target.value}),className:"input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:u.email,onChange:E=>m({...u,email:E.target.value}),className:"input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",value:u.phone,onChange:E=>m({...u,phone:E.target.value}),className:"input",placeholder:"+1 (555) 123-4567"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Timezone"}),e.jsxs("select",{value:u.timezone,onChange:E=>m({...u,timezone:E.target.value}),className:"input",children:[e.jsx("option",{value:"UTC",children:"UTC"}),e.jsx("option",{value:"America/New_York",children:"Eastern Time (ET)"}),e.jsx("option",{value:"America/Chicago",children:"Central Time (CT)"}),e.jsx("option",{value:"America/Denver",children:"Mountain Time (MT)"}),e.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time (PT)"}),e.jsx("option",{value:"Europe/London",children:"London (GMT)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Language"}),e.jsxs("select",{value:u.language,onChange:E=>m({...u,language:E.target.value}),className:"input",children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"es",children:"Spanish"}),e.jsx("option",{value:"fr",children:"French"}),e.jsx("option",{value:"de",children:"German"}),e.jsx("option",{value:"ro",children:"Romanian"})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{type:"submit",className:"btn-primary flex items-center gap-2",disabled:s,children:[e.jsx(Xl,{className:"w-4 h-4"}),s?"Saving...":"Save Changes"]})})]}),a==="company"&&e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Company Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name"}),e.jsx("input",{type:"text",value:h.name,onChange:E=>x({...h,name:E.target.value}),className:"input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Industry"}),e.jsxs("select",{value:h.industry,onChange:E=>x({...h,industry:E.target.value}),className:"input",children:[e.jsx("option",{value:"Technology",children:"Technology"}),e.jsx("option",{value:"Finance",children:"Finance"}),e.jsx("option",{value:"Healthcare",children:"Healthcare"}),e.jsx("option",{value:"Retail",children:"Retail"}),e.jsx("option",{value:"Manufacturing",children:"Manufacturing"}),e.jsx("option",{value:"Services",children:"Services"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Size"}),e.jsxs("select",{value:h.size,onChange:E=>x({...h,size:E.target.value}),className:"input",children:[e.jsx("option",{value:"1-10",children:"1-10 employees"}),e.jsx("option",{value:"11-50",children:"11-50 employees"}),e.jsx("option",{value:"51-200",children:"51-200 employees"}),e.jsx("option",{value:"201-500",children:"201-500 employees"}),e.jsx("option",{value:"501+",children:"501+ employees"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tax ID / EIN"}),e.jsx("input",{type:"text",value:h.tax_id,onChange:E=>x({...h,tax_id:E.target.value}),className:"input",placeholder:"XX-XXXXXXX"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),e.jsx("input",{type:"text",value:h.address,onChange:E=>x({...h,address:E.target.value}),className:"input",placeholder:"Street address"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),e.jsx("input",{type:"text",value:h.city,onChange:E=>x({...h,city:E.target.value}),className:"input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),e.jsxs("select",{value:h.country,onChange:E=>x({...h,country:E.target.value}),className:"input",children:[e.jsx("option",{value:"United States",children:"United States"}),e.jsx("option",{value:"Canada",children:"Canada"}),e.jsx("option",{value:"United Kingdom",children:"United Kingdom"}),e.jsx("option",{value:"Romania",children:"Romania"}),e.jsx("option",{value:"Germany",children:"Germany"}),e.jsx("option",{value:"France",children:"France"})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{type:"submit",className:"btn-primary flex items-center gap-2",disabled:s,children:[e.jsx(Xl,{className:"w-4 h-4"}),s?"Saving...":"Save Changes"]})})]}),a==="notifications"&&e.jsxs("form",{onSubmit:_,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Notification Preferences"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Invoice Updates"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when invoices are paid or overdue"})]}),e.jsx("input",{type:"checkbox",checked:f.email_invoices,onChange:E=>v({...f,email_invoices:E.target.checked}),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"})]}),e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Payment Notifications"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Receive alerts for incoming payments"})]}),e.jsx("input",{type:"checkbox",checked:f.email_payments,onChange:E=>v({...f,email_payments:E.target.checked}),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"})]}),e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Expense Approvals"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Notifications for expenses requiring approval"})]}),e.jsx("input",{type:"checkbox",checked:f.email_expenses,onChange:E=>v({...f,email_expenses:E.target.checked}),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"})]}),e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"AI Insights"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Get AI-powered business insights and recommendations"})]}),e.jsx("input",{type:"checkbox",checked:f.email_insights,onChange:E=>v({...f,email_insights:E.target.checked}),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"})]}),e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Weekly Report"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Receive weekly summary of your business performance"})]}),e.jsx("input",{type:"checkbox",checked:f.email_weekly_report,onChange:E=>v({...f,email_weekly_report:E.target.checked}),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"})]}),e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Push Notifications"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Enable browser push notifications"})]}),e.jsx("input",{type:"checkbox",checked:f.push_notifications,onChange:E=>v({...f,push_notifications:E.target.checked}),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"})]}),e.jsxs("div",{className:"flex items-center justify-between py-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"SMS Notifications"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Receive critical alerts via SMS"})]}),e.jsx("input",{type:"checkbox",checked:f.sms_notifications,onChange:E=>v({...f,sms_notifications:E.target.checked}),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{type:"submit",className:"btn-primary flex items-center gap-2",disabled:s,children:[e.jsx(Xl,{className:"w-4 h-4"}),s?"Saving...":"Save Preferences"]})})]}),a==="security"&&e.jsxs("form",{onSubmit:A,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Change Password"}),e.jsxs("div",{className:"space-y-4 max-w-md",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),e.jsx("input",{type:"password",value:b.current_password,onChange:E=>w({...b,current_password:E.target.value}),className:"input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),e.jsx("input",{type:"password",value:b.new_password,onChange:E=>w({...b,new_password:E.target.value}),className:"input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),e.jsx("input",{type:"password",value:b.confirm_password,onChange:E=>w({...b,confirm_password:E.target.value}),className:"input"})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Two-Factor Authentication"}),e.jsxs("div",{className:"flex items-center justify-between max-w-md",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Enable 2FA"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Add an extra layer of security to your account"})]}),e.jsx("input",{type:"checkbox",checked:b.two_factor_enabled,onChange:E=>w({...b,two_factor_enabled:E.target.checked}),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{type:"submit",className:"btn-primary flex items-center gap-2",disabled:s,children:[e.jsx(Xl,{className:"w-4 h-4"}),s?"Saving...":"Update Security"]})})]})]})]})})},kee=({value:t,onChange:a,onCompanyFound:r,className:s="",placeholder:i,required:c=!1})=>{const{language:o}=Zi(),{token:u}=Ct(),[m,h]=g.useState("idle"),[x,f]=g.useState(null),[v,b]=g.useState(null),w={ro:{placeholder:"Introdu CUI (ex: 12345678)",validating:"Se verifica...",valid:"CUI valid",invalid:"CUI invalid",not_found:"Firma negasita in ANAF",lookup:"Cauta in ANAF",company_found:"Firma gasita",vat_registered:"Platitor TVA",not_vat_registered:"Neplatitor TVA",inactive:"Firma inactiva",use_data:"Foloseste datele"},en:{placeholder:"Enter CUI (e.g., 12345678)",validating:"Validating...",valid:"Valid CUI",invalid:"Invalid CUI",not_found:"Company not found in ANAF",lookup:"Search ANAF",company_found:"Company found",vat_registered:"VAT Registered",not_vat_registered:"Not VAT Registered",inactive:"Inactive company",use_data:"Use this data"}},N=w[o]||w.ro,y=D=>D.replace(/\s+/g,"").replace(/^ro/i,"").replace(/[^0-9]/g,""),_=g.useCallback(async(D,P=!1)=>{const L=y(D);if(L.length<2){h("idle"),f(null),b(null);return}h("validating"),f(null);try{const z=`/api/v1/fiscal/validate-cui.php?cui=${L}${P?"&lookup=true":""}`,M={};u&&(M.Authorization=`Bearer ${u}`);const q=await(await fetch(z,{headers:M})).json();q.success&&q.data.format_valid?P&&q.data.company?(b(q.data.company),h("valid"),r&&r(q.data.company)):P&&q.data.anaf_lookup&&!q.data.anaf_lookup.success?(h("not_found"),f(N.not_found)):h("valid"):(h("invalid"),f(q.data?.validation_errors?.[0]||N.invalid))}catch{h("invalid"),f("Network error")}},[u,r,N]),A=D=>{const P=D.target.value;a(P);const L=y(P);L.length>=6?_(L,!1):(h("idle"),f(null),b(null))},C=()=>{const D=y(t);D.length>=2&&_(D,!0)},E=()=>{v&&r&&r(v)},k=()=>{switch(m){case"validating":return e.jsx(Fz,{className:"w-5 h-5 text-blue-500 animate-spin"});case"valid":return e.jsx(Xn,{className:"w-5 h-5 text-green-500"});case"invalid":case"not_found":return e.jsx(ht,{className:"w-5 h-5 text-red-500"});default:return null}},O=()=>{switch(m){case"valid":return"border-green-500 focus:ring-green-500";case"invalid":case"not_found":return"border-red-500 focus:ring-red-500";default:return""}};return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"relative flex gap-2",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",value:t,onChange:A,placeholder:i||N.placeholder,className:`input pr-10 ${O()} ${s}`,required:c}),e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:k()})]}),e.jsxs("button",{type:"button",onClick:C,disabled:m==="validating"||y(t).length<2,className:"px-3 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 text-sm whitespace-nowrap",children:[e.jsx(Oa,{className:"w-4 h-4"}),N.lookup]})]}),m==="valid"&&!v&&e.jsxs("p",{className:"text-sm text-green-600 flex items-center gap-1",children:[e.jsx(Xn,{className:"w-4 h-4"}),N.valid]}),x&&e.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[e.jsx(ht,{className:"w-4 h-4"}),x]}),v&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mt-2",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(Li,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("h4",{className:"font-semibold text-green-900 truncate",children:v.name}),e.jsxs("div",{className:"flex gap-2",children:[v.vat_registered?e.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:N.vat_registered}):e.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-gray-100 text-gray-600 rounded",children:N.not_vat_registered}),v.is_inactive&&e.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-red-100 text-red-800 rounded",children:N.inactive})]})]}),e.jsxs("p",{className:"text-sm text-green-700 mt-1",children:["CIF: ",v.cif," | Nr. Reg.: ",v.registration_number]}),v.address&&e.jsx("p",{className:"text-sm text-green-600 mt-1 truncate",children:v.address}),r&&e.jsxs("button",{type:"button",onClick:E,className:"mt-2 text-sm font-medium text-green-700 hover:text-green-800 flex items-center gap-1",children:[e.jsx(Xn,{className:"w-4 h-4"}),N.use_data]})]})]})})]})},h3=()=>{const[t,a]=g.useState([]),[r,s]=g.useState(!0),[i,c]=g.useState(""),[o,u]=g.useState("all"),[m,h]=g.useState(!1),[x,f]=g.useState(null);g.useEffect(()=>{v()},[]);const v=async()=>{try{const A=await ac.list();a(A)}catch(A){console.error("Failed to load contacts:",A)}finally{s(!1)}},b=async A=>{if(window.confirm("Eti sigur c vrei s tergi acest contact?"))try{await ac.delete(A),a(t.filter(C=>C.id!==A))}catch(C){console.error("Failed to delete contact:",C),alert("tergerea contactului a euat")}},w=t.filter(A=>{const C=A.display_name.toLowerCase().includes(i.toLowerCase())||A.email?.toLowerCase().includes(i.toLowerCase())||A.company_name?.toLowerCase().includes(i.toLowerCase()),E=o==="all"||A.contact_type===o;return C&&E}),N=A=>{switch(A){case"customer":return"bg-blue-100 text-blue-800";case"vendor":return"bg-purple-100 text-purple-800";case"employee":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},y=A=>{switch(A){case"customer":return e.jsx(as,{className:"w-5 h-5 text-blue-600"});case"vendor":return e.jsx(Li,{className:"w-5 h-5 text-purple-600"});case"employee":return e.jsx(ka,{className:"w-5 h-5 text-green-600"});default:return e.jsx(as,{className:"w-5 h-5 text-gray-600"})}},_={customers:t.filter(A=>A.contact_type==="customer").length,vendors:t.filter(A=>A.contact_type==="vendor").length,employees:t.filter(A=>A.contact_type==="employee").length,total:t.length};return r?e.jsx(qe,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})})}):e.jsx(qe,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Contacte"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Gestioneaz clienii, furnizorii i membrii echipei tale"})]}),e.jsxs("button",{onClick:()=>h(!0),className:"btn-primary flex items-center gap-2",children:[e.jsx(wt,{className:"w-5 h-5"}),"Adaug Contact"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{label:"Total Contacte",value:_.total,color:"text-gray-900",icon:ka},{label:"Clieni",value:_.customers,color:"text-blue-600",icon:as},{label:"Furnizori",value:_.vendors,color:"text-purple-600",icon:Li},{label:"Angajai",value:_.employees,color:"text-green-600",icon:ka}].map((A,C)=>{const E=A.icon;return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:A.label}),e.jsx(E,{className:`w-5 h-5 ${A.color}`})]}),e.jsx("p",{className:`text-2xl font-bold ${A.color}`,children:A.value})]},C)})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Oa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Caut contacte...",value:i,onChange:A=>c(A.target.value),className:"input pl-10"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qi,{className:"w-5 h-5 text-gray-400"}),e.jsxs("select",{value:o,onChange:A=>u(A.target.value),className:"input",children:[e.jsx("option",{value:"all",children:"Toate Tipurile"}),e.jsx("option",{value:"customer",children:"Clieni"}),e.jsx("option",{value:"vendor",children:"Furnizori"}),e.jsx("option",{value:"employee",children:"Angajai"}),e.jsx("option",{value:"contractor",children:"Colaboratori"})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:w.length===0?e.jsxs("div",{className:"col-span-full card text-center py-12",children:[e.jsx(ka,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"Nu au fost gsite contacte"}),e.jsx("button",{onClick:()=>h(!0),className:"text-primary-600 hover:text-primary-700 text-sm mt-2 inline-block",children:"Adaug primul tu contact"})]}):w.map(A=>e.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center",children:y(A.contact_type)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:A.display_name}),e.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded ${N(A.contact_type)}`,children:A.contact_type})]})]})}),A.company_name&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-2",children:[e.jsx(Li,{className:"w-4 h-4"}),e.jsx("span",{children:A.company_name})]}),A.email&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-2",children:[e.jsx(Hi,{className:"w-4 h-4"}),e.jsx("span",{className:"truncate",children:A.email})]}),A.phone&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-4",children:[e.jsx(Yo,{className:"w-4 h-4"}),e.jsx("span",{children:A.phone})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t border-gray-200",children:[e.jsxs("button",{onClick:()=>{f(A),h(!0)},className:"flex-1 btn-secondary text-sm py-2 flex items-center justify-center gap-2",children:[e.jsx(ya,{className:"w-4 h-4"}),"Editeaz"]}),e.jsxs("button",{onClick:()=>b(A.id),className:"flex-1 btn-secondary text-sm py-2 flex items-center justify-center gap-2 text-red-600 hover:bg-red-50",children:[e.jsx(oa,{className:"w-4 h-4"}),"terge"]})]})]},A.id))}),m&&e.jsx(Aee,{contact:x,onClose:()=>{h(!1),f(null)},onSuccess:()=>{h(!1),f(null),v()}})]})})},Aee=({contact:t,onClose:a,onSuccess:r})=>{const[s,i]=g.useState(!1),c=!!t,[o,u]=g.useState({type:t?.contact_type||"customer",name:t?.display_name||"",email:t?.email||"",phone:t?.phone||"",company_name:t?.company_name||"",cui:t?.cui||"",registration_number:t?.registration_number||"",address:t?.address||"",city:t?.city||"",country:t?.country||"",notes:t?.notes||""}),m=x=>{u(f=>({...f,company_name:x.name||f.company_name,cui:x.cui||f.cui,registration_number:x.registration_number||f.registration_number,address:x.address||f.address,phone:x.phone||f.phone}))},h=async x=>{x.preventDefault(),i(!0);try{c?(await ac.update(t.id,o),alert("Contact actualizat cu succes!")):(await ac.create(o),alert("Contact creat cu succes!")),r()}catch(f){console.error(`Failed to ${c?"update":"create"} contact:`,f),alert(`${c?"Actualizarea":"Crearea"} contactului a euat`)}finally{i(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:c?"Editeaz Contact":"Adaug Contact Nou"}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tip Contact *"}),e.jsxs("select",{value:o.type,onChange:x=>u({...o,type:x.target.value}),className:"input",required:!0,children:[e.jsx("option",{value:"customer",children:"Client"}),e.jsx("option",{value:"vendor",children:"Furnizor"}),e.jsx("option",{value:"lead",children:"Lead"}),e.jsx("option",{value:"partner",children:"Partener"}),e.jsx("option",{value:"employee",children:"Angajat"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nume Complet *"}),e.jsx("input",{type:"text",value:o.name,onChange:x=>u({...o,name:x.target.value}),className:"input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:o.email,onChange:x=>u({...o,email:x.target.value}),className:"input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefon"}),e.jsx("input",{type:"tel",value:o.phone,onChange:x=>u({...o,phone:x.target.value}),className:"input",placeholder:"+40 (722) 123-456"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nume Companie"}),e.jsx("input",{type:"text",value:o.company_name,onChange:x=>u({...o,company_name:x.target.value}),className:"input"})]})]}),(o.type==="customer"||o.type==="vendor"||o.type==="partner")&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CUI / CIF"}),e.jsx(kee,{value:o.cui,onChange:x=>u({...o,cui:x}),onCompanyFound:m})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nr. Registru Comert"}),e.jsx("input",{type:"text",value:o.registration_number,onChange:x=>u({...o,registration_number:x.target.value}),className:"input",placeholder:"J40/1234/2024"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adres"}),e.jsx("input",{type:"text",value:o.address,onChange:x=>u({...o,address:x.target.value}),className:"input",placeholder:"Adresa strzii"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ora"}),e.jsx("input",{type:"text",value:o.city,onChange:x=>u({...o,city:x.target.value}),className:"input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ar"}),e.jsx("input",{type:"text",value:o.country,onChange:x=>u({...o,country:x.target.value}),className:"input"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notie"}),e.jsx("textarea",{value:o.notes,onChange:x=>u({...o,notes:x.target.value}),className:"input",rows:3,placeholder:"Notie adiionale..."})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:a,className:"btn-secondary flex-1",disabled:s,children:"Anuleaz"}),e.jsx("button",{type:"submit",className:"btn-primary flex-1 disabled:opacity-50",disabled:s,children:s?c?"Se actualizeaz...":"Se creeaz...":c?"Actualizeaz Contact":"Creeaz Contact"})]})]})]})})})},Eee=()=>{const[t,a]=g.useState(null),[r,s]=g.useState("all"),[i,c]=g.useState(!1),[o,u]=g.useState(""),[m,h]=g.useState(null),[x,f]=g.useState(!1),v=[{title:"Modificri Cod Fiscal 2025",summary:"Noi praguri TVA i modificri la impozitul pe profit pentru microntreprinderi",urgency:"urgent",effectiveDate:"1 ianuarie 2025"},{title:"Declaraia Unic 2025",summary:"Termenul limit de depunere: 25 mai 2025. Nouti privind deducerile personale.",urgency:"important",effectiveDate:"25 mai 2025"},{title:"TVA Split Payment",summary:"Plata defalcat a TVA obligatorie pentru toate companiile cu cifr de afaceri peste 15.000 lei/factur",urgency:"info",effectiveDate:"n vigoare"},{title:"e-Factura",summary:"Obligativitatea sistemului RO e-Factura pentru toate tranzaciile B2B i B2G",urgency:"info",effectiveDate:"n vigoare"}],b=[{title:"Declaraia Unic",code:"D212",description:"Pentru venituri din salarii, dividende, nchirieri"},{title:"Declaraie TVA",code:"D300",description:"Declaraie privind taxa pe valoarea adugat"},{title:"Bilan Contabil",code:"D101",description:"Situaii financiare anuale"},{title:"Declaraie REVISAL",code:"REVISAL",description:"Registrul general de eviden a salariailor"},{title:"Declaraie CAS/CASS",code:"D112",description:"Obligaii de plat ctre bugetul de stat"},{title:"Cerere nregistrare PFA",code:"PFA",description:"Formular nregistrare persoan fizic autorizat"}],w=[{id:1,question:"Cnd trebuie s m nregistrez ca pltitor de TVA?",category:"tva",answer:`<strong>Pragul de nregistrare obligatoriu:</strong> 300.000 lei (aproximativ 60.000 EUR) cifr de afaceri n ultimele 12 luni.<br><br>
      <strong>Pai de urmat:</strong><br>
      1. Depui formularul 010 la ANAF n termen de 10 zile de la depirea pragului<br>
      2. Primeti Certificat de nregistrare n scopuri de TVA<br>
      3. Emii facturi cu TVA ncepnd cu luna urmtoare<br>
      4. Depui declaraii lunare D300 pn n data de 25 a lunii urmtoare<br><br>
      <strong>Note importante:</strong><br>
       Poi opta pentru nregistrare voluntar chiar sub prag<br>
       TVA standard: 19%, TVA redus: 9% (alimente, medicamente), 5% (cri, cazare)<br>
       Sistemul TVA la ncasare disponibil pentru cifre de afaceri sub 4.5 milioane lei`},{id:2,question:"Ce condiii trebuie s ndeplinesc pentru regimul de microntreprindere?",category:"microenterprise",answer:`<strong>Condiii cumulative pentru microntreprindere (impozit 1%):</strong><br><br>
      1. <strong>Cifr de afaceri</strong>: Maximum 500.000 EUR n anul fiscal precedent<br>
      2. <strong>Capital social</strong>: Deinut de persoane fizice n proporie de min. 25%<br>
      3. <strong>Angajai</strong>: Minimum 1 angajat cu contract full-time (sau 2 part-time)<br>
      4. <strong>Activitate autorizat</strong>: Nu banc, asigurri, pariuri, consultan fiscal<br><br>
      <strong>Cote de impozitare:</strong><br>
       Cu cel puin 1 angajat: <span style="color: #10b981; font-weight: bold;">1%</span> din cifra de afaceri<br>
       Fr angajai sau cifr > 60.000 EUR: <span style="color: #ef4444; font-weight: bold;">3%</span> din cifra de afaceri<br><br>
      <strong>Tranziie automat la impozit pe profit (16%):</strong><br>
       Cnd cifra de afaceri depete 500.000 EUR<br>
       Cnd condiiile nu mai sunt ndeplinite`},{id:3,question:"Cum se calculeaz contribuiile sociale pentru PFA?",category:"pfa",answer:`<strong>Contribuii obligatorii pentru PFA:</strong><br><br>
      <strong>1. CAS (Pensie) - 25% din venitul net anual</strong><br>
       Baza de calcul: Venit brut - Cheltuieli deductibile (maxim 40%)<br>
       Plafon minim: 12  salariul minim brut (12  3.700 lei = 44.400 lei n 2025)<br>
       Plafon maxim: 60.000 lei/an<br>
       Datorat doar dac venitul net > 12 salarii minime<br><br>
      <strong>2. CASS (Sntate) - 10% din venitul net anual</strong><br>
       Baza de calcul: Aceeai ca pentru CAS<br>
       Plafon minim: 6  salariul minim brut (6  3.700 lei = 22.200 lei n 2025)<br>
       Obligatorie indiferent de nivelul veniturilor<br><br>
      <strong>3. Impozit pe venit - 10% din venitul net</strong><br><br>
      <strong>Exemplu calcul pentru 100.000 lei venit brut:</strong><br>
       Cheltuieli deductibile (40%): 40.000 lei<br>
       Venit net: 60.000 lei<br>
       CAS (25%): 15.000 lei<br>
       CASS (10%): 6.000 lei<br>
       Impozit (10%): 6.000 lei<br>
       <strong>Total obligaii</strong>: 27.000 lei (27%)<br>
       <strong>Rmne net</strong>: 73.000 lei`},{id:4,question:"Ce obligaii am ca angajator?",category:"employer",answer:`<strong>Obligaii lunare ale angajatorului:</strong><br><br>
      <strong>1. nregistrare n REVISAL</strong><br>
       nainte de prima zi de lucru a angajatului<br>
       Contract individual de munc nregistrat electronic<br><br>
      <strong>2. Calcul i plat contribuii sociale (lunar pn pe 25):</strong><br>
       CAS angajat: 25% din salariul brut (reinut din salariu)<br>
       CASS angajat: 10% din salariul brut (reinut din salariu)<br>
       Impozit venit: 10% din (salariu brut - contribuii - deducere personal)<br>
       CAS angajator: 4% din salariul brut (pltit de companie)<br>
       Contribuie asigurtorie pentru munc: 2.25% (pltit de companie)<br><br>
      <strong>3. Declaraii obligatorii:</strong><br>
       D112: Declaraie privind obligaiile de plat (lunar, pn pe 25)<br>
       Flutura de salariu: Comunicat lunar n REVISAL<br>
       Declaraia anual 205: Situaia plilor ctre persoane fizice<br><br>
      <strong>Exemplu cost total pentru salariu brut 5.000 lei:</strong><br>
       Salariu brut: 5.000 lei<br>
       CAS angajat (25%): -1.250 lei<br>
       CASS angajat (10%): -500 lei<br>
       Baz impozit: 3.250 lei (minus deducere 510 lei = 2.740 lei)<br>
       Impozit (10%): -274 lei<br>
       <strong>Salariu net primit</strong>: 2.976 lei<br>
       CAS angajator (4%): +200 lei<br>
       CAM (2.25%): +112.50 lei<br>
       <strong>Cost total companie</strong>: 5.312.50 lei`},{id:5,question:"Ce cheltuieli sunt deductibile fiscal?",category:"deductible",answer:`<strong>Cheltuieli deductibile fiscal (conform Codului Fiscal):</strong><br><br>
      <strong> Deductibile 100%:</strong><br>
       Materii prime i materiale<br>
       Salarii i contribuii sociale<br>
       Chirii pentru spaii comerciale<br>
       Utiliti (energie, gaz, ap, internet) pentru spaii comerciale<br>
       Servicii profesionale (contabilitate, juridic, consultan)<br>
       Amortizarea mijloacelor fixe<br>
       Cheltuieli de marketing i publicitate<br>
       Servicii bancare i dobnzi<br><br>
      <strong> Deductibile parial:</strong><br>
       Protocol (2% din venitul impozabil, max 5% din cheltuieli cu salariile)<br>
       Sponsorizri (0.5% din cifra de afaceri pentru sport/cultur/religie)<br>
       Cheltuieli sociale (5% din cheltuieli cu salariile)<br><br>
      <strong> Nedeductibile:</strong><br>
       Amenzile i penalitile<br>
       Cheltuieli personale ale asociailor/administratorilor<br>
       TVA nedeductibil<br>
       Impozitul pe profit<br>
       Cheltuieli fr documente justificative<br><br>
      <strong> Condiii generale de deductibilitate:</strong><br>
      1. S fie efectuate n scopul desfurrii activitii<br>
      2. S fie justificate cu documente legale (facturi, contracte)<br>
      3. S fie nregistrate n contabilitate<br>
      4. S respecte reglementrile fiscale specifice`},{id:6,question:"Cum funcioneaz sistemul TVA la ncasare?",category:"tva",answer:`<strong>TVA la ncasare (Cash Accounting) - Sistem simplificat pentru IMM-uri:</strong><br><br>
      <strong>Condiii de eligibilitate:</strong><br>
       Cifra de afaceri anual sub 4.500.000 lei (aproximativ 900.000 EUR)<br>
       nregistrat ca pltitor de TVA<br>
       Depunerea cererii la ANAF (formular 399)<br><br>
      <strong>Cum funcioneaz:</strong><br>
       <span style="color: #10b981;"> Avantaj principal</span>: Plteti TVA ctre stat doar cnd ncasezi de la clieni (nu la emiterea facturii)<br>
       <span style="color: #10b981;"> Beneficiu cash-flow</span>: Nu blochezi bani n TVA nencasat<br>
       <span style="color: #ef4444;"> Dezavantaj</span>: Poi deduce TVA din achiziii doar cnd plteti furnizorilor<br><br>
      <strong>Exemplu concret:</strong><br><br>
      <em>Fr TVA la ncasare (sistem normal):</em><br>
       Emii factur 10.000 lei + 1.900 lei TVA pe 15 ianuarie<br>
       ncasezi de la client pe 15 martie<br>
       <strong>Trebuie s plteti TVA (1.900 lei) pn pe 25 februarie</strong> (chiar dac nu ai ncasat!)<br><br>
      <em>Cu TVA la ncasare:</em><br>
       Emii factur 10.000 lei + 1.900 lei TVA pe 15 ianuarie<br>
       ncasezi de la client pe 15 martie<br>
       <strong>Plteti TVA (1.900 lei) pn pe 25 aprilie</strong> (dup ncasare)<br><br>
      <strong>Atenie:</strong><br>
       Facturile trebuie marcate cu meniunea "TVA la ncasare"<br>
       Evidena separat a facturilor pltite/nepltite<br>
       Declaraia D300 cu seciuni speciale pentru TVA la ncasare`}],N=[{frequency:"Lunar",deadline:"25 a fiecrei luni",items:["Declaraie TVA (D300) - dac eti pltitor TVA","Declaraie obligaii de plat (D112) - dac ai angajai","Plata TVA colectat","Plata contribuii sociale angajai"]},{frequency:"Trimestrial",deadline:"25 ale lunii urmtoare trimestrului",items:["Declaraie informativ (D394) - tranzacii intracomunitare","Situaii financiare trimestriale (pentru companii mari)"]},{frequency:"Anual",deadline:"Variabil",items:["Declaraia Unic (D212) - pn pe 25 mai","Declaraie impozit profit/microntreprindere (D101) - pn pe 25 martie","Bilan contabil - pn pe 150 zile de la ncheierea exerciiului","Declaraie 205 - pli ctre persoane fizice - pn pe 28 februarie"]}],y=L=>{a(t===L?null:L)},_=L=>{s(L)},A=r==="all"?w:w.filter(L=>L.category===r),C=L=>{const z=E(L),M=new Blob([z],{type:"text/calendar"}),F=URL.createObjectURL(M),q=document.createElement("a");q.href=F,q.download=`obligatii_fiscale_${L}.ics`,q.click()},E=L=>{let z="";const M=new Date,F=M.getFullYear();if(L==="monthly")for(let q=1;q<=12;q++){const te=new Date(F,q-1,25);z+=`
BEGIN:VEVENT
UID:${Date.now()}-${q}@documentiulia.ro
DTSTAMP:${k(M)}
DTSTART:${k(te)}
SUMMARY:Declaraii fiscale lunare (D300, D112)
DESCRIPTION:Termen limit depunere declaraii TVA i obligaii de plat
BEGIN:VALARM
TRIGGER:-P3D
DESCRIPTION:Reminder: 3 zile pn la termen
ACTION:DISPLAY
END:VALARM
END:VEVENT`}return`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//AccounTech AI//Fiscal Obligations//RO
CALSCALE:GREGORIAN
METHOD:PUBLISH${z}
END:VCALENDAR`},k=L=>L.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",O=async()=>{if(o.trim()){f(!0);try{const z=await(await fetch("/api/v1/fiscal/ai-consultant",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:o})})).json();z.success&&h({answer:z.answer,references:z.references||[]})}catch(L){console.error("Error calling AI consultant:",L)}finally{f(!1)}}},D={urgent:"border-red-500 bg-red-50",important:"border-orange-500 bg-orange-50",info:"border-cyan-500 bg-cyan-50"},P={urgent:"bg-red-500 text-white",important:"bg-orange-500 text-white",info:"bg-cyan-500 text-white"};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50",children:[e.jsx("nav",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs(Ne,{to:"/",className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-600 to-primary-700 rounded-lg flex items-center justify-center",children:e.jsx(Wa,{className:"w-6 h-6 text-white"})}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:"AccounTech AI"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Ne,{to:"/",className:"text-gray-700 hover:text-primary-600 font-medium",children:"Acas"}),e.jsx(Ne,{to:"/login",className:"btn-primary",children:"Login"})]})]})})}),e.jsxs("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:" Legislaie Fiscal Romn"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Ghidul tu complet pentru conformitate fiscal n Romnia"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-2xl p-8 text-white text-center mb-12 shadow-xl cursor-pointer hover:shadow-2xl transition-shadow",onClick:()=>c(!0),children:[e.jsx("div",{className:"inline-block mb-4",children:e.jsx(nc,{className:"w-16 h-16 animate-pulse"})}),e.jsx("h3",{className:"text-3xl font-bold mb-3",children:"AI Consultant Fiscal cu Acces la Legislaie"}),e.jsx("p",{className:"text-indigo-100 mb-6 max-w-2xl mx-auto",children:"Consultantul nostru AI are acces la ntreaga legislaie fiscal romn i poate interpreta cazuri complexe."}),e.jsxs("button",{onClick:()=>c(!0),className:"bg-white text-indigo-600 px-8 py-3 rounded-lg font-semibold hover:bg-indigo-50 transition-colors inline-flex items-center gap-2",children:[e.jsx(Wa,{className:"w-5 h-5"}),"Consult AI-ul Acum - Gratuit"]}),e.jsx("p",{className:"text-sm text-indigo-200 mt-4",children:"AI-ul analizeaz situaia ta i ofer recomandri bazate pe legislaia n vigoare"})]})]}),e.jsxs("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(ca,{className:"w-6 h-6 text-red-500"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Subiecte Fierbini"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:v.map((L,z)=>e.jsxs("div",{className:`border-l-4 p-6 rounded-lg shadow-md ${D[L.urgency]}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:L.title}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${P[L.urgency]}`,children:L.urgency==="urgent"?"URGENT":L.urgency==="important"?"IMPORTANT":"INFO"})]}),e.jsx("p",{className:"text-gray-700 mb-3",children:L.summary}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"n vigoare:"})," ",L.effectiveDate]})]},z))})]}),e.jsxs("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(Ze,{className:"w-6 h-6 text-primary-600"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Formulare i Template-uri"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:b.map((L,z)=>e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:e.jsx(Ze,{className:"w-6 h-6 text-primary-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900",children:L.title}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Cod: ",L.code]})]})]}),e.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:L.description}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{className:"flex-1 bg-primary-600 text-white px-4 py-2 rounded hover:bg-primary-700 transition-colors text-sm flex items-center justify-center gap-2",children:[e.jsx(tr,{className:"w-4 h-4"}),"Descarc PDF"]})})]},z))})]}),e.jsxs("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(nt,{className:"w-6 h-6 text-primary-600"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Calendar Obligaii Fiscale"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:N.map((L,z)=>e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[e.jsx("div",{className:`inline-block px-4 py-2 rounded-full text-sm font-semibold mb-4 ${z===0?"bg-blue-100 text-blue-800":z===1?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:L.frequency}),e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[e.jsx("strong",{children:"Termen:"})," ",L.deadline]}),e.jsx("ul",{className:"space-y-2",children:L.items.map((M,F)=>e.jsxs("li",{className:"text-sm text-gray-700 flex items-start gap-2",children:[e.jsx("span",{className:"text-primary-600 mt-1",children:""}),e.jsx("span",{children:M})]},F))}),e.jsxs("button",{onClick:()=>C(L.frequency.toLowerCase()),className:"mt-4 w-full bg-primary-50 text-primary-600 px-4 py-2 rounded hover:bg-primary-100 transition-colors text-sm font-medium flex items-center justify-center gap-2",children:[e.jsx(nt,{className:"w-4 h-4"}),"Adaug n Calendar"]})]},z))})]}),e.jsxs("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(za,{className:"w-6 h-6 text-primary-600"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"ntrebri Frecvente"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[e.jsx("button",{onClick:()=>_("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r==="all"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Toate"}),e.jsx("button",{onClick:()=>_("tva"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r==="tva"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"TVA"}),e.jsx("button",{onClick:()=>_("microenterprise"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r==="microenterprise"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Microntreprindere"}),e.jsx("button",{onClick:()=>_("pfa"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r==="pfa"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"PFA"}),e.jsx("button",{onClick:()=>_("employer"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r==="employer"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Angajatori"}),e.jsx("button",{onClick:()=>_("deductible"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r==="deductible"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Cheltuieli Deductibile"})]}),e.jsx("div",{className:"space-y-4",children:A.map(L=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsxs("button",{onClick:()=>y(L.id),className:"w-full px-6 py-4 flex justify-between items-center hover:bg-gray-50 transition-colors",children:[e.jsx("span",{className:"font-semibold text-gray-900 text-left",children:L.question}),t===L.id?e.jsx(sz,{className:"w-5 h-5 text-gray-500"}):e.jsx(yd,{className:"w-5 h-5 text-gray-500"})]}),t===L.id&&e.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200",children:[e.jsx("div",{className:"text-gray-700 mb-4",dangerouslySetInnerHTML:{__html:L.answer}}),e.jsxs("button",{onClick:()=>c(!0),className:"bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 transition-colors text-sm font-medium inline-flex items-center gap-2",children:[e.jsx(Wa,{className:"w-4 h-4"}),"ntreab AI pentru cazul tu specific"]})]})]},L.id))})]}),e.jsx("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-indigo-600 rounded-2xl p-12 text-white text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ai nevoie de consultan personalizat?"}),e.jsx("p",{className:"text-xl text-indigo-100 mb-8 max-w-2xl mx-auto",children:"Consultantul nostru AI poate analiza situaia ta specific i oferi recomandri bazate pe legislaia n vigoare."}),e.jsxs("button",{onClick:()=>c(!0),className:"bg-white text-primary-600 px-8 py-4 rounded-lg font-bold text-lg hover:bg-gray-50 transition-colors inline-flex items-center gap-3",children:[e.jsx(nc,{className:"w-6 h-6"}),"Consult AI-ul Gratuit"]})]})}),i&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Wa,{className:"w-8 h-8"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold",children:"Consultant Fiscal AI"}),e.jsx("p",{className:"text-indigo-100 text-sm",children:"Acces complet la legislaia fiscal romn"})]})]}),e.jsx("button",{onClick:()=>c(!1),className:"text-white hover:bg-white/20 rounded-lg p-2 transition-colors",children:""})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"ntrebri rapide:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["Trebuie s m nregistrez la TVA?","Cum calc contribuiile pentru PFA?","Ce nseamn microntreprindere?","Ce cheltuieli sunt deductibile?"].map(L=>e.jsx("button",{onClick:()=>u(L),className:"px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm text-gray-700 transition-colors",children:L},L))})]}),e.jsx("div",{className:"mb-4",children:e.jsx("textarea",{value:o,onChange:L=>u(L.target.value),placeholder:"Pune o ntrebare despre legislaia fiscal romn...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none",rows:4})}),e.jsx("button",{onClick:O,disabled:x||!o.trim(),className:"w-full bg-indigo-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-indigo-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:x?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Se analizeaz..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Wa,{className:"w-5 h-5"}),"ntreab AI-ul"]})}),m&&e.jsx("div",{className:"mt-6 p-6 bg-gradient-to-br from-indigo-50 to-purple-50 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(Wa,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Rspuns AI:"}),e.jsx("div",{className:"text-gray-700 mb-4",dangerouslySetInnerHTML:{__html:m.answer}}),m.references.length>0&&e.jsxs("div",{className:"border-t border-indigo-200 pt-4",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:" Referine legislative:"}),e.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:m.references.map((L,z)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Dz,{className:"w-4 h-4 text-indigo-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:L})]},z))})]})]})]})})]})]})}),e.jsx("footer",{className:"bg-gray-900 text-gray-300 py-12 mt-20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:e.jsx("p",{className:"text-sm",children:" 2025 AccounTech AI. Toate drepturile rezervate. | Informaiile prezentate au caracter informativ. Pentru consultan fiscal personalizat, v recomandm s apelai la un consultant fiscal autorizat."})})})]})},Ac="/api/v1",Oee=async(t,a)=>{try{const r=await fetch(`${Ac}/business/consultant.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:t,user_id:a?.toString()})});if(!r.ok)throw new Error("Failed to get business consultation");return await r.json()}catch(r){throw console.error("Business consultation error:",r),r}},Tee=async t=>{try{const a=await fetch(`${Ac}/fiscal/ai-consultant.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:t})});if(!a.ok)throw new Error("Failed to get fiscal consultation");return await a.json()}catch(a){throw console.error("Fiscal consultation error:",a),a}},Dee=async t=>{try{const a=await fetch(`${Ac}/context/get.php?user_id=${t.toString()}`);if(!a.ok)throw new Error("Failed to get personal context");return await a.json()}catch(a){throw console.error("Get context error:",a),a}},Pee=async(t,a,r)=>{try{const s=await fetch(`${Ac}/context/update.php`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t.toString(),updates:a,change_reason:r})});if(!s.ok)throw new Error("Failed to update personal context");return await s.json()}catch(s){throw console.error("Update context error:",s),s}},zee=async t=>{try{const a=await fetch(`${Ac}/context/export.php?user_id=${t.toString()}`);if(!a.ok)throw new Error("Failed to export personal context");const r=await a.json(),s=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),i=window.URL.createObjectURL(s),c=document.createElement("a");return c.href=i,c.download=`business_context_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(c),c.click(),window.URL.revokeObjectURL(i),document.body.removeChild(c),r}catch(a){throw console.error("Export context error:",a),a}},Mee=async(t,a)=>{try{const r=await fetch(`${Ac}/context/import.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t,context_data:a})});if(!r.ok)throw new Error("Failed to import personal context");return await r.json()}catch(r){throw console.error("Import context error:",r),r}},Ree=()=>{const{user:t}=Ct(),[a,r]=g.useState(""),[s,i]=g.useState(""),[c,o]=g.useState(!1),[u,m]=g.useState(0),[h,x]=g.useState(!1),[f,v]=g.useState(""),b=["Cum pot s-mi cresc veniturile?","Ce strategie de pre ar trebui s folosesc?","Ar trebui s angajez mai muli angajai acum?","Cum mi mbuntesc fluxul de numerar?","Care sunt cele 5 pri ale oricrei afaceri?"],w=async y=>{if(y.preventDefault(),!!a.trim()){o(!0),v(""),i("");try{const _=await Oee(a,t?.id);_.success!==!1?(i(_.answer||"No answer received"),m(_.confidence*100||90),x(_.context_used||!1)):v(_.message||"Failed to get consultation")}catch(_){v(_.message||"An error occurred while consulting the AI")}finally{o(!1)}}},N=y=>{r(y)};return e.jsxs("div",{className:"max-w-5xl mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl shadow-lg",children:e.jsx(Wa,{className:"w-10 h-10 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Consultant de Afaceri AI"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Sfaturi strategice bazate pe principii dovedite de business i inteligen artificial"})]})]}),h&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(nc,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-900",children:"Rspuns Personalizat Activ"}),e.jsxs("p",{className:"text-xs text-green-700",children:["Folosim contextul tu de business pentru sfaturi personalizate (",u.toFixed(0),"% confiden)"]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Pune ntrebarea Ta de Business"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Primete sfaturi strategice despre venituri, marketing, vnzri, operaiuni i finane"})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsx("div",{children:e.jsx("textarea",{value:a,onChange:y=>r(y.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:4,placeholder:"Exemplu: Cum pot s-mi cresc veniturile lunare cu 30%?",disabled:c})}),e.jsx("button",{type:"submit",disabled:c||!a.trim(),className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 disabled:from-gray-300 disabled:to-gray-300 disabled:cursor-not-allowed transition-all shadow-md hover:shadow-lg",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),e.jsx("span",{children:"Se gndete..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Zx,{className:"w-5 h-5"}),e.jsx("span",{children:"Primete Sfaturi AI"})]})})]}),f&&e.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-800",children:f})}),s&&!c&&e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Wa,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"font-medium",children:"Rspuns Consultant AI:"}),e.jsxs("span",{className:"ml-auto bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-xs font-medium",children:[u.toFixed(0),"% Confiden"]})]}),e.jsx("div",{className:"p-6 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border border-blue-100",children:e.jsx("div",{className:"text-gray-800 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:s}})})]})]})]}),!s&&!c&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(za,{className:"w-5 h-5 text-gray-600"}),"ntrebri Exemplu"]}),e.jsx("div",{className:"space-y-2",children:b.map((y,_)=>e.jsx("button",{onClick:()=>N(y),className:"w-full text-left px-4 py-3 bg-gray-50 hover:bg-blue-50 rounded-lg transition-colors text-sm text-gray-700 hover:text-blue-700 border border-gray-200 hover:border-blue-200",children:y},_))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-5 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:e.jsx(nc,{className:"w-4 h-4 text-white"})}),e.jsx("h4",{className:"font-semibold text-blue-900",children:"Crearea de Valoare"})]}),e.jsx("p",{className:"text-sm text-blue-800",children:"Descoper ce au nevoie oamenii i creeaz produse sau servicii care rezolv probleme reale"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-5 border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"p-2 bg-green-600 rounded-lg",children:e.jsx(Ue,{className:"w-4 h-4 text-white"})}),e.jsx("h4",{className:"font-semibold text-green-900",children:"Marketing & Vnzri"})]}),e.jsx("p",{className:"text-sm text-green-800",children:"Atrage atenia, construiete cererea i transform prospecii n clieni pltitori"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-5 border border-purple-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"p-2 bg-purple-600 rounded-lg",children:e.jsx(Wa,{className:"w-4 h-4 text-white"})}),e.jsx("h4",{className:"font-semibold text-purple-900",children:"Finane"})]}),e.jsx("p",{className:"text-sm text-purple-800",children:"Gestioneaz fluxul de numerar, preurile i profitabilitatea pentru a construi o afacere sustenabil"})]})]})]})},Lee=()=>{const[t,a]=g.useState(""),[r,s]=g.useState(""),[i,c]=g.useState([]),[o,u]=g.useState(!1),[m,h]=g.useState(""),x=["Care este pragul de nregistrare pentru TVA n 2025?","Ce condiii trebuie s ndeplinesc pentru regimul de microntreprindere?","Cum se calculeaz contribuiile sociale pentru PFA?","Cnd trebuie depus Declaraia Unic?","Ce cheltuieli sunt deductibile fiscal?"],f=async b=>{if(b.preventDefault(),!!t.trim()){u(!0),h(""),s(""),c([]);try{const w=await Tee(t);w.success!==!1?(s(w.answer||"Nu am primit un rspuns"),c(w.articles_referenced||[])):h(w.message||"Consultarea fiscal a euat")}catch(w){h(w.message||"A aprut o eroare la consultarea legislaiei fiscale")}finally{u(!1)}}},v=b=>{a(b)};return e.jsxs("div",{className:"max-w-5xl mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl shadow-lg",children:e.jsx(xy,{className:"w-10 h-10 text-white"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:""}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Consultant Fiscal AI"})]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"628 articole din Codul Fiscal 2015  Rspunsuri cu referine legale"})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(ca,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Consultan Fiscal Automat"}),e.jsx("p",{className:"text-xs text-blue-700",children:"AI-ul are acces la ntreaga legislaie fiscal romn i poate interpreta situaii complexe. Rspunsurile includ referine la articolele relevante din Codul Fiscal."})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Pune ntrebarea Ta Fiscal"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Scrie n limba romn pentru cele mai bune rezultate"})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsx("div",{children:e.jsx("textarea",{value:t,onChange:b=>a(b.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",rows:4,placeholder:"Exemplu: Care este pragul de nregistrare pentru TVA n 2025?",disabled:o})}),e.jsx("button",{type:"submit",disabled:o||!t.trim(),className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 disabled:from-gray-300 disabled:to-gray-300 disabled:cursor-not-allowed transition-all shadow-md hover:shadow-lg",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),e.jsx("span",{children:"Analizez legislaia..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Zx,{className:"w-5 h-5"}),e.jsx("span",{children:"Consult Legislaia"})]})})]}),m&&e.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-800",children:m})}),r&&!o&&e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(xy,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Rspuns AI cu Baz Legal:"})]}),e.jsx("div",{className:"p-6 bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg border border-green-100",children:e.jsx("div",{className:"text-gray-800 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:r}})}),i&&i.length>0&&e.jsxs("div",{className:"mt-4 p-4 bg-white border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Ze,{className:"w-5 h-5 text-gray-600"}),e.jsx("h4",{className:"font-semibold text-gray-900",children:"Articole Referite:"})]}),e.jsx("ul",{className:"space-y-2",children:i.map((b,w)=>e.jsxs("li",{className:"text-sm text-gray-700 flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 mt-0.5",children:""}),e.jsx("span",{children:b})]},w))})]})]})]})]}),!r&&!o&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Ze,{className:"w-5 h-5 text-gray-600"}),"ntrebri Frecvente"]}),e.jsx("div",{className:"space-y-2",children:x.map((b,w)=>e.jsx("button",{onClick:()=>v(b),className:"w-full text-left px-4 py-3 bg-gray-50 hover:bg-green-50 rounded-lg transition-colors text-sm text-gray-700 hover:text-green-700 border border-gray-200 hover:border-green-200",children:b},w))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-5 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:e.jsx(nt,{className:"w-4 h-4 text-white"})}),e.jsx("h4",{className:"font-semibold text-blue-900",children:"Termene Importante"})]}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[e.jsx("li",{children:" 25 ale lunii - Declaraie TVA (D300)"}),e.jsx("li",{children:" 25 ale lunii - Plata TVA"}),e.jsx("li",{children:" 25 Mai - Declaraia Unic (D212)"}),e.jsx("li",{children:" 31 Martie - Bilan contabil"})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-5 border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"p-2 bg-green-600 rounded-lg",children:e.jsx(Ze,{className:"w-4 h-4 text-white"})}),e.jsx("h4",{className:"font-semibold text-green-900",children:"Template-uri Disponibile"})]}),e.jsxs("ul",{className:"text-sm text-green-800 space-y-2",children:[e.jsx("li",{children:" Declaraia Unic (D212)"}),e.jsx("li",{children:" Declaraie TVA (D300)"}),e.jsx("li",{children:" Bilan Contabil (D101)"}),e.jsx("li",{children:" Declaraie REVISAL"})]})]})]}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-xs text-yellow-800",children:[e.jsx("strong",{children:"Not important:"})," Informaiile furnizate de AI sunt orientative i bazate pe Codul Fiscal 2015. Pentru situaii complexe sau decizii importante, v recomandm s consultai un expert contabil autorizat."]})]})},Iee=()=>{const{user:t}=Ct(),[a,r]=g.useState(null),[s,i]=g.useState(!0),[c,o]=g.useState(!1),[u,m]=g.useState({}),[h,x]=g.useState(""),[f,v]=g.useState("");g.useEffect(()=>{b()},[t]);const b=async()=>{if(t?.id){i(!0);try{const k=await Dee(t.id);k.success&&(r(k.context),m(k.context?.context_data||{}))}catch{x("Nu s-a putut ncrca contextul personal")}finally{i(!1)}}},w=async()=>{if(t?.id){i(!0),x(""),v("");try{const k=await Pee(t.id,{context_data:u},"Manual update from Personal Context page");k.success?(v("Context actualizat cu succes!"),r(k.context),o(!1),setTimeout(()=>v(""),3e3)):x(k.message||"Actualizarea a euat")}catch(k){x(k.message||"A aprut o eroare la actualizare")}finally{i(!1)}}},N=async()=>{if(t?.id)try{await zee(t.id),v("Context exportat cu succes!"),setTimeout(()=>v(""),3e3)}catch{x("Exportul a euat")}},y=async k=>{if(!t?.id||!k.target.files?.[0])return;const O=k.target.files[0],D=new FileReader;D.onload=async P=>{try{const L=JSON.parse(P.target?.result),z=await Mee(t.id,L);z.success?(v("Context importat cu succes!"),await b(),setTimeout(()=>v(""),3e3)):x(z.message||"Importul a euat")}catch{x("Fiier invalid sau eroare la import")}},D.readAsText(O)};if(s&&!a)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-purple-500 border-t-transparent"})});const _=a?.context_data||{},A=_.basic_info||{},E=(_.performance_tracking||{}).current_metrics||{};return e.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-purple-500 to-violet-600 rounded-xl shadow-lg",children:e.jsx(oy,{className:"w-10 h-10 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Contextul Meu de Business"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Profilul tu pentru consultan AI personalizat"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",title:"Export context",children:[e.jsx(tr,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden md:inline",children:"Export"})]}),e.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors cursor-pointer",children:[e.jsx(Xo,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden md:inline",children:"Import"}),e.jsx("input",{type:"file",accept:".json",onChange:y,className:"hidden"})]}),c?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:w,disabled:s,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:bg-gray-300",children:[e.jsx(Xl,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden md:inline",children:"Salveaz"})]}),e.jsxs("button",{onClick:()=>{o(!1),m(a?.context_data||{})},className:"flex items-center gap-2 px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",children:[e.jsx(ht,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden md:inline",children:"Anuleaz"})]})]}):e.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",children:[e.jsx(ya,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden md:inline",children:"Editeaz"})]})]})]}),f&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-green-800",children:f}),h&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-800",children:h}),!a&&!s&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[e.jsx(oy,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Niciun Context de Business"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Creeaz-i contextul de business pentru consultan AI personalizat"}),e.jsx("button",{className:"px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg",children:"Creeaz Context"})]}),a&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-violet-50 p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(VP,{className:"w-5 h-5 text-purple-600"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Informaii de Baz"})]})}),e.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nume Business"}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:A.business_name||a.business_name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tip Business"}),e.jsx("div",{className:"text-lg text-gray-900",children:A.business_type||a.business_type||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Industrie"}),e.jsx("div",{className:"text-lg text-gray-900",children:A.industry||a.industry||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stadiu Actual"}),e.jsx("div",{className:"inline-flex px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-medium",children:A.current_stage||a.current_stage||"N/A"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"w-5 h-5 text-blue-600"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Metrici Curente"})]})}),e.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-blue-600 font-medium mb-1",children:"Venit Lunar"}),e.jsx("div",{className:"text-2xl font-bold text-blue-900",children:E.revenue||"N/A"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-green-600 font-medium mb-1",children:"Clieni"}),e.jsx("div",{className:"text-2xl font-bold text-green-900",children:E.customers||"N/A"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-purple-600 font-medium mb-1",children:"Cretere"}),e.jsx("div",{className:"text-2xl font-bold text-purple-900",children:E.growth_rate||"N/A"})]})]})]}),A.business_goals&&A.business_goals.length>0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(js,{className:"w-5 h-5 text-green-600"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Obiective de Business"})]})}),e.jsx("div",{className:"p-6",children:e.jsx("ul",{className:"space-y-3",children:A.business_goals.map((k,O)=>e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-green-600 mt-1",children:""}),e.jsx("span",{className:"text-gray-700",children:k})]},O))})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-violet-50 rounded-xl p-6 border border-purple-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-purple-900 mb-4",children:"Statistici Context"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-purple-900",children:a.version||"1.0"}),e.jsx("div",{className:"text-xs text-purple-700",children:"Versiune"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-purple-900",children:"95%"}),e.jsx("div",{className:"text-xs text-purple-700",children:"Confidence AI"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-purple-900",children:a.last_accessed_at?"Astzi":"N/A"}),e.jsx("div",{className:"text-xs text-purple-700",children:"Ultima Accesare"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-purple-900",children:a.updated_at?new Date(a.updated_at).toLocaleDateString("ro-RO"):"N/A"}),e.jsx("div",{className:"text-xs text-purple-700",children:"Ultima Actualizare"})]})]})]})]})]})},$ee=({treeId:t,sessionId:a,onComplete:r,onSwitchToAI:s})=>{const[i,c]=g.useState(null),[o,u]=g.useState(null),[m,h]=g.useState([]),[x,f]=g.useState(null),[v,b]=g.useState(!0),[w,N]=g.useState(a||`session_${Date.now()}`),[y,_]=g.useState(null);g.useEffect(()=>{t&&A(t)},[t]);const A=async L=>{try{b(!0);const M=await(await fetch("/api/v1/fiscal/hybrid-consultant.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:"Start tree",tree_id:L,user_id:localStorage.getItem("user_id")})})).json();M.success&&M.method==="decision_tree"&&(c(M.tree),u(M.current_node),N(M.session_id)),b(!1)}catch(z){console.error("Failed to load tree:",z),b(!1)}},C=async L=>{if(o)if(h([...m,{nodeId:o.id,pathId:L.id,question:o.question,answer:L.answer_option}]),L.is_terminal||L.next_node_id===null){b(!0);try{const M=await(await fetch("/api/v1/fiscal/hybrid-consultant.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({node_id:o.id,path_id:L.id,session_id:w,user_id:localStorage.getItem("user_id")})})).json();M.success&&M.is_terminal&&(f(M.answer),u(null),r&&r(M.answer))}catch(z){console.error("Failed to get final answer:",z)}b(!1)}else E(L.next_node_id)},E=async L=>{try{b(!0);const M=await(await fetch("/api/v1/fiscal/hybrid-consultant.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({node_id:L,session_id:w,user_id:localStorage.getItem("user_id")})})).json();M.success&&M.node&&u(M.node),b(!1)}catch(z){console.error("Failed to navigate:",z),b(!1)}},k=()=>{if(m.length===0)return;const L=[...m];if(L.pop(),h(L),L.length===0&&i)A(i.id);else{const z=L[L.length-1];E(z.nodeId)}},O=()=>{s&&s()},D=async L=>{_(L);try{await fetch("/api/v1/fiscal/decision-tree-rating",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tree_id:i?.id,session_id:w,helpful:L,user_id:localStorage.getItem("user_id")})})}catch(z){console.error("Failed to submit rating:",z)}},P=()=>{const z=Math.min(m.length+1,3),M=Math.round(z/3*100);return{currentStep:z,totalSteps:3,percentage:M}};return v&&!o?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"max-w-4xl mx-auto",children:[i&&e.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(za,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:i.name})]}),e.jsx("p",{className:"text-gray-600",children:i.description})]}),m.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600 overflow-x-auto pb-2",children:m.map((L,z)=>e.jsx(We.Fragment,{children:e.jsxs("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[e.jsx("span",{className:"font-medium",children:L.answer}),z<m.length-1&&e.jsx(Pa,{className:"w-4 h-4 text-gray-400"})]})},z))}),e.jsxs("button",{onClick:k,className:"flex items-center gap-2 text-blue-600 hover:text-blue-700 text-sm font-medium",children:[e.jsx(gd,{className:"w-4 h-4"}),"napoi"]})]}),o&&!x&&(()=>{const L=P();return e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[e.jsxs("span",{children:["Pas ",L.currentStep," din ",L.totalSteps]}),e.jsxs("span",{children:[L.percentage,"% complet"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${L.percentage}%`}})})]})})(),o&&!x&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:o.question}),o.help_text&&e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg mb-4",children:e.jsx("p",{className:"text-sm text-blue-900",children:o.help_text})}),o.examples&&o.examples.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Exemple:"}),e.jsx("ul",{className:"space-y-1",children:o.examples.map((L,z)=>e.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-600",children:""}),e.jsx("span",{children:L})]},z))})]})]}),e.jsx("div",{className:"space-y-3",children:o.paths.map(L=>e.jsx("button",{onClick:()=>C(L),className:"w-full p-4 text-left bg-white border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-all group",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-lg font-medium text-gray-900 group-hover:text-blue-700",children:L.answer_option}),e.jsx(Pa,{className:"w-5 h-5 text-gray-400 group-hover:text-blue-600"})]})},L.id))}),s&&e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsx("button",{onClick:O,className:"flex items-center gap-2 text-sm text-gray-600 hover:text-blue-600",children:" Prefer rspuns direct de la AI?"})})]}),x&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-green-50 border-l-4 border-green-500 p-6 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Me,{className:"w-8 h-8 text-green-600"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Rspunsul Tu"})]}),x.answer_template&&e.jsx("div",{className:"prose max-w-none mb-6",dangerouslySetInnerHTML:{__html:x.answer_template}}),x.answer&&typeof x.answer=="object"&&x.answer.answer_template&&e.jsx("div",{className:"prose max-w-none mb-6",dangerouslySetInnerHTML:{__html:x.answer.answer_template}})]}),x.legislation_articles&&x.legislation_articles.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("h4",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(za,{className:"w-5 h-5 text-blue-600"}),"Referine Legislative"]}),e.jsx("div",{className:"space-y-3",children:x.legislation_articles.map((L,z)=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsxs("h5",{className:"font-semibold text-gray-900 mb-1",children:[L.code," - ",L.title]}),e.jsx("p",{className:"text-sm text-gray-600",children:L.summary})]},z))})]}),x.strategic_advice&&e.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:x.strategic_advice}}),x.warnings&&e.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:x.warnings}}),x.next_steps&&x.next_steps.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-4 text-xl",children:" Paii Urmtori"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Plan de aciune complet pentru implementare:"}),e.jsx("div",{className:"space-y-4",children:x.next_steps.map((L,z)=>{const M=typeof L=="object"&&L!==null,F=M?L.step:L,q=M?L.description:null,te=M?L.deadline:null,W=M?L.responsible:null,H=M?L.link:null;return e.jsx("div",{className:"border-l-4 border-blue-500 pl-4 py-2 bg-gray-50 rounded-r-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:z+1}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"font-bold text-gray-900 mb-1",children:F}),q&&e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:q}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-xs",children:[te&&e.jsxs("span",{className:"flex items-center gap-1 text-orange-700 bg-orange-50 px-2 py-1 rounded",children:[e.jsx("span",{children:""}),e.jsx("strong",{children:"Termen:"})," ",te]}),W&&e.jsxs("span",{className:"flex items-center gap-1 text-purple-700 bg-purple-50 px-2 py-1 rounded",children:[e.jsx("span",{children:""}),e.jsx("strong",{children:"Responsabil:"})," ",W]})]}),H&&e.jsx("a",{href:H,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 mt-2 text-sm text-blue-600 hover:text-blue-700 hover:underline",children:" Descarc formular"})]})]})},z)})})]}),y===null&&e.jsxs("div",{className:"mt-6 p-6 border-t border-gray-200 text-center",children:[e.jsx("p",{className:"text-lg font-semibold text-gray-900 mb-4",children:"A fost util acest rspuns?"}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsxs("button",{onClick:()=>D(!0),className:"px-8 py-3 bg-green-100 text-green-800 rounded-lg hover:bg-green-200 font-medium transition-colors flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:""}),"Da, foarte util"]}),e.jsxs("button",{onClick:()=>D(!1),className:"px-8 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium transition-colors flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:""}),"Nu prea"]})]})]}),y!==null&&e.jsx("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg text-center",children:e.jsx("p",{className:"text-green-800 font-medium",children:" Mulumim pentru feedback! Ne ajut s mbuntim platforma."})}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[e.jsx("button",{onClick:()=>{f(null),h([]),_(null),i&&A(i.id)},className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:" ncepe din nou"}),e.jsx("button",{onClick:()=>window.print(),className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium",children:" Printeaz"}),e.jsx("button",{onClick:()=>{const L=encodeURIComponent(`Ghid: ${i?.name||"Decision Tree"}`),z=encodeURIComponent(`Am generat un ghid folosind DocumentiUlia:

${window.location.href}`);window.location.href=`mailto:?subject=${L}&body=${z}`},className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium",children:" Trimite email"})]})]})]})},Bee=()=>{const[t,a]=g.useState([]),[r,s]=g.useState(null),[i,c]=g.useState(!0);g.useEffect(()=>{o()},[]);const o=async()=>{try{const f=await(await fetch("/api/v1/fiscal/decision-trees")).json();f.success&&a(f.trees||[]),c(!1)}catch(x){console.error("Failed to load decision trees:",x),c(!1)}},u=x=>{s(x)},m=()=>{s(null)},h=x=>({Fiscal:"bg-blue-100 text-blue-800",Accounting:"bg-green-100 text-green-800",HR:"bg-purple-100 text-purple-800",Legal:"bg-red-100 text-red-800",Business:"bg-yellow-100 text-yellow-800"})[x]||"bg-gray-100 text-gray-800";return r?e.jsxs(qe,{children:[e.jsx("div",{className:"mb-4",children:e.jsx("button",{onClick:m,className:"px-4 py-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors",children:" napoi la list"})}),e.jsx($ee,{treeId:r,onComplete:x=>{console.log("Decision tree completed:",x)}})]}):e.jsx(qe,{children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(za,{className:"w-8 h-8 text-blue-600"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Arbori de Decizie Legislativ"})]}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Gsete rspunsuri rapide la ntrebri fiscale, contabile i de HR prin ghidaje pas-cu-pas"})]}),i&&e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),!i&&t.length===0&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-8 text-center",children:[e.jsx(za,{className:"w-12 h-12 text-yellow-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-yellow-900 mb-2",children:"Niciun arbore de decizie disponibil nc"}),e.jsx("p",{className:"text-yellow-700",children:"Arborii de decizie vor fi adugai n curnd pentru a te ajuta s gseti rspunsuri rapide."})]}),!i&&t.length>0&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(x=>e.jsxs("div",{onClick:()=>u(x.id),className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md hover:border-blue-300 transition-all cursor-pointer group",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:`p-3 rounded-lg ${h(x.category)}`,children:[x.icon==="scale"&&e.jsx(za,{className:"w-6 h-6"}),x.icon==="trending-up"&&e.jsx(Ue,{className:"w-6 h-6"}),x.icon==="search"&&e.jsx(Oa,{className:"w-6 h-6"}),!["scale","trending-up","search"].includes(x.icon)&&e.jsx(za,{className:"w-6 h-6"})]}),e.jsx("span",{className:`text-xs px-2 py-1 rounded ${h(x.category)}`,children:x.category})]}),e.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:x.tree_name}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-3",children:x.description}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:e.jsx("span",{className:"text-sm text-blue-600 font-medium group-hover:text-blue-700",children:"ncepe ghidarea "})})]},x.id))}),e.jsxs("div",{className:"mt-12 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-200",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:" Cum funcioneaz?"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:"text-blue-600",children:"1."}),e.jsx("span",{children:"Selecteaz un arbore de decizie relevant pentru ntrebarea ta"})]}),e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:"text-blue-600",children:"2."}),e.jsx("span",{children:"Rspunde la ntrebri simple despre situaia ta"})]}),e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:"text-blue-600",children:"3."}),e.jsx("span",{children:"Primeti rspunsul exact cu referine legislative aplicabile"})]})]})]})]})})};function Fee(){const[t,a]=g.useState([]),[r,s]=g.useState([]),[i,c]=g.useState([]),[o,u]=g.useState([]),[m,h]=g.useState(!0),[x,f]=g.useState("overdue");g.useEffect(()=>{v()},[]);const v=async()=>{h(!0);try{const[y,_,A,C]=await Promise.all([fetch("/api/v1/admin/decision-tree-updates.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"get_overdue_points"})}),fetch("/api/v1/admin/decision-tree-updates.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"get_due_this_week"})}),fetch("/api/v1/admin/decision-tree-updates.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"get_statistics"})}),fetch("/api/v1/admin/decision-tree-updates.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"get_all_variables"})})]),E=await y.json(),k=await _.json(),O=await A.json(),D=await C.json();E.success&&a(E.overdue_points||[]),k.success&&s(k.due_points||[]),O.success&&c(O.statistics||[]),D.success&&u(D.variables||[])}catch(y){console.error("Failed to fetch data:",y)}finally{h(!1)}},b=async y=>{try{(await(await fetch("/api/v1/admin/decision-tree-updates.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"mark_verified",point_id:y})})).json()).success&&(await v(),alert(" Marcat ca verificat! Data urmtoare de verificare a fost calculat automat."))}catch(_){console.error("Failed to mark as verified:",_),alert(" Eroare la marcarea ca verificat")}},w=t.filter(y=>y.criticality==="critical").length,N=t.filter(y=>y.criticality==="high").length;return m?e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Se ncarc..."})]})}):e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Managementul Actualizrilor - Arbori de Decizie"}),e.jsx("p",{className:"text-gray-600",children:"Sistem automat de tracking i actualizare a coninutului legislativ"})]}),w>0&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6 rounded-r-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(ca,{className:"w-6 h-6 text-red-600 mr-3 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("h2",{className:"font-bold text-red-900 text-lg",children:[" ",w," Actualizri CRITICE Depite"]}),e.jsx("p",{className:"text-red-700 mt-1",children:"Aceste elemente au impact financiar/legal imediat. V rugm verificai URGENT."})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(Nm,{title:"Critical Depite",value:w,color:"red",icon:e.jsx(ca,{className:"w-6 h-6"})}),e.jsx(Nm,{title:"Prioritate nalt",value:N,color:"orange",icon:e.jsx(Ue,{className:"w-6 h-6"})}),e.jsx(Nm,{title:"De Verificat Sptmna Aceasta",value:r.length,color:"yellow",icon:e.jsx(fr,{className:"w-6 h-6"})}),e.jsx(Nm,{title:"Variabile Active",value:o.length,color:"green",icon:e.jsx(Me,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsxs("nav",{className:"flex space-x-8",children:[e.jsx(wm,{active:x==="overdue",onClick:()=>f("overdue"),label:"Depite",count:t.length}),e.jsx(wm,{active:x==="due",onClick:()=>f("due"),label:"De Verificat Curnd",count:r.length}),e.jsx(wm,{active:x==="variables",onClick:()=>f("variables"),label:"Variabile",count:o.length}),e.jsx(wm,{active:x==="stats",onClick:()=>f("stats"),label:"Statistici"})]})}),x==="overdue"&&e.jsx(p3,{points:t,title:"Verificri Depite",onMarkVerified:b,showOverdue:!0}),x==="due"&&e.jsx(p3,{points:r,title:"De Verificat n Urmtoarele 7 Zile",onMarkVerified:b,showOverdue:!1}),x==="variables"&&e.jsx(Uee,{variables:o}),x==="stats"&&e.jsx(qee,{statistics:i})]})}function Nm({title:t,value:a,color:r,icon:s}){const i={red:"bg-red-100 text-red-900 border-red-200",orange:"bg-orange-100 text-orange-900 border-orange-200",yellow:"bg-yellow-100 text-yellow-900 border-yellow-200",green:"bg-green-100 text-green-900 border-green-200"};return e.jsxs("div",{className:`p-6 rounded-lg border-2 ${i[r]}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-4xl font-bold",children:a}),s]}),e.jsx("div",{className:"text-sm font-medium",children:t})]})}function wm({active:t,onClick:a,label:r,count:s}){return e.jsxs("button",{onClick:a,className:`py-4 px-1 border-b-2 font-medium text-sm ${t?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r,s!==void 0&&e.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs ${t?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,children:s})]})}function p3({points:t,title:a,onMarkVerified:r,showOverdue:s}){return t.length===0?e.jsxs("div",{className:"bg-white shadow rounded-lg p-8 text-center",children:[e.jsx(Me,{className:"w-12 h-12 text-green-500 mx-auto mb-3"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:" Toate la Zi!"}),e.jsx("p",{className:"text-gray-600",children:s?"Nu exist verificri depite.":"Nu exist verificri programate pentru urmtoarele 7 zile."})]}):e.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b bg-gray-50",children:e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:a})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Prioritate"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Arbore"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Punct de Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Valoare Curent"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:s?"Zile Depite":"Scaden"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Aciuni"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(i=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx(SO,{level:i.criticality})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:i.tree_name}),e.jsx("div",{className:"text-xs text-gray-500",children:i.update_category})]}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm text-gray-900",children:i.data_point_name}),i.auto_updateable&&e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 mt-1",children:"Auto-Update"})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:i.current_value})}),e.jsx("td",{className:"px-6 py-4",children:s?e.jsxs("span",{className:"text-red-600 font-bold",children:[i.days_overdue," zile"]}):e.jsx("span",{className:"text-sm text-gray-900",children:i.next_verification_due})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("button",{onClick:()=>r(i.id),className:"px-4 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 transition-colors",children:" Marcheaz Verificat"}),i.verification_url&&e.jsx("a",{href:i.verification_url,target:"_blank",rel:"noopener noreferrer",className:"ml-2 text-blue-600 hover:underline text-sm",children:"Surs "})]})]},i.id))})]})})]})}function SO({level:t}){const a={critical:"bg-red-100 text-red-800 border-red-200",high:"bg-orange-100 text-orange-800 border-orange-200",medium:"bg-yellow-100 text-yellow-800 border-yellow-200",low:"bg-gray-100 text-gray-800 border-gray-200"},r={critical:"CRITIC",high:"NALT",medium:"MEDIU",low:"SCZUT"},s=t in a?t:"low";return e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase border ${a[s]}`,children:r[s]})}function Uee({variables:t}){return e.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b bg-gray-50",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Variabile Legislaie (",t.length,")"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Valori dinamice folosite n arborii de decizie. Modificarea acestora actualizeaz automat toate rspunsurile legate."})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cheie Variabil"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nume"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Valoare"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tip"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Efectiv Din"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("code",{className:"text-sm bg-blue-50 text-blue-900 px-2 py-1 rounded",children:["{{",a.variable_key,"}}"]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:a.variable_name}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[a.current_value," ",a.unit]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-xs px-2 py-1 bg-gray-100 text-gray-700 rounded",children:a.value_type})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:a.effective_from})]},a.id))})]})})]})}function qee({statistics:t}){return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Statistici pe Categorie"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map((a,r)=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 capitalize",children:a.update_category}),e.jsx(SO,{level:a.criticality})]}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Total Puncte:"}),e.jsx("span",{className:"font-semibold",children:a.total_points})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Depite:"}),e.jsx("span",{className:`font-semibold ${a.overdue_count>0?"text-red-600":"text-green-600"}`,children:a.overdue_count})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Sptmna Aceasta:"}),e.jsx("span",{className:"font-semibold",children:a.due_this_week})]})]})]},r))})]})})}const Hee=()=>{const[t,a]=g.useState("kpi"),r=[{id:"kpi",name:"Interpretare KPI",icon:Ue},{id:"financial",name:"Date Financiare",icon:Ht},{id:"setup",name:"Configurare Platform",icon:Wn},{id:"usage",name:"Cum se Utilizeaz",icon:za},{id:"best-practices",name:"Best Practices",icon:js},{id:"updates",name:"Actualizri & Mentenan",icon:nt}];return e.jsx(qe,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tutoriale & Ghiduri"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"nva cum s utilizezi platforma AccountEch pentru rezultate optime"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:r.map(s=>{const i=s.icon;return e.jsxs("button",{onClick:()=>a(s.id),className:`p-4 rounded-lg border-2 transition-all ${t===s.id?"border-primary-600 bg-primary-50":"border-gray-200 bg-white hover:border-primary-300"}`,children:[e.jsx(i,{className:`w-6 h-6 mx-auto mb-2 ${t===s.id?"text-primary-600":"text-gray-600"}`}),e.jsx("p",{className:`text-sm font-medium text-center ${t===s.id?"text-primary-600":"text-gray-700"}`,children:s.name})]},s.id)})}),e.jsxs("div",{className:"card",children:[t==="kpi"&&e.jsx(Vee,{}),t==="financial"&&e.jsx(Gee,{}),t==="setup"&&e.jsx(Kee,{}),t==="usage"&&e.jsx(Yee,{}),t==="best-practices"&&e.jsx(Xee,{}),t==="updates"&&e.jsx(Wee,{})]})]})})},Vee=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(Ue,{className:"w-8 h-8 text-primary-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Interpretare KPI (Key Performance Indicators)"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:" Total Revenue (Venituri Totale)"}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Ce nseamn:"})," Suma total a tuturor veniturilor generate din vnzri n perioada selectat."]}),e.jsx("p",{children:e.jsx("strong",{children:"Cum se interpreteaz:"})}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Cretere constant:"})," Afacerea se dezvolt sntos"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Stagnare:"})," Necesit noi strategii de vnzare sau produse"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Scdere:"})," ALARM! Investigai cauzele (pierdere clieni, concuren, calitate)"]})]}),e.jsx("p",{children:e.jsx("strong",{children:"Aciuni recomandate:"})}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[e.jsx("li",{children:"Comparai cu aceeai perioad din anul precedent (YoY - Year over Year)"}),e.jsx("li",{children:"Analizai care produse/servicii genereaz cele mai multe venituri"}),e.jsx("li",{children:"Identificai tendinele sezoniere pentru a anticipa fluctuaiile"})]})]})]}),e.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:" Net Profit (Profit Net)"}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Ce nseamn:"})," Ctigul real dup deducerea tuturor cheltuielilor (COGS, salarii, taxe, etc.)."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Formula:"})," Profit Net = Venituri Totale - Cheltuieli Totale"]}),e.jsx("p",{children:e.jsx("strong",{children:"Marje de profit sntoase (industry standard):"})}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[e.jsx("li",{children:"Software/SaaS: 15-25%"}),e.jsx("li",{children:"Retail: 5-10%"}),e.jsx("li",{children:"Consultan: 20-30%"}),e.jsx("li",{children:"Manufacturing: 8-15%"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Aciuni dac profitul este sczut:"})}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[e.jsx("li",{children:"Reducei cheltuielile operaionale (dar fr a afecta calitatea)"}),e.jsx("li",{children:"Optimizai preurile - analizai dac putei crete preul fr a pierde clieni"}),e.jsx("li",{children:"Negociai termeni mai buni cu furnizorii"}),e.jsx("li",{children:"Eliminai produsele/serviciile neprofitabile"})]})]})]}),e.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:" Cash Flow (Flux de Numerar)"}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Ce nseamn:"})," Micarea real a banilor n i din afacere (difer de profit!)."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"De ce este critic:"})," Poi avea profit pe hrtie, dar fr cash flow pozitiv, nu poi plti salarii sau furnizori."]}),e.jsx("p",{children:e.jsx("strong",{children:"Cum se interpreteaz:"})}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Cash Flow Pozitiv:"})," Intr mai muli bani dect ies - SNTOS"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Cash Flow Negativ:"})," Ieiri mai mari dect intrri - PERICOL de insolven"]})]}),e.jsx("p",{children:e.jsx("strong",{children:"Aciuni pentru mbuntire:"})}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[e.jsx("li",{children:"Reducei termenele de plat de la clieni (de la 30 la 15 zile)"}),e.jsx("li",{children:"Negociai termene mai lungi cu furnizorii"}),e.jsx("li",{children:"Implementai penaliti pentru facturi ntrziate"}),e.jsx("li",{children:"Oferii discounturi pentru pli anticipate (ex: 2% discount pentru plat n 7 zile)"})]})]})]}),e.jsxs("div",{className:"border-l-4 border-orange-500 pl-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:" Outstanding Invoices (Facturi Nencasate)"}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Ce nseamn:"})," Facturile emise dar nencasate nc - bani care vi se datoreaz."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"KPI critic:"})," DSO (Days Sales Outstanding) - numrul mediu de zile pn cnd ncasai o factur."]}),e.jsx("p",{children:e.jsx("strong",{children:"Benchmark-uri DSO:"})}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[e.jsx("li",{children:"0-30 zile: EXCELENT"}),e.jsx("li",{children:"30-45 zile: BUN"}),e.jsx("li",{children:"45-60 zile: ACCEPTABIL (dar monitorizai)"}),e.jsx("li",{children:"60+ zile: PROBLEMATIC - risc de neplat"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Aciuni:"})}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[e.jsx("li",{children:'Monitorizai facturile "overdue" (restante) sptmnal'}),e.jsx("li",{children:"Automatizai reminder-ele de plat (7, 14, 21 zile de la emitere)"}),e.jsx("li",{children:"Pentru facturi > 60 zile, apelai personal clientul"}),e.jsx("li",{children:"Considerai factoring (vnzarea facturilor) pentru cash flow imediat"})]})]})]}),e.jsxs("div",{className:"border-l-4 border-red-500 pl-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:" Burn Rate (Rata de Ardere a Capitalului)"}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Ce nseamn:"})," Viteza cu care cheltuii banii (important pentru startup-uri i companii n cretere)."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Formula:"})," Burn Rate = (Cash nceput Lun - Cash Sfrit Lun) / 1 lun"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Runway:"})," Cte luni putei supravieui cu cash-ul actual la rata actual de ardere."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Formula Runway:"})," Runway = Cash Disponibil / Burn Rate Lunar"]}),e.jsx("p",{children:e.jsx("strong",{children:"Exemple:"})}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[e.jsx("li",{children:"Dac avei 100,000 RON i burn rate 20,000 RON/lun  Runway = 5 luni"}),e.jsx("li",{children:"Dac runway < 6 luni  URGEN! Gsii finanare sau reducei cheltuielile"})]})]})]})]})]}),Gee=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(Ht,{className:"w-8 h-8 text-primary-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Interpretarea Rapoartelor Financiare"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:" Profit & Loss (Cont de Profit i Pierdere)"}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Scop:"})," Arat performana financiar ntr-o perioad (luna, trimestru, an)."]}),e.jsx("p",{children:e.jsx("strong",{children:"Structur:"})}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg font-mono text-sm space-y-1",children:[e.jsx("div",{children:"Venituri (Revenue) ....................... 500,000 RON"}),e.jsx("div",{children:"- Cost of Goods Sold (COGS) .............. -200,000 RON"}),e.jsx("div",{className:"border-t border-gray-300 pt-1",children:"= Profit Brut (Gross Profit) ............ 300,000 RON (60%)"}),e.jsx("div",{children:"- Cheltuieli Operaionale ................ -150,000 RON"}),e.jsx("div",{children:"(Salarii, marketing, chirie, etc.)"}),e.jsx("div",{className:"border-t border-gray-300 pt-1",children:"= Profit Operaional (EBITDA) ............ 150,000 RON (30%)"}),e.jsx("div",{children:"- Dobnzi, Amortizare, Taxe .............. -50,000 RON"}),e.jsx("div",{className:"border-t-2 border-gray-400 pt-1 font-bold",children:"= PROFIT NET ............................. 100,000 RON (20%)"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Cum se citete:"})}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Gross Profit Margin:"})," Trebuie >50% pentru afaceri sntoase"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Operating Margin (EBITDA):"})," Arat eficiena operaional"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Net Profit Margin:"})," Profitabilitatea real (vezi mai sus pentru benchmark-uri)"]})]}),e.jsx("p",{children:e.jsx("strong",{children:"Red Flags:"})}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[e.jsx("li",{children:"Gross margin sczut (<30%) - preuri prea mici sau COGS prea mare"}),e.jsx("li",{children:"Operating expenses > 50% din venituri - cheltuieli prea mari"}),e.jsx("li",{children:"Profit net negativ 3+ luni consecutiv - nesustenabil"})]})]})]}),e.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:" Balance Sheet (Bilan Contabil)"}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Scop:"})," Snapshot-ul sntii financiare la un moment dat (spre deosebire de P&L care este o perioad)."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Ecuaia de baz:"})," Active = Pasive + Capital Propriu"]}),e.jsx("p",{children:e.jsx("strong",{children:"Structur:"})}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg font-mono text-sm space-y-1",children:[e.jsx("div",{className:"font-bold",children:"ACTIVE (Assets):"}),e.jsx("div",{children:"Cash & Echivalente ..................... 100,000 RON"}),e.jsx("div",{children:"Facturi de ncasat (AR) ................ 200,000 RON"}),e.jsx("div",{children:"Inventar ................................ 150,000 RON"}),e.jsx("div",{children:"Echipamente & Proprieti ............... 300,000 RON"}),e.jsx("div",{className:"border-t border-gray-300 pt-1",children:"TOTAL ACTIVE ............................ 750,000 RON"}),e.jsx("div",{className:"mt-3 font-bold",children:"PASIVE (Liabilities):"}),e.jsx("div",{children:"Facturi de pltit (AP) ................. 100,000 RON"}),e.jsx("div",{children:"mprumuturi ............................ 200,000 RON"}),e.jsx("div",{className:"border-t border-gray-300 pt-1",children:"TOTAL PASIVE ............................ 300,000 RON"}),e.jsx("div",{className:"mt-3 font-bold",children:"CAPITAL PROPRIU (Equity):"}),e.jsx("div",{children:"Capitalul investitorilor + Profit reinut . 450,000 RON"}),e.jsx("div",{className:"border-t-2 border-gray-400 pt-1 font-bold",children:"TOTAL PASIVE + CAPITAL .................. 750,000 RON"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Ratio-uri cheie:"})}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Current Ratio = Active Curente / Pasive Curente"}),e.jsxs("ul",{className:"list-circle pl-6",children:[e.jsx("li",{children:">2.0 = Lichiditate excelent"}),e.jsx("li",{children:"1.5-2.0 = Sntos"}),e.jsx("li",{children:"<1.0 = Risc de insolven"})]})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Debt-to-Equity = Total Datorii / Capital Propriu"}),e.jsxs("ul",{className:"list-circle pl-6",children:[e.jsx("li",{children:"<0.5 = Risc sczut"}),e.jsx("li",{children:"0.5-1.5 = Moderat"}),e.jsx("li",{children:">2.0 = Foarte ndatorat (risky)"})]})]})]})]})]}),e.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:" Cash Flow Statement (Situaia Fluxurilor de Numerar)"}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Scop:"})," Urmrete micarea REAL a banilor (nu accrual accounting)."]}),e.jsx("p",{children:e.jsx("strong",{children:"3 Categorii:"})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[e.jsx("p",{className:"font-semibold",children:"1. Operating Cash Flow (din activitatea curent)"}),e.jsx("p",{children:"Bani din vnzri, pli ctre furnizori, salarii"}),e.jsx("p",{className:"text-sm text-green-700 mt-1",children:" Trebuie s fie POZITIV pentru o afacere sntoas"})]}),e.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[e.jsx("p",{className:"font-semibold",children:"2. Investing Cash Flow (din investiii)"}),e.jsx("p",{children:"Achiziii de echipamente, vnzri de active"}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:" Adesea negativ (investiii n cretere)"})]}),e.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg",children:[e.jsx("p",{className:"font-semibold",children:"3. Financing Cash Flow (din finanare)"}),e.jsx("p",{children:"mprumuturi primite/rambursate, investiii de capital"}),e.jsx("p",{className:"text-sm text-orange-700 mt-1",children:" Monitorizai - dependena de finanare extern poate fi riscant"})]})]}),e.jsx("p",{children:e.jsx("strong",{children:"Regula de aur:"})}),e.jsxs("p",{className:"bg-yellow-50 p-3 rounded-lg border-l-4 border-yellow-500",children:[e.jsx("strong",{children:"Operating Cash Flow trebuie s acopere >80% din cheltuielile operaionale."})," Dac depindei constant de finanare extern pentru operaiuni zilnice, modelul de business nu este sustenabil."]})]})]})]})]}),Kee=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(Wn,{className:"w-8 h-8 text-primary-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Configurare Iniial a Platformei"})]}),e.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 mb-6",children:[e.jsx("p",{className:"font-semibold text-blue-900",children:" Timpul estimat: 2-3 ore pentru setup complet"}),e.jsx("p",{className:"text-blue-800",children:"Urmai paii n ordine pentru rezultate optime"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-primary-600 text-white rounded-full flex items-center justify-center font-bold",children:"1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Configurare Companie"}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Unde:"})," Settings  Company Profile"]}),e.jsx("p",{children:e.jsx("strong",{children:"Ce completai:"})}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[e.jsx("li",{children:"Denumire complet companie + CUI/CIF"}),e.jsx("li",{children:"Adres sediu social (pentru facturare)"}),e.jsx("li",{children:"Persoan de contact + date bancare"}),e.jsx("li",{children:"Logo companie (folosit pe facturi/documente)"})]})]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-primary-600 text-white rounded-full flex items-center justify-center font-bold",children:"2"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Adugare Utilizatori & Roluri"}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Unde:"})," Settings  Users & Permissions"]}),e.jsx("p",{children:e.jsx("strong",{children:"Roluri recomandate:"})}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Owner:"})," Acces complet (CEO/Proprietar)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Admin:"})," Toat platforma minus setri critice (CFO/Manager)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Accountant:"})," Facturi, cheltuieli, rapoarte financiare"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Sales:"})," CRM, oportuniti, oferte, facturi"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Inventory Manager:"})," Produse, comenzi achiziie, stocuri"]})]}),e.jsxs("p",{className:"bg-yellow-50 p-2 rounded border-l-4 border-yellow-500 text-sm",children:[" ",e.jsx("strong",{children:"Securitate:"}),' Nu dai acces Admin dect persoanelor de ncredere. Folosii principiul "least privilege" - doar accesul necesar pentru rol.']})]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-primary-600 text-white rounded-full flex items-center justify-center font-bold",children:"3"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Import Date Iniiale"}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsx("p",{children:e.jsx("strong",{children:"Ordin recomandat de import:"})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[e.jsx("p",{className:"font-semibold",children:"1. Contacte (Customers & Vendors)"}),e.jsx("p",{className:"text-sm",children:"Importai din Excel/CSV toi clienii i furnizorii existeni"})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[e.jsx("p",{className:"font-semibold",children:"2. Produse/Servicii"}),e.jsx("p",{className:"text-sm",children:"Catalogul complet cu preuri de vnzare i achiziie"})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[e.jsx("p",{className:"font-semibold",children:"3. Facturi Deschise (Outstanding)"}),e.jsx("p",{className:"text-sm",children:"Doar cele nencasate - pentru tracking corect al cash flow"})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[e.jsx("p",{className:"font-semibold",children:"4. Conturi Bancare"}),e.jsx("p",{className:"text-sm",children:"Balante curente pentru fiecare cont"})]})]})]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-primary-600 text-white rounded-full flex items-center justify-center font-bold",children:"4"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Configurare Automatizri"}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsx("p",{children:e.jsx("strong",{children:"Automatizri eseniale:"})}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Email Reminders:"})," Facturi restante (7, 14, 30 zile)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Recurring Invoices:"})," Pentru clieni cu abonamente/contracte lunare"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Low Stock Alerts:"})," Notificri cnd stocul scade sub prag"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Financial Reports:"})," Rapoarte P&L automate la sfritul lunii"]})]})]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-primary-600 text-white rounded-full flex items-center justify-center font-bold",children:"5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Testare & Validare"}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsx("p",{children:e.jsx("strong",{children:"Checklist final:"})}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[e.jsx("li",{children:" Creai o factur test i trimitei-o pe email"}),e.jsx("li",{children:" Generai un raport P&L i verificai cifrele"}),e.jsx("li",{children:" Testai fluxul CRM: Lead  Opportunity  Quote  Invoice"}),e.jsx("li",{children:" Verificai dashboard-ul - toate widget-urile afieaz date?"})]})]})]})]})]})]}),Yee=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(za,{className:"w-8 h-8 text-primary-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Cum se Utilizeaz Platforma - Ghid Complet"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-2 border-green-300 bg-green-50 p-6 rounded-lg",children:[e.jsxs("h3",{className:"text-xl font-bold text-green-900 mb-4 flex items-center gap-2",children:[e.jsx(Me,{className:"w-6 h-6"})," Taskuri Zilnice (Daily Routine)"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:" Dimineaa (9:00 - 10:00)"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700 mt-2",children:[e.jsx("li",{children:"Verificai Dashboard-ul pentru overview rapid"}),e.jsx("li",{children:"Consultai Cash Flow forecast - suntei pe target?"}),e.jsx("li",{children:"Revedei facturile overdue i trimitei remindere"}),e.jsx("li",{children:"Verificai AI Insights pentru alertele de azi"})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:" n timpul zilei (continuous)"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700 mt-2",children:[e.jsx("li",{children:"nregistrai cheltuielile imediat (nu lsai pe final de lun!)"}),e.jsx("li",{children:"Emitei facturile pentru comenzi noi n aceeai zi"}),e.jsx("li",{children:"Actualizai statusul oportunitilor din CRM"}),e.jsx("li",{children:"Marcai facturile pltite cnd primii banii"})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:" Final de zi (17:00 - 18:00)"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700 mt-2",children:[e.jsx("li",{children:"Reconciliai conturile bancare (compar sold platform vs. sold real)"}),e.jsx("li",{children:"Verificai task-urile incomplete din CRM"}),e.jsx("li",{children:"Pregtii lista de prioriti pentru mine"})]})]})]})]}),e.jsxs("div",{className:"border-2 border-blue-300 bg-blue-50 p-6 rounded-lg",children:[e.jsxs("h3",{className:"text-xl font-bold text-blue-900 mb-4 flex items-center gap-2",children:[e.jsx(nt,{className:"w-6 h-6"})," Taskuri Sptmnale (Weekly Review)"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Luni diminea - Planning Session"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700 mt-2",children:[e.jsx("li",{children:"Revedei KPI-urile sptmnii trecute vs. target"}),e.jsx("li",{children:'Planificai outreach pentru oportuniti n "negotiation"'}),e.jsx("li",{children:"Setai target-uri pentru sptmna curent"})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Miercuri - Mid-week Check"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700 mt-2",children:[e.jsx("li",{children:"Verificai progresul ctre target-uri"}),e.jsx("li",{children:"Ajustai strategia dac e necesar"}),e.jsx("li",{children:"Follow-up cu clienii care au oferte pending"})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Vineri - Weekly Wrap-up"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700 mt-2",children:[e.jsx("li",{children:"Generai raport sptmnal (Revenue, Expenses, New Deals)"}),e.jsx("li",{children:"Curai CRM-ul (tergei lead-uri moarte)"}),e.jsx("li",{children:"Backup-ai datele importante"})]})]})]})]}),e.jsxs("div",{className:"border-2 border-purple-300 bg-purple-50 p-6 rounded-lg",children:[e.jsxs("h3",{className:"text-xl font-bold text-purple-900 mb-4 flex items-center gap-2",children:[e.jsx(Za,{className:"w-6 h-6"})," Taskuri Lunare (Monthly Close)"]}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsx("p",{className:"font-semibold",children:"ntre 1-5 ale lunii urmtoare:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Reconciliere complet:"})," Verificai c toate tranzaciile din luna trecut sunt nregistrate"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Generai rapoarte financiare:"})," P&L, Balance Sheet, Cash Flow pentru luna ncheiat"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Analizai performana:"})," Comparai cu luna anterioar i cu target-urile"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Verificai inventory:"})," Comparai stocul din platform cu stocul fizic"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Actualizai forecast-ul:"})," Pe baza performanei lunii trecute"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Pli fiscale:"})," Pregtii declaraiile i pltii taxele (TVA, impozit profit, etc.)"]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg mt-4",children:[e.jsx("p",{className:"font-semibold text-purple-900",children:" Monthly Business Review Meeting"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Organizai o ntlnire cu echipa pentru a discuta:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm text-gray-700 mt-2",children:[e.jsx("li",{children:"Ce a mers bine? Ce nvm?"}),e.jsx("li",{children:"Ce nu a mers? Ce schimbm?"}),e.jsx("li",{children:"Care sunt target-urile pentru luna urmtoare?"})]})]})]})]})]})]}),Xee=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(js,{className:"w-8 h-8 text-primary-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Best Practices pentru Rezultate Optime"})]}),e.jsx("div",{className:"space-y-6",children:[{title:" Pstrai date CLEAN",color:"blue",items:["Nu introducei duplicate - verificai nainte dac contactul/produsul exist",'Folosii naming conventions consistente (ex: "ACME SRL" nu "Acme", "acme", "ACME S.R.L.")',"Categorizai corect cheltuielile - ajut la rapoarte precise","tergei datele de test dup configurarea iniial"]},{title:" Automatizai tot ce se poate",color:"green",items:["Recurring invoices pentru clieni cu contracte lunare/anuale","Email reminders automate pentru facturi (economisii timp + cretei rata de colectare)","Low stock alerts - nu rmnei fr inventar","Rapoarte automate trimise pe email la sfritul lunii"]},{title:" Securitate & Backup",color:"red",items:["Activai autentificare cu doi factori (2FA) pentru utilizatori Admin/Owner","Schimbai parolele la 3 luni","Export backup lunar al tuturor datelor (Settings  Export Data)","Nu partajai credeniale de login - creai utilizatori separai"]},{title:" Urmrii metrici relevani",color:"purple",items:["Definii 3-5 KPI-uri critice pentru afacerea voastr i monitorizai-i SPTMNAL","Setai target-uri realiste (bazate pe date istorice + 10-20% cretere)","Creai dashboard-uri personalizate pentru fiecare rol (Sales vede pipeline, CFO vede cash flow)","Folosii AI Insights - platform identific anomalii i oportuniti automat"]},{title:" Colaborare n echip",color:"orange",items:["Folosii Comments & Notes pe facturi/oportuniti pentru context",'Atribuii clear ownership - fiecare oportunitate trebuie s aib un "Assigned To"',"Weekly stand-up cu echipa - 15 min pentru aliniare","Transparen total - toat echipa s vad performana n timp real"]}].map((t,a)=>e.jsxs("div",{className:`border-l-4 border-${t.color}-500 bg-${t.color}-50 p-6 rounded-lg`,children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:t.title}),e.jsx("ul",{className:"space-y-2",children:t.items.map((r,s)=>e.jsxs("li",{className:"flex items-start gap-2 text-gray-700",children:[e.jsx(Pa,{className:"w-5 h-5 text-gray-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:r})]},s))})]},a))})]}),Wee=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(nt,{className:"w-8 h-8 text-primary-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Cnd & Cum s Actualizai Datele"})]}),e.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 p-6 mb-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ca,{className:"w-6 h-6 text-yellow-700 flex-shrink-0 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-yellow-900 mb-2",children:'Regula de aur: "Garbage In, Garbage Out"'}),e.jsx("p",{className:"text-yellow-800",children:"Platforma este la fel de precis ca datele pe care le introducei. Actualizri regulate = decizii corecte bazate pe date reale."})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-2 border-green-300 bg-green-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-xl font-bold text-green-900 mb-4",children:" Actualizri n Timp Real (Immediate)"}),e.jsxs("div",{className:"space-y-3 text-gray-700",children:[e.jsxs("div",{className:"bg-white p-4 rounded",children:[e.jsx("p",{className:"font-semibold",children:" Facturi"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm mt-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Creare:"})," Imediat dup confirmare comand (nu ateptai sfritul zilei)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Marcai ca pltit:"})," n secunda n care vedei banii n cont"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"De ce:"})," Cash flow forecast-ul trebuie s fie real-time pentru decizii corecte"]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded",children:[e.jsx("p",{className:"font-semibold",children:" Cheltuieli"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm mt-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"nregistrare:"})," Aceeai zi cnd cheltuiala apare"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Pro tip:"})," Fotografiai bonul i ataai la cheltuial pentru audit"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"De ce:"})," Evitai s uitai cheltuieli  rapoarte P&L false"]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded",children:[e.jsx("p",{className:"font-semibold",children:" CRM (Opportunities & Leads)"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm mt-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Status update:"})," Dup fiecare interaciune cu clientul"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Notes:"})," Adugai imediat - nu vei mai ine minte peste 2 zile"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"De ce:"})," Pipeline-ul trebuie s reflecte realitatea pentru forecast corect"]})]})]})]})]}),e.jsxs("div",{className:"border-2 border-blue-300 bg-blue-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-4",children:" Actualizri Zilnice (End of Day)"}),e.jsx("div",{className:"space-y-2 text-gray-700",children:e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Reconciliere conturi bancare:"}),e.jsx("p",{className:"text-sm",children:"Comparai soldul din platform cu cel din cont. Discrepane? Investigai imediat."})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Inventar (dac avei magazin fizic):"}),e.jsx("p",{className:"text-sm",children:"Actualizai stocurile dup vnzri/recepii. Greelile se acumuleaz exponenial dac ateptai."})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Time tracking (dac factur pe ore):"}),e.jsx("p",{className:"text-sm",children:"nregistrai orele lucrate n aceeai zi - memory fades fast."})]})]})})]}),e.jsxs("div",{className:"border-2 border-purple-300 bg-purple-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-4",children:" Actualizri Sptmnale"}),e.jsx("div",{className:"space-y-2 text-gray-700",children:e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Curare CRM:"}),e.jsx("p",{className:"text-sm",children:'tergei lead-urile "moarte" (nu rspund > 3 sptmni). Marcai won/lost pentru oportuniti rezolvate.'})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Review AI Insights:"}),e.jsx("p",{className:"text-sm",children:"Platforma genereaz recomandri - verificai i acionai sptmnal."})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Verificare facturi overdue:"}),e.jsx("p",{className:"text-sm",children:"Contactai clienii cu facturi > 30 zile. Automatizarea e bun, dar call-ul personal e mai eficient."})]})]})})]}),e.jsxs("div",{className:"border-2 border-red-300 bg-red-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-xl font-bold text-red-900 mb-4",children:" Actualizri Lunare (CRITICE)"}),e.jsx("div",{className:"space-y-2 text-gray-700",children:e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Reconciliere complet:"}),e.jsx("p",{className:"text-sm",children:"TOATE tranzaciile trebuie s matchuiasc ntre platform i extrasele bancare. Zero discrepane admise."})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Inventar fizic count:"}),e.jsx("p",{className:"text-sm",children:"Numrai stocul fizic i comparai cu sistemul. Ajustai discrepanele."})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Review & cleanup:"}),e.jsx("p",{className:"text-sm",children:"Categorii de cheltuieli, contacte duplicate, produse inactive - curai lunar."})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Backup complet:"}),e.jsx("p",{className:"text-sm",children:"Export all data (Settings  Export). Pstrai 3 backup-uri (luna curent + 2 luni anterioare)."})]})]})})]}),e.jsxs("div",{className:"border-2 border-orange-300 bg-orange-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-xl font-bold text-orange-900 mb-4",children:" Actualizri Trimestriale & Anuale"}),e.jsxs("div",{className:"space-y-3 text-gray-700",children:[e.jsxs("div",{className:"bg-white p-4 rounded",children:[e.jsx("p",{className:"font-semibold",children:" Trimestrial (Q1, Q2, Q3, Q4)"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm mt-2",children:[e.jsx("li",{children:"Review complet al KPI-urilor vs. target-uri anuale"}),e.jsx("li",{children:"Ajustai strategia dac nu suntei on track"}),e.jsx("li",{children:"Audit al utilizatorilor - tergei conturile inactive"}),e.jsx("li",{children:"Update prices - analizai dac preurile trebuie ajustate (inflaie, concuren)"})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded",children:[e.jsx("p",{className:"font-semibold",children:" Anual (ianuarie urmtorul)"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm mt-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Financial year close:"})," Generai rapoarte complete pentru anul fiscal"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Tax preparation:"})," Pregtii toate documentele pentru contabil/ANAF"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Archive old data:"})," Mutai datele vechi (>2 ani) n arhiv"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Strategic planning:"})," Setai target-uri i bugete pentru anul urmtor"]})]})]})]})]})]})]});function Zee(){const[t,a]=g.useState(null),[r,s]=g.useState(!0);g.useEffect(()=>{i()},[]);const i=async()=>{try{s(!0),setTimeout(()=>{a({total_products:156,total_stock_value:487500,total_warehouses:3,low_stock_alerts:12,out_of_stock:3,recent_movements:45,inventory_turnover:6.2,stock_accuracy:98.5}),s(!1)},500)}catch(o){console.error("Error fetching dashboard stats:",o),s(!1)}},c=o=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:"RON"}).format(o);return r?e.jsxs("div",{className:"flex justify-center items-center h-96",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("p",{className:"ml-4 text-gray-500",children:"Se ncarc tabloul de bord..."})]}):e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:" Tablou de Bord Inventar"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Vizualizare general a stocurilor i activitii din depozite"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Produse"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:t?.total_products}),e.jsxs("p",{className:"text-sm text-green-600 mt-1 flex items-center",children:[e.jsx(Ue,{className:"w-4 h-4 mr-1"}),"+12% fa de luna trecut"]})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(_t,{className:"w-7 h-7 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Valoare Stoc"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:c(t?.total_stock_value||0)}),e.jsxs("p",{className:"text-sm text-green-600 mt-1 flex items-center",children:[e.jsx(Ue,{className:"w-4 h-4 mr-1"}),"+8% fa de luna trecut"]})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(Za,{className:"w-7 h-7 text-purple-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Alerte Stoc Sczut"}),e.jsx("p",{className:"text-3xl font-bold text-yellow-600 mt-2",children:t?.low_stock_alerts}),e.jsxs("p",{className:"text-sm text-yellow-600 mt-1",children:[t?.out_of_stock," produse epuizate"]})]}),e.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:e.jsx(en,{className:"w-7 h-7 text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Depozite Active"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:t?.total_warehouses}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[t?.recent_movements," micri recent"]})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(nn,{className:"w-7 h-7 text-green-600"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[e.jsxs(Ne,{to:"/inventory/products",className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow group cursor-pointer",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(_t,{className:"w-7 h-7 text-blue-600"})}),e.jsx(Pa,{className:"w-5 h-5 text-gray-400 group-hover:text-blue-600 transition-colors"})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Catalog Produse"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Gestionai catalogul de produse, preuri i informaii"})]}),e.jsxs(Ne,{to:"/inventory/stock-levels",className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow group cursor-pointer",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(Za,{className:"w-7 h-7 text-green-600"})}),e.jsx(Pa,{className:"w-5 h-5 text-gray-400 group-hover:text-green-600 transition-colors"})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Niveluri Stoc"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Monitorizare n timp real a stocurilor pe depozite"})]}),e.jsxs(Ne,{to:"/inventory/warehouses",className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow group cursor-pointer",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(nn,{className:"w-7 h-7 text-purple-600"})}),e.jsx(Pa,{className:"w-5 h-5 text-gray-400 group-hover:text-purple-600 transition-colors"})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Depozite & Locaii"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Gestionai depozitele i punctele de stocare"})]}),e.jsxs(Ne,{to:"/inventory/low-stock",className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow group cursor-pointer",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:e.jsx(xr,{className:"w-7 h-7 text-yellow-600"})}),e.jsx(Pa,{className:"w-5 h-5 text-gray-400 group-hover:text-yellow-600 transition-colors"})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Alerte Stoc Sczut"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Monitorizai produsele cu stoc sczut i comenzile"}),t&&t.low_stock_alerts>0&&e.jsxs("div",{className:"mt-3 px-2 py-1 bg-yellow-100 rounded text-sm font-medium text-yellow-800 inline-block",children:[t.low_stock_alerts," alerte active"]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg shadow-md p-6 border-2 border-dashed border-gray-300 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"n curnd"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-1",children:"Micri Stoc"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Istoric complet micri"})]})}),e.jsx("div",{className:"bg-gray-50 rounded-lg shadow-md p-6 border-2 border-dashed border-gray-300 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"n curnd"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-1",children:"Transferuri"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Transferuri ntre depozite"})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Indicatori de Performan"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Rotaie Inventar"}),e.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[t?.inventory_turnover,"x"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.min((t?.inventory_turnover||0)/10*100,100)}%`}})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"int: 8x/an"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Acuratee Stoc"}),e.jsxs("span",{className:"text-2xl font-bold text-green-600",children:[t?.stock_accuracy,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${t?.stock_accuracy}%`}})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"int: 99%"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Nivel Serviciu"}),e.jsx("span",{className:"text-2xl font-bold text-purple-600",children:"96.8%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:"96.8%"}})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"int: 98%"})]})]})]})]})}function Qee(){const[t,a]=g.useState([]),[r,s]=g.useState(null),[i,c]=g.useState(!0),[o,u]=g.useState(""),[m,h]=g.useState(""),[x,f]=g.useState(!1);g.useEffect(()=>{v()},[o,m,x]);const v=async()=>{try{c(!0);const y=localStorage.getItem("auth_token"),_=localStorage.getItem("company_id"),A=new URLSearchParams({company_id:_||"",...o&&{search:o},...m&&{category:m},...x&&{low_stock:"true"}}),C=await fetch(`/api/v1/inventory/products.php?${A}`,{headers:{Authorization:`Bearer ${y}`}});if(!C.ok)throw new Error("Failed to fetch products");const E=await C.json();a(E.products||[]),E.summary&&s(E.summary)}catch(y){console.error("Error fetching products:",y)}finally{c(!1)}},b=y=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:"RON"}).format(y),w=y=>y.total_stock===0?"text-red-600 bg-red-50":y.is_low_stock?"text-yellow-600 bg-yellow-50":"text-green-600 bg-green-50",N=y=>y.total_stock===0?"Stoc epuizat":y.is_low_stock?"Stoc sczut":"n stoc";return e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:[e.jsx("div",{className:"mb-4 sm:mb-6 md:mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:" Produse & Inventar"}),e.jsx("p",{className:"mt-1 text-xs sm:text-sm text-gray-500",children:"Gestionai catalogul de produse i monitorizai stocurile"})]}),e.jsxs("button",{onClick:()=>alert("Funcionalitate n dezvoltare"),className:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-3 sm:py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 active:bg-blue-800 transition-colors text-sm font-medium min-h-[44px]",children:[e.jsx(wt,{className:"w-5 h-5 mr-2"}),"Produs Nou"]})]})}),r&&e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center",children:[e.jsx("div",{className:"flex-shrink-0 mb-2 sm:mb-0",children:e.jsx(_t,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-600"})}),e.jsxs("div",{className:"sm:ml-4",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Total Produse"}),e.jsx("p",{className:"text-xl sm:text-2xl font-semibold text-gray-900",children:r.total_products})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center",children:[e.jsx("div",{className:"flex-shrink-0 mb-2 sm:mb-0",children:e.jsx(Za,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-600"})}),e.jsxs("div",{className:"sm:ml-4",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Uniti Stoc"}),e.jsx("p",{className:"text-xl sm:text-2xl font-semibold text-gray-900",children:r.total_units.toLocaleString()})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center",children:[e.jsx("div",{className:"flex-shrink-0 mb-2 sm:mb-0",children:e.jsx(Ue,{className:"h-6 w-6 sm:h-8 sm:w-8 text-purple-600"})}),e.jsxs("div",{className:"sm:ml-4",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Valoare Stoc"}),e.jsx("p",{className:"text-xl sm:text-2xl font-semibold text-gray-900",children:b(r.total_value)})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center",children:[e.jsx("div",{className:"flex-shrink-0 mb-2 sm:mb-0",children:e.jsx(xr,{className:"h-6 w-6 sm:h-8 sm:w-8 text-yellow-600"})}),e.jsxs("div",{className:"sm:ml-4",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Stoc Sczut"}),e.jsx("p",{className:"text-xl sm:text-2xl font-semibold text-gray-900",children:r.low_stock_products})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center",children:[e.jsx("div",{className:"flex-shrink-0 mb-2 sm:mb-0",children:e.jsx(xr,{className:"h-6 w-6 sm:h-8 sm:w-8 text-red-600"})}),e.jsxs("div",{className:"sm:ml-4",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Stoc Epuizat"}),e.jsx("p",{className:"text-xl sm:text-2xl font-semibold text-gray-900",children:r.out_of_stock_products})]})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow mb-4 sm:mb-6 p-3 sm:p-4",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"relative sm:col-span-2 lg:col-span-1",children:[e.jsx(Oa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("input",{type:"text",placeholder:"Caut produs...",value:o,onChange:y=>u(y.target.value),className:"w-full pl-9 sm:pl-10 pr-3 sm:pr-4 py-3 sm:py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("select",{value:m,onChange:y=>h(y.target.value),className:"px-3 sm:px-4 py-3 sm:py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Toate categoriile"}),e.jsx("option",{value:"Electronics",children:"Electronice"}),e.jsx("option",{value:"Clothing",children:"mbrcminte"}),e.jsx("option",{value:"Food",children:"Alimente"}),e.jsx("option",{value:"Books",children:"Cri"}),e.jsx("option",{value:"Other",children:"Altele"})]}),e.jsxs("label",{className:"flex items-center justify-center px-3 sm:px-4 py-3 sm:py-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 active:bg-gray-100 min-h-[44px]",children:[e.jsx("input",{type:"checkbox",checked:x,onChange:y=>f(y.target.checked),className:"mr-2 w-4 h-4"}),e.jsx(qi,{className:"w-4 h-4 mr-2 text-gray-600"}),e.jsx("span",{className:"text-sm",children:"Stoc sczut"})]}),e.jsx("button",{onClick:()=>{u(""),h(""),f(!1)},className:"px-3 sm:px-4 py-3 sm:py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 active:bg-gray-300 transition-colors text-sm font-medium min-h-[44px]",children:"Reseteaz"})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"block md:hidden",children:i?e.jsxs("div",{className:"px-4 py-12 text-center text-gray-500",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("p",{className:"mt-2 text-sm",children:"Se ncarc produsele..."})]}):t.length===0?e.jsxs("div",{className:"px-4 py-12 text-center text-gray-500",children:[e.jsx(_t,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-base font-medium",children:"Niciun produs gsit"}),e.jsx("p",{className:"text-sm",children:"ncepei prin a aduga primul produs"})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:t.map(y=>e.jsx("div",{className:"p-4 hover:bg-gray-50 active:bg-gray-100",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 h-12 w-12 bg-gray-200 rounded flex items-center justify-center",children:e.jsx(_t,{className:"w-6 h-6 text-gray-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:y.name}),e.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["SKU: ",y.sku]})]}),e.jsx("span",{className:`ml-2 px-2 py-1 inline-flex text-xs leading-4 font-semibold rounded-full ${w(y)}`,children:N(y)})]}),e.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Categorie:"}),e.jsx("span",{className:"ml-1 font-medium text-gray-900",children:y.category||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Pre:"}),e.jsx("span",{className:"ml-1 font-medium text-gray-900",children:b(y.selling_price)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Stoc:"}),e.jsxs("span",{className:"ml-1 font-medium text-gray-900",children:[y.total_stock," ",y.unit_of_measure]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Marj:"}),e.jsxs("span",{className:`ml-1 font-medium ${y.profit_margin>20?"text-green-600":y.profit_margin>10?"text-yellow-600":"text-red-600"}`,children:[y.profit_margin?.toFixed(1),"%"]})]})]}),e.jsxs("div",{className:"mt-3 flex gap-2",children:[e.jsx("button",{className:"flex-1 px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 active:bg-blue-200 min-h-[44px]",children:"Vizualizare"}),e.jsx("button",{className:"flex-1 px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 active:bg-gray-300 min-h-[44px]",children:"Editeaz"})]})]})]})},y.id))})}),e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produs"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categorie"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pre Vnzare"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Marj"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stoc Total"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Disponibil"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Depozite"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aciuni"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i?e.jsx("tr",{children:e.jsxs("td",{colSpan:9,className:"px-6 py-12 text-center text-gray-500",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("p",{className:"mt-2",children:"Se ncarc produsele..."})]})}):t.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:9,className:"px-6 py-12 text-center text-gray-500",children:[e.jsx(_t,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium",children:"Niciun produs gsit"}),e.jsx("p",{className:"text-sm",children:"ncepei prin a aduga primul produs"})]})}):t.map(y=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-gray-200 rounded flex items-center justify-center",children:e.jsx(_t,{className:"w-6 h-6 text-gray-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:y.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["SKU: ",y.sku]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:y.category||"Necategorizat"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-gray-900",children:b(y.selling_price)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsxs("span",{className:`text-sm font-medium ${y.profit_margin>20?"text-green-600":y.profit_margin>10?"text-yellow-600":"text-red-600"}`,children:[y.profit_margin?.toFixed(1),"%"]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium text-gray-900",children:[y.total_stock," ",y.unit_of_measure]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-gray-900",children:[y.total_free," ",y.unit_of_measure]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-gray-500",children:y.warehouse_count}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${w(y)}`,children:N(y)})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-3",children:"Vizualizare"}),e.jsx("button",{className:"text-gray-600 hover:text-gray-900",children:"Editeaz"})]})]},y.id))})]})})]})]})}function Jee(){const[t,a]=g.useState([]),[r,s]=g.useState(!0),[i,c]=g.useState("product"),[o,u]=g.useState(new Set);g.useEffect(()=>{m()},[i]);const m=async()=>{try{s(!0);const v=localStorage.getItem("auth_token"),b=localStorage.getItem("company_id"),w=new URLSearchParams({company_id:b||"",group_by:i}),N=await fetch(`/api/v1/inventory/stock-levels.php?${w}`,{headers:{Authorization:`Bearer ${v}`}});if(!N.ok)throw new Error("Failed to fetch stock levels");const y=await N.json();a(y.products||[])}catch(v){console.error("Error fetching stock levels:",v)}finally{s(!1)}},h=v=>{const b=new Set(o);b.has(v)?b.delete(v):b.add(v),u(b)},x=v=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:"RON"}).format(v),f=(v,b)=>b?v===0?e.jsx(xr,{className:"w-4 h-4 text-red-600"}):v<=b?e.jsx(en,{className:"w-4 h-4 text-yellow-600"}):e.jsx(Ue,{className:"w-4 h-4 text-green-600"}):null;return e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:[e.jsx("div",{className:"mb-4 sm:mb-6 md:mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:" Niveluri Stoc"}),e.jsx("p",{className:"mt-1 text-xs sm:text-sm text-gray-500",children:"Monitorizare n timp real a stocurilor pe produse i depozite"})]}),e.jsxs("button",{onClick:m,className:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-3 sm:py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 active:bg-blue-800 transition-colors text-sm font-medium min-h-[44px]",children:[e.jsx(sc,{className:"w-5 h-5 mr-2"}),"Actualizeaz"]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow mb-4 sm:mb-6 p-3 sm:p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[e.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Vizualizare:"}),e.jsxs("div",{className:"flex gap-2 flex-1",children:[e.jsxs("button",{onClick:()=>c("product"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-3 sm:py-2 rounded-lg text-sm font-medium transition-colors min-h-[44px] ${i==="product"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200 active:bg-gray-300"}`,children:[e.jsx(_t,{className:"w-4 h-4 inline mr-2"}),"Pe Produs"]}),e.jsxs("button",{onClick:()=>c("warehouse"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-3 sm:py-2 rounded-lg text-sm font-medium transition-colors min-h-[44px] ${i==="warehouse"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200 active:bg-gray-300"}`,children:[e.jsx(nn,{className:"w-4 h-4 inline mr-2"}),"Pe Depozit"]})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"block md:hidden",children:r?e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Se ncarc nivelurile de stoc..."})]}):t.length===0?e.jsxs("div",{className:"p-6 text-center",children:[e.jsx(_t,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-base font-medium",children:"Niciun stoc gsit"})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:t.map(v=>e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-start space-x-3 cursor-pointer active:bg-gray-50",onClick:()=>h(v.product_id),children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-gray-200 rounded flex items-center justify-center",children:e.jsx(_t,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:v.product_name}),e.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["SKU: ",v.sku]})]}),e.jsx("div",{className:"ml-2",children:v.total_available===0?e.jsx(xr,{className:"w-5 h-5 text-red-600"}):v.total_available<=10?e.jsx(en,{className:"w-5 h-5 text-yellow-600"}):e.jsx(Ue,{className:"w-5 h-5 text-green-600"})})]}),e.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Stoc Total:"}),e.jsxs("span",{className:"ml-1 font-medium text-gray-900",children:[v.total_available," ",v.unit_of_measure]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Disponibil:"}),e.jsxs("span",{className:"ml-1 font-medium text-green-600",children:[v.total_free," ",v.unit_of_measure]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Rezervat:"}),e.jsxs("span",{className:"ml-1 text-gray-600",children:[v.total_reserved," ",v.unit_of_measure]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Valoare:"}),e.jsx("span",{className:"ml-1 font-medium text-gray-900",children:x(v.total_value)})]})]}),o.has(v.product_id)&&v.warehouse_details&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 space-y-2",children:[e.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Detalii pe Depozit:"}),v.warehouse_details.map(b=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-900",children:b.warehouse_name}),e.jsx("p",{className:"text-xs text-gray-500",children:b.warehouse_code})]}),f(b.quantity_available,b.reorder_level)]}),e.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Disponibil:"}),e.jsx("span",{className:"ml-1 font-medium",children:b.quantity_available})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Liber:"}),e.jsx("span",{className:"ml-1 text-green-600 font-medium",children:b.quantity_free})]})]})]},b.warehouse_id))]})]})]})},v.product_id))})}),e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produs"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stoc Total"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rezervat"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Disponibil"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"n Comand"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost Mediu"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valoare Total"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Depozite"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r?e.jsx("tr",{children:e.jsxs("td",{colSpan:9,className:"px-6 py-12 text-center text-gray-500",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("p",{className:"mt-2",children:"Se ncarc nivelurile de stoc..."})]})}):t.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:9,className:"px-6 py-12 text-center text-gray-500",children:[e.jsx(_t,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium",children:"Niciun stoc gsit"})]})}):t.map(v=>e.jsxs(We.Fragment,{children:[e.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>h(v.product_id),children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-gray-200 rounded flex items-center justify-center",children:e.jsx(_t,{className:"w-6 h-6 text-gray-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.product_name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["SKU: ",v.sku]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[v.total_available," ",v.unit_of_measure]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("span",{className:"text-sm text-gray-600",children:[v.total_reserved," ",v.unit_of_measure]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("span",{className:"text-sm font-medium text-green-600",children:[v.total_free," ",v.unit_of_measure]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("span",{className:"text-sm text-blue-600",children:[v.total_on_order," ",v.unit_of_measure]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-gray-900",children:x(v.avg_cost)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium text-gray-900",children:x(v.total_value)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:v.warehouse_count})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("div",{className:"flex items-center justify-center",children:v.total_available===0?e.jsx(xr,{className:"w-5 h-5 text-red-600"}):v.total_available<=10?e.jsx(en,{className:"w-5 h-5 text-yellow-600"}):e.jsx(Ue,{className:"w-5 h-5 text-green-600"})})})]}),o.has(v.product_id)&&v.warehouse_details&&e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"px-6 py-4 bg-gray-50",children:e.jsxs("div",{className:"ml-14",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Detalii pe Depozit:"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.warehouse_details.map(b=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900",children:b.warehouse_name}),e.jsx("p",{className:"text-xs text-gray-500",children:b.warehouse_code})]}),f(b.quantity_available,b.reorder_level)]}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Disponibil:"}),e.jsx("span",{className:"font-medium",children:b.quantity_available})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Rezervat:"}),e.jsx("span",{className:"text-yellow-600",children:b.quantity_reserved})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Liber:"}),e.jsx("span",{className:"text-green-600 font-medium",children:b.quantity_free})]}),b.reorder_level&&e.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[e.jsx("span",{className:"text-gray-600",children:"Nivel Recomandare:"}),e.jsx("span",{className:"text-blue-600",children:b.reorder_level})]}),b.last_movement_date&&e.jsxs("div",{className:"flex justify-between pt-2",children:[e.jsx("span",{className:"text-gray-600 text-xs",children:"Ultima micare:"}),e.jsx("span",{className:"text-gray-500 text-xs",children:new Date(b.last_movement_date).toLocaleDateString("ro-RO")})]})]})]},b.warehouse_id))})]})})})]},v.product_id))})]})})]})]})}function ete(){const[t,a]=g.useState([]),[r,s]=g.useState(!0),[i,c]=g.useState(!1),[o,u]=g.useState(null);g.useEffect(()=>{m()},[]);const m=async()=>{try{s(!0);const N=localStorage.getItem("auth_token"),y=localStorage.getItem("company_id"),_=new URLSearchParams({company_id:y||"",include_stats:"true"}),A=await fetch(`/api/v1/inventory/warehouses.php?${_}`,{headers:{Authorization:`Bearer ${N}`}});if(!A.ok)throw new Error("Failed to fetch warehouses");const C=await A.json();a(C.warehouses||[])}catch(N){console.error("Error fetching warehouses:",N)}finally{s(!1)}},h=N=>N?new Intl.NumberFormat("ro-RO",{style:"currency",currency:"RON"}).format(N):"-",x=N=>({warehouse:"Depozit",store:"Magazin",dropship:"Dropshipping"})[N]||N,f=N=>({warehouse:"bg-blue-100 text-blue-800",store:"bg-green-100 text-green-800",dropship:"bg-purple-100 text-purple-800"})[N]||"bg-gray-100 text-gray-800",v=()=>{u(null),c(!0)},b=N=>{u(N),c(!0)},w=async N=>{if(confirm("Sigur dorii s dezactivai acest depozit?"))try{const y=localStorage.getItem("auth_token"),_=await fetch(`/api/v1/inventory/warehouses.php?id=${N}`,{method:"DELETE",headers:{Authorization:`Bearer ${y}`}});if(!_.ok){const A=await _.json();alert(A.error||"Eroare la tergerea depozitului");return}await m()}catch(y){console.error("Error deleting warehouse:",y),alert("Eroare la tergerea depozitului")}};return e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:[e.jsx("div",{className:"mb-4 sm:mb-6 md:mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:" Depozite & Locaii"}),e.jsx("p",{className:"mt-1 text-xs sm:text-sm text-gray-500",children:"Gestionai depozitele, magazinele i punctele de stocare"})]}),e.jsxs("button",{onClick:v,className:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-3 sm:py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 active:bg-blue-800 transition-colors text-sm font-medium min-h-[44px]",children:[e.jsx(wt,{className:"w-5 h-5 mr-2"}),"Depozit Nou"]})]})}),r?e.jsxs("div",{className:"flex justify-center items-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("p",{className:"ml-4 text-gray-500",children:"Se ncarc depozitele..."})]}):t.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[e.jsx(nn,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Niciun depozit gsit"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"ncepei prin a aduga primul depozit"}),e.jsxs("button",{onClick:v,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(wt,{className:"w-5 h-5 mr-2"}),"Adaug Depozit"]})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:t.map(N=>e.jsxs("div",{className:"bg-white rounded-lg shadow hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(nn,{className:"w-7 h-7 text-blue-600"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:N.name}),e.jsx("p",{className:"text-sm text-gray-500",children:N.code})]})]}),!N.is_active&&e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800",children:"Inactiv"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${f(N.warehouse_type)}`,children:x(N.warehouse_type)}),N.is_sellable&&e.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Vnzare direct"})]})]}),e.jsxs("div",{className:"p-6 bg-gray-50 border-b border-gray-200",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Produse"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N.product_count||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Uniti Stoc"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N.total_stock?.toLocaleString()||0})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Valoare Total"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:h(N.total_value)})]})]}),N.low_stock_count&&N.low_stock_count>0&&e.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 rounded-lg flex items-center",children:[e.jsx(Ue,{className:"w-5 h-5 text-yellow-600 mr-2"}),e.jsxs("span",{className:"text-sm text-yellow-800",children:[N.low_stock_count," produse cu stoc sczut"]})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start mb-3",children:[e.jsx(C5,{className:"w-5 h-5 text-gray-400 mr-2 mt-0.5"}),e.jsxs("div",{className:"text-sm text-gray-600",children:[N.address&&e.jsx("p",{children:N.address}),e.jsxs("p",{children:[N.city,N.county?`, ${N.county}`:""]}),N.postal_code&&e.jsx("p",{children:N.postal_code})]})]}),(N.phone||N.email)&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 text-sm text-gray-600",children:[N.phone&&e.jsxs("p",{children:[" ",N.phone]}),N.email&&e.jsxs("p",{children:[" ",N.email]})]})]}),e.jsxs("div",{className:"px-4 sm:px-6 py-3 sm:py-4 bg-gray-50 rounded-b-lg flex justify-end gap-2",children:[e.jsxs("button",{onClick:()=>b(N),className:"inline-flex items-center justify-center px-3 py-2 bg-white border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-colors min-h-[44px]",children:[e.jsx(ya,{className:"w-4 h-4 mr-1"}),"Editeaz"]}),e.jsxs("button",{onClick:()=>w(N.id),className:"inline-flex items-center justify-center px-3 py-2 bg-white border border-red-300 rounded-md text-sm font-medium text-red-700 hover:bg-red-50 active:bg-red-100 transition-colors min-h-[44px]",children:[e.jsx(oa,{className:"w-4 h-4 mr-1"}),"terge"]})]})]},N.id))}),i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:o?"Editare Depozit":"Depozit Nou"})}),e.jsx("div",{className:"p-6",children:e.jsx("p",{className:"text-gray-500",children:"Formular n construcie..."})}),e.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Anuleaz"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Salveaz"})]})]})})]})}function tte(){const[t,a]=g.useState([]),[r,s]=g.useState(null),[i,c]=g.useState(!0),[o,u]=g.useState("active");g.useEffect(()=>{m()},[o]);const m=async()=>{try{c(!0);const N=localStorage.getItem("auth_token"),y=localStorage.getItem("company_id"),_=new URLSearchParams({company_id:y||"",status:o}),A=await fetch(`/api/v1/inventory/low-stock.php?${_}`,{headers:{Authorization:`Bearer ${N}`}});if(!A.ok)throw new Error("Failed to fetch alerts");const C=await A.json();a(C.alerts||[]),s(C.summary||null)}catch(N){console.error("Error fetching alerts:",N)}finally{c(!1)}},h=async(N,y)=>{try{const _=localStorage.getItem("auth_token");if(!(await fetch("/api/v1/inventory/low-stock.php",{method:"PUT",headers:{Authorization:`Bearer ${_}`,"Content-Type":"application/json"},body:JSON.stringify({id:N,alert_status:y})})).ok)throw new Error("Failed to update alert");await m()}catch(_){console.error("Error updating alert:",_),alert("Eroare la actualizarea alertei")}},x=N=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:"RON"}).format(N),f=N=>N.current_stock===0?"border-red-500 bg-red-50":N.days_out_of_stock>7?"border-orange-500 bg-orange-50":"border-yellow-500 bg-yellow-50",v=N=>N.current_stock===0?e.jsx(xr,{className:"w-6 h-6 text-red-600"}):e.jsx(en,{className:"w-6 h-6 text-yellow-600"}),b=N=>({active:"bg-red-100 text-red-800",acknowledged:"bg-yellow-100 text-yellow-800",ordered:"bg-blue-100 text-blue-800",resolved:"bg-green-100 text-green-800"})[N]||"bg-gray-100 text-gray-800",w=N=>({active:"Activ",acknowledged:"Confirmat",ordered:"Comandat",resolved:"Rezolvat"})[N]||N;return e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:" Alerte Stoc Sczut"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Monitorizai produsele cu stoc sczut i gestionai comenzile de reaprovizionare"})]}),r&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(xr,{className:"h-8 w-8 text-red-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Alerte"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:r.total_alerts})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(en,{className:"h-8 w-8 text-yellow-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Alerte Active"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:r.active_alerts})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(ht,{className:"h-8 w-8 text-red-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Stoc Epuizat"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:r.out_of_stock_count})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Rm,{className:"h-8 w-8 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Valoare Comand"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:x(r.suggested_order_value)})]})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow mb-6 p-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filtreaz:"}),e.jsx("div",{className:"flex space-x-2",children:["active","acknowledged","ordered","resolved"].map(N=>e.jsx("button",{onClick:()=>u(N),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${o===N?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:w(N)},N))})]})}),e.jsx("div",{className:"space-y-4",children:i?e.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"Se ncarc alertele..."})]}):t.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[e.jsx(xr,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nicio alert gsit"}),e.jsx("p",{className:"text-gray-500",children:o==="active"?"Toate produsele au stoc suficient!":`Nicio alert cu status: ${w(o)}`})]}):t.map(N=>e.jsxs("div",{className:`bg-white rounded-lg shadow-md border-l-4 ${f(N)} p-6`,children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:v(N)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:N.product_name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["SKU: ",N.sku," | ",N.warehouse_name]})]}),e.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${b(N.alert_status)}`,children:w(N.alert_status)})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Stoc Curent"}),e.jsxs("p",{className:`text-xl font-bold ${N.current_stock===0?"text-red-600":"text-yellow-600"}`,children:[N.current_stock," ",N.unit_of_measure]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Nivel Recomandare"}),e.jsxs("p",{className:"text-xl font-bold text-blue-600",children:[N.reorder_level," ",N.unit_of_measure]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Comand Sugerat"}),e.jsxs("p",{className:"text-xl font-bold text-green-600",children:[N.suggested_order_quantity," ",N.unit_of_measure]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Valoare Comand"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:x(N.suggested_order_quantity*N.purchase_price)})]})]}),N.current_stock===0&&e.jsx("div",{className:"mt-4 p-3 bg-red-100 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ht,{className:"w-5 h-5 text-red-600 mr-2"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-red-900",children:"STOC EPUIZAT"}),N.days_out_of_stock>0&&e.jsxs("p",{className:"text-sm text-red-700",children:["Lips de ",N.days_out_of_stock," zile | Pierdere estimat: ",x(N.estimated_lost_revenue)]})]})]})})]})]})}),e.jsxs("div",{className:"mt-6 flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[N.alert_status==="active"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>h(N.id,"acknowledged"),className:"inline-flex items-center px-4 py-2 bg-yellow-100 text-yellow-800 rounded-lg hover:bg-yellow-200 transition-colors",children:[e.jsx(Xn,{className:"w-4 h-4 mr-2"}),"Confirm"]}),e.jsxs("button",{onClick:()=>h(N.id,"ordered"),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Rm,{className:"w-4 h-4 mr-2"}),"Creeaz Comand"]})]}),N.alert_status==="acknowledged"&&e.jsxs("button",{onClick:()=>h(N.id,"ordered"),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Rm,{className:"w-4 h-4 mr-2"}),"Creeaz Comand"]}),N.alert_status==="ordered"&&e.jsxs("button",{onClick:()=>h(N.id,"resolved"),className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(Xn,{className:"w-4 h-4 mr-2"}),"Marcheaz Rezolvat"]}),e.jsx("button",{className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Vezi Produs"})]})]},N.id))})]})}function ate(){const[t,a]=g.useState([]),[r,s]=g.useState(!0),[i,c]=g.useState(""),[o,u]=g.useState(""),[m,h]=g.useState(""),[x,f]=g.useState("");g.useEffect(()=>{v()},[i,o,m,x]);const v=async()=>{try{s(!0);const _=localStorage.getItem("auth_token"),A=localStorage.getItem("company_id"),C=new URLSearchParams({company_id:A||"",...o&&{movement_type:o},...m&&{start_date:m},...x&&{end_date:x},limit:"100"}),E=await fetch(`/api/v1/inventory/stock-movement.php?${C}`,{headers:{Authorization:`Bearer ${_}`,"Content-Type":"application/json"}});if(E.ok){const k=await E.json();a(k.movements||[])}else console.error("Failed to fetch movements")}catch(_){console.error("Error fetching movements:",_)}finally{s(!1)}},b=_=>{switch(_){case"in":return e.jsx(Ue,{className:"w-4 h-4 text-green-600"});case"out":return e.jsx(en,{className:"w-4 h-4 text-red-600"});case"transfer":return e.jsx(Lo,{className:"w-4 h-4 text-blue-600"});case"adjustment":return e.jsx(Wn,{className:"w-4 h-4 text-yellow-600"});default:return e.jsx(_t,{className:"w-4 h-4 text-gray-600"})}},w=_=>{const A={in:"bg-green-100 text-green-800",out:"bg-red-100 text-red-800",transfer:"bg-blue-100 text-blue-800",adjustment:"bg-yellow-100 text-yellow-800",return:"bg-purple-100 text-purple-800"},C={in:"Intrare",out:"Ieire",transfer:"Transfer",adjustment:"Ajustare",return:"Retur"};return e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${A[_]||"bg-gray-100 text-gray-800"}`,children:[b(_),C[_]||_]})},N=()=>{const _=["Data","Produs","SKU","Depozit","Tip","Cantitate","Cost Unitar","Valoare Total","Referin","Notie"],A=t.map(O=>[new Date(O.created_at).toLocaleDateString("ro-RO"),O.product_name,O.product_sku,O.warehouse_name,O.movement_type,O.quantity,O.unit_cost,O.total_value,O.reference_number||"",O.notes||""]),C=[_.join(","),...A.map(O=>O.join(","))].join(`
`),E=new Blob([C],{type:"text/csv;charset=utf-8;"}),k=document.createElement("a");k.href=URL.createObjectURL(E),k.download=`miscaristoc_${new Date().toISOString().split("T")[0]}.csv`,k.click()},y=t.filter(_=>!i||_.product_name.toLowerCase().includes(i.toLowerCase())||_.product_sku.toLowerCase().includes(i.toLowerCase())||_.warehouse_name.toLowerCase().includes(i.toLowerCase()));return e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-3 sm:pb-4",children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Istoric Micri Stoc"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:"Vizualizai toate micrile de stoc: intrri, ieiri, transferuri i ajustri"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-3 sm:p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"sm:col-span-2 lg:col-span-1",children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Cutare"}),e.jsxs("div",{className:"relative",children:[e.jsx(Oa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:i,onChange:_=>c(_.target.value),placeholder:"Produs, SKU...",className:"w-full pl-9 pr-3 py-3 sm:py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Tip Micare"}),e.jsxs("select",{value:o,onChange:_=>u(_.target.value),className:"w-full px-3 py-3 sm:py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Toate tipurile"}),e.jsx("option",{value:"in",children:"Intrare"}),e.jsx("option",{value:"out",children:"Ieire"}),e.jsx("option",{value:"transfer",children:"Transfer"}),e.jsx("option",{value:"adjustment",children:"Ajustare"}),e.jsx("option",{value:"return",children:"Retur"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Data nceput"}),e.jsxs("div",{className:"relative",children:[e.jsx(nt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"}),e.jsx("input",{type:"date",value:m,onChange:_=>h(_.target.value),className:"w-full pl-9 pr-3 py-3 sm:py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Data Sfrit"}),e.jsxs("div",{className:"relative",children:[e.jsx(nt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"}),e.jsx("input",{type:"date",value:x,onChange:_=>f(_.target.value),className:"w-full pl-9 pr-3 py-3 sm:py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-2 mt-3 sm:mt-4 pt-3 sm:pt-4 border-t border-gray-200",children:[e.jsxs("button",{onClick:v,className:"inline-flex items-center justify-center gap-2 px-4 py-3 sm:py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 active:bg-gray-100 min-h-[44px]",children:[e.jsx(sc,{className:"w-4 h-4"}),"Remprospteaz"]}),e.jsxs("button",{onClick:N,disabled:t.length===0,className:"inline-flex items-center justify-center gap-2 px-4 py-3 sm:py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 active:bg-blue-800 disabled:opacity-50 disabled:cursor-not-allowed min-h-[44px]",children:[e.jsx(tr,{className:"w-4 h-4"}),"Export CSV"]})]})]}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:r?e.jsxs("div",{className:"p-6 sm:p-8 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Se ncarc micrile..."})]}):y.length===0?e.jsxs("div",{className:"p-6 sm:p-8 text-center",children:[e.jsx(_t,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600",children:"Nu exist micri de stoc"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Ajustai filtrele pentru a vedea rezultate"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"block md:hidden divide-y divide-gray-200",children:y.map(_=>e.jsxs("div",{className:"p-4 hover:bg-gray-50 active:bg-gray-100",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:_.product_name}),e.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["SKU: ",_.product_sku]})]}),w(_.movement_type)]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Data:"}),e.jsx("span",{className:"ml-1 font-medium text-gray-900 block",children:new Date(_.created_at).toLocaleDateString("ro-RO",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Depozit:"}),e.jsx("span",{className:"ml-1 font-medium text-gray-900 block truncate",children:_.warehouse_name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Cantitate:"}),e.jsxs("span",{className:`ml-1 font-medium ${_.quantity>0?"text-green-600":"text-red-600"}`,children:[_.quantity>0?"+":"",_.quantity]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Valoare:"}),e.jsx("span",{className:"ml-1 font-medium text-gray-900",children:_.total_value?`${_.total_value.toFixed(2)} RON`:"-"})]})]}),_.reference_number&&e.jsxs("div",{className:"text-xs text-gray-500 pt-2 border-t border-gray-100",children:["Ref: ",_.reference_number]})]},_.id))}),e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produs"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Depozit"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tip"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cantitate"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost Unitar"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valoare"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Referin"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(_=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(_.created_at).toLocaleDateString("ro-RO",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.product_name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["SKU: ",_.product_sku]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"inline-flex items-center gap-1 text-sm text-gray-700",children:[e.jsx(nn,{className:"w-4 h-4 text-gray-400"}),_.warehouse_name]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w(_.movement_type)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right",children:e.jsxs("span",{className:_.quantity>0?"text-green-600 font-medium":"text-red-600 font-medium",children:[_.quantity>0?"+":"",_.quantity]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900",children:_.unit_cost?`${_.unit_cost.toFixed(2)} RON`:"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-medium text-gray-900",children:_.total_value?`${_.total_value.toFixed(2)} RON`:"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_.reference_number||"-"})]},_.id))})]})})]})}),y.length>0&&e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-3 sm:p-4",children:e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4 text-xs sm:text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Total Micri:"}),e.jsx("span",{className:"ml-2 font-semibold text-gray-900",children:y.length})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Intrri:"}),e.jsx("span",{className:"ml-2 font-semibold text-green-600",children:y.filter(_=>_.movement_type==="in").length})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Ieiri:"}),e.jsx("span",{className:"ml-2 font-semibold text-red-600",children:y.filter(_=>_.movement_type==="out").length})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Valoare Total:"}),e.jsxs("span",{className:"ml-2 font-semibold text-gray-900",children:[y.reduce((_,A)=>_+(A.total_value||0),0).toFixed(2)," RON"]})]})]})})]})}function rte(){const[t,a]=g.useState(1),[r,s]=g.useState(""),[i,c]=g.useState([]),[o,u]=g.useState([]),[m,h]=g.useState([]),[x,f]=g.useState(""),[v,b]=g.useState(""),[w,N]=g.useState(!1),[y,_]=g.useState(!1),[A,C]=g.useState("");g.useEffect(()=>{E(),k()},[]);const E=async()=>{try{const F=localStorage.getItem("auth_token"),q=localStorage.getItem("company_id"),te=await fetch(`/api/v1/inventory/warehouses.php?company_id=${q}`,{headers:{Authorization:`Bearer ${F}`}});if(te.ok){const W=await te.json();c(W.warehouses||[])}}catch(F){console.error("Error fetching warehouses:",F)}},k=async()=>{try{const F=localStorage.getItem("auth_token"),q=localStorage.getItem("company_id"),te=await fetch(`/api/v1/inventory/products.php?company_id=${q}`,{headers:{Authorization:`Bearer ${F}`}});if(te.ok){const W=await te.json();u(W.products||[])}}catch(F){console.error("Error fetching products:",F)}},O=F=>{if(m.find(te=>te.product_id===F.id))return;const q={product_id:F.id,product_name:F.name,product_sku:F.sku,current_quantity:0,adjustment_quantity:0,adjustment_type:"add",new_quantity:0};h([...m,q])},D=F=>{h(m.filter(q=>q.product_id!==F))},P=(F,q,te)=>{h(m.map(W=>{if(W.product_id===F){const H={...W,[q]:te};if(q==="adjustment_quantity"||q==="adjustment_type"){const R=typeof te=="number"?te:H.adjustment_quantity,$=typeof te=="string"?te:H.adjustment_type;H.new_quantity=$==="add"?H.current_quantity+R:H.current_quantity-R}return H}return W}))},L=async()=>{if(m.length===0){C("Adugai cel puin un produs");return}if(!x){C("Selectai un motiv pentru ajustare");return}try{N(!0),C("");const F=localStorage.getItem("auth_token"),q=localStorage.getItem("company_id");for(const te of m)if(!(await fetch("/api/v1/inventory/stock-adjustment.php",{method:"POST",headers:{Authorization:`Bearer ${F}`,"Content-Type":"application/json"},body:JSON.stringify({company_id:q,warehouse_id:r,product_id:te.product_id,quantity:te.adjustment_type==="add"?te.adjustment_quantity:-te.adjustment_quantity,reason:x,notes:v})})).ok)throw new Error(`Failed to adjust ${te.product_name}`);_(!0),setTimeout(()=>{z()},2e3)}catch(F){C(F.message||"Eroare la procesarea ajustrilor")}finally{N(!1)}},z=()=>{a(1),s(""),h([]),f(""),b(""),_(!1),C("")},M=()=>{switch(t){case 1:return r!=="";case 2:return m.length>0;case 3:return m.every(F=>F.adjustment_quantity>0);case 4:return x!=="";default:return!1}};return y?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Me,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Ajustare Completat!"}),e.jsx("p",{className:"text-gray-600",children:"Stocurile au fost actualizate cu succes."}),e.jsx("button",{onClick:z,className:"mt-6 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Creeaz Alt Ajustare"})]})}):e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Ajustare Stoc"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Adaug sau scade cantiti din stoc cu motiv"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:[1,2,3,4,5].map((F,q)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${t>=F?"border-blue-600 bg-blue-600 text-white":"border-gray-300 text-gray-400"}`,children:F}),q<4&&e.jsx("div",{className:`w-12 h-1 ${t>F?"bg-blue-600":"bg-gray-300"}`})]},F))}),e.jsxs("div",{className:"flex justify-between mt-2 text-xs text-gray-600",children:[e.jsx("span",{children:"Depozit"}),e.jsx("span",{children:"Produse"}),e.jsx("span",{children:"Cantiti"}),e.jsx("span",{children:"Motiv"}),e.jsx("span",{children:"Verificare"})]})]}),A&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(xr,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Eroare"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:A})]}),e.jsx("button",{onClick:()=>C(""),className:"ml-auto",children:e.jsx(ht,{className:"w-5 h-5 text-red-400 hover:text-red-600"})})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 min-h-[400px]",children:[t===1&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(nn,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Selecteaz Depozitul"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.map(F=>e.jsxs("button",{onClick:()=>s(F.id),className:`p-4 border-2 rounded-lg text-left transition-colors ${r===F.id?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:"font-medium text-gray-900",children:F.name}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:F.location_name})]},F.id))})]}),t===2&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(_t,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Selecteaz Produsele"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adaug Produse:"}),e.jsxs("select",{onChange:F=>{const q=o.find(te=>te.id===F.target.value);q&&O(q),F.target.value=""},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Selecteaz un produs..."}),o.filter(F=>!m.find(q=>q.product_id===F.id)).map(F=>e.jsxs("option",{value:F.id,children:[F.name," (",F.sku,")"]},F.id))]})]}),m.length>0&&e.jsx("div",{className:"border border-gray-200 rounded-lg divide-y",children:m.map(F=>e.jsxs("div",{className:"p-3 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:F.product_name}),e.jsxs("div",{className:"text-sm text-gray-600",children:["SKU: ",F.product_sku]})]}),e.jsx("button",{onClick:()=>D(F.product_id),className:"text-red-600 hover:text-red-800",children:e.jsx(ht,{className:"w-5 h-5"})})]},F.product_id))})]})]}),t===3&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(Wn,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Seteaz Cantitile"})]}),e.jsx("div",{className:"space-y-4",children:m.map(F=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("div",{className:"font-medium text-gray-900 mb-3",children:F.product_name}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Tip Ajustare"}),e.jsxs("select",{value:F.adjustment_type,onChange:q=>P(F.product_id,"adjustment_type",q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{value:"add",children:"Adaug (+)"}),e.jsx("option",{value:"subtract",children:"Scade (-)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Cantitate"}),e.jsx("input",{type:"number",min:"0",value:F.adjustment_quantity,onChange:q=>P(F.product_id,"adjustment_quantity",parseInt(q.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Rezultat"}),e.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-300 rounded-lg",children:e.jsxs("span",{className:F.adjustment_type==="add"?"text-green-600":"text-red-600",children:[F.adjustment_type==="add"?"+":"-",F.adjustment_quantity]})})]})]})]},F.product_id))})]}),t===4&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(xr,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Motiv i Notie"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Motiv Ajustare ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsxs("select",{value:x,onChange:F=>f(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Selecteaz motivul..."}),e.jsx("option",{value:"damage",children:"Deteriorare"}),e.jsx("option",{value:"loss",children:"Pierdere"}),e.jsx("option",{value:"found",children:"Gsit"}),e.jsx("option",{value:"correction",children:"Corectare Inventar"}),e.jsx("option",{value:"revaluation",children:"Reevaluare"}),e.jsx("option",{value:"other",children:"Altele"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notie (opional)"}),e.jsx("textarea",{value:v,onChange:F=>b(F.target.value),rows:4,placeholder:"Adaug detalii suplimentare...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]}),t===5&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(Me,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Verific i Confirm"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Depozit:"}),e.jsx("span",{className:"font-medium text-gray-900",children:i.find(F=>F.id===r)?.name})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Produse:"}),e.jsx("span",{className:"font-medium text-gray-900",children:m.length})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Motiv:"}),e.jsx("span",{className:"font-medium text-gray-900",children:x})]})]}),e.jsx("div",{className:"border border-gray-200 rounded-lg divide-y",children:m.map(F=>e.jsxs("div",{className:"p-3 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:F.product_name}),e.jsxs("div",{className:"text-sm text-gray-600",children:["SKU: ",F.product_sku]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:`font-semibold ${F.adjustment_type==="add"?"text-green-600":"text-red-600"}`,children:[F.adjustment_type==="add"?"+":"-",F.adjustment_quantity]})})]},F.product_id))}),v&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm font-medium text-yellow-800 mb-1",children:"Notie:"}),e.jsx("div",{className:"text-sm text-yellow-700",children:v})]})]})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("button",{onClick:()=>a(Math.max(1,t-1)),disabled:t===1,className:"inline-flex items-center gap-2 px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(w5,{className:"w-4 h-4"}),"napoi"]}),t<5?e.jsxs("button",{onClick:()=>a(t+1),disabled:!M(),className:"inline-flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:["Urmtorul",e.jsx(vc,{className:"w-4 h-4"})]}):e.jsxs("button",{onClick:L,disabled:w,className:"inline-flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[w?"Se proceseaz...":"Confirm Ajustare",e.jsx(Me,{className:"w-4 h-4"})]})]})]})}function ste(){const[t,a]=g.useState(1),[r,s]=g.useState(""),[i,c]=g.useState(""),[o,u]=g.useState([]),[m,h]=g.useState([]),[x,f]=g.useState([]),[v,b]=g.useState(new Date().toISOString().split("T")[0]),[w,N]=g.useState(""),[y,_]=g.useState(!1),[A,C]=g.useState(!1),[E,k]=g.useState(""),[O,D]=g.useState("");g.useEffect(()=>{P(),L()},[]);const P=async()=>{try{const R=localStorage.getItem("auth_token"),$=localStorage.getItem("company_id"),V=await fetch(`/api/v1/inventory/warehouses.php?company_id=${$}`,{headers:{Authorization:`Bearer ${R}`}});if(V.ok){const Z=await V.json();u(Z.warehouses||[])}}catch(R){console.error("Error fetching warehouses:",R)}},L=async()=>{try{const R=localStorage.getItem("auth_token"),$=localStorage.getItem("company_id"),V=await fetch(`/api/v1/inventory/products.php?company_id=${$}`,{headers:{Authorization:`Bearer ${R}`}});if(V.ok){const Z=await V.json();h(Z.products||[])}}catch(R){console.error("Error fetching products:",R)}},z=R=>{if(x.find(V=>V.product_id===R.id))return;const $={product_id:R.id,product_name:R.name,product_sku:R.sku,available_quantity:100,transfer_quantity:0,is_valid:!0};f([...x,$])},M=R=>{f(x.filter($=>$.product_id!==R))},F=(R,$)=>{f(x.map(V=>{if(V.product_id===R){const Z=$>0&&$<=V.available_quantity;return{...V,transfer_quantity:$,is_valid:Z}}return V}))},q=async()=>{if(x.length===0){k("Adugai cel puin un produs");return}if(!x.every(R=>R.is_valid)){k("Toate cantitile trebuie s fie valide");return}try{_(!0),k("");const R=localStorage.getItem("auth_token"),$=localStorage.getItem("company_id"),V=`TR-${Date.now()}`;D(V);for(const Z of x)if(!(await fetch("/api/v1/inventory/stock-transfer.php",{method:"POST",headers:{Authorization:`Bearer ${R}`,"Content-Type":"application/json"},body:JSON.stringify({company_id:$,from_warehouse_id:r,to_warehouse_id:i,product_id:Z.product_id,quantity:Z.transfer_quantity,reference_number:V,expected_date:v,notes:w})})).ok)throw new Error(`Failed to transfer ${Z.product_name}`);C(!0)}catch(R){k(R.message||"Eroare la procesarea transferului")}finally{_(!1)}},te=()=>{a(1),s(""),c(""),f([]),b(new Date().toISOString().split("T")[0]),N(""),C(!1),k(""),D("")},W=()=>{window.print()},H=()=>{switch(t){case 1:return r!==""&&i!==""&&r!==i;case 2:return x.length>0;case 3:return x.every(R=>R.is_valid&&R.transfer_quantity>0);default:return!1}};return A?e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx(Me,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Transfer Creat Cu Succes!"}),e.jsxs("p",{className:"text-gray-600",children:["Numr transfer: ",e.jsx("span",{className:"font-mono font-semibold",children:O})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"De la:"}),e.jsx("span",{className:"font-medium text-gray-900",children:o.find(R=>R.id===r)?.name})]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(Lo,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Ctre:"}),e.jsx("span",{className:"font-medium text-gray-900",children:o.find(R=>R.id===i)?.name})]}),e.jsxs("div",{className:"border-t pt-3 mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Produse transferate:"}),e.jsx("span",{className:"font-medium text-gray-900",children:x.length})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm mt-2",children:[e.jsx("span",{className:"text-gray-600",children:"Data transfer:"}),e.jsx("span",{className:"font-medium text-gray-900",children:new Date(v).toLocaleDateString("ro-RO")})]})]})]}),e.jsx("div",{className:"border border-gray-200 rounded-lg divide-y mb-6",children:x.map(R=>e.jsxs("div",{className:"p-3 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:R.product_name}),e.jsxs("div",{className:"text-sm text-gray-600",children:["SKU: ",R.product_sku]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"font-semibold text-blue-600",children:[R.transfer_quantity," buc"]})})]},R.product_id))}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:W,className:"flex-1 inline-flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:[e.jsx(dM,{className:"w-4 h-4"}),"Imprim Bon Transfer"]}),e.jsx("button",{onClick:te,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Transfer Nou"})]})]})}):e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Transfer Stoc"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Transfer produse ntre depozite"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:[1,2,3,4].map((R,$)=>e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${t>=R?"border-blue-600 bg-blue-600 text-white":"border-gray-300 text-gray-400"}`,children:R}),$<3&&e.jsx("div",{className:`flex-1 h-1 ${t>R?"bg-blue-600":"bg-gray-300"}`})]},R))}),e.jsxs("div",{className:"flex justify-between mt-2 text-xs text-gray-600",children:[e.jsx("span",{children:"Depozite"}),e.jsx("span",{children:"Produse"}),e.jsx("span",{children:"Cantiti"}),e.jsx("span",{children:"Verificare"})]})]}),E&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(xr,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Eroare"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:E})]}),e.jsx("button",{onClick:()=>k(""),className:"ml-auto",children:e.jsx(ht,{className:"w-5 h-5 text-red-400 hover:text-red-600"})})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 min-h-[400px]",children:[t===1&&e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(nn,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Selecteaz Depozitele"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["De la (Surs): ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map(R=>e.jsxs("button",{onClick:()=>s(R.id),disabled:R.id===i,className:`p-4 border-2 rounded-lg text-left transition-colors ${r===R.id?"border-blue-600 bg-blue-50":R.id===i?"border-gray-200 bg-gray-100 opacity-50 cursor-not-allowed":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:"font-medium text-gray-900",children:R.name}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:R.location_name})]},R.id))})]}),r&&e.jsx("div",{className:"flex justify-center",children:e.jsx(Lo,{className:"w-8 h-8 text-blue-600 animate-pulse"})}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Ctre (Destinaie): ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map(R=>e.jsxs("button",{onClick:()=>c(R.id),disabled:R.id===r,className:`p-4 border-2 rounded-lg text-left transition-colors ${i===R.id?"border-green-600 bg-green-50":R.id===r?"border-gray-200 bg-gray-100 opacity-50 cursor-not-allowed":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:"font-medium text-gray-900",children:R.name}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:R.location_name})]},R.id))})]})]}),t===2&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(_t,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Selecteaz Produsele"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adaug Produse:"}),e.jsxs("select",{onChange:R=>{const $=m.find(V=>V.id===R.target.value);$&&z($),R.target.value=""},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Selecteaz un produs..."}),m.filter(R=>!x.find($=>$.product_id===R.id)).map(R=>e.jsxs("option",{value:R.id,children:[R.name," (",R.sku,")"]},R.id))]})]}),x.length>0&&e.jsx("div",{className:"border border-gray-200 rounded-lg divide-y",children:x.map(R=>e.jsxs("div",{className:"p-3 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:R.product_name}),e.jsxs("div",{className:"text-sm text-gray-600",children:["SKU: ",R.product_sku]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Disponibil: ",R.available_quantity," buc"]})]}),e.jsx("button",{onClick:()=>M(R.product_id),className:"text-red-600 hover:text-red-800",children:e.jsx(ht,{className:"w-5 h-5"})})]},R.product_id))})]})]}),t===3&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(Lo,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Seteaz Cantitile"})]}),e.jsx("div",{className:"space-y-3",children:x.map(R=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:R.product_name}),e.jsxs("div",{className:"text-sm text-gray-600",children:["SKU: ",R.product_sku]})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Max: ",e.jsx("span",{className:"font-semibold",children:R.available_quantity})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Cantitate Transfer:"}),e.jsx("input",{type:"number",min:"1",max:R.available_quantity,value:R.transfer_quantity,onChange:$=>F(R.product_id,parseInt($.target.value)||0),className:`flex-1 px-3 py-2 border rounded-lg ${R.is_valid?"border-gray-300":"border-red-300 bg-red-50"}`})]}),!R.is_valid&&R.transfer_quantity>0&&e.jsx("div",{className:"mt-2 text-sm text-red-600",children:"Cantitatea depete stocul disponibil"})]},R.product_id))}),e.jsxs("div",{className:"mt-6 pt-6 border-t space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data Transfer Ateptat:"}),e.jsx("input",{type:"date",value:v,onChange:R=>b(R.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notie (opional):"}),e.jsx("textarea",{value:w,onChange:R=>N(R.target.value),rows:3,placeholder:"Adaug detalii despre transfer...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]})]}),t===4&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(Me,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Verific i Confirm Transferul"})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-blue-700 mb-1",children:"Depozit Surs"}),e.jsx("div",{className:"font-semibold text-blue-900",children:o.find(R=>R.id===r)?.name})]}),e.jsx(Lo,{className:"w-6 h-6 text-blue-600"}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-blue-700 mb-1",children:"Depozit Destinaie"}),e.jsx("div",{className:"font-semibold text-blue-900",children:o.find(R=>R.id===i)?.name})]})]}),e.jsxs("div",{className:"pt-3 border-t border-blue-300 grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700",children:"Data Transfer:"}),e.jsx("span",{className:"ml-2 font-medium text-blue-900",children:new Date(v).toLocaleDateString("ro-RO")})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700",children:"Total Produse:"}),e.jsx("span",{className:"ml-2 font-medium text-blue-900",children:x.length})]})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg divide-y",children:[e.jsx("div",{className:"bg-gray-50 px-4 py-2 font-medium text-gray-700 text-sm",children:"Produse de Transferat"}),x.map(R=>e.jsxs("div",{className:"p-4 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:R.product_name}),e.jsxs("div",{className:"text-sm text-gray-600",children:["SKU: ",R.product_sku]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-semibold text-blue-600",children:R.transfer_quantity}),e.jsxs("div",{className:"text-xs text-gray-500",children:["din ",R.available_quantity," disponibil"]})]})]},R.product_id))]}),w&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm font-medium text-yellow-800 mb-2",children:"Notie Transfer:"}),e.jsx("div",{className:"text-sm text-yellow-700",children:w})]}),e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(xr,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-amber-800",children:[e.jsx("div",{className:"font-medium mb-1",children:"Atenie!"}),e.jsx("p",{children:"Transferul va reduce stocul din depozitul surs i va crete stocul n depozitul destinaie."})]})]})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("button",{onClick:()=>a(Math.max(1,t-1)),disabled:t===1,className:"inline-flex items-center gap-2 px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(w5,{className:"w-4 h-4"}),"napoi"]}),t<4?e.jsxs("button",{onClick:()=>a(t+1),disabled:!H(),className:"inline-flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:["Urmtorul",e.jsx(vc,{className:"w-4 h-4"})]}):e.jsxs("button",{onClick:q,disabled:y,className:"inline-flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[y?"Se proceseaz...":"Confirm Transfer",e.jsx(Me,{className:"w-4 h-4"})]})]})]})}const nte=()=>{Ct();const[t,a]=g.useState({total_contacts:0,active_opportunities:0,open_quotations:0,conversion_rate:0,total_pipeline_value:0,won_this_month:0}),[r,s]=g.useState(!0);g.useEffect(()=>{i()},[]);const i=async()=>{try{s(!0),a({total_contacts:156,active_opportunities:23,open_quotations:12,conversion_rate:32.5,total_pipeline_value:245e3,won_this_month:8})}catch(o){console.error("Failed to load dashboard data:",o)}finally{s(!1)}},c=[{title:"Total Contacte",value:t.total_contacts,icon:ka,color:"bg-blue-500",link:"/crm/contacts"},{title:"Oportuniti Active",value:t.active_opportunities,icon:js,color:"bg-green-500",link:"/crm/opportunities"},{title:"Oferte Deschise",value:t.open_quotations,icon:Ze,color:"bg-purple-500",link:"/crm/quotations"},{title:"Rat Conversie",value:`${t.conversion_rate}%`,icon:Ue,color:"bg-orange-500"},{title:"Valoare Pipeline",value:`${(t.total_pipeline_value/1e3).toFixed(0)}K RON`,icon:Ht,color:"bg-indigo-500"}];return r?e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4",children:[...Array(5)].map((o,u)=>e.jsx("div",{className:"h-32 bg-gray-200 rounded-lg"},u))})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:[e.jsxs("div",{className:"mb-6 sm:mb-8",children:[e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:"CRM Dashboard"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Gestioneaz clienii, oportunitile i ofertele"})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4 mb-6 sm:mb-8",children:c.map((o,u)=>{const m=o.icon,h=e.jsxs("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:e.jsx("div",{className:`${o.color} p-2 sm:p-3 rounded-lg`,children:e.jsx(m,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})})}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:o.title}),e.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:o.value}),o.link&&e.jsxs("div",{className:"mt-3 flex items-center text-xs sm:text-sm text-blue-600",children:["Vezi detalii",e.jsx(Pa,{className:"w-3 h-3 sm:w-4 sm:h-4 ml-1"})]})]});return o.link?e.jsx(Ne,{to:o.link,children:h},u):e.jsx("div",{children:h},u)})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[e.jsxs(Ne,{to:"/crm/contacts",className:"bg-white rounded-lg shadow p-4 sm:p-6 hover:shadow-md transition-shadow border-l-4 border-blue-500",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(ka,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-500 mr-3"}),e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Contacte"})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-3",children:"Gestioneaz clienii i furnizorii"}),e.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-blue-600 font-medium",children:["Acceseaz contacte",e.jsx(Pa,{className:"w-4 h-4 ml-1"})]})]}),e.jsxs(Ne,{to:"/crm/opportunities",className:"bg-white rounded-lg shadow p-4 sm:p-6 hover:shadow-md transition-shadow border-l-4 border-green-500",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(js,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-500 mr-3"}),e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Oportuniti"})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-3",children:"Pipeline vnzri i oportuniti"}),e.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-green-600 font-medium",children:["Vezi pipeline",e.jsx(Pa,{className:"w-4 h-4 ml-1"})]})]}),e.jsxs(Ne,{to:"/crm/quotations",className:"bg-white rounded-lg shadow p-4 sm:p-6 hover:shadow-md transition-shadow border-l-4 border-purple-500",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(Ze,{className:"w-5 h-5 sm:w-6 sm:h-6 text-purple-500 mr-3"}),e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Oferte"})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-3",children:"Creeaz i trimite oferte de pre"}),e.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-purple-600 font-medium",children:["Creeaz ofert",e.jsx(Pa,{className:"w-4 h-4 ml-1"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6",children:[e.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4",children:"Activitate Recent"}),e.jsxs("div",{className:"text-center py-8 sm:py-12",children:[e.jsx(nt,{className:"w-12 h-12 sm:w-16 sm:h-16 text-gray-300 mx-auto mb-3 sm:mb-4"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-500",children:"Nu exist activiti recente"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-2",children:"Activitile din CRM vor aprea aici"})]})]})]})};class ite{async listOpportunities(a){const r=new URLSearchParams;return a?.stage&&r.append("stage",a.stage),a?.contact_id&&r.append("contact_id",a.contact_id),a?.assigned_to&&r.append("assigned_to",a.assigned_to),a?.search&&r.append("search",a.search),(await je.get(`/crm/opportunities.php?${r.toString()}`)).data.data.opportunities}async getOpportunity(a){return(await je.get(`/crm/opportunities.php?id=${a}`)).data.data.opportunity}async createOpportunity(a){return(await je.post("/crm/opportunities.php",a)).data.data.opportunity_id}async updateOpportunity(a){await je.put("/crm/opportunities.php",a)}async deleteOpportunity(a){await je.delete("/crm/opportunities.php",{data:{id:a}})}async getPipeline(){return(await je.get("/crm/opportunities-pipeline.php")).data.data.pipeline}async addActivity(a){return(await je.post("/crm/opportunities-activity.php",a)).data.activity_id}}const _O=new ite,lte=()=>{const t=Be(),[a,r]=g.useState({lead:[],qualified:[],proposal:[],negotiation:[],won:[],lost:[]}),[s,i]=g.useState(!0),[c,o]=g.useState(null),[u,m]=g.useState(""),[h,x]=g.useState("pipeline"),[f,v]=g.useState(!1),[b,w]=g.useState({name:"",contact_id:"",amount:"",currency:"RON",probability:"50",expected_close_date:"",stage:"lead",description:"",source:"",campaign:""}),[N,y]=g.useState([]),[_,A]=g.useState(!1),C=[{key:"lead",label:"Lead",color:"bg-gray-100 text-gray-800",icon:js},{key:"qualified",label:"Calificat",color:"bg-blue-100 text-blue-800",icon:qi},{key:"proposal",label:"Ofert",color:"bg-purple-100 text-purple-800",icon:Ue},{key:"negotiation",label:"Negociere",color:"bg-orange-100 text-orange-800",icon:Ht},{key:"won",label:"Ctigat",color:"bg-green-100 text-green-800",icon:Ue},{key:"lost",label:"Pierdut",color:"bg-red-100 text-red-800",icon:oa}];g.useEffect(()=>{k(),E()},[]);const E=async()=>{try{const M=await(await fetch("/api/v1/contacts/list.php",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"X-Company-ID":localStorage.getItem("companyId")||""}})).json();M.success&&y(M.data||[])}catch(z){console.error("Failed to load contacts:",z)}},k=async()=>{try{i(!0),o(null);const z=await _O.getPipeline();r(z)}catch(z){console.error("Failed to load pipeline:",z),o("Nu s-au putut ncrca oportunitile. V rugm ncercai din nou.")}finally{i(!1)}},O=(z,M)=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:M||"RON"}).format(z),D=z=>z?new Date(z).toLocaleDateString("ro-RO"):"N/A",P=async()=>{try{A(!0);const M=await(await fetch("/api/v1/crm/opportunities.php",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"X-Company-ID":localStorage.getItem("companyId")||""},body:JSON.stringify({...b,amount:parseFloat(b.amount)||0,probability:parseInt(b.probability)||50})})).json();M.success?(v(!1),w({name:"",contact_id:"",amount:"",currency:"RON",probability:"50",expected_close_date:"",stage:"lead",description:"",source:"",campaign:""}),k()):alert("Eroare la salvarea oportunitii: "+(M.error||"Unknown error"))}catch(z){console.error("Failed to save opportunity:",z),alert("Eroare la salvarea oportunitii. V rugm ncercai din nou.")}finally{A(!1)}},L=({opportunity:z})=>e.jsxs("div",{onClick:()=>t(`/crm/opportunities/${z.id}`),className:"bg-white rounded-lg shadow-sm p-3 sm:p-4 mb-3 border border-gray-200 hover:shadow-md transition-shadow cursor-pointer",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 line-clamp-2 flex-1",children:z.name}),e.jsx("button",{onClick:M=>M.stopPropagation(),className:"ml-2 p-1 hover:bg-gray-100 rounded",children:e.jsx(S5,{className:"w-4 h-4 text-gray-400"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-base sm:text-lg font-bold text-green-600",children:O(z.amount,z.currency)}),e.jsxs("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded",children:[z.probability,"% probabilitate"]})]}),z.contact_name&&e.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[e.jsx(as,{className:"w-3 h-3 mr-1"}),z.contact_name]}),z.expected_close_date&&e.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[e.jsx(nt,{className:"w-3 h-3 mr-1"}),"nchidere: ",D(z.expected_close_date)]})]}),e.jsxs("div",{className:"mt-3 flex gap-2",children:[e.jsxs("button",{onClick:M=>{M.stopPropagation(),t(`/crm/opportunities/${z.id}`)},className:"flex-1 px-2 py-1 text-xs bg-blue-50 text-blue-700 rounded hover:bg-blue-100",children:[e.jsx(Qn,{className:"w-3 h-3 inline mr-1"}),"Vezi"]}),e.jsxs("button",{onClick:M=>M.stopPropagation(),className:"flex-1 px-2 py-1 text-xs bg-gray-50 text-gray-700 rounded hover:bg-gray-100",children:[e.jsx(ya,{className:"w-3 h-3 inline mr-1"}),"Editeaz"]})]})]});return s?e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[...Array(6)].map((z,M)=>e.jsx("div",{className:"h-96 bg-gray-200 rounded-lg"},M))})]})}):c?e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(ca,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Eroare la ncrcarea datelor"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:c}),e.jsx("button",{onClick:k,className:"mt-3 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm",children:"ncearc din nou"})]})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:[e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"Oportuniti"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Gestioneaz pipeline-ul de vnzri"})]}),e.jsxs("button",{onClick:()=>v(!0),className:"w-full sm:w-auto px-4 py-3 sm:py-2 min-h-[44px] bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[e.jsx(wt,{className:"w-5 h-5"}),"Adaug Oportunitate"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Oa,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Caut oportuniti...",value:u,onChange:z=>m(z.target.value),className:"w-full pl-10 pr-4 py-2 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>x("pipeline"),className:`flex-1 sm:flex-none px-4 py-2 rounded-lg flex items-center justify-center gap-2 ${h==="pipeline"?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300"}`,children:[e.jsx(js,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Pipeline"})]}),e.jsxs("button",{onClick:()=>x("list"),className:`flex-1 sm:flex-none px-4 py-2 rounded-lg flex items-center justify-center gap-2 ${h==="list"?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300"}`,children:[e.jsx(qi,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"List"})]})]})]})]}),h==="pipeline"&&e.jsx("div",{className:"overflow-x-auto pb-4",children:e.jsx("div",{className:"flex gap-4 min-w-max lg:min-w-0 lg:grid lg:grid-cols-6",children:C.map(z=>{const M=a[z.key]||[],F=M.reduce((q,te)=>q+te.amount,0);return e.jsxs("div",{className:"flex-shrink-0 w-72 lg:w-auto",children:[e.jsxs("div",{className:`${z.color} rounded-lg p-3 mb-3`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-sm",children:z.label}),e.jsx("span",{className:"text-xs font-medium bg-white/50 px-2 py-1 rounded",children:M.length})]}),e.jsx("div",{className:"text-xs font-medium",children:O(F,"RON")})]}),e.jsxs("div",{className:"space-y-3 max-h-[calc(100vh-300px)] overflow-y-auto",children:[M.map(q=>e.jsx(L,{opportunity:q},q.id)),M.length===0&&e.jsx("div",{className:"bg-gray-50 border-2 border-dashed border-gray-200 rounded-lg p-4 text-center",children:e.jsx("p",{className:"text-xs text-gray-400",children:"Nu exist oportuniti"})})]})]},z.key)})})}),h==="list"&&e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsx("p",{className:"p-8 text-center text-gray-500",children:"Vizualizarea list va fi implementat n curnd"})}),f&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Adaug Oportunitate Nou"}),e.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nume Oportunitate ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:b.name,onChange:z=>w({...b,name:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ex: Enterprise Software License - 100 Utilizatori"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client"}),e.jsxs("select",{value:b.contact_id,onChange:z=>w({...b,contact_id:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Selecteaz client..."}),N.filter(z=>z.contact_type==="customer").map(z=>e.jsx("option",{value:z.id,children:z.display_name},z.id))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Valoare ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",step:"0.01",value:b.amount,onChange:z=>w({...b,amount:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"125000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Moned"}),e.jsxs("select",{value:b.currency,onChange:z=>w({...b,currency:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"RON",children:"RON"}),e.jsx("option",{value:"EUR",children:"EUR"}),e.jsx("option",{value:"USD",children:"USD"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Probabilitate (%)"}),e.jsx("input",{type:"number",min:"0",max:"100",value:b.probability,onChange:z=>w({...b,probability:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stadiu"}),e.jsxs("select",{value:b.stage,onChange:z=>w({...b,stage:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"lead",children:"Lead"}),e.jsx("option",{value:"qualification",children:"Calificat"}),e.jsx("option",{value:"proposal",children:"Ofert"}),e.jsx("option",{value:"negotiation",children:"Negociere"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Estimat nchidere"}),e.jsx("input",{type:"date",value:b.expected_close_date,onChange:z=>w({...b,expected_close_date:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descriere"}),e.jsx("textarea",{value:b.description,onChange:z=>w({...b,description:z.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Detalii despre oportunitate..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Surs"}),e.jsxs("select",{value:b.source,onChange:z=>w({...b,source:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Selecteaz..."}),e.jsx("option",{value:"website",children:"Website"}),e.jsx("option",{value:"referral",children:"Recomandare"}),e.jsx("option",{value:"direct",children:"Direct"}),e.jsx("option",{value:"partner",children:"Partner"}),e.jsx("option",{value:"marketing",children:"Marketing"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Campanie"}),e.jsx("input",{type:"text",value:b.campaign,onChange:z=>w({...b,campaign:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ex: Q4 2025 Campaign"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",disabled:_,children:"Anuleaz"}),e.jsx("button",{onClick:P,disabled:_||!b.name||!b.amount,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:_?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Salvare..."]}):e.jsxs(e.Fragment,{children:[e.jsx(wt,{className:"w-4 h-4"}),"Salveaz Oportunitatea"]})})]})]})})})]})},cte=()=>{const{id:t}=cs(),a=Be(),[r,s]=g.useState(null),[i,c]=g.useState(!0),[o,u]=g.useState(null);g.useEffect(()=>{t&&m(t)},[t]);const m=async y=>{try{c(!0),u(null);const _=await _O.getOpportunity(y);s(_)}catch(_){console.error("Failed to load opportunity:",_),u("Nu s-a putut ncrca oportunitatea. V rugm ncercai din nou.")}finally{c(!1)}},h=(y,_)=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:_||"RON"}).format(y),x=y=>y?new Date(y).toLocaleDateString("ro-RO",{year:"numeric",month:"long",day:"numeric"}):"N/A",f=y=>new Date(y).toLocaleString("ro-RO",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),v=y=>({lead:"bg-gray-100 text-gray-800",qualified:"bg-blue-100 text-blue-800",proposal:"bg-purple-100 text-purple-800",negotiation:"bg-orange-100 text-orange-800",won:"bg-green-100 text-green-800",lost:"bg-red-100 text-red-800"})[y]||"bg-gray-100 text-gray-800",b=y=>({lead:"Lead",qualified:"Calificat",proposal:"Ofert",negotiation:"Negociere",won:"Ctigat",lost:"Pierdut"})[y]||y,w=y=>({email:Hi,call:Yo,meeting:nt,note:Vm,stage_change:js,task:Me})[y]||Ze,N=y=>({email:"bg-blue-100 text-blue-600",call:"bg-green-100 text-green-600",meeting:"bg-purple-100 text-purple-600",note:"bg-gray-100 text-gray-600",stage_change:"bg-orange-100 text-orange-600",task:"bg-indigo-100 text-indigo-600"})[y]||"bg-gray-100 text-gray-600";return i?e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsx("div",{className:"h-64 bg-gray-200 rounded-lg"}),e.jsx("div",{className:"h-96 bg-gray-200 rounded-lg"})]}),e.jsx("div",{className:"h-96 bg-gray-200 rounded-lg"})]})]})}):o||!r?e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(ca,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Eroare"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:o||"Oportunitatea nu a fost gsit"}),e.jsxs("div",{className:"mt-3 flex gap-2",children:[e.jsx("button",{onClick:()=>a("/crm/opportunities"),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm",children:"napoi la list"}),t&&e.jsx("button",{onClick:()=>m(t),className:"px-4 py-2 bg-white text-red-600 border border-red-600 rounded-lg hover:bg-red-50 text-sm",children:"ncearc din nou"})]})]})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(Ne,{to:"/crm/opportunities",className:"inline-flex items-center gap-2 text-sm text-gray-600 hover:text-gray-900 mb-4",children:[e.jsx(gd,{className:"w-4 h-4"}),"napoi la oportuniti"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:r.name}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${v(r.stage)}`,children:b(r.stage)})]}),r.description&&e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:r.description})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[e.jsx(ya,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Editeaz"})]}),e.jsxs("button",{className:"px-4 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 flex items-center gap-2",children:[e.jsx(oa,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"terge"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Detalii Cheie"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(Ht,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Valoare"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:h(r.amount,r.currency)})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Ue,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Probabilitate"}),e.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[r.probability,"%"]})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(nt,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Data nchiderii estimate"}),e.jsx("p",{className:"text-base font-medium text-gray-900",children:x(r.expected_close_date)})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:e.jsx(fr,{className:"w-5 h-5 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Creat la"}),e.jsx("p",{className:"text-base font-medium text-gray-900",children:x(r.created_at)})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Cronologie Activiti"}),r.activities&&r.activities.length>0?e.jsx("div",{className:"space-y-4",children:r.activities.map((y,_)=>{const A=w(y.activity_type),C=_===r.activities.length-1;return e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`p-2 rounded-lg ${N(y.activity_type)}`,children:e.jsx(A,{className:"w-4 h-4"})}),!C&&e.jsx("div",{className:"w-0.5 h-full bg-gray-200 my-1"})]}),e.jsxs("div",{className:"flex-1 pb-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:y.subject||y.activity_type}),e.jsx("span",{className:"text-xs text-gray-500",children:f(y.created_at)})]}),y.description&&e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:y.description}),y.user_name&&e.jsxs("p",{className:"text-xs text-gray-500",children:["de ",y.user_name]})]})]},y.id)})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Vm,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Nu exist activiti"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[r.contact_name&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(as,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-900",children:r.contact_name})]}),r.contact_email&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Hi,{className:"w-5 h-5 text-gray-400"}),e.jsx("a",{href:`mailto:${r.contact_email}`,className:"text-sm text-blue-600 hover:underline",children:r.contact_email})]}),r.contact_phone&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Yo,{className:"w-5 h-5 text-gray-400"}),e.jsx("a",{href:`tel:${r.contact_phone}`,className:"text-sm text-blue-600 hover:underline",children:r.contact_phone})]})]})]}),r.assigned_to_name&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Asignat ctre"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(as,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-900",children:r.assigned_to_name})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informaii Adiionale"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[r.source&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Surs:"}),e.jsx("span",{className:"ml-2 text-gray-900 font-medium",children:r.source})]}),r.campaign&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Campanie:"}),e.jsx("span",{className:"ml-2 text-gray-900 font-medium",children:r.campaign})]}),r.stage==="lost"&&r.loss_reason&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Motiv pierdere:"}),e.jsx("span",{className:"ml-2 text-gray-900 font-medium",children:r.loss_reason})]})]})]})]})]})]})};class ote{async listQuotations(a){const r=new URLSearchParams;return a?.status&&r.append("status",a.status),a?.contact_id&&r.append("contact_id",a.contact_id),a?.search&&r.append("search",a.search),(await je.get(`/crm/quotations.php?${r.toString()}`)).data.data.quotations}async getQuotation(a){return(await je.get(`/crm/quotations.php?id=${a}`)).data.data.quotation}async createQuotation(a){return(await je.post("/crm/quotations.php",a)).data.data.quotation_id}async updateQuotation(a){await je.put("/crm/quotations.php",a)}async deleteQuotation(a){await je.delete("/crm/quotations.php",{data:{id:a}})}async sendQuotation(a){await je.post("/crm/quotations-send.php",{quotation_id:a})}async acceptQuotation(a){await je.post("/crm/quotations-accept.php",{quotation_id:a})}async rejectQuotation(a){await je.post("/crm/quotations-reject.php",{quotation_id:a})}}const dte=new ote,ute=()=>{Ct();const[t,a]=g.useState([]),[r,s]=g.useState(!0),[i,c]=g.useState(null),[o,u]=g.useState(""),[m,h]=g.useState("all"),x={draft:{label:"Draft",color:"bg-gray-100 text-gray-800",icon:Ze},sent:{label:"Trimis",color:"bg-blue-100 text-blue-800",icon:Zx},accepted:{label:"Acceptat",color:"bg-green-100 text-green-800",icon:Me},rejected:{label:"Respins",color:"bg-red-100 text-red-800",icon:rc},expired:{label:"Expirat",color:"bg-orange-100 text-orange-800",icon:fr},converted:{label:"Convertit",color:"bg-purple-100 text-purple-800",icon:Me}};g.useEffect(()=>{f()},[]);const f=async()=>{try{s(!0),c(null);const y=await dte.listQuotations();a(y)}catch(y){console.error("Failed to load quotations:",y),c("Nu s-au putut ncrca ofertele. V rugm ncercai din nou.")}finally{s(!1)}},v=(y,_)=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:_||"RON"}).format(y),b=y=>new Date(y).toLocaleDateString("ro-RO"),w=y=>{const _=x[y]||x.draft,A=_.icon;return e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${_.color}`,children:[e.jsx(A,{className:"w-3 h-3"}),_.label]})},N=t.filter(y=>{const _=y.title.toLowerCase().includes(o.toLowerCase())||y.quotation_number.toLowerCase().includes(o.toLowerCase())||y.contact_name?.toLowerCase().includes(o.toLowerCase())||!1,A=m==="all"||y.status===m;return _&&A});return r?e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),e.jsx("div",{className:"space-y-4",children:[...Array(5)].map((y,_)=>e.jsx("div",{className:"h-24 bg-gray-200 rounded-lg"},_))})]})}):i?e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(ca,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Eroare la ncrcarea datelor"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:i}),e.jsx("button",{onClick:f,className:"mt-3 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm",children:"ncearc din nou"})]})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:[e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"Oferte de Pre"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Gestioneaz ofertele ctre clieni"})]}),e.jsxs("button",{className:"w-full sm:w-auto px-4 py-3 sm:py-2 min-h-[44px] bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[e.jsx(wt,{className:"w-5 h-5"}),"Ofert Nou"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Oa,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Caut oferte...",value:o,onChange:y=>u(y.target.value),className:"w-full pl-10 pr-4 py-2 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("select",{value:m,onChange:y=>h(y.target.value),className:"px-4 py-2 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"Toate Statusurile"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"sent",children:"Trimise"}),e.jsx("option",{value:"accepted",children:"Acceptate"}),e.jsx("option",{value:"rejected",children:"Respinse"}),e.jsx("option",{value:"expired",children:"Expirate"}),e.jsx("option",{value:"converted",children:"Convertite"})]})]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3 sm:gap-4 mb-6",children:Object.entries(x).map(([y,_])=>{const A=t.filter(E=>E.status===y).length,C=_.icon;return e.jsxs("div",{className:"bg-white rounded-lg shadow p-3 sm:p-4 cursor-pointer hover:shadow-md transition-shadow",onClick:()=>h(y),children:[e.jsx("div",{className:`${_.color} w-8 h-8 sm:w-10 sm:h-10 rounded-lg flex items-center justify-center mb-2`,children:e.jsx(C,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:_.label}),e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:A})]},y)})}),e.jsx("div",{className:"block md:hidden",children:e.jsx("div",{className:"space-y-3",children:N.map(y=>e.jsxs("div",{className:"bg-white rounded-lg shadow p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:y.quotation_number}),e.jsx("h3",{className:"text-sm font-semibold text-gray-900 line-clamp-2 mb-2",children:y.title}),w(y.status)]}),e.jsx("button",{className:"ml-2 p-1 hover:bg-gray-100 rounded",children:e.jsx(S5,{className:"w-5 h-5 text-gray-400"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Client:"}),e.jsx("p",{className:"font-medium text-gray-900 truncate",children:y.contact_name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Valoare:"}),e.jsx("p",{className:"font-bold text-green-600",children:v(y.total_amount,y.currency)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Data emiterii:"}),e.jsx("p",{className:"font-medium text-gray-900",children:b(y.issue_date)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Expir:"}),e.jsx("p",{className:"font-medium text-gray-900",children:b(y.expiry_date)})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{className:"flex-1 px-3 py-2 text-xs bg-blue-50 text-blue-700 rounded hover:bg-blue-100 min-h-[44px]",children:[e.jsx(Qn,{className:"w-4 h-4 inline mr-1"}),"Vezi"]}),e.jsxs("button",{className:"flex-1 px-3 py-2 text-xs bg-gray-50 text-gray-700 rounded hover:bg-gray-100 min-h-[44px]",children:[e.jsx(tr,{className:"w-4 h-4 inline mr-1"}),"PDF"]})]})]},y.id))})}),e.jsxs("div",{className:"hidden md:block bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Numr Ofert"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Titlu"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valoare"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data Emiterii"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aciuni"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N.map(y=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:y.quotation_number}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.jsx("div",{className:"max-w-xs",children:e.jsx("p",{className:"font-medium truncate",children:y.title})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y.contact_name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-green-600",children:v(y.total_amount,y.currency)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w(y.status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:b(y.issue_date)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:e.jsx(Qn,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-gray-600 hover:text-gray-900",children:e.jsx(ya,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-gray-600 hover:text-gray-900",children:e.jsx(tr,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-red-600 hover:text-red-900",children:e.jsx(oa,{className:"w-4 h-4"})})]})})]},y.id))})]})}),N.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ze,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Nu exist oferte de afiat"})]})]})]})};class mte{async listPurchaseOrders(a){const r=new URLSearchParams;return a?.status&&r.append("status",a.status),a?.vendor_id&&r.append("vendor_id",a.vendor_id),a?.from_date&&r.append("from_date",a.from_date),a?.to_date&&r.append("to_date",a.to_date),a?.search&&r.append("search",a.search),(await je.get(`/purchase-orders/purchase-orders.php?${r}`)).data.purchase_orders}async getPurchaseOrder(a){return(await je.get(`/purchase-orders/purchase-orders.php?id=${a}`)).data.purchase_order}async createPurchaseOrder(a){return(await je.post("/purchase-orders/purchase-orders.php",a)).data.purchase_order}async updatePurchaseOrder(a,r){return(await je.put("/purchase-orders/purchase-orders.php",{id:a,...r})).data.purchase_order}async deletePurchaseOrder(a){await je.delete("/purchase-orders/purchase-orders.php",{data:{id:a}})}async approvePurchaseOrder(a){return(await je.post("/purchase-orders/approve.php",{id:a})).data.purchase_order}async rejectPurchaseOrder(a,r){return(await je.post("/purchase-orders/reject.php",{id:a,reason:r})).data.purchase_order}async receiveGoods(a){return(await je.post("/purchase-orders/receive-goods.php",a)).data.purchase_order}async convertToInvoice(a){return(await je.post("/purchase-orders/convert-to-invoice.php",{purchase_order_id:a})).data}async getPurchaseOrderStats(){const a=await this.listPurchaseOrders();return{total_pos:a.length,draft_count:a.filter(s=>s.status==="draft").length,pending_approval_count:a.filter(s=>s.status==="pending_approval").length,approved_count:a.filter(s=>s.status==="approved").length,sent_count:a.filter(s=>s.status==="sent").length,received_count:a.filter(s=>s.status==="received").length,total_value:a.reduce((s,i)=>s+i.total_amount,0),currency:a[0]?.currency||"RON"}}}const Bm=new mte,xte=()=>{const t=Be(),[a,r]=g.useState([]),[s,i]=g.useState([]),[c,o]=g.useState(!0),[u,m]=g.useState(null),[h,x]=g.useState(""),[f,v]=g.useState("all"),b=[{key:"all",label:"Toate",color:"bg-gray-100 text-gray-800"},{key:"draft",label:"Draft",color:"bg-gray-100 text-gray-800"},{key:"pending_approval",label:"Ateptare Aprobare",color:"bg-yellow-100 text-yellow-800"},{key:"approved",label:"Aprobat",color:"bg-green-100 text-green-800"},{key:"sent",label:"Trimis",color:"bg-blue-100 text-blue-800"},{key:"partially_received",label:"Recepionat Parial",color:"bg-orange-100 text-orange-800"},{key:"received",label:"Recepionat",color:"bg-green-100 text-green-800"},{key:"rejected",label:"Respins",color:"bg-red-100 text-red-800"},{key:"cancelled",label:"Anulat",color:"bg-gray-100 text-gray-800"}];g.useEffect(()=>{w()},[]),g.useEffect(()=>{N()},[a,h,f]);const w=async()=>{try{o(!0),m(null);const E=await Bm.listPurchaseOrders();r(E)}catch(E){console.error("Failed to load purchase orders:",E),m("Nu s-au putut ncrca comenzile de achiziie. V rugm ncercai din nou.")}finally{o(!1)}},N=()=>{let E=[...a];if(f!=="all"&&(E=E.filter(k=>k.status===f)),h){const k=h.toLowerCase();E=E.filter(O=>O.po_number.toLowerCase().includes(k)||O.vendor_name.toLowerCase().includes(k)||O.reference_number?.toLowerCase().includes(k))}i(E)},y=E=>{const k=b.find(O=>O.key===E);return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k?.color||"bg-gray-100 text-gray-800"}`,children:k?.label||E})},_=E=>{switch(E){case"draft":return e.jsx(Ze,{className:"w-4 h-4 text-gray-500"});case"pending_approval":return e.jsx(fr,{className:"w-4 h-4 text-yellow-500"});case"approved":return e.jsx(Me,{className:"w-4 h-4 text-green-500"});case"sent":return e.jsx(_t,{className:"w-4 h-4 text-blue-500"});case"partially_received":return e.jsx(_t,{className:"w-4 h-4 text-orange-500"});case"received":return e.jsx(Me,{className:"w-4 h-4 text-green-500"});case"rejected":return e.jsx(rc,{className:"w-4 h-4 text-red-500"});case"cancelled":return e.jsx(rc,{className:"w-4 h-4 text-gray-500"});default:return e.jsx(Ze,{className:"w-4 h-4 text-gray-500"})}},A=(E,k)=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:k||"RON"}).format(E),C=E=>E?new Date(E).toLocaleDateString("ro-RO"):"N/A";return c?e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),e.jsx("div",{className:"space-y-4",children:[...Array(5)].map((E,k)=>e.jsx("div",{className:"h-24 bg-gray-200 rounded-lg"},k))})]})}):u?e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(ca,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Eroare la ncrcarea datelor"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:u}),e.jsx("button",{onClick:w,className:"mt-3 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm",children:"ncearc din nou"})]})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:[e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"Comenzi de Achiziie"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Gestioneaz comenzile de achiziie i aprovizionarea"})]}),e.jsxs("button",{onClick:()=>t("/purchase-orders/create"),className:"w-full sm:w-auto px-4 py-3 sm:py-2 min-h-[44px] bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[e.jsx(wt,{className:"w-5 h-5"}),"Adaug Comand"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Oa,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Caut dup numr comand, furnizor...",value:h,onChange:E=>x(E.target.value),className:"w-full pl-10 pr-4 py-2 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsx("select",{value:f,onChange:E=>v(E.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:b.map(E=>e.jsx("option",{value:E.key,children:E.label},E.key))})]})]}),e.jsxs("div",{className:"block md:hidden space-y-4",children:[s.map(E=>e.jsxs("div",{onClick:()=>t(`/purchase-orders/${E.id}`),className:"bg-white rounded-lg shadow p-4 border border-gray-200 hover:shadow-md transition-shadow cursor-pointer",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[_(E.status),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:E.po_number}),e.jsx("p",{className:"text-xs text-gray-600",children:E.vendor_name})]})]}),y(E.status)]}),e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Dat comand:"}),e.jsx("span",{className:"font-medium",children:C(E.order_date)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Valoare total:"}),e.jsx("span",{className:"font-bold text-green-600",children:A(E.total_amount,E.currency)})]}),E.items_count&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Produse:"}),e.jsxs("span",{className:"font-medium",children:[E.items_count," articole"]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-3 border-t border-gray-200",children:[e.jsxs("button",{onClick:k=>{k.stopPropagation(),t(`/purchase-orders/${E.id}`)},className:"flex-1 px-3 py-2 text-xs bg-blue-50 text-blue-700 rounded hover:bg-blue-100",children:[e.jsx(Qn,{className:"w-3 h-3 inline mr-1"}),"Vezi"]}),e.jsxs("button",{onClick:k=>k.stopPropagation(),className:"flex-1 px-3 py-2 text-xs bg-gray-50 text-gray-700 rounded hover:bg-gray-100",children:[e.jsx(ya,{className:"w-3 h-3 inline mr-1"}),"Editeaz"]})]})]},E.id)),s.length===0&&e.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-200 rounded-lg p-8 text-center",children:[e.jsx(_t,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Nu exist comenzi de achiziie"}),e.jsx("button",{onClick:()=>t("/purchase-orders/create"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Creeaz prima comand"})]})]}),e.jsx("div",{className:"hidden md:block bg-white rounded-lg shadow overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Numr Comand"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Furnizor"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dat Comand"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valoare Total"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aciuni"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[s.map(E=>e.jsxs("tr",{onClick:()=>t(`/purchase-orders/${E.id}`),className:"hover:bg-gray-50 cursor-pointer",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[_(E.status),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.po_number}),E.reference_number&&e.jsxs("div",{className:"text-xs text-gray-500",children:["Ref: ",E.reference_number]})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:E.vendor_name}),E.vendor_email&&e.jsx("div",{className:"text-xs text-gray-500",children:E.vendor_email})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:C(E.order_date)}),E.expected_delivery_date&&e.jsxs("div",{className:"text-xs text-gray-500",children:["Livrare: ",C(E.expected_delivery_date)]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y(E.status)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:A(E.total_amount,E.currency)}),E.items_count&&e.jsxs("div",{className:"text-xs text-gray-500",children:[E.items_count," articole"]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:k=>{k.stopPropagation(),t(`/purchase-orders/${E.id}`)},className:"p-1 hover:bg-gray-100 rounded",title:"Vezi detalii",children:e.jsx(Qn,{className:"w-4 h-4 text-gray-600"})}),e.jsx("button",{onClick:k=>k.stopPropagation(),className:"p-1 hover:bg-gray-100 rounded",title:"Editeaz",children:e.jsx(ya,{className:"w-4 h-4 text-gray-600"})}),e.jsx("button",{onClick:k=>k.stopPropagation(),className:"p-1 hover:bg-gray-100 rounded",title:"Descarc PDF",children:e.jsx(tr,{className:"w-4 h-4 text-gray-600"})})]})})]},E.id)),s.length===0&&e.jsx("tr",{children:e.jsxs("td",{colSpan:6,className:"px-6 py-12 text-center",children:[e.jsx(_t,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Nu exist comenzi de achiziie"}),e.jsx("button",{onClick:()=>t("/purchase-orders/create"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Creeaz prima comand"})]})})]})]})})]})},hte=()=>{const{id:t}=cs(),a=Be(),[r,s]=g.useState(null),[i,c]=g.useState(!0),[o,u]=g.useState(null);g.useEffect(()=>{t&&m(t)},[t]);const m=async w=>{try{c(!0),u(null);const N=await Bm.getPurchaseOrder(w);s(N)}catch(N){console.error("Failed to load purchase order:",N),u("Nu s-a putut ncrca comanda de achiziie. V rugm ncercai din nou.")}finally{c(!1)}},h=async()=>{if(r?.id)try{await Bm.approvePurchaseOrder(r.id),m(r.id)}catch(w){console.error("Failed to approve PO:",w)}},x=async()=>{if(!r?.id)return;const w=prompt("Motiv respingere:");if(w)try{await Bm.rejectPurchaseOrder(r.id,w),m(r.id)}catch(N){console.error("Failed to reject PO:",N)}},f=(w,N)=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:N||"RON"}).format(w),v=w=>w?new Date(w).toLocaleDateString("ro-RO"):"N/A",b=w=>{const y={draft:{label:"Draft",className:"bg-gray-100 text-gray-800"},pending_approval:{label:"Ateptare Aprobare",className:"bg-yellow-100 text-yellow-800"},approved:{label:"Aprobat",className:"bg-green-100 text-green-800"},rejected:{label:"Respins",className:"bg-red-100 text-red-800"},sent:{label:"Trimis",className:"bg-blue-100 text-blue-800"},partially_received:{label:"Recepionat Parial",className:"bg-orange-100 text-orange-800"},received:{label:"Recepionat",className:"bg-green-100 text-green-800"},cancelled:{label:"Anulat",className:"bg-gray-100 text-gray-800"}}[w]||{label:w,className:"bg-gray-100 text-gray-800"};return e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${y.className}`,children:y.label})};return i?e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsx("div",{className:"h-64 bg-gray-200 rounded-lg"}),e.jsx("div",{className:"h-96 bg-gray-200 rounded-lg"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-48 bg-gray-200 rounded-lg"}),e.jsx("div",{className:"h-48 bg-gray-200 rounded-lg"})]})]})]})}):o||!r?e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(ca,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Eroare la ncrcarea datelor"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:o||"Comanda nu a fost gsit"}),e.jsxs("div",{className:"flex gap-3 mt-3",children:[e.jsx("button",{onClick:()=>a("/purchase-orders"),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm",children:"napoi la list"}),t&&e.jsx("button",{onClick:()=>m(t),className:"px-4 py-2 bg-white text-red-700 border border-red-300 rounded-lg hover:bg-red-50 text-sm",children:"ncearc din nou"})]})]})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(Ne,{to:"/purchase-orders",className:"inline-flex items-center text-sm text-gray-600 hover:text-gray-900 mb-4",children:[e.jsx(gd,{className:"w-4 h-4 mr-1"}),"napoi la comenzi"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:r.po_number}),e.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[b(r.status),r.reference_number&&e.jsxs("span",{className:"text-sm text-gray-600",children:["Ref: ",r.reference_number]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.status==="pending_approval"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:h,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2",children:[e.jsx(Xn,{className:"w-4 h-4"}),"Aprob"]}),e.jsxs("button",{onClick:x,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center gap-2",children:[e.jsx(ht,{className:"w-4 h-4"}),"Respinge"]})]}),e.jsxs("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 flex items-center gap-2",children:[e.jsx(ya,{className:"w-4 h-4"}),"Editeaz"]}),e.jsxs("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 flex items-center gap-2",children:[e.jsx(tr,{className:"w-4 h-4"}),"PDF"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Detalii Comand"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(nt,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Dat comand"}),e.jsx("p",{className:"text-base font-medium text-gray-900",children:v(r.order_date)})]})]}),r.expected_delivery_date&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(fr,{className:"w-5 h-5 text-orange-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Livrare estimat"}),e.jsx("p",{className:"text-base font-medium text-gray-900",children:v(r.expected_delivery_date)})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ht,{className:"w-5 h-5 text-green-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Valoare total"}),e.jsx("p",{className:"text-lg font-bold text-green-600",children:f(r.total_amount,r.currency)})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(_t,{className:"w-5 h-5 text-purple-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total articole"}),e.jsx("p",{className:"text-base font-medium text-gray-900",children:r.items?.length||0})]})]})]}),r.notes&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Notie"}),e.jsx("p",{className:"text-sm text-gray-900",children:r.notes})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Produse"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produs"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cantitate"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pre Unitar"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Recepionat"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.items?.map(w=>e.jsxs("tr",{children:[e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:w.product_name}),w.product_code&&e.jsxs("div",{className:"text-xs text-gray-500",children:["Cod: ",w.product_code]}),w.description&&e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:w.description})]}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsx("div",{className:"text-sm text-gray-900",children:w.quantity})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx("div",{className:"text-sm text-gray-900",children:f(w.unit_price,r.currency)})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:f(w.total_amount,r.currency)})}),e.jsxs("td",{className:"px-6 py-4 text-center",children:[e.jsxs("div",{className:"text-sm text-gray-900",children:[w.quantity_received," / ",w.quantity]}),e.jsx("div",{className:"mt-1",children:e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${w.quantity_received/w.quantity*100}%`}})})})]})]},w.id))}),e.jsxs("tfoot",{className:"bg-gray-50",children:[e.jsxs("tr",{children:[e.jsx("td",{colSpan:3,className:"px-6 py-3 text-right text-sm font-medium text-gray-900",children:"Subtotal:"}),e.jsx("td",{colSpan:2,className:"px-6 py-3 text-right text-sm font-medium text-gray-900",children:f(r.subtotal,r.currency)})]}),r.tax_amount>0&&e.jsxs("tr",{children:[e.jsx("td",{colSpan:3,className:"px-6 py-3 text-right text-sm font-medium text-gray-900",children:"TVA:"}),e.jsx("td",{colSpan:2,className:"px-6 py-3 text-right text-sm font-medium text-gray-900",children:f(r.tax_amount,r.currency)})]}),e.jsxs("tr",{children:[e.jsx("td",{colSpan:3,className:"px-6 py-3 text-right text-base font-bold text-gray-900",children:"Total:"}),e.jsx("td",{colSpan:2,className:"px-6 py-3 text-right text-base font-bold text-green-600",children:f(r.total_amount,r.currency)})]})]})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Furnizor"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{children:e.jsx("p",{className:"text-base font-medium text-gray-900",children:r.vendor_name})}),r.vendor_email&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Hi,{className:"w-4 h-4"}),e.jsx("a",{href:`mailto:${r.vendor_email}`,className:"hover:text-blue-600",children:r.vendor_email})]}),r.vendor_phone&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Yo,{className:"w-4 h-4"}),e.jsx("a",{href:`tel:${r.vendor_phone}`,className:"hover:text-blue-600",children:r.vendor_phone})]}),r.vendor_address&&e.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-600",children:[e.jsx(C5,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:r.vendor_address})]})]})]}),(r.approved_by_name||r.rejected_by_name)&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Status Aprobare"}),r.approved_by_name&&e.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[e.jsx(Me,{className:"w-4 h-4 text-green-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Aprobat de"}),e.jsx("p",{className:"font-medium text-gray-900",children:r.approved_by_name}),r.approved_at&&e.jsx("p",{className:"text-xs text-gray-500",children:v(r.approved_at)})]})]}),r.rejected_by_name&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[e.jsx(rc,{className:"w-4 h-4 text-red-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Respins de"}),e.jsx("p",{className:"font-medium text-gray-900",children:r.rejected_by_name}),r.rejected_at&&e.jsx("p",{className:"text-xs text-gray-500",children:v(r.rejected_at)})]})]}),r.rejection_reason&&e.jsx("div",{className:"mt-2 p-2 bg-red-50 rounded text-sm text-red-800",children:r.rejection_reason})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Informaii Suplimentare"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[r.payment_terms&&e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Termeni de plat"}),e.jsx("p",{className:"font-medium text-gray-900",children:r.payment_terms})]}),r.delivery_address&&e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Adres livrare"}),e.jsx("p",{className:"font-medium text-gray-900",children:r.delivery_address})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Creat de"}),e.jsx("p",{className:"font-medium text-gray-900",children:r.created_by_name||"N/A"}),e.jsx("p",{className:"text-xs text-gray-500",children:v(r.created_at)})]})]})]})]})]})]})},pte=()=>{Ct();const[t,a]=g.useState({today_hours:0,week_hours:0,month_hours:0,billable_hours:0,active_entries:0,pending_approval:0}),[r,s]=g.useState([]),[i,c]=g.useState(null),[o,u]=g.useState(!0);g.useEffect(()=>{m()},[]);const m=async()=>{try{u(!0);const v=localStorage.getItem("auth_token"),b=localStorage.getItem("company_id"),w=await Ae.get("/api/v1/time/stats.php",{headers:{Authorization:`Bearer ${v}`,"X-Company-ID":b}});w.data.success&&a(w.data.data);const N=await Ae.get("/api/v1/time/entries.php?limit=10",{headers:{Authorization:`Bearer ${v}`,"X-Company-ID":b}});if(N.data.success){const y=N.data.data.entries;s(y);const _=y.find(A=>A.status==="running");c(_||null)}}catch(v){console.error("Error fetching dashboard data:",v)}finally{u(!1)}},h=async v=>{try{const b=localStorage.getItem("auth_token"),w=localStorage.getItem("company_id");(await Ae.post("/api/v1/time/entries.php?action=stop",{entry_id:v},{headers:{Authorization:`Bearer ${b}`,"X-Company-ID":w,"Content-Type":"application/json"}})).data.success&&m()}catch(b){console.error("Error stopping timer:",b)}},x=v=>v?v.toFixed(2):"0.00",f=v=>v?new Date(`2000-01-01 ${v}`).toLocaleTimeString("ro-RO",{hour:"2-digit",minute:"2-digit"}):"-";return o?e.jsx(qe,{children:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"w-12 h-12 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"})})}):e.jsx(qe,{children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Time Tracking"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Track and manage your work hours"})]}),e.jsx("button",{onClick:()=>window.location.href="/time/entries",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"View All Entries"})]}),i&&e.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl p-6 text-white shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(fr,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:i.project_name}),e.jsx("p",{className:"text-white/80",children:i.task_description})]})]}),e.jsxs("button",{onClick:()=>h(i.id),className:"flex items-center space-x-2 px-6 py-3 bg-white text-indigo-600 rounded-lg hover:bg-gray-100 transition-colors font-semibold",children:[e.jsx(OM,{className:"w-5 h-5 fill-current"}),e.jsx("span",{children:"Stop Timer"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Today"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:[x(t.today_hours),"h"]})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(fr,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"This Week"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:[x(t.week_hours),"h"]})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(nt,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"This Month"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:[x(t.month_hours),"h"]})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(Ue,{className:"w-6 h-6 text-purple-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Billable Hours"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:[x(t.billable_hours),"h"]})]}),e.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center",children:e.jsx(Ue,{className:"w-6 h-6 text-indigo-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Timers"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:t.active_entries})]}),e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx(Cv,{className:"w-6 h-6 text-orange-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Approval"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:t.pending_approval})]}),e.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:e.jsx(ka,{className:"w-6 h-6 text-yellow-600"})})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Recent Time Entries"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Task"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hours"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(v=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(v.entry_date).toLocaleDateString("ro-RO")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:v.project_name}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:v.task_description}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:[f(v.start_time)," - ",f(v.end_time)]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[x(v.hours),"h"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${v.status==="running"?"bg-green-100 text-green-800":v.status==="approved"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:v.status})})]},v.id))})]})})]})]})})},fte=()=>{const[t,a]=g.useState([]),[,r]=g.useState(!0),[,s]=g.useState(!1);g.useEffect(()=>{i()},[]);const i=async()=>{try{const o=localStorage.getItem("auth_token"),u=localStorage.getItem("company_id"),m=await Ae.get("/api/v1/time/entries.php",{headers:{Authorization:`Bearer ${o}`,"X-Company-ID":u}});m.data.success&&a(m.data.data.entries)}catch(o){console.error("Error fetching entries:",o)}finally{r(!1)}},c=async o=>{if(confirm("Are you sure you want to delete this entry?"))try{const u=localStorage.getItem("auth_token"),m=localStorage.getItem("company_id");await Ae.delete(`/api/v1/time/entries.php?id=${o}`,{headers:{Authorization:`Bearer ${u}`,"X-Company-ID":m}}),i()}catch(u){console.error("Error deleting entry:",u)}};return e.jsx(qe,{children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Time Entries"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage all your time entries"})]}),e.jsxs("button",{onClick:()=>s(!0),className:"flex items-center space-x-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:[e.jsx(wt,{className:"w-5 h-5"}),e.jsx("span",{children:"New Entry"})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-md border border-gray-200",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Project"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Task"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Hours"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Billable"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(o=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:new Date(o.entry_date).toLocaleDateString("ro-RO")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-medium",children:o.project_name}),e.jsx("td",{className:"px-6 py-4 text-sm",children:o.task_description}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap font-medium",children:[o.hours?.toFixed(2),"h"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.is_billable?e.jsx(Xn,{className:"w-5 h-5 text-green-600"}):e.jsx(ht,{className:"w-5 h-5 text-gray-400"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:o.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"text-indigo-600 hover:text-indigo-800",children:e.jsx(_v,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>c(o.id),className:"text-red-600 hover:text-red-800",children:e.jsx(oa,{className:"w-4 h-4"})})]})})]},o.id))})]})})})]})})},gte=()=>{const[t,a]=g.useState([]),[r,s]=g.useState({active_projects:0,completed_projects:0,total_budget:0,avg_completion:0}),[i,c]=g.useState(!1),[o,u]=g.useState(!1),[m,h]=g.useState(null),[x,f]=g.useState({name:"",description:"",budget:"",start_date:new Date().toISOString().split("T")[0],end_date:"",status:"planning"}),[v,b]=g.useState(!1),[w,N]=g.useState(!1);g.useEffect(()=>{y()},[]);const y=async()=>{try{const O=localStorage.getItem("auth_token"),D=localStorage.getItem("company_id"),P=await Ae.get("/api/v1/projects/projects.php",{headers:{Authorization:`Bearer ${O}`,"X-Company-ID":D}});P.data.success&&(a(P.data.data.projects),_(P.data.data.projects))}catch(O){console.error("Error fetching projects:",O)}},_=O=>{const D=O.filter(M=>M.status==="in_progress").length,P=O.filter(M=>M.status==="completed").length,L=O.reduce((M,F)=>M+Number(F.budget),0),z=O.reduce((M,F)=>M+F.completion_percentage,0)/O.length;s({active_projects:D,completed_projects:P,total_budget:L,avg_completion:z||0})},A=async()=>{try{b(!0);const O=localStorage.getItem("auth_token"),D=localStorage.getItem("company_id");(await Ae.post("/api/v1/projects/projects.php",{name:x.name,description:x.description,budget:parseFloat(x.budget)||0,start_date:x.start_date,end_date:x.end_date||null,status:x.status},{headers:{Authorization:`Bearer ${O}`,"X-Company-ID":D}})).data.success&&(c(!1),f({name:"",description:"",budget:"",start_date:new Date().toISOString().split("T")[0],end_date:"",status:"planning"}),y())}catch(O){console.error("Error creating project:",O),alert("Failed to create project. Please try again.")}finally{b(!1)}},C=async()=>{if(m)try{N(!0);const O=localStorage.getItem("auth_token"),D=localStorage.getItem("company_id");(await Ae.put("/api/v1/projects/projects.php",{id:m.id,name:x.name,description:x.description,budget:parseFloat(x.budget)||0,start_date:x.start_date,end_date:x.end_date||null,status:x.status},{headers:{Authorization:`Bearer ${O}`,"X-Company-ID":D}})).data.success&&(u(!1),h(null),f({name:"",description:"",budget:"",start_date:new Date().toISOString().split("T")[0],end_date:"",status:"planning"}),y())}catch(O){console.error("Error updating project:",O),alert("Failed to update project. Please try again.")}finally{N(!1)}},E=O=>{h(O),f({name:O.name,description:O.description||"",budget:O.budget.toString(),start_date:O.start_date,end_date:O.end_date||"",status:O.status}),u(!0)},k=O=>{switch(O){case"in_progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"on_hold":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e.jsx(qe,{children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Projects"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your projects and track progress"})]}),e.jsx("button",{onClick:()=>c(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"New Project"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Projects"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:r.active_projects})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(_z,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:r.completed_projects})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(Ue,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Budget"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:["$",r.total_budget.toLocaleString()]})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(Ht,{className:"w-6 h-6 text-purple-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg. Completion"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:[r.avg_completion.toFixed(0),"%"]})]}),e.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center",children:e.jsx(ka,{className:"w-6 h-6 text-indigo-600"})})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(O=>e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:O.name}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>E(O),className:"p-1 text-gray-400 hover:text-indigo-600 transition-colors",title:"Edit project",children:e.jsx(nM,{className:"w-4 h-4"})}),e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${k(O.status)}`,children:O.status.replace("_"," ")})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:O.description}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-600",children:"Progress"}),e.jsxs("span",{className:"font-semibold",children:[O.completion_percentage,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-indigo-600 h-2 rounded-full transition-all",style:{width:`${O.completion_percentage}%`}})})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(nt,{className:"w-4 h-4"}),e.jsx("span",{children:new Date(O.start_date).toLocaleDateString("ro-RO")})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ht,{className:"w-4 h-4"}),e.jsxs("span",{children:["$",Number(O.budget).toLocaleString()]})]})]})]},O.id))}),i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Create New Project"}),e.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(ht,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Name *"}),e.jsx("input",{type:"text",value:x.name,onChange:O=>f({...x,name:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Enter project name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{value:x.description,onChange:O=>f({...x,description:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",rows:3,placeholder:"Enter project description"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Budget"}),e.jsx("input",{type:"number",value:x.budget,onChange:O=>f({...x,budget:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"0.00",step:"0.01"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),e.jsx("input",{type:"date",value:x.start_date,onChange:O=>f({...x,start_date:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),e.jsx("input",{type:"date",value:x.end_date,onChange:O=>f({...x,end_date:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:x.status,onChange:O=>f({...x,status:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"planning",children:"Planning"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"on_hold",children:"On Hold"}),e.jsx("option",{value:"completed",children:"Completed"})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{onClick:A,disabled:v||!x.name,className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Creating...":"Create Project"}),e.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"})]})]})]})}),o&&m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Project"}),e.jsx("button",{onClick:()=>{u(!1),h(null)},className:"text-gray-400 hover:text-gray-600",children:e.jsx(ht,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Name *"}),e.jsx("input",{type:"text",value:x.name,onChange:O=>f({...x,name:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Enter project name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{value:x.description,onChange:O=>f({...x,description:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",rows:3,placeholder:"Enter project description"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Budget"}),e.jsx("input",{type:"number",value:x.budget,onChange:O=>f({...x,budget:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"0.00",step:"0.01"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),e.jsx("input",{type:"date",value:x.start_date,onChange:O=>f({...x,start_date:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),e.jsx("input",{type:"date",value:x.end_date,onChange:O=>f({...x,end_date:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:x.status,onChange:O=>f({...x,status:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"planning",children:"Planning"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"on_hold",children:"On Hold"}),e.jsx("option",{value:"completed",children:"Completed"})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{onClick:C,disabled:w||!x.name,className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Updating...":"Update Project"}),e.jsx("button",{onClick:()=>{u(!1),h(null)},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"})]})]})]})})]})})};function yte(){const t=Be(),[a]=md(),r=a.get("project_id"),[s,i]=g.useState([]),[c,o]=g.useState(null),[u,m]=g.useState(!0),[h,x]=g.useState(null),[f,v]=g.useState(!1),[b,w]=g.useState({name:"",goal:"",start_date:"",end_date:"",capacity:""});g.useEffect(()=>{r&&(N(),y())},[r]);const N=async()=>{try{const C=localStorage.getItem("auth_token"),E=localStorage.getItem("company_id"),O=await(await fetch(`https://documentiulia.ro/api/v1/projects/projects.php?id=${r}`,{headers:{Authorization:`Bearer ${C}`,"X-Company-ID":E||""}})).json();O.success&&o(O.data)}catch(C){console.error("Error fetching project:",C)}},y=async()=>{try{m(!0);const C=localStorage.getItem("auth_token"),E=localStorage.getItem("company_id"),O=await(await fetch(`https://documentiulia.ro/api/v1/sprints/sprints.php?project_id=${r}`,{headers:{Authorization:`Bearer ${C}`,"X-Company-ID":E||""}})).json();O.success?i(O.data||[]):x(O.error||"Failed to load sprints")}catch(C){x("Failed to load sprints"),console.error("Error fetching sprints:",C)}finally{m(!1)}},_=async C=>{C.preventDefault();try{const E=localStorage.getItem("auth_token"),k=localStorage.getItem("company_id"),D=await(await fetch("https://documentiulia.ro/api/v1/sprints/sprints.php",{method:"POST",headers:{Authorization:`Bearer ${E}`,"X-Company-ID":k||"","Content-Type":"application/json"},body:JSON.stringify({project_id:r,...b,capacity:b.capacity?parseInt(b.capacity):null})})).json();D.success?(v(!1),w({name:"",goal:"",start_date:"",end_date:"",capacity:""}),y()):alert(D.error||"Failed to create sprint")}catch(E){console.error("Error creating sprint:",E),alert("Failed to create sprint")}},A=C=>{const E={planned:"bg-gray-500",active:"bg-green-500",completed:"bg-blue-500",cancelled:"bg-red-500"},k={upcoming:"",active:"",overdue:"",completed:""};return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-semibold text-white rounded ${E[C.status]||"bg-gray-500"}`,children:C.status.toUpperCase()}),e.jsx("span",{className:"text-xl",children:k[C.sprint_phase]||""})]})};return r?u?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading sprints..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("button",{onClick:()=>t("/projects"),className:"text-gray-600 hover:text-gray-900 mb-2",children:" Back to Projects"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:[c?.name," - Sprints"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your project sprints"})]}),e.jsx("button",{onClick:()=>v(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"+ New Sprint"})]})]}),h&&e.jsx("div",{className:"mb-4 p-4 bg-red-100 text-red-700 rounded-lg",children:h}),s.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"No sprints yet"}),e.jsx("button",{onClick:()=>v(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Create First Sprint"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(C=>e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 hover:shadow-xl transition-shadow cursor-pointer",onClick:()=>t(`/sprints/${C.id}/board`),children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:C.name}),A(C)]})}),C.goal&&e.jsxs("p",{className:"text-gray-600 text-sm mb-4",children:[" ",C.goal]}),e.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{children:""}),e.jsxs("span",{children:[new Date(C.start_date).toLocaleDateString()," - ",new Date(C.end_date).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:""}),e.jsxs("span",{children:[C.days_elapsed," days elapsed  ",C.days_remaining," days remaining"]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-600",children:"Progress"}),e.jsxs("span",{className:"font-semibold",children:[C.completion_percentage?.toFixed(1),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all",style:{width:`${Math.min(C.completion_percentage||0,100)}%`}})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Tasks"}),e.jsx("div",{className:"text-lg font-bold",children:C.task_count||0})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Story Points"}),e.jsxs("div",{className:"text-lg font-bold",children:[C.completed_story_points||0," / ",C.total_story_points||0]})]}),C.capacity&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Capacity"}),e.jsx("div",{className:"text-lg font-bold",children:C.capacity})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Commitment"}),e.jsxs("div",{className:"text-lg font-bold",children:[C.capacity?Math.round(C.total_story_points/C.capacity*100):0,"%"]})]})]})]})]},C.id))}),f&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Create New Sprint"}),e.jsxs("form",{onSubmit:_,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sprint Name *"}),e.jsx("input",{type:"text",value:b.name,onChange:C=>w({...b,name:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"Sprint 1",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sprint Goal"}),e.jsx("textarea",{value:b.goal,onChange:C=>w({...b,goal:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"Implement core features...",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date *"}),e.jsx("input",{type:"date",value:b.start_date,onChange:C=>w({...b,start_date:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date *"}),e.jsx("input",{type:"date",value:b.end_date,onChange:C=>w({...b,end_date:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacity (Story Points)"}),e.jsx("input",{type:"number",value:b.capacity,onChange:C=>w({...b,capacity:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"40"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{type:"button",onClick:()=>{v(!1),w({name:"",goal:"",start_date:"",end_date:"",capacity:""})},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Create Sprint"})]})]})]})})]}):e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-600",children:"No project selected"}),e.jsx("button",{onClick:()=>t("/projects"),className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Go to Projects"})]})})}function vte(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return g.useMemo(()=>s=>{a.forEach(i=>i(s))},a)}const Bh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ec(t){const a=Object.prototype.toString.call(t);return a==="[object Window]"||a==="[object global]"}function yj(t){return"nodeType"in t}function Ia(t){var a,r;return t?Ec(t)?t:yj(t)&&(a=(r=t.ownerDocument)==null?void 0:r.defaultView)!=null?a:window:window}function vj(t){const{Document:a}=Ia(t);return t instanceof a}function Id(t){return Ec(t)?!1:t instanceof Ia(t).HTMLElement}function CO(t){return t instanceof Ia(t).SVGElement}function Oc(t){return t?Ec(t)?t.document:yj(t)?vj(t)?t:Id(t)||CO(t)?t.ownerDocument:document:document:document}const ss=Bh?g.useLayoutEffect:g.useEffect;function Fh(t){const a=g.useRef(t);return ss(()=>{a.current=t}),g.useCallback(function(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return a.current==null?void 0:a.current(...s)},[])}function bte(){const t=g.useRef(null),a=g.useCallback((s,i)=>{t.current=setInterval(s,i)},[]),r=g.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[a,r]}function cd(t,a){a===void 0&&(a=[t]);const r=g.useRef(t);return ss(()=>{r.current!==t&&(r.current=t)},a),r}function $d(t,a){const r=g.useRef();return g.useMemo(()=>{const s=t(r.current);return r.current=s,s},[...a])}function Lx(t){const a=Fh(t),r=g.useRef(null),s=g.useCallback(i=>{i!==r.current&&a?.(i,r.current),r.current=i},[]);return[r,s]}function Ix(t){const a=g.useRef();return g.useEffect(()=>{a.current=t},[t]),a.current}let Xg={};function Bd(t,a){return g.useMemo(()=>{if(a)return a;const r=Xg[t]==null?0:Xg[t]+1;return Xg[t]=r,t+"-"+r},[t,a])}function kO(t){return function(a){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return s.reduce((c,o)=>{const u=Object.entries(o);for(const[m,h]of u){const x=c[m];x!=null&&(c[m]=x+t*h)}return c},{...a})}}const ec=kO(1),$x=kO(-1);function jte(t){return"clientX"in t&&"clientY"in t}function Uh(t){if(!t)return!1;const{KeyboardEvent:a}=Ia(t.target);return a&&t instanceof a}function Nte(t){if(!t)return!1;const{TouchEvent:a}=Ia(t.target);return a&&t instanceof a}function Bx(t){if(Nte(t)){if(t.touches&&t.touches.length){const{clientX:a,clientY:r}=t.touches[0];return{x:a,y:r}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:a,clientY:r}=t.changedTouches[0];return{x:a,y:r}}}return jte(t)?{x:t.clientX,y:t.clientY}:null}const ai=Object.freeze({Translate:{toString(t){if(!t)return;const{x:a,y:r}=t;return"translate3d("+(a?Math.round(a):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:a,scaleY:r}=t;return"scaleX("+a+") scaleY("+r+")"}},Transform:{toString(t){if(t)return[ai.Translate.toString(t),ai.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:a,duration:r,easing:s}=t;return a+" "+r+"ms "+s}}}),f3="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function wte(t){return t.matches(f3)?t:t.querySelector(f3)}const Ste={display:"none"};function _te(t){let{id:a,value:r}=t;return We.createElement("div",{id:a,style:Ste},r)}function Cte(t){let{id:a,announcement:r,ariaLiveType:s="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return We.createElement("div",{id:a,style:i,role:"status","aria-live":s,"aria-atomic":!0},r)}function kte(){const[t,a]=g.useState("");return{announce:g.useCallback(s=>{s!=null&&a(s)},[]),announcement:t}}const AO=g.createContext(null);function Ate(t){const a=g.useContext(AO);g.useEffect(()=>{if(!a)throw new Error("useDndMonitor must be used within a children of <DndContext>");return a(t)},[t,a])}function Ete(){const[t]=g.useState(()=>new Set),a=g.useCallback(s=>(t.add(s),()=>t.delete(s)),[t]);return[g.useCallback(s=>{let{type:i,event:c}=s;t.forEach(o=>{var u;return(u=o[i])==null?void 0:u.call(o,c)})},[t]),a]}const Ote={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Tte={onDragStart(t){let{active:a}=t;return"Picked up draggable item "+a.id+"."},onDragOver(t){let{active:a,over:r}=t;return r?"Draggable item "+a.id+" was moved over droppable area "+r.id+".":"Draggable item "+a.id+" is no longer over a droppable area."},onDragEnd(t){let{active:a,over:r}=t;return r?"Draggable item "+a.id+" was dropped over droppable area "+r.id:"Draggable item "+a.id+" was dropped."},onDragCancel(t){let{active:a}=t;return"Dragging was cancelled. Draggable item "+a.id+" was dropped."}};function Dte(t){let{announcements:a=Tte,container:r,hiddenTextDescribedById:s,screenReaderInstructions:i=Ote}=t;const{announce:c,announcement:o}=kte(),u=Bd("DndLiveRegion"),[m,h]=g.useState(!1);if(g.useEffect(()=>{h(!0)},[]),Ate(g.useMemo(()=>({onDragStart(f){let{active:v}=f;c(a.onDragStart({active:v}))},onDragMove(f){let{active:v,over:b}=f;a.onDragMove&&c(a.onDragMove({active:v,over:b}))},onDragOver(f){let{active:v,over:b}=f;c(a.onDragOver({active:v,over:b}))},onDragEnd(f){let{active:v,over:b}=f;c(a.onDragEnd({active:v,over:b}))},onDragCancel(f){let{active:v,over:b}=f;c(a.onDragCancel({active:v,over:b}))}}),[c,a])),!m)return null;const x=We.createElement(We.Fragment,null,We.createElement(_te,{id:s,value:i.draggable}),We.createElement(Cte,{id:u,announcement:o}));return r?Yn.createPortal(x,r):x}var Xt;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Xt||(Xt={}));function Fx(){}function Pte(t,a){return g.useMemo(()=>({sensor:t,options:a??{}}),[t,a])}function zte(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return g.useMemo(()=>[...a].filter(s=>s!=null),[...a])}const ns=Object.freeze({x:0,y:0});function Mte(t,a){return Math.sqrt(Math.pow(t.x-a.x,2)+Math.pow(t.y-a.y,2))}function Rte(t,a){const r=Bx(t);if(!r)return"0 0";const s={x:(r.x-a.left)/a.width*100,y:(r.y-a.top)/a.height*100};return s.x+"% "+s.y+"%"}function Lte(t,a){let{data:{value:r}}=t,{data:{value:s}}=a;return r-s}function Ite(t,a){let{data:{value:r}}=t,{data:{value:s}}=a;return s-r}function g3(t){let{left:a,top:r,height:s,width:i}=t;return[{x:a,y:r},{x:a+i,y:r},{x:a,y:r+s},{x:a+i,y:r+s}]}function $te(t,a){if(!t||t.length===0)return null;const[r]=t;return r[a]}const Bte=t=>{let{collisionRect:a,droppableRects:r,droppableContainers:s}=t;const i=g3(a),c=[];for(const o of s){const{id:u}=o,m=r.get(u);if(m){const h=g3(m),x=i.reduce((v,b,w)=>v+Mte(h[w],b),0),f=Number((x/4).toFixed(4));c.push({id:u,data:{droppableContainer:o,value:f}})}}return c.sort(Lte)};function Fte(t,a){const r=Math.max(a.top,t.top),s=Math.max(a.left,t.left),i=Math.min(a.left+a.width,t.left+t.width),c=Math.min(a.top+a.height,t.top+t.height),o=i-s,u=c-r;if(s<i&&r<c){const m=a.width*a.height,h=t.width*t.height,x=o*u,f=x/(m+h-x);return Number(f.toFixed(4))}return 0}const Ute=t=>{let{collisionRect:a,droppableRects:r,droppableContainers:s}=t;const i=[];for(const c of s){const{id:o}=c,u=r.get(o);if(u){const m=Fte(u,a);m>0&&i.push({id:o,data:{droppableContainer:c,value:m}})}}return i.sort(Ite)};function qte(t,a,r){return{...t,scaleX:a&&r?a.width/r.width:1,scaleY:a&&r?a.height/r.height:1}}function EO(t,a){return t&&a?{x:t.left-a.left,y:t.top-a.top}:ns}function Hte(t){return function(r){for(var s=arguments.length,i=new Array(s>1?s-1:0),c=1;c<s;c++)i[c-1]=arguments[c];return i.reduce((o,u)=>({...o,top:o.top+t*u.y,bottom:o.bottom+t*u.y,left:o.left+t*u.x,right:o.right+t*u.x}),{...r})}}const Vte=Hte(1);function OO(t){if(t.startsWith("matrix3d(")){const a=t.slice(9,-1).split(/, /);return{x:+a[12],y:+a[13],scaleX:+a[0],scaleY:+a[5]}}else if(t.startsWith("matrix(")){const a=t.slice(7,-1).split(/, /);return{x:+a[4],y:+a[5],scaleX:+a[0],scaleY:+a[3]}}return null}function Gte(t,a,r){const s=OO(a);if(!s)return t;const{scaleX:i,scaleY:c,x:o,y:u}=s,m=t.left-o-(1-i)*parseFloat(r),h=t.top-u-(1-c)*parseFloat(r.slice(r.indexOf(" ")+1)),x=i?t.width/i:t.width,f=c?t.height/c:t.height;return{width:x,height:f,top:h,right:m+x,bottom:h+f,left:m}}const Kte={ignoreTransform:!1};function Tc(t,a){a===void 0&&(a=Kte);let r=t.getBoundingClientRect();if(a.ignoreTransform){const{transform:h,transformOrigin:x}=Ia(t).getComputedStyle(t);h&&(r=Gte(r,h,x))}const{top:s,left:i,width:c,height:o,bottom:u,right:m}=r;return{top:s,left:i,width:c,height:o,bottom:u,right:m}}function y3(t){return Tc(t,{ignoreTransform:!0})}function Yte(t){const a=t.innerWidth,r=t.innerHeight;return{top:0,left:0,right:a,bottom:r,width:a,height:r}}function Xte(t,a){return a===void 0&&(a=Ia(t).getComputedStyle(t)),a.position==="fixed"}function Wte(t,a){a===void 0&&(a=Ia(t).getComputedStyle(t));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const c=a[i];return typeof c=="string"?r.test(c):!1})}function bj(t,a){const r=[];function s(i){if(a!=null&&r.length>=a||!i)return r;if(vj(i)&&i.scrollingElement!=null&&!r.includes(i.scrollingElement))return r.push(i.scrollingElement),r;if(!Id(i)||CO(i)||r.includes(i))return r;const c=Ia(t).getComputedStyle(i);return i!==t&&Wte(i,c)&&r.push(i),Xte(i,c)?r:s(i.parentNode)}return t?s(t):r}function TO(t){const[a]=bj(t,1);return a??null}function Wg(t){return!Bh||!t?null:Ec(t)?t:yj(t)?vj(t)||t===Oc(t).scrollingElement?window:Id(t)?t:null:null}function DO(t){return Ec(t)?t.scrollX:t.scrollLeft}function PO(t){return Ec(t)?t.scrollY:t.scrollTop}function cv(t){return{x:DO(t),y:PO(t)}}var ia;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(ia||(ia={}));function zO(t){return!Bh||!t?!1:t===document.scrollingElement}function MO(t){const a={x:0,y:0},r=zO(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},s={x:t.scrollWidth-r.width,y:t.scrollHeight-r.height},i=t.scrollTop<=a.y,c=t.scrollLeft<=a.x,o=t.scrollTop>=s.y,u=t.scrollLeft>=s.x;return{isTop:i,isLeft:c,isBottom:o,isRight:u,maxScroll:s,minScroll:a}}const Zte={x:.2,y:.2};function Qte(t,a,r,s,i){let{top:c,left:o,right:u,bottom:m}=r;s===void 0&&(s=10),i===void 0&&(i=Zte);const{isTop:h,isBottom:x,isLeft:f,isRight:v}=MO(t),b={x:0,y:0},w={x:0,y:0},N={height:a.height*i.y,width:a.width*i.x};return!h&&c<=a.top+N.height?(b.y=ia.Backward,w.y=s*Math.abs((a.top+N.height-c)/N.height)):!x&&m>=a.bottom-N.height&&(b.y=ia.Forward,w.y=s*Math.abs((a.bottom-N.height-m)/N.height)),!v&&u>=a.right-N.width?(b.x=ia.Forward,w.x=s*Math.abs((a.right-N.width-u)/N.width)):!f&&o<=a.left+N.width&&(b.x=ia.Backward,w.x=s*Math.abs((a.left+N.width-o)/N.width)),{direction:b,speed:w}}function Jte(t){if(t===document.scrollingElement){const{innerWidth:c,innerHeight:o}=window;return{top:0,left:0,right:c,bottom:o,width:c,height:o}}const{top:a,left:r,right:s,bottom:i}=t.getBoundingClientRect();return{top:a,left:r,right:s,bottom:i,width:t.clientWidth,height:t.clientHeight}}function RO(t){return t.reduce((a,r)=>ec(a,cv(r)),ns)}function eae(t){return t.reduce((a,r)=>a+DO(r),0)}function tae(t){return t.reduce((a,r)=>a+PO(r),0)}function LO(t,a){if(a===void 0&&(a=Tc),!t)return;const{top:r,left:s,bottom:i,right:c}=a(t);TO(t)&&(i<=0||c<=0||r>=window.innerHeight||s>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const aae=[["x",["left","right"],eae],["y",["top","bottom"],tae]];class jj{constructor(a,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=bj(r),i=RO(s);this.rect={...a},this.width=a.width,this.height=a.height;for(const[c,o,u]of aae)for(const m of o)Object.defineProperty(this,m,{get:()=>{const h=u(s),x=i[c]-h;return this.rect[m]+x},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class qo{constructor(a){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...r)})},this.target=a}add(a,r,s){var i;(i=this.target)==null||i.addEventListener(a,r,s),this.listeners.push([a,r,s])}}function rae(t){const{EventTarget:a}=Ia(t);return t instanceof a?t:Oc(t)}function Zg(t,a){const r=Math.abs(t.x),s=Math.abs(t.y);return typeof a=="number"?Math.sqrt(r**2+s**2)>a:"x"in a&&"y"in a?r>a.x&&s>a.y:"x"in a?r>a.x:"y"in a?s>a.y:!1}var Ir;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Ir||(Ir={}));function v3(t){t.preventDefault()}function sae(t){t.stopPropagation()}var Xe;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Xe||(Xe={}));const IO={start:[Xe.Space,Xe.Enter],cancel:[Xe.Esc],end:[Xe.Space,Xe.Enter,Xe.Tab]},nae=(t,a)=>{let{currentCoordinates:r}=a;switch(t.code){case Xe.Right:return{...r,x:r.x+25};case Xe.Left:return{...r,x:r.x-25};case Xe.Down:return{...r,y:r.y+25};case Xe.Up:return{...r,y:r.y-25}}};class $O{constructor(a){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=a;const{event:{target:r}}=a;this.props=a,this.listeners=new qo(Oc(r)),this.windowListeners=new qo(Ia(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ir.Resize,this.handleCancel),this.windowListeners.add(Ir.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ir.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:a,onStart:r}=this.props,s=a.node.current;s&&LO(s),r(ns)}handleKeyDown(a){if(Uh(a)){const{active:r,context:s,options:i}=this.props,{keyboardCodes:c=IO,coordinateGetter:o=nae,scrollBehavior:u="smooth"}=i,{code:m}=a;if(c.end.includes(m)){this.handleEnd(a);return}if(c.cancel.includes(m)){this.handleCancel(a);return}const{collisionRect:h}=s.current,x=h?{x:h.left,y:h.top}:ns;this.referenceCoordinates||(this.referenceCoordinates=x);const f=o(a,{active:r,context:s.current,currentCoordinates:x});if(f){const v=$x(f,x),b={x:0,y:0},{scrollableAncestors:w}=s.current;for(const N of w){const y=a.code,{isTop:_,isRight:A,isLeft:C,isBottom:E,maxScroll:k,minScroll:O}=MO(N),D=Jte(N),P={x:Math.min(y===Xe.Right?D.right-D.width/2:D.right,Math.max(y===Xe.Right?D.left:D.left+D.width/2,f.x)),y:Math.min(y===Xe.Down?D.bottom-D.height/2:D.bottom,Math.max(y===Xe.Down?D.top:D.top+D.height/2,f.y))},L=y===Xe.Right&&!A||y===Xe.Left&&!C,z=y===Xe.Down&&!E||y===Xe.Up&&!_;if(L&&P.x!==f.x){const M=N.scrollLeft+v.x,F=y===Xe.Right&&M<=k.x||y===Xe.Left&&M>=O.x;if(F&&!v.y){N.scrollTo({left:M,behavior:u});return}F?b.x=N.scrollLeft-M:b.x=y===Xe.Right?N.scrollLeft-k.x:N.scrollLeft-O.x,b.x&&N.scrollBy({left:-b.x,behavior:u});break}else if(z&&P.y!==f.y){const M=N.scrollTop+v.y,F=y===Xe.Down&&M<=k.y||y===Xe.Up&&M>=O.y;if(F&&!v.x){N.scrollTo({top:M,behavior:u});return}F?b.y=N.scrollTop-M:b.y=y===Xe.Down?N.scrollTop-k.y:N.scrollTop-O.y,b.y&&N.scrollBy({top:-b.y,behavior:u});break}}this.handleMove(a,ec($x(f,this.referenceCoordinates),b))}}}handleMove(a,r){const{onMove:s}=this.props;a.preventDefault(),s(r)}handleEnd(a){const{onEnd:r}=this.props;a.preventDefault(),this.detach(),r()}handleCancel(a){const{onCancel:r}=this.props;a.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}$O.activators=[{eventName:"onKeyDown",handler:(t,a,r)=>{let{keyboardCodes:s=IO,onActivation:i}=a,{active:c}=r;const{code:o}=t.nativeEvent;if(s.start.includes(o)){const u=c.activatorNode.current;return u&&t.target!==u?!1:(t.preventDefault(),i?.({event:t.nativeEvent}),!0)}return!1}}];function b3(t){return!!(t&&"distance"in t)}function j3(t){return!!(t&&"delay"in t)}class Nj{constructor(a,r,s){var i;s===void 0&&(s=rae(a.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=a,this.events=r;const{event:c}=a,{target:o}=c;this.props=a,this.events=r,this.document=Oc(o),this.documentListeners=new qo(this.document),this.listeners=new qo(s),this.windowListeners=new qo(Ia(o)),this.initialCoordinates=(i=Bx(c))!=null?i:ns,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:a,props:{options:{activationConstraint:r,bypassActivationConstraint:s}}}=this;if(this.listeners.add(a.move.name,this.handleMove,{passive:!1}),this.listeners.add(a.end.name,this.handleEnd),a.cancel&&this.listeners.add(a.cancel.name,this.handleCancel),this.windowListeners.add(Ir.Resize,this.handleCancel),this.windowListeners.add(Ir.DragStart,v3),this.windowListeners.add(Ir.VisibilityChange,this.handleCancel),this.windowListeners.add(Ir.ContextMenu,v3),this.documentListeners.add(Ir.Keydown,this.handleKeydown),r){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(j3(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(b3(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(a,r){const{active:s,onPending:i}=this.props;i(s,a,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:a}=this,{onStart:r}=this.props;a&&(this.activated=!0,this.documentListeners.add(Ir.Click,sae,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ir.SelectionChange,this.removeTextSelection),r(a))}handleMove(a){var r;const{activated:s,initialCoordinates:i,props:c}=this,{onMove:o,options:{activationConstraint:u}}=c;if(!i)return;const m=(r=Bx(a))!=null?r:ns,h=$x(i,m);if(!s&&u){if(b3(u)){if(u.tolerance!=null&&Zg(h,u.tolerance))return this.handleCancel();if(Zg(h,u.distance))return this.handleStart()}if(j3(u)&&Zg(h,u.tolerance))return this.handleCancel();this.handlePending(u,h);return}a.cancelable&&a.preventDefault(),o(m)}handleEnd(){const{onAbort:a,onEnd:r}=this.props;this.detach(),this.activated||a(this.props.active),r()}handleCancel(){const{onAbort:a,onCancel:r}=this.props;this.detach(),this.activated||a(this.props.active),r()}handleKeydown(a){a.code===Xe.Esc&&this.handleCancel()}removeTextSelection(){var a;(a=this.document.getSelection())==null||a.removeAllRanges()}}const iae={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class wj extends Nj{constructor(a){const{event:r}=a,s=Oc(r.target);super(a,iae,s)}}wj.activators=[{eventName:"onPointerDown",handler:(t,a)=>{let{nativeEvent:r}=t,{onActivation:s}=a;return!r.isPrimary||r.button!==0?!1:(s?.({event:r}),!0)}}];const lae={move:{name:"mousemove"},end:{name:"mouseup"}};var ov;(function(t){t[t.RightClick=2]="RightClick"})(ov||(ov={}));class cae extends Nj{constructor(a){super(a,lae,Oc(a.event.target))}}cae.activators=[{eventName:"onMouseDown",handler:(t,a)=>{let{nativeEvent:r}=t,{onActivation:s}=a;return r.button===ov.RightClick?!1:(s?.({event:r}),!0)}}];const Qg={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class oae extends Nj{constructor(a){super(a,Qg)}static setup(){return window.addEventListener(Qg.move.name,a,{capture:!1,passive:!1}),function(){window.removeEventListener(Qg.move.name,a)};function a(){}}}oae.activators=[{eventName:"onTouchStart",handler:(t,a)=>{let{nativeEvent:r}=t,{onActivation:s}=a;const{touches:i}=r;return i.length>1?!1:(s?.({event:r}),!0)}}];var Ho;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Ho||(Ho={}));var Ux;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ux||(Ux={}));function dae(t){let{acceleration:a,activator:r=Ho.Pointer,canScroll:s,draggingRect:i,enabled:c,interval:o=5,order:u=Ux.TreeOrder,pointerCoordinates:m,scrollableAncestors:h,scrollableAncestorRects:x,delta:f,threshold:v}=t;const b=mae({delta:f,disabled:!c}),[w,N]=bte(),y=g.useRef({x:0,y:0}),_=g.useRef({x:0,y:0}),A=g.useMemo(()=>{switch(r){case Ho.Pointer:return m?{top:m.y,bottom:m.y,left:m.x,right:m.x}:null;case Ho.DraggableRect:return i}},[r,i,m]),C=g.useRef(null),E=g.useCallback(()=>{const O=C.current;if(!O)return;const D=y.current.x*_.current.x,P=y.current.y*_.current.y;O.scrollBy(D,P)},[]),k=g.useMemo(()=>u===Ux.TreeOrder?[...h].reverse():h,[u,h]);g.useEffect(()=>{if(!c||!h.length||!A){N();return}for(const O of k){if(s?.(O)===!1)continue;const D=h.indexOf(O),P=x[D];if(!P)continue;const{direction:L,speed:z}=Qte(O,P,A,a,v);for(const M of["x","y"])b[M][L[M]]||(z[M]=0,L[M]=0);if(z.x>0||z.y>0){N(),C.current=O,w(E,o),y.current=z,_.current=L;return}}y.current={x:0,y:0},_.current={x:0,y:0},N()},[a,E,s,N,c,o,JSON.stringify(A),JSON.stringify(b),w,h,k,x,JSON.stringify(v)])}const uae={x:{[ia.Backward]:!1,[ia.Forward]:!1},y:{[ia.Backward]:!1,[ia.Forward]:!1}};function mae(t){let{delta:a,disabled:r}=t;const s=Ix(a);return $d(i=>{if(r||!s||!i)return uae;const c={x:Math.sign(a.x-s.x),y:Math.sign(a.y-s.y)};return{x:{[ia.Backward]:i.x[ia.Backward]||c.x===-1,[ia.Forward]:i.x[ia.Forward]||c.x===1},y:{[ia.Backward]:i.y[ia.Backward]||c.y===-1,[ia.Forward]:i.y[ia.Forward]||c.y===1}}},[r,a,s])}function xae(t,a){const r=a!=null?t.get(a):void 0,s=r?r.node.current:null;return $d(i=>{var c;return a==null?null:(c=s??i)!=null?c:null},[s,a])}function hae(t,a){return g.useMemo(()=>t.reduce((r,s)=>{const{sensor:i}=s,c=i.activators.map(o=>({eventName:o.eventName,handler:a(o.handler,s)}));return[...r,...c]},[]),[t,a])}var od;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(od||(od={}));var dv;(function(t){t.Optimized="optimized"})(dv||(dv={}));const N3=new Map;function pae(t,a){let{dragging:r,dependencies:s,config:i}=a;const[c,o]=g.useState(null),{frequency:u,measure:m,strategy:h}=i,x=g.useRef(t),f=y(),v=cd(f),b=g.useCallback(function(_){_===void 0&&(_=[]),!v.current&&o(A=>A===null?_:A.concat(_.filter(C=>!A.includes(C))))},[v]),w=g.useRef(null),N=$d(_=>{if(f&&!r)return N3;if(!_||_===N3||x.current!==t||c!=null){const A=new Map;for(let C of t){if(!C)continue;if(c&&c.length>0&&!c.includes(C.id)&&C.rect.current){A.set(C.id,C.rect.current);continue}const E=C.node.current,k=E?new jj(m(E),E):null;C.rect.current=k,k&&A.set(C.id,k)}return A}return _},[t,c,r,f,m]);return g.useEffect(()=>{x.current=t},[t]),g.useEffect(()=>{f||b()},[r,f]),g.useEffect(()=>{c&&c.length>0&&o(null)},[JSON.stringify(c)]),g.useEffect(()=>{f||typeof u!="number"||w.current!==null||(w.current=setTimeout(()=>{b(),w.current=null},u))},[u,f,b,...s]),{droppableRects:N,measureDroppableContainers:b,measuringScheduled:c!=null};function y(){switch(h){case od.Always:return!1;case od.BeforeDragging:return r;default:return!r}}}function Sj(t,a){return $d(r=>t?r||(typeof a=="function"?a(t):t):null,[a,t])}function fae(t,a){return Sj(t,a)}function gae(t){let{callback:a,disabled:r}=t;const s=Fh(a),i=g.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:c}=window;return new c(s)},[s,r]);return g.useEffect(()=>()=>i?.disconnect(),[i]),i}function qh(t){let{callback:a,disabled:r}=t;const s=Fh(a),i=g.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:c}=window;return new c(s)},[r]);return g.useEffect(()=>()=>i?.disconnect(),[i]),i}function yae(t){return new jj(Tc(t),t)}function w3(t,a,r){a===void 0&&(a=yae);const[s,i]=g.useState(null);function c(){i(m=>{if(!t)return null;if(t.isConnected===!1){var h;return(h=m??r)!=null?h:null}const x=a(t);return JSON.stringify(m)===JSON.stringify(x)?m:x})}const o=gae({callback(m){if(t)for(const h of m){const{type:x,target:f}=h;if(x==="childList"&&f instanceof HTMLElement&&f.contains(t)){c();break}}}}),u=qh({callback:c});return ss(()=>{c(),t?(u?.observe(t),o?.observe(document.body,{childList:!0,subtree:!0})):(u?.disconnect(),o?.disconnect())},[t]),s}function vae(t){const a=Sj(t);return EO(t,a)}const S3=[];function bae(t){const a=g.useRef(t),r=$d(s=>t?s&&s!==S3&&t&&a.current&&t.parentNode===a.current.parentNode?s:bj(t):S3,[t]);return g.useEffect(()=>{a.current=t},[t]),r}function jae(t){const[a,r]=g.useState(null),s=g.useRef(t),i=g.useCallback(c=>{const o=Wg(c.target);o&&r(u=>u?(u.set(o,cv(o)),new Map(u)):null)},[]);return g.useEffect(()=>{const c=s.current;if(t!==c){o(c);const u=t.map(m=>{const h=Wg(m);return h?(h.addEventListener("scroll",i,{passive:!0}),[h,cv(h)]):null}).filter(m=>m!=null);r(u.length?new Map(u):null),s.current=t}return()=>{o(t),o(c)};function o(u){u.forEach(m=>{const h=Wg(m);h?.removeEventListener("scroll",i)})}},[i,t]),g.useMemo(()=>t.length?a?Array.from(a.values()).reduce((c,o)=>ec(c,o),ns):RO(t):ns,[t,a])}function _3(t,a){a===void 0&&(a=[]);const r=g.useRef(null);return g.useEffect(()=>{r.current=null},a),g.useEffect(()=>{const s=t!==ns;s&&!r.current&&(r.current=t),!s&&r.current&&(r.current=null)},[t]),r.current?$x(t,r.current):ns}function Nae(t){g.useEffect(()=>{if(!Bh)return;const a=t.map(r=>{let{sensor:s}=r;return s.setup==null?void 0:s.setup()});return()=>{for(const r of a)r?.()}},t.map(a=>{let{sensor:r}=a;return r}))}function wae(t,a){return g.useMemo(()=>t.reduce((r,s)=>{let{eventName:i,handler:c}=s;return r[i]=o=>{c(o,a)},r},{}),[t,a])}function BO(t){return g.useMemo(()=>t?Yte(t):null,[t])}const C3=[];function Sae(t,a){a===void 0&&(a=Tc);const[r]=t,s=BO(r?Ia(r):null),[i,c]=g.useState(C3);function o(){c(()=>t.length?t.map(m=>zO(m)?s:new jj(a(m),m)):C3)}const u=qh({callback:o});return ss(()=>{u?.disconnect(),o(),t.forEach(m=>u?.observe(m))},[t]),i}function FO(t){if(!t)return null;if(t.children.length>1)return t;const a=t.children[0];return Id(a)?a:t}function _ae(t){let{measure:a}=t;const[r,s]=g.useState(null),i=g.useCallback(h=>{for(const{target:x}of h)if(Id(x)){s(f=>{const v=a(x);return f?{...f,width:v.width,height:v.height}:v});break}},[a]),c=qh({callback:i}),o=g.useCallback(h=>{const x=FO(h);c?.disconnect(),x&&c?.observe(x),s(x?a(x):null)},[a,c]),[u,m]=Lx(o);return g.useMemo(()=>({nodeRef:u,rect:r,setRef:m}),[r,u,m])}const Cae=[{sensor:wj,options:{}},{sensor:$O,options:{}}],kae={current:{}},Fm={draggable:{measure:y3},droppable:{measure:y3,strategy:od.WhileDragging,frequency:dv.Optimized},dragOverlay:{measure:Tc}};class Vo extends Map{get(a){var r;return a!=null&&(r=super.get(a))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(a=>{let{disabled:r}=a;return!r})}getNodeFor(a){var r,s;return(r=(s=this.get(a))==null?void 0:s.node.current)!=null?r:void 0}}const Aae={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Vo,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Fx},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Fm,measureDroppableContainers:Fx,windowRect:null,measuringScheduled:!1},UO={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Fx,draggableNodes:new Map,over:null,measureDroppableContainers:Fx},Fd=g.createContext(UO),qO=g.createContext(Aae);function Eae(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Vo}}}function Oae(t,a){switch(a.type){case Xt.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:a.initialCoordinates,active:a.active}};case Xt.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:a.coordinates.x-t.draggable.initialCoordinates.x,y:a.coordinates.y-t.draggable.initialCoordinates.y}}};case Xt.DragEnd:case Xt.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Xt.RegisterDroppable:{const{element:r}=a,{id:s}=r,i=new Vo(t.droppable.containers);return i.set(s,r),{...t,droppable:{...t.droppable,containers:i}}}case Xt.SetDroppableDisabled:{const{id:r,key:s,disabled:i}=a,c=t.droppable.containers.get(r);if(!c||s!==c.key)return t;const o=new Vo(t.droppable.containers);return o.set(r,{...c,disabled:i}),{...t,droppable:{...t.droppable,containers:o}}}case Xt.UnregisterDroppable:{const{id:r,key:s}=a,i=t.droppable.containers.get(r);if(!i||s!==i.key)return t;const c=new Vo(t.droppable.containers);return c.delete(r),{...t,droppable:{...t.droppable,containers:c}}}default:return t}}function Tae(t){let{disabled:a}=t;const{active:r,activatorEvent:s,draggableNodes:i}=g.useContext(Fd),c=Ix(s),o=Ix(r?.id);return g.useEffect(()=>{if(!a&&!s&&c&&o!=null){if(!Uh(c)||document.activeElement===c.target)return;const u=i.get(o);if(!u)return;const{activatorNode:m,node:h}=u;if(!m.current&&!h.current)return;requestAnimationFrame(()=>{for(const x of[m.current,h.current]){if(!x)continue;const f=wte(x);if(f){f.focus();break}}})}},[s,a,i,o,c]),null}function HO(t,a){let{transform:r,...s}=a;return t!=null&&t.length?t.reduce((i,c)=>c({transform:i,...s}),r):r}function Dae(t){return g.useMemo(()=>({draggable:{...Fm.draggable,...t?.draggable},droppable:{...Fm.droppable,...t?.droppable},dragOverlay:{...Fm.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function Pae(t){let{activeNode:a,measure:r,initialRect:s,config:i=!0}=t;const c=g.useRef(!1),{x:o,y:u}=typeof i=="boolean"?{x:i,y:i}:i;ss(()=>{if(!o&&!u||!a){c.current=!1;return}if(c.current||!s)return;const h=a?.node.current;if(!h||h.isConnected===!1)return;const x=r(h),f=EO(x,s);if(o||(f.x=0),u||(f.y=0),c.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const v=TO(h);v&&v.scrollBy({top:f.y,left:f.x})}},[a,o,u,s,r])}const Hh=g.createContext({...ns,scaleX:1,scaleY:1});var Gn;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Gn||(Gn={}));const zae=g.memo(function(a){var r,s,i,c;let{id:o,accessibility:u,autoScroll:m=!0,children:h,sensors:x=Cae,collisionDetection:f=Ute,measuring:v,modifiers:b,...w}=a;const N=g.useReducer(Oae,void 0,Eae),[y,_]=N,[A,C]=Ete(),[E,k]=g.useState(Gn.Uninitialized),O=E===Gn.Initialized,{draggable:{active:D,nodes:P,translate:L},droppable:{containers:z}}=y,M=D!=null?P.get(D):null,F=g.useRef({initial:null,translated:null}),q=g.useMemo(()=>{var Dt;return D!=null?{id:D,data:(Dt=M?.data)!=null?Dt:kae,rect:F}:null},[D,M]),te=g.useRef(null),[W,H]=g.useState(null),[R,$]=g.useState(null),V=cd(w,Object.values(w)),Z=Bd("DndDescribedBy",o),B=g.useMemo(()=>z.getEnabled(),[z]),K=Dae(v),{droppableRects:Y,measureDroppableContainers:ie,measuringScheduled:xe}=pae(B,{dragging:O,dependencies:[L.x,L.y],config:K.droppable}),he=xae(P,D),ye=g.useMemo(()=>R?Bx(R):null,[R]),Ce=rl(),re=fae(he,K.draggable.measure);Pae({activeNode:D!=null?P.get(D):null,config:Ce.layoutShiftCompensation,initialRect:re,measure:K.draggable.measure});const fe=w3(he,K.draggable.measure,re),Te=w3(he?he.parentElement:null),de=g.useRef({activatorEvent:null,active:null,activeNode:he,collisionRect:null,collisions:null,droppableRects:Y,draggableNodes:P,draggingNode:null,draggingNodeRect:null,droppableContainers:z,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),pt=z.getNodeFor((r=de.current.over)==null?void 0:r.id),Ee=_ae({measure:K.dragOverlay.measure}),ft=(s=Ee.nodeRef.current)!=null?s:he,gt=O?(i=Ee.rect)!=null?i:fe:null,yr=!!(Ee.nodeRef.current&&Ee.rect),yn=vae(yr?null:fe),li=BO(ft?Ia(ft):null),vr=bae(O?pt??he:null),vn=Sae(vr),tl=HO(b,{transform:{x:L.x-yn.x,y:L.y-yn.y,scaleX:1,scaleY:1},activatorEvent:R,active:q,activeNodeRect:fe,containerNodeRect:Te,draggingNodeRect:gt,over:de.current.over,overlayNodeRect:Ee.rect,scrollableAncestors:vr,scrollableAncestorRects:vn,windowRect:li}),Ud=ye?ec(ye,L):null,va=jae(vr),Vh=_3(va),qd=_3(va,[fe]),ks=ec(tl,Vh),Yr=gt?Vte(gt,tl):null,ci=q&&Yr?f({active:q,collisionRect:Yr,droppableRects:Y,droppableContainers:B,pointerCoordinates:Ud}):null,Dc=$te(ci,"id"),[us,Hd]=g.useState(null),oi=yr?tl:ec(tl,qd),Ta=qte(oi,(c=us?.rect)!=null?c:null,fe),br=g.useRef(null),ba=g.useCallback((Dt,Pt)=>{let{sensor:ea,options:$a}=Pt;if(te.current==null)return;const Ba=P.get(te.current);if(!Ba)return;const ja=Dt.nativeEvent,Fa=new ea({active:te.current,activeNode:Ba,event:ja,options:$a,context:de,onAbort(Gt){if(!P.get(Gt))return;const{onDragAbort:rr}=V.current,Nr={id:Gt};rr?.(Nr),A({type:"onDragAbort",event:Nr})},onPending(Gt,Xr,rr,Nr){if(!P.get(Gt))return;const{onDragPending:Es}=V.current,Wr={id:Gt,constraint:Xr,initialCoordinates:rr,offset:Nr};Es?.(Wr),A({type:"onDragPending",event:Wr})},onStart(Gt){const Xr=te.current;if(Xr==null)return;const rr=P.get(Xr);if(!rr)return;const{onDragStart:Nr}=V.current,As={activatorEvent:ja,active:{id:Xr,data:rr.data,rect:F}};Yn.unstable_batchedUpdates(()=>{Nr?.(As),k(Gn.Initializing),_({type:Xt.DragStart,initialCoordinates:Gt,active:Xr}),A({type:"onDragStart",event:As}),H(br.current),$(ja)})},onMove(Gt){_({type:Xt.DragMove,coordinates:Gt})},onEnd:jr(Xt.DragEnd),onCancel:jr(Xt.DragCancel)});br.current=Fa;function jr(Gt){return async function(){const{active:rr,collisions:Nr,over:As,scrollAdjustedTranslate:Es}=de.current;let Wr=null;if(rr&&Es){const{cancelDrop:bn}=V.current;Wr={activatorEvent:ja,active:rr,collisions:Nr,delta:Es,over:As},Gt===Xt.DragEnd&&typeof bn=="function"&&await Promise.resolve(bn(Wr))&&(Gt=Xt.DragCancel)}te.current=null,Yn.unstable_batchedUpdates(()=>{_({type:Gt}),k(Gn.Uninitialized),Hd(null),H(null),$(null),br.current=null;const bn=Gt===Xt.DragEnd?"onDragEnd":"onDragCancel";if(Wr){const wr=V.current[bn];wr?.(Wr),A({type:bn,event:Wr})}})}}},[P]),Gh=g.useCallback((Dt,Pt)=>(ea,$a)=>{const Ba=ea.nativeEvent,ja=P.get($a);if(te.current!==null||!ja||Ba.dndKit||Ba.defaultPrevented)return;const Fa={active:ja};Dt(ea,Pt.options,Fa)===!0&&(Ba.dndKit={capturedBy:Pt.sensor},te.current=$a,ba(ea,Pt))},[P,ba]),Vd=hae(x,Gh);Nae(x),ss(()=>{fe&&E===Gn.Initializing&&k(Gn.Initialized)},[fe,E]),g.useEffect(()=>{const{onDragMove:Dt}=V.current,{active:Pt,activatorEvent:ea,collisions:$a,over:Ba}=de.current;if(!Pt||!ea)return;const ja={active:Pt,activatorEvent:ea,collisions:$a,delta:{x:ks.x,y:ks.y},over:Ba};Yn.unstable_batchedUpdates(()=>{Dt?.(ja),A({type:"onDragMove",event:ja})})},[ks.x,ks.y]),g.useEffect(()=>{const{active:Dt,activatorEvent:Pt,collisions:ea,droppableContainers:$a,scrollAdjustedTranslate:Ba}=de.current;if(!Dt||te.current==null||!Pt||!Ba)return;const{onDragOver:ja}=V.current,Fa=$a.get(Dc),jr=Fa&&Fa.rect.current?{id:Fa.id,rect:Fa.rect.current,data:Fa.data,disabled:Fa.disabled}:null,Gt={active:Dt,activatorEvent:Pt,collisions:ea,delta:{x:Ba.x,y:Ba.y},over:jr};Yn.unstable_batchedUpdates(()=>{Hd(jr),ja?.(Gt),A({type:"onDragOver",event:Gt})})},[Dc]),ss(()=>{de.current={activatorEvent:R,active:q,activeNode:he,collisionRect:Yr,collisions:ci,droppableRects:Y,draggableNodes:P,draggingNode:ft,draggingNodeRect:gt,droppableContainers:z,over:us,scrollableAncestors:vr,scrollAdjustedTranslate:ks},F.current={initial:gt,translated:Yr}},[q,he,ci,Yr,P,ft,gt,Y,z,us,vr,ks]),dae({...Ce,delta:L,draggingRect:Yr,pointerCoordinates:Ud,scrollableAncestors:vr,scrollableAncestorRects:vn});const Kh=g.useMemo(()=>({active:q,activeNode:he,activeNodeRect:fe,activatorEvent:R,collisions:ci,containerNodeRect:Te,dragOverlay:Ee,draggableNodes:P,droppableContainers:z,droppableRects:Y,over:us,measureDroppableContainers:ie,scrollableAncestors:vr,scrollableAncestorRects:vn,measuringConfiguration:K,measuringScheduled:xe,windowRect:li}),[q,he,fe,R,ci,Te,Ee,P,z,Y,us,ie,vr,vn,K,xe,li]),al=g.useMemo(()=>({activatorEvent:R,activators:Vd,active:q,activeNodeRect:fe,ariaDescribedById:{draggable:Z},dispatch:_,draggableNodes:P,over:us,measureDroppableContainers:ie}),[R,Vd,q,fe,_,Z,P,us,ie]);return We.createElement(AO.Provider,{value:C},We.createElement(Fd.Provider,{value:al},We.createElement(qO.Provider,{value:Kh},We.createElement(Hh.Provider,{value:Ta},h)),We.createElement(Tae,{disabled:u?.restoreFocus===!1})),We.createElement(Dte,{...u,hiddenTextDescribedById:Z}));function rl(){const Dt=W?.autoScrollEnabled===!1,Pt=typeof m=="object"?m.enabled===!1:m===!1,ea=O&&!Dt&&!Pt;return typeof m=="object"?{...m,enabled:ea}:{enabled:ea}}}),Mae=g.createContext(null),k3="button",Rae="Draggable";function Lae(t){let{id:a,data:r,disabled:s=!1,attributes:i}=t;const c=Bd(Rae),{activators:o,activatorEvent:u,active:m,activeNodeRect:h,ariaDescribedById:x,draggableNodes:f,over:v}=g.useContext(Fd),{role:b=k3,roleDescription:w="draggable",tabIndex:N=0}=i??{},y=m?.id===a,_=g.useContext(y?Hh:Mae),[A,C]=Lx(),[E,k]=Lx(),O=wae(o,a),D=cd(r);ss(()=>(f.set(a,{id:a,key:c,node:A,activatorNode:E,data:D}),()=>{const L=f.get(a);L&&L.key===c&&f.delete(a)}),[f,a]);const P=g.useMemo(()=>({role:b,tabIndex:N,"aria-disabled":s,"aria-pressed":y&&b===k3?!0:void 0,"aria-roledescription":w,"aria-describedby":x.draggable}),[s,b,N,y,w,x.draggable]);return{active:m,activatorEvent:u,activeNodeRect:h,attributes:P,isDragging:y,listeners:s?void 0:O,node:A,over:v,setNodeRef:C,setActivatorNodeRef:k,transform:_}}function VO(){return g.useContext(qO)}const Iae="Droppable",$ae={timeout:25};function Bae(t){let{data:a,disabled:r=!1,id:s,resizeObserverConfig:i}=t;const c=Bd(Iae),{active:o,dispatch:u,over:m,measureDroppableContainers:h}=g.useContext(Fd),x=g.useRef({disabled:r}),f=g.useRef(!1),v=g.useRef(null),b=g.useRef(null),{disabled:w,updateMeasurementsFor:N,timeout:y}={...$ae,...i},_=cd(N??s),A=g.useCallback(()=>{if(!f.current){f.current=!0;return}b.current!=null&&clearTimeout(b.current),b.current=setTimeout(()=>{h(Array.isArray(_.current)?_.current:[_.current]),b.current=null},y)},[y]),C=qh({callback:A,disabled:w||!o}),E=g.useCallback((P,L)=>{C&&(L&&(C.unobserve(L),f.current=!1),P&&C.observe(P))},[C]),[k,O]=Lx(E),D=cd(a);return g.useEffect(()=>{!C||!k.current||(C.disconnect(),f.current=!1,C.observe(k.current))},[k,C]),g.useEffect(()=>(u({type:Xt.RegisterDroppable,element:{id:s,key:c,disabled:r,node:k,rect:v,data:D}}),()=>u({type:Xt.UnregisterDroppable,key:c,id:s})),[s]),g.useEffect(()=>{r!==x.current.disabled&&(u({type:Xt.SetDroppableDisabled,id:s,key:c,disabled:r}),x.current.disabled=r)},[s,c,r,u]),{active:o,rect:v,isOver:m?.id===s,node:k,over:m,setNodeRef:O}}function Fae(t){let{animation:a,children:r}=t;const[s,i]=g.useState(null),[c,o]=g.useState(null),u=Ix(r);return!r&&!s&&u&&i(u),ss(()=>{if(!c)return;const m=s?.key,h=s?.props.id;if(m==null||h==null){i(null);return}Promise.resolve(a(h,c)).then(()=>{i(null)})},[a,s,c]),We.createElement(We.Fragment,null,r,s?g.cloneElement(s,{ref:o}):null)}const Uae={x:0,y:0,scaleX:1,scaleY:1};function qae(t){let{children:a}=t;return We.createElement(Fd.Provider,{value:UO},We.createElement(Hh.Provider,{value:Uae},a))}const Hae={position:"fixed",touchAction:"none"},Vae=t=>Uh(t)?"transform 250ms ease":void 0,Gae=g.forwardRef((t,a)=>{let{as:r,activatorEvent:s,adjustScale:i,children:c,className:o,rect:u,style:m,transform:h,transition:x=Vae}=t;if(!u)return null;const f=i?h:{...h,scaleX:1,scaleY:1},v={...Hae,width:u.width,height:u.height,top:u.top,left:u.left,transform:ai.Transform.toString(f),transformOrigin:i&&s?Rte(s,u):void 0,transition:typeof x=="function"?x(s):x,...m};return We.createElement(r,{className:o,style:v,ref:a},c)}),Kae=t=>a=>{let{active:r,dragOverlay:s}=a;const i={},{styles:c,className:o}=t;if(c!=null&&c.active)for(const[u,m]of Object.entries(c.active))m!==void 0&&(i[u]=r.node.style.getPropertyValue(u),r.node.style.setProperty(u,m));if(c!=null&&c.dragOverlay)for(const[u,m]of Object.entries(c.dragOverlay))m!==void 0&&s.node.style.setProperty(u,m);return o!=null&&o.active&&r.node.classList.add(o.active),o!=null&&o.dragOverlay&&s.node.classList.add(o.dragOverlay),function(){for(const[m,h]of Object.entries(i))r.node.style.setProperty(m,h);o!=null&&o.active&&r.node.classList.remove(o.active)}},Yae=t=>{let{transform:{initial:a,final:r}}=t;return[{transform:ai.Transform.toString(a)},{transform:ai.Transform.toString(r)}]},Xae={duration:250,easing:"ease",keyframes:Yae,sideEffects:Kae({styles:{active:{opacity:"0"}}})};function Wae(t){let{config:a,draggableNodes:r,droppableContainers:s,measuringConfiguration:i}=t;return Fh((c,o)=>{if(a===null)return;const u=r.get(c);if(!u)return;const m=u.node.current;if(!m)return;const h=FO(o);if(!h)return;const{transform:x}=Ia(o).getComputedStyle(o),f=OO(x);if(!f)return;const v=typeof a=="function"?a:Zae(a);return LO(m,i.draggable.measure),v({active:{id:c,data:u.data,node:m,rect:i.draggable.measure(m)},draggableNodes:r,dragOverlay:{node:o,rect:i.dragOverlay.measure(h)},droppableContainers:s,measuringConfiguration:i,transform:f})})}function Zae(t){const{duration:a,easing:r,sideEffects:s,keyframes:i}={...Xae,...t};return c=>{let{active:o,dragOverlay:u,transform:m,...h}=c;if(!a)return;const x={x:u.rect.left-o.rect.left,y:u.rect.top-o.rect.top},f={scaleX:m.scaleX!==1?o.rect.width*m.scaleX/u.rect.width:1,scaleY:m.scaleY!==1?o.rect.height*m.scaleY/u.rect.height:1},v={x:m.x-x.x,y:m.y-x.y,...f},b=i({...h,active:o,dragOverlay:u,transform:{initial:m,final:v}}),[w]=b,N=b[b.length-1];if(JSON.stringify(w)===JSON.stringify(N))return;const y=s?.({active:o,dragOverlay:u,...h}),_=u.node.animate(b,{duration:a,easing:r,fill:"forwards"});return new Promise(A=>{_.onfinish=()=>{y?.(),A()}})}}let A3=0;function Qae(t){return g.useMemo(()=>{if(t!=null)return A3++,A3},[t])}const Jae=We.memo(t=>{let{adjustScale:a=!1,children:r,dropAnimation:s,style:i,transition:c,modifiers:o,wrapperElement:u="div",className:m,zIndex:h=999}=t;const{activatorEvent:x,active:f,activeNodeRect:v,containerNodeRect:b,draggableNodes:w,droppableContainers:N,dragOverlay:y,over:_,measuringConfiguration:A,scrollableAncestors:C,scrollableAncestorRects:E,windowRect:k}=VO(),O=g.useContext(Hh),D=Qae(f?.id),P=HO(o,{activatorEvent:x,active:f,activeNodeRect:v,containerNodeRect:b,draggingNodeRect:y.rect,over:_,overlayNodeRect:y.rect,scrollableAncestors:C,scrollableAncestorRects:E,transform:O,windowRect:k}),L=Sj(v),z=Wae({config:s,draggableNodes:w,droppableContainers:N,measuringConfiguration:A}),M=L?y.setRef:void 0;return We.createElement(qae,null,We.createElement(Fae,{animation:z},f&&D?We.createElement(Gae,{key:D,id:f.id,ref:M,as:u,activatorEvent:x,adjustScale:a,className:m,transition:c,rect:L,style:{zIndex:h,...i},transform:P},r):null))});function GO(t,a,r){const s=t.slice();return s.splice(r<0?s.length+r:r,0,s.splice(a,1)[0]),s}function ere(t,a){return t.reduce((r,s,i)=>{const c=a.get(s);return c&&(r[i]=c),r},Array(t.length))}function Sm(t){return t!==null&&t>=0}function tre(t,a){if(t===a)return!0;if(t.length!==a.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==a[r])return!1;return!0}function are(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const KO=t=>{let{rects:a,activeIndex:r,overIndex:s,index:i}=t;const c=GO(a,s,r),o=a[i],u=c[i];return!u||!o?null:{x:u.left-o.left,y:u.top-o.top,scaleX:u.width/o.width,scaleY:u.height/o.height}},_m={scaleX:1,scaleY:1},rre=t=>{var a;let{activeIndex:r,activeNodeRect:s,index:i,rects:c,overIndex:o}=t;const u=(a=c[r])!=null?a:s;if(!u)return null;if(i===r){const h=c[o];return h?{x:0,y:r<o?h.top+h.height-(u.top+u.height):h.top-u.top,..._m}:null}const m=sre(c,i,r);return i>r&&i<=o?{x:0,y:-u.height-m,..._m}:i<r&&i>=o?{x:0,y:u.height+m,..._m}:{x:0,y:0,..._m}};function sre(t,a,r){const s=t[a],i=t[a-1],c=t[a+1];return s?r<a?i?s.top-(i.top+i.height):c?c.top-(s.top+s.height):0:c?c.top-(s.top+s.height):i?s.top-(i.top+i.height):0:0}const YO="Sortable",XO=We.createContext({activeIndex:-1,containerId:YO,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:KO,disabled:{draggable:!1,droppable:!1}});function nre(t){let{children:a,id:r,items:s,strategy:i=KO,disabled:c=!1}=t;const{active:o,dragOverlay:u,droppableRects:m,over:h,measureDroppableContainers:x}=VO(),f=Bd(YO,r),v=u.rect!==null,b=g.useMemo(()=>s.map(O=>typeof O=="object"&&"id"in O?O.id:O),[s]),w=o!=null,N=o?b.indexOf(o.id):-1,y=h?b.indexOf(h.id):-1,_=g.useRef(b),A=!tre(b,_.current),C=y!==-1&&N===-1||A,E=are(c);ss(()=>{A&&w&&x(b)},[A,b,w,x]),g.useEffect(()=>{_.current=b},[b]);const k=g.useMemo(()=>({activeIndex:N,containerId:f,disabled:E,disableTransforms:C,items:b,overIndex:y,useDragOverlay:v,sortedRects:ere(b,m),strategy:i}),[N,f,E.draggable,E.droppable,C,b,y,m,v,i]);return We.createElement(XO.Provider,{value:k},a)}const ire=t=>{let{id:a,items:r,activeIndex:s,overIndex:i}=t;return GO(r,s,i).indexOf(a)},lre=t=>{let{containerId:a,isSorting:r,wasDragging:s,index:i,items:c,newIndex:o,previousItems:u,previousContainerId:m,transition:h}=t;return!h||!s||u!==c&&i===o?!1:r?!0:o!==i&&a===m},cre={duration:200,easing:"ease"},WO="transform",ore=ai.Transition.toString({property:WO,duration:0,easing:"linear"}),dre={roleDescription:"sortable"};function ure(t){let{disabled:a,index:r,node:s,rect:i}=t;const[c,o]=g.useState(null),u=g.useRef(r);return ss(()=>{if(!a&&r!==u.current&&s.current){const m=i.current;if(m){const h=Tc(s.current,{ignoreTransform:!0}),x={x:m.left-h.left,y:m.top-h.top,scaleX:m.width/h.width,scaleY:m.height/h.height};(x.x||x.y)&&o(x)}}r!==u.current&&(u.current=r)},[a,r,s,i]),g.useEffect(()=>{c&&o(null)},[c]),c}function mre(t){let{animateLayoutChanges:a=lre,attributes:r,disabled:s,data:i,getNewIndex:c=ire,id:o,strategy:u,resizeObserverConfig:m,transition:h=cre}=t;const{items:x,containerId:f,activeIndex:v,disabled:b,disableTransforms:w,sortedRects:N,overIndex:y,useDragOverlay:_,strategy:A}=g.useContext(XO),C=xre(s,b),E=x.indexOf(o),k=g.useMemo(()=>({sortable:{containerId:f,index:E,items:x},...i}),[f,i,E,x]),O=g.useMemo(()=>x.slice(x.indexOf(o)),[x,o]),{rect:D,node:P,isOver:L,setNodeRef:z}=Bae({id:o,data:k,disabled:C.droppable,resizeObserverConfig:{updateMeasurementsFor:O,...m}}),{active:M,activatorEvent:F,activeNodeRect:q,attributes:te,setNodeRef:W,listeners:H,isDragging:R,over:$,setActivatorNodeRef:V,transform:Z}=Lae({id:o,data:k,attributes:{...dre,...r},disabled:C.draggable}),B=vte(z,W),K=!!M,Y=K&&!w&&Sm(v)&&Sm(y),ie=!_&&R,xe=ie&&Y?Z:null,ye=Y?xe??(u??A)({rects:N,activeNodeRect:q,activeIndex:v,overIndex:y,index:E}):null,Ce=Sm(v)&&Sm(y)?c({id:o,items:x,activeIndex:v,overIndex:y}):E,re=M?.id,fe=g.useRef({activeId:re,items:x,newIndex:Ce,containerId:f}),Te=x!==fe.current.items,de=a({active:M,containerId:f,isDragging:R,isSorting:K,id:o,index:E,items:x,newIndex:fe.current.newIndex,previousItems:fe.current.items,previousContainerId:fe.current.containerId,transition:h,wasDragging:fe.current.activeId!=null}),pt=ure({disabled:!de,index:E,node:P,rect:D});return g.useEffect(()=>{K&&fe.current.newIndex!==Ce&&(fe.current.newIndex=Ce),f!==fe.current.containerId&&(fe.current.containerId=f),x!==fe.current.items&&(fe.current.items=x)},[K,Ce,f,x]),g.useEffect(()=>{if(re===fe.current.activeId)return;if(re!=null&&fe.current.activeId==null){fe.current.activeId=re;return}const ft=setTimeout(()=>{fe.current.activeId=re},50);return()=>clearTimeout(ft)},[re]),{active:M,activeIndex:v,attributes:te,data:k,rect:D,index:E,newIndex:Ce,items:x,isOver:L,isSorting:K,isDragging:R,listeners:H,node:P,overIndex:y,over:$,setNodeRef:B,setActivatorNodeRef:V,setDroppableNodeRef:z,setDraggableNodeRef:W,transform:pt??ye,transition:Ee()};function Ee(){if(pt||Te&&fe.current.newIndex===E)return ore;if(!(ie&&!Uh(F)||!h)&&(K||de))return ai.Transition.toString({...h,property:WO})}}function xre(t,a){var r,s;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(r=t?.draggable)!=null?r:a.draggable,droppable:(s=t?.droppable)!=null?s:a.droppable}}Xe.Down,Xe.Right,Xe.Up,Xe.Left;function hre({sprintId:t}){const[a,r]=g.useState(null),[s,i]=g.useState(!0),[c,o]=g.useState(null);g.useEffect(()=>{u()},[t]);const u=async()=>{try{i(!0),o(null);const v=localStorage.getItem("auth_token"),b=localStorage.getItem("company_id"),N=await(await fetch(`https://documentiulia.ro/api/v1/sprints/burndown.php?sprint_id=${t}`,{headers:{Authorization:`Bearer ${v}`,"X-Company-ID":b||""}})).json();N.success?r(N.data):o(N.error||"Failed to load burndown data")}catch(v){console.error("Error fetching burndown data:",v),o("Failed to load burndown chart")}finally{i(!1)}},m=v=>{const b={ahead:"text-green-600 bg-green-50 border-green-200",on_track:"text-blue-600 bg-blue-50 border-blue-200",behind:"text-red-600 bg-red-50 border-red-200",completed:"text-purple-600 bg-purple-50 border-purple-200"};return b[v]||b.on_track},h=v=>{const b={ahead:"",on_track:"",behind:"",completed:""};return b[v]||b.on_track},x=v=>({ahead:"Ahead of Schedule",on_track:"On Track",behind:"Behind Schedule",completed:"Sprint Completed"})[v]||"On Track";if(s)return e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading burndown chart..."})]})})});if(c)return e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-red-600 mb-4",children:c}),e.jsx("button",{onClick:u,className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Retry"})]})});if(!a)return null;const f=a.burndown.ideal.map(v=>{const b=a.burndown.actual.find(w=>w.day_number===v.day_number);return{day:`Day ${v.day_number}`,date:v.date,ideal:v.remaining,actual:b?.remaining,completed:b?.points_completed||0}});return e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Sprint Burndown Chart"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[a.sprint.name,"  ",new Date(a.sprint.start_date).toLocaleDateString()," - ",new Date(a.sprint.end_date).toLocaleDateString()]})]}),e.jsx("div",{className:`px-4 py-2 rounded-lg border-2 ${m(a.metrics.status)}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:h(a.metrics.status)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:x(a.metrics.status)}),e.jsxs("div",{className:"text-xs opacity-75",children:[a.metrics.velocity.toFixed(1)," pts/day velocity"]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Completed"}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.metrics.completed_points}),e.jsx("div",{className:"text-xs text-gray-500",children:"pts"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Remaining"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a.metrics.remaining_points}),e.jsx("div",{className:"text-xs text-gray-500",children:"pts"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Progress"}),e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[a.metrics.completion_percentage,"%"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"complete"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Velocity"}),e.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:a.metrics.velocity.toFixed(1)}),e.jsx("div",{className:"text-xs text-gray-500",children:"pts/day"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Days Left"}),e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:a.metrics.days_remaining}),e.jsx("div",{className:"text-xs text-gray-500",children:"days"})]})]}),e.jsx("div",{className:"mb-6",children:e.jsx(cx,{width:"100%",height:400,children:e.jsxs(gj,{data:f,margin:{top:5,right:30,left:20,bottom:5},children:[e.jsx(Lh,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(Ih,{dataKey:"day",tick:{fontSize:12},stroke:"#6b7280"}),e.jsx($h,{label:{value:"Story Points",angle:-90,position:"insideLeft"},tick:{fontSize:12},stroke:"#6b7280"}),e.jsx(kx,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"12px"},labelFormatter:(v,b)=>{if(b&&b[0]){const w=new Date(b[0].payload.date);return`${v} (${w.toLocaleDateString()})`}return v}}),e.jsx(tk,{}),e.jsx(rn,{type:"monotone",dataKey:"ideal",name:"Ideal Burndown",stroke:"#9ca3af",strokeWidth:2,strokeDasharray:"5 5",dot:!1}),e.jsx(rn,{type:"monotone",dataKey:"actual",name:"Actual Burndown",stroke:a.metrics.on_track?"#10b981":"#ef4444",strokeWidth:3,dot:{fill:a.metrics.on_track?"#10b981":"#ef4444",r:4},connectNulls:!0}),e.jsx(JE,{y:0,stroke:"#6b7280",strokeDasharray:"3 3",label:{value:"Sprint Goal",position:"insideBottomLeft"}})]})})}),a.metrics.projected_completion_days!==null&&a.metrics.remaining_points>0&&e.jsx("div",{className:`rounded-lg p-4 border-2 ${m(a.metrics.status)}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:h(a.metrics.status)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:a.metrics.on_track?e.jsxs(e.Fragment,{children:["Sprint on track to complete in ",a.metrics.projected_completion_days.toFixed(1)," days"]}):e.jsxs(e.Fragment,{children:["Sprint projected to take ",a.metrics.projected_completion_days.toFixed(1)," days (",(a.metrics.projected_completion_days-a.sprint.duration_days).toFixed(1)," days over)"]})}),e.jsxs("div",{className:"text-sm opacity-75 mt-1",children:["Current velocity: ",a.metrics.velocity.toFixed(2)," pts/day (Ideal: ",a.metrics.ideal_velocity.toFixed(2)," pts/day)"]})]})]})}),a.metrics.remaining_points===0&&e.jsx("div",{className:`rounded-lg p-4 border-2 ${m("completed")}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-3xl",children:""}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-lg",children:"Sprint Completed!"}),e.jsxs("div",{className:"text-sm opacity-75 mt-1",children:["All ",a.metrics.total_points," story points have been completed. Average velocity: ",a.metrics.velocity.toFixed(2)," pts/day"]})]})]})}),e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsx("div",{className:"text-xs text-gray-600",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Ideal Burndown (gray dashed line):"})," Expected story point completion if work is evenly distributed across the sprint"]}),e.jsxs("div",{children:[e.jsxs("strong",{children:["Actual Burndown (",a.metrics.on_track?"green":"red"," line):"]})," Real-time story points remaining based on completed tasks"]})]})})})]})}const E3=[{id:"backlog",title:"Backlog",color:"bg-gray-100"},{id:"todo",title:"To Do",color:"bg-blue-100"},{id:"in_progress",title:"In Progress",color:"bg-yellow-100"},{id:"in_review",title:"In Review",color:"bg-purple-100"},{id:"testing",title:"Testing",color:"bg-orange-100"},{id:"blocked",title:"Blocked",color:"bg-red-100"},{id:"done",title:"Done",color:"bg-green-100"}],pre={critical:"bg-red-500",high:"bg-orange-500",medium:"bg-yellow-500",low:"bg-blue-500"},fre={story:"",bug:"",task:"",subtask:"",spike:""};function ZO({task:t,isDragging:a=!1}){const r=i=>i.task_title||i.title||i.name||"Untitled",s=i=>{const c=pre[i]||"bg-gray-500";return e.jsx("span",{className:`px-2 py-1 text-xs font-semibold text-white rounded ${c}`,children:i.toUpperCase()})};return e.jsxs("div",{className:`bg-white p-3 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow cursor-move ${a?"opacity-50":""}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-lg",children:fre[t.type]||""}),s(t.priority)]}),e.jsx("h4",{className:"font-medium text-gray-900 text-sm mb-1",children:r(t)}),t.epic_name&&e.jsx("div",{className:"mb-2",children:e.jsx("span",{className:"text-xs px-2 py-1 rounded",style:{backgroundColor:t.epic_color||"#6366f1",color:"white"},children:t.epic_name})}),e.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-gray-600",children:[t.story_points&&e.jsxs("span",{className:"font-semibold",children:[t.story_points," pts"]}),t.assignee_name&&e.jsxs("span",{className:"truncate max-w-[120px]",children:[" ",t.assignee_name]})]})]})}function gre({task:t}){const{attributes:a,listeners:r,setNodeRef:s,transform:i,transition:c,isDragging:o}=mre({id:t.id}),u={transform:ai.Transform.toString(i),transition:c};return e.jsx("div",{ref:s,style:u,...a,...r,children:e.jsx(ZO,{task:t,isDragging:o})})}function yre(){const{sprintId:t}=cs(),a=Be(),[r,s]=g.useState(null),[i,c]=g.useState(null),[o,u]=g.useState(!0),[m,h]=g.useState(null),[x,f]=g.useState(null),[v,b]=g.useState(!1),w=zte(Pte(wj,{activationConstraint:{distance:8}}));g.useEffect(()=>{N(),y()},[t]);const N=async()=>{try{const k=localStorage.getItem("auth_token"),O=localStorage.getItem("company_id"),P=await(await fetch(`https://documentiulia.ro/api/v1/sprints/sprints.php?id=${t}`,{headers:{Authorization:`Bearer ${k}`,"X-Company-ID":O||""}})).json();P.success&&s(P.data)}catch(k){console.error("Error fetching sprint:",k)}},y=async()=>{try{u(!0);const k=localStorage.getItem("auth_token"),O=localStorage.getItem("company_id"),P=await(await fetch(`https://documentiulia.ro/api/v1/tasks/board.php?sprint_id=${t}`,{headers:{Authorization:`Bearer ${k}`,"X-Company-ID":O||""}})).json();P.success?c(P.data):h(P.error||"Failed to load board")}catch(k){h("Failed to load sprint board"),console.error("Error fetching board:",k)}finally{u(!1)}},_=k=>{const{active:O}=k,D=C(O.id);f(D)},A=async k=>{const{active:O,over:D}=k;if(f(null),!D||!i)return;const P=O.id,L=D.id,z=C(P);if(!(!z||z.status===L))try{const M=localStorage.getItem("auth_token"),F=localStorage.getItem("company_id");(await(await fetch("https://documentiulia.ro/api/v1/tasks/position.php",{method:"PUT",headers:{Authorization:`Bearer ${M}`,"X-Company-ID":F||"","Content-Type":"application/json"},body:JSON.stringify({id:P,position:0,status:L})})).json()).success?y():alert("Failed to update task")}catch(M){console.error("Error updating task:",M),alert("Failed to update task")}},C=k=>{if(!i)return null;for(const O of E3){const P=i.board[O.id].find(L=>L.id===k);if(P)return P}return null};if(o)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading sprint board..."})]})});if(m)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-600",children:m}),e.jsx("button",{onClick:()=>a("/sprints"),className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Back to Sprints"})]})});if(!i||!r)return null;const E=i.summary.completion_percentage||0;return e.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("button",{onClick:()=>a("/projects"),className:"text-gray-600 hover:text-gray-900 mb-2",children:" Back to Projects"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:r.name}),r.goal&&e.jsxs("p",{className:"text-gray-600 mt-1",children:[" ",r.goal]})]}),e.jsxs("div",{className:"text-right flex items-start gap-4",children:[e.jsxs("button",{onClick:()=>b(!v),className:`px-4 py-2 rounded-lg border-2 transition-colors ${v?"bg-indigo-600 text-white border-indigo-600":"bg-white text-gray-700 border-gray-300 hover:border-indigo-600"}`,children:[v?" Hide":" Show"," Burndown Chart"]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm text-gray-600",children:[new Date(r.start_date).toLocaleDateString()," - ",new Date(r.end_date).toLocaleDateString()]}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[r.days_elapsed," days elapsed  ",r.days_remaining," days remaining"]})]})]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Total Tasks"}),e.jsx("div",{className:"text-2xl font-bold",children:i.summary.total_tasks})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Story Points"}),e.jsxs("div",{className:"text-2xl font-bold",children:[i.summary.completed_story_points," / ",i.summary.total_story_points]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Completion"}),e.jsxs("div",{className:"text-2xl font-bold",children:[E.toFixed(1),"%"]})]}),r.capacity&&e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Capacity"}),e.jsxs("div",{className:"text-2xl font-bold",children:[r.capacity," pts"]})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:e.jsx("div",{className:"bg-green-500 h-4 rounded-full transition-all duration-300",style:{width:`${Math.min(E,100)}%`}})})})]}),v&&t&&e.jsx("div",{className:"mb-6",children:e.jsx(hre,{sprintId:t})}),e.jsxs(zae,{sensors:w,collisionDetection:Bte,onDragStart:_,onDragEnd:A,children:[e.jsx("div",{className:"grid grid-cols-7 gap-4 overflow-x-auto pb-4",children:E3.map(k=>{const O=i.board[k.id]||[],D=O.reduce((P,L)=>P+(L.story_points||0),0);return e.jsx(nre,{id:k.id,items:O.map(P=>P.id),strategy:rre,children:e.jsxs("div",{className:`flex flex-col rounded-lg ${k.color} p-3 min-w-[250px] min-h-[500px]`,children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:k.title}),e.jsx("span",{className:"text-xs bg-white px-2 py-1 rounded-full",children:O.length})]}),D>0&&e.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[D," pts"]})]}),e.jsx("div",{className:"space-y-2 flex-1",children:O.map(P=>e.jsx(gre,{task:P},P.id))})]})},k.id)})}),e.jsx(Jae,{children:x?e.jsx(ZO,{task:x}):null})]})]})}const vre={critical:"bg-red-500",high:"bg-orange-500",medium:"bg-yellow-500",low:"bg-blue-500"},O3={story:"",bug:"",task:"",subtask:"",spike:""};function bre(){const t=Be(),[a]=md(),r=a.get("project_id"),{activeProject:s}=Nv(),i=r||s?.id,[c,o]=g.useState("config"),[u,m]=g.useState(null),[h,x]=g.useState([]),[f,v]=g.useState([]),[b,w]=g.useState(!0),[N,y]=g.useState(null),[_,A]=g.useState(!1),[C,E]=g.useState({name:"",goal:"",start_date:"",end_date:"",capacity:""});g.useEffect(()=>{i&&(k(),O())},[i]);const k=async()=>{try{const $=localStorage.getItem("auth_token"),V=localStorage.getItem("company_id"),B=await(await fetch(`https://documentiulia.ro/api/v1/projects/projects.php?id=${i}`,{headers:{Authorization:`Bearer ${$}`,"X-Company-ID":V||""}})).json();B.success&&m(B.data)}catch($){console.error("Error fetching project:",$)}},O=async()=>{try{w(!0);const $=localStorage.getItem("auth_token"),V=localStorage.getItem("company_id"),B=await(await fetch(`https://documentiulia.ro/api/v1/tasks/backlog.php?project_id=${i}`,{headers:{Authorization:`Bearer ${$}`,"X-Company-ID":V||""}})).json();B.success?x(B.data.tasks||[]):y(B.error||"Failed to load backlog")}catch($){y("Failed to load backlog"),console.error("Error fetching backlog:",$)}finally{w(!1)}},D=$=>$.task_title||$.title||$.name||"Untitled",P=$=>{f.find(V=>V.id===$.id)?v(f.filter(V=>V.id!==$.id)):v([...f,$])},L=$=>$.reduce((V,Z)=>V+(Z.story_points||0),0),z=$=>$.reduce((V,Z)=>V+(Z.estimated_hours||0),0),M=async()=>{try{A(!0);const $=localStorage.getItem("auth_token"),V=localStorage.getItem("company_id"),B=await(await fetch("https://documentiulia.ro/api/v1/sprints/sprints.php",{method:"POST",headers:{Authorization:`Bearer ${$}`,"X-Company-ID":V||"","Content-Type":"application/json"},body:JSON.stringify({project_id:i,...C,capacity:C.capacity?parseInt(C.capacity):null})})).json();if(!B.success)throw new Error(B.error||"Failed to create sprint");const K=B.data.id;if(f.length>0){const ie=await(await fetch("https://documentiulia.ro/api/v1/tasks/bulk-update.php",{method:"PUT",headers:{Authorization:`Bearer ${$}`,"X-Company-ID":V||"","Content-Type":"application/json"},body:JSON.stringify({task_ids:f.map(xe=>xe.id),sprint_id:K})})).json();if(!ie.success)throw new Error(ie.error||"Failed to assign tasks to sprint")}t(`/sprints/${K}/board`)}catch($){console.error("Error creating sprint:",$),alert($ instanceof Error?$.message:"Failed to create sprint"),A(!1)}},F=$=>{const V=vre[$]||"bg-gray-500";return e.jsx("span",{className:`px-2 py-1 text-xs font-semibold text-white rounded ${V}`,children:$.toUpperCase()})},q=($,V)=>e.jsxs("div",{onClick:()=>P($),className:`bg-white p-4 rounded-lg border-2 cursor-pointer transition-all ${V?"border-indigo-600 shadow-lg":"border-gray-200 hover:border-gray-300 hover:shadow"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:V,onChange:()=>P($),className:"w-5 h-5",onClick:Z=>Z.stopPropagation()}),e.jsx("span",{className:"text-lg",children:O3[$.type]||""})]}),F($.priority)]}),e.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:D($)}),$.description&&e.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:$.description}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[$.story_points&&e.jsxs("span",{className:"font-semibold text-indigo-600",children:[$.story_points," pts"]}),$.estimated_hours&&e.jsxs("span",{className:"text-gray-500",children:[$.estimated_hours,"h"]})]}),$.assignee_name&&e.jsxs("span",{className:"text-gray-500 text-xs",children:[" ",$.assignee_name]})]}),$.epic_name&&e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:"text-xs px-2 py-1 rounded text-white",style:{backgroundColor:$.epic_color||"#6366f1"},children:$.epic_name})})]},$.id),te=()=>{const $=[{id:"config",label:"Configuration",icon:""},{id:"selection",label:"Select Tasks",icon:""},{id:"review",label:"Review & Create",icon:""}],V=$.findIndex(Z=>Z.id===c);return e.jsx("div",{className:"flex items-center justify-center mb-8",children:$.map((Z,B)=>e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-lg ${B===V?"bg-indigo-600 text-white":B<V?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:[e.jsx("span",{className:"text-xl",children:Z.icon}),e.jsx("span",{className:"font-medium",children:Z.label})]}),B<$.length-1&&e.jsx("div",{className:"w-12 h-0.5 bg-gray-300 mx-2"})]},Z.id))})},W=()=>e.jsxs("div",{className:"max-w-2xl mx-auto bg-white rounded-lg shadow-lg p-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Sprint Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sprint Name *"}),e.jsx("input",{type:"text",value:C.name,onChange:$=>E({...C,name:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Sprint 1",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sprint Goal"}),e.jsx("textarea",{value:C.goal,onChange:$=>E({...C,goal:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Complete user authentication features...",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date *"}),e.jsx("input",{type:"date",value:C.start_date,onChange:$=>E({...C,start_date:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date *"}),e.jsx("input",{type:"date",value:C.end_date,onChange:$=>E({...C,end_date:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team Capacity (Story Points)"}),e.jsx("input",{type:"number",value:C.capacity,onChange:$=>E({...C,capacity:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"40"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"How many story points can your team commit to this sprint?"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-8",children:[e.jsx("button",{onClick:()=>t(`/sprints?project_id=${i}`),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:()=>o("selection"),disabled:!C.name||!C.start_date||!C.end_date,className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Next: Select Tasks "})]})]}),H=()=>{const $=L(f),V=parseInt(C.capacity)||0,Z=V>0?$/V*100:0;return e.jsxs("div",{children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Selected Tasks"}),e.jsx("div",{className:"text-3xl font-bold text-indigo-600",children:f.length})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Story Points"}),e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:$})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Team Capacity"}),e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:V||"Not set"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Commitment"}),e.jsx("div",{className:`text-3xl font-bold ${Z>100?"text-red-600":Z>80?"text-yellow-600":"text-green-600"}`,children:V>0?`${Z.toFixed(0)}%`:"-"})]})]}),V>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full transition-all ${Z>100?"bg-red-500":Z>80?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(Z,100)}%`}})}),Z>100&&e.jsxs("p",{className:"text-sm text-red-600 mt-2",children:[" Warning: Commitment exceeds capacity by ",$-V," points"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Product Backlog"}),e.jsxs("div",{className:"text-sm text-gray-600",children:[h.length," tasks available"]})]}),h.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-600",children:"No tasks in backlog"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Create tasks first to add them to sprints"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(B=>q(B,f.some(K=>K.id===B.id)))})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:()=>o("config"),className:"px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:" Back"}),e.jsx("button",{onClick:()=>o("review"),className:"flex-1 px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Next: Review "})]})]})},R=()=>{const $=L(f),V=z(f),Z=parseInt(C.capacity)||0;return e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Review Sprint Plan"}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Sprint Details"}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Sprint Name:"}),e.jsx("span",{className:"font-medium",children:C.name})]}),C.goal&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Sprint Goal:"}),e.jsx("span",{className:"font-medium text-right max-w-md",children:C.goal})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Duration:"}),e.jsxs("span",{className:"font-medium",children:[new Date(C.start_date).toLocaleDateString()," - ",new Date(C.end_date).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Capacity:"}),e.jsxs("span",{className:"font-medium",children:[Z," points"]})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Commitment Summary"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-indigo-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Tasks"}),e.jsx("div",{className:"text-3xl font-bold text-indigo-600",children:f.length})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Story Points"}),e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:$})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Estimated Hours"}),e.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[V,"h"]})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Selected Tasks (",f.length,")"]}),e.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:f.map(B=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-lg",children:O3[B.type]||""}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:D(B)}),e.jsxs("div",{className:"text-sm text-gray-600",children:[B.story_points&&e.jsxs("span",{children:[B.story_points," pts"]}),B.estimated_hours&&e.jsxs("span",{className:"ml-3",children:[B.estimated_hours,"h"]})]})]})]}),F(B.priority)]},B.id))})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>o("selection"),disabled:_,className:"px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:" Back"}),e.jsx("button",{onClick:M,disabled:_,className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:_?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating Sprint..."]}):e.jsx(e.Fragment,{children:" Create Sprint & Start"})})]})]})})};return i?b?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading backlog..."})]})}):N?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-600",children:N}),e.jsx("button",{onClick:()=>t(`/sprints?project_id=${i}`),className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Back to Sprints"})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("button",{onClick:()=>t(`/sprints?project_id=${i}`),className:"text-gray-600 hover:text-gray-900 mb-2",children:" Back to Sprints"}),e.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Sprint Planning - ",u?.name]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Plan your next sprint with ease"})]}),te(),c==="config"&&W(),c==="selection"&&H(),c==="review"&&R()]}):e.jsx(e.Fragment,{children:e.jsx(wO,{isOpen:!0,onClose:()=>t("/projects"),onSelect:$=>{t(`/sprints/planning?project_id=${$}`)},title:"Select Project for Sprint Planning",description:"Choose a project to plan your sprint"})})}function jre(){const{sprintId:t}=cs(),a=Be(),[r,s]=g.useState(null),[i,c]=g.useState(!0),[o,u]=g.useState(null),[m,h]=g.useState({category:"went_well",content:""});g.useEffect(()=>{x()},[t]);const x=async()=>{try{c(!0),u(null);const E=localStorage.getItem("auth_token"),k=localStorage.getItem("company_id"),D=await(await fetch(`https://documentiulia.ro/api/v1/sprints/retrospectives.php?sprint_id=${t}`,{headers:{Authorization:`Bearer ${E}`,"X-Company-ID":k||""}})).json();D.success?D.data?s(D.data):await f():u(D.error||"Failed to load retrospective")}catch(E){console.error("Error fetching retrospective:",E),u("Failed to load retrospective")}finally{c(!1)}},f=async()=>{try{const E=localStorage.getItem("auth_token"),k=localStorage.getItem("company_id"),D=await(await fetch("https://documentiulia.ro/api/v1/sprints/retrospectives.php",{method:"POST",headers:{Authorization:`Bearer ${E}`,"X-Company-ID":k||"","Content-Type":"application/json"},body:JSON.stringify({sprint_id:t,conducted_date:new Date().toISOString().split("T")[0]})})).json();D.success?x():u(D.error||"Failed to create retrospective")}catch(E){console.error("Error creating retrospective:",E),u("Failed to create retrospective")}},v=async()=>{if(!(!m.content.trim()||!r))try{const E=localStorage.getItem("auth_token"),k=localStorage.getItem("company_id"),D=await(await fetch("https://documentiulia.ro/api/v1/sprints/retrospective-items.php",{method:"POST",headers:{Authorization:`Bearer ${E}`,"X-Company-ID":k||"","Content-Type":"application/json"},body:JSON.stringify({retrospective_id:r.retrospective.id,category:m.category,content:m.content})})).json();D.success?(h({category:m.category,content:""}),x()):alert(D.error||"Failed to add item")}catch(E){console.error("Error adding item:",E),alert("Failed to add item")}},b=async E=>{try{const k=localStorage.getItem("auth_token"),O=localStorage.getItem("company_id");(await(await fetch("https://documentiulia.ro/api/v1/sprints/retrospective-items.php",{method:"PUT",headers:{Authorization:`Bearer ${k}`,"X-Company-ID":O||"","Content-Type":"application/json"},body:JSON.stringify({id:E,action:"vote"})})).json()).success&&x()}catch(k){console.error("Error voting:",k)}},w=async(E,k)=>{try{const O=localStorage.getItem("auth_token"),D=localStorage.getItem("company_id");(await(await fetch("https://documentiulia.ro/api/v1/sprints/retrospective-items.php",{method:"PUT",headers:{Authorization:`Bearer ${O}`,"X-Company-ID":D||"","Content-Type":"application/json"},body:JSON.stringify({id:E,status:k})})).json()).success&&x()}catch(O){console.error("Error updating status:",O)}},N=async E=>{if(confirm("Are you sure you want to delete this item?"))try{const k=localStorage.getItem("auth_token"),O=localStorage.getItem("company_id");(await(await fetch(`https://documentiulia.ro/api/v1/sprints/retrospective-items.php?id=${E}`,{method:"DELETE",headers:{Authorization:`Bearer ${k}`,"X-Company-ID":O||""}})).json()).success&&x()}catch(k){console.error("Error deleting item:",k)}},y=E=>({went_well:"bg-green-50 border-green-200",to_improve:"bg-yellow-50 border-yellow-200",action_item:"bg-blue-50 border-blue-200"})[E]||"bg-gray-50 border-gray-200",_=E=>({went_well:"",to_improve:"",action_item:""})[E]||"",A=E=>({went_well:"What Went Well",to_improve:"What To Improve",action_item:"Action Items"})[E]||E,C=(E,k,O=!1)=>e.jsxs("div",{className:`flex-1 rounded-lg border-2 p-4 ${y(E)}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:_(E)}),A(E)]}),e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[k.length," items"]})]}),m.category===E&&e.jsxs("div",{className:"mb-4",children:[e.jsx("textarea",{value:m.content,onChange:D=>h({...m,content:D.target.value}),placeholder:`Add ${A(E).toLowerCase()}...`,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",rows:2}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("button",{onClick:v,disabled:!m.content.trim(),className:"px-3 py-1 bg-indigo-600 text-white rounded hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"}),e.jsx("button",{onClick:()=>h({...m,content:""}),className:"px-3 py-1 bg-gray-300 text-gray-700 rounded hover:bg-gray-400",children:"Cancel"})]})]}),e.jsx("div",{className:"space-y-3",children:k.map(D=>e.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-900",children:D.content}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-gray-600",children:[e.jsxs("span",{children:["by ",D.creator_name]}),D.assignee_name&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:""}),e.jsxs("span",{children:["assigned to ",D.assignee_name]})]}),D.due_date&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:""}),e.jsxs("span",{children:["due ",new Date(D.due_date).toLocaleDateString()]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[!O&&e.jsxs("button",{onClick:()=>b(D.id),className:"px-2 py-1 bg-indigo-100 text-indigo-700 rounded hover:bg-indigo-200 text-xs font-semibold",children:[" ",D.votes]}),O&&e.jsxs("select",{value:D.status,onChange:P=>w(D.id,P.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1",children:[e.jsx("option",{value:"open",children:"Open"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]}),e.jsx("button",{onClick:()=>N(D.id),className:"text-red-600 hover:text-red-800",children:""})]})]})},D.id))}),m.category!==E&&e.jsx("button",{onClick:()=>h({category:E,content:""}),className:"w-full mt-3 px-3 py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-indigo-500 hover:text-indigo-600 transition-colors",children:"+ Add Item"})]});return i?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading retrospective..."})]})}):o?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-600 mb-4",children:o}),e.jsx("button",{onClick:()=>a("/projects"),className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Back to Projects"})]})}):r?e.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("button",{onClick:()=>a(`/sprints/${t}/board`),className:"text-gray-600 hover:text-gray-900 mb-2",children:" Back to Sprint Board"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Sprint Retrospective"}),e.jsx("p",{className:"text-gray-600 mt-1",children:r.retrospective.sprint_name})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Conducted: ",new Date(r.retrospective.conducted_date).toLocaleDateString()]}),r.retrospective.facilitator_name&&e.jsxs("div",{className:"text-sm text-gray-600",children:["Facilitator: ",r.retrospective.facilitator_name]})]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Total Items"}),e.jsx("div",{className:"text-2xl font-bold",children:r.summary.total_items})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg shadow border border-green-200",children:[e.jsx("div",{className:"text-sm text-green-700",children:"Went Well"}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.summary.went_well_count})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg shadow border border-yellow-200",children:[e.jsx("div",{className:"text-sm text-yellow-700",children:"To Improve"}),e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:r.summary.to_improve_count})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg shadow border border-blue-200",children:[e.jsx("div",{className:"text-sm text-blue-700",children:"Action Items"}),e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[r.summary.completed_actions," / ",r.summary.action_items_count]}),e.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"completed"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[C("went_well",r.items.went_well),C("to_improve",r.items.to_improve),C("action_item",r.items.action_items,!0)]}),e.jsxs("div",{className:"mt-6 bg-white rounded-lg p-4 shadow",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"How to use:"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:' Add items to each category by clicking "+ Add Item"'}),e.jsx("li",{children:' Vote on items in "What Went Well" and "What To Improve" to prioritize them'}),e.jsx("li",{children:" Assign owners and due dates to action items"}),e.jsx("li",{children:" Track action item progress with status updates"}),e.jsx("li",{children:" Delete items that are not relevant or duplicate"})]})]})]}):null}function Nre(){const t=Be(),[a]=md(),r=a.get("project_id"),[s,i]=g.useState([]),[c,o]=g.useState([]),[u,m]=g.useState([]),[h,x]=g.useState(!0),[f,v]=g.useState(null),[b,w]=g.useState("week"),[N,y]=g.useState(!0),[_,A]=g.useState(!0),[C,E]=g.useState(!0);g.useEffect(()=>{r&&k()},[r]);const k=async()=>{try{x(!0);const W=localStorage.getItem("auth_token"),H=localStorage.getItem("company_id"),R={Authorization:`Bearer ${W}`,"X-Company-ID":H||""},V=await(await fetch(`https://documentiulia.ro/api/v1/tasks/tasks.php?project_id=${r}`,{headers:R})).json(),B=await(await fetch(`https://documentiulia.ro/api/v1/sprints/sprints.php?project_id=${r}`,{headers:R})).json(),Y=await(await fetch(`https://documentiulia.ro/api/v1/epics/epics.php?project_id=${r}`,{headers:R})).json();V.success&&i(V.data.filter(ie=>ie.start_date&&ie.due_date)),B.success&&o(B.data||[]),Y.success&&m(Y.data.filter(ie=>ie.start_date&&ie.target_date)),x(!1)}catch(W){console.error("Error fetching data:",W),v("Failed to load timeline data"),x(!1)}},O=W=>W.task_title||W.title||W.name||"Untitled",P=(()=>{const W=[];if(N&&s.forEach(V=>{V.start_date&&W.push(new Date(V.start_date)),V.due_date&&W.push(new Date(V.due_date))}),_&&c.forEach(V=>{W.push(new Date(V.start_date)),W.push(new Date(V.end_date))}),C&&u.forEach(V=>{V.start_date&&W.push(new Date(V.start_date)),V.target_date&&W.push(new Date(V.target_date))}),W.length===0){const V=new Date;return{start:new Date(V.getFullYear(),V.getMonth(),1),end:new Date(V.getFullYear(),V.getMonth()+3,0)}}const H=new Date(Math.min(...W.map(V=>V.getTime()))),R=new Date(Math.max(...W.map(V=>V.getTime()))),$=10080*60*1e3;return{start:new Date(H.getTime()-$),end:new Date(R.getTime()+$)}})(),L=Math.ceil((P.end.getTime()-P.start.getTime())/(1e3*60*60*24)),M=(()=>{const W=[],H=new Date(P.start);for(;H<=P.end;)b==="day"?(W.push({date:new Date(H),label:H.toLocaleDateString("en-US",{month:"short",day:"numeric"})}),H.setDate(H.getDate()+1)):b==="week"?(W.push({date:new Date(H),label:`Week ${Math.ceil(H.getDate()/7)}, ${H.toLocaleDateString("en-US",{month:"short"})}`}),H.setDate(H.getDate()+7)):(W.push({date:new Date(H),label:H.toLocaleDateString("en-US",{month:"short",year:"numeric"})}),H.setMonth(H.getMonth()+1));return W})(),F=(W,H)=>{const R=new Date(W),$=new Date(H),V=Math.max(0,(R.getTime()-P.start.getTime())/(1e3*60*60*24)),Z=($.getTime()-R.getTime())/(1e3*60*60*24),B=V/L*100,K=Z/L*100;return{left:`${B}%`,width:`${Math.max(K,.5)}%`}},q=W=>({backlog:"#9CA3AF",todo:"#3B82F6",in_progress:"#F59E0B",in_review:"#8B5CF6",testing:"#F97316",blocked:"#EF4444",done:"#10B981"})[W]||"#6B7280",te=W=>({critical:"#DC2626",high:"#F97316",medium:"#FBBF24",low:"#3B82F6"})[W]||"#6B7280";return r?h?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading timeline..."})]})}):f?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-600",children:f}),e.jsx("button",{onClick:()=>t("/projects"),className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Back to Projects"})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("button",{onClick:()=>t("/projects"),className:"text-gray-600 hover:text-gray-900 mb-2",children:" Back to Projects"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Project Timeline"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Gantt chart view of tasks, sprints, and epics"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>w("day"),className:`px-3 py-1 rounded ${b==="day"?"bg-indigo-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"Day"}),e.jsx("button",{onClick:()=>w("week"),className:`px-3 py-1 rounded ${b==="week"?"bg-indigo-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"Week"}),e.jsx("button",{onClick:()=>w("month"),className:`px-3 py-1 rounded ${b==="month"?"bg-indigo-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"Month"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[e.jsx("input",{type:"checkbox",checked:C,onChange:W=>E(W.target.checked),className:"rounded"}),"Epics"]}),e.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[e.jsx("input",{type:"checkbox",checked:_,onChange:W=>A(W.target.checked),className:"rounded"}),"Sprints"]}),e.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[e.jsx("input",{type:"checkbox",checked:N,onChange:W=>y(W.target.checked),className:"rounded"}),"Tasks"]})]})]})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("div",{className:"min-w-[1200px]",children:[e.jsxs("div",{className:"flex border-b border-gray-200 bg-gray-50",children:[e.jsx("div",{className:"w-64 flex-shrink-0 p-4 font-semibold border-r border-gray-200",children:"Item"}),e.jsx("div",{className:"flex-1 relative",children:e.jsx("div",{className:"flex",children:M.map((W,H)=>e.jsx("div",{className:"flex-1 p-2 text-center text-xs font-medium text-gray-600 border-r border-gray-200",children:W.label},H))})})]}),e.jsxs("div",{className:"relative",children:[(()=>{const R=(new Date().getTime()-P.start.getTime())/(1e3*60*60*24)/L*100;return R>=0&&R<=100?e.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-red-500 z-10 pointer-events-none",style:{left:`calc(16rem + ${R}%)`},children:e.jsx("div",{className:"absolute -top-6 left-0 transform -translate-x-1/2 text-xs text-red-500 font-semibold whitespace-nowrap",children:"Today"})}):null})(),C&&u.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"bg-purple-50 px-4 py-2 font-semibold text-sm border-b border-gray-200",children:"Epics"}),u.map(W=>e.jsxs("div",{className:"flex border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("div",{className:"w-64 flex-shrink-0 p-3 border-r border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:W.color}}),e.jsx("span",{className:"text-sm font-medium truncate",children:W.name})]})}),e.jsx("div",{className:"flex-1 relative p-3",children:W.start_date&&W.target_date&&e.jsx("div",{className:"absolute h-6 rounded-lg flex items-center px-2 text-xs text-white font-medium cursor-pointer hover:opacity-90 transition-opacity",style:{...F(W.start_date,W.target_date),backgroundColor:W.color,top:"0.75rem"},children:e.jsx("span",{className:"truncate",children:W.name})})})]},W.id))]}),_&&c.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"bg-blue-50 px-4 py-2 font-semibold text-sm border-b border-gray-200",children:"Sprints"}),c.map(W=>e.jsxs("div",{className:"flex border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("div",{className:"w-64 flex-shrink-0 p-3 border-r border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:""}),e.jsx("span",{className:"text-sm font-medium truncate",children:W.name})]})}),e.jsx("div",{className:"flex-1 relative p-3",children:e.jsx("div",{className:"absolute h-8 bg-blue-500 bg-opacity-20 border-2 border-blue-500 rounded-lg flex items-center px-2 text-xs font-medium cursor-pointer hover:bg-opacity-30 transition-colors",style:{...F(W.start_date,W.end_date),top:"0.5rem"},children:e.jsx("span",{className:"truncate text-blue-700",children:W.name})})})]},W.id))]}),N&&s.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"bg-green-50 px-4 py-2 font-semibold text-sm border-b border-gray-200",children:"Tasks"}),s.map(W=>e.jsxs("div",{className:"flex border-b border-gray-100 hover:bg-gray-50",children:[e.jsxs("div",{className:"w-64 flex-shrink-0 p-3 border-r border-gray-200",children:[e.jsx("div",{className:"text-sm truncate",children:O(W)}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[W.epic_name&&e.jsx("span",{className:"text-xs px-1 py-0.5 rounded text-white",style:{backgroundColor:W.epic_color||"#6366f1"},children:W.epic_name}),W.assignee_name&&e.jsxs("span",{className:"text-xs text-gray-500",children:[" ",W.assignee_name]})]})]}),e.jsx("div",{className:"flex-1 relative p-3",children:W.start_date&&W.due_date&&e.jsxs("div",{className:"absolute h-6 rounded flex items-center px-2 text-xs text-white font-medium cursor-pointer hover:opacity-90 transition-opacity",style:{...F(W.start_date,W.due_date),backgroundColor:q(W.status),top:"0.75rem"},title:`${W.status.toUpperCase()} - ${W.priority}`,children:[W.story_points&&e.jsxs("span",{className:"mr-1",children:[W.story_points," pts"]}),e.jsx("div",{className:"h-1 bg-white bg-opacity-30 rounded flex-1",style:{width:W.progress?`${W.progress}%`:"0%"}})]})})]},W.id))]}),s.length===0&&c.length===0&&u.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-600",children:"No timeline data available"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Create tasks, sprints, or epics with dates to see them on the timeline"})]})]})]})})}),e.jsxs("div",{className:"mt-4 bg-white rounded-lg shadow p-4",children:[e.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Legend"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium mb-2",children:"Task Status"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:q("todo")}}),"To Do"]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:q("in_progress")}}),"In Progress"]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:q("done")}}),"Done"]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium mb-2",children:"Priority"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:te("critical")}}),"Critical"]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:te("high")}}),"High"]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:te("low")}}),"Low"]})]})]})]})]})]}):e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-600",children:"No project selected"}),e.jsx("button",{onClick:()=>t("/projects"),className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Go to Projects"})]})})}const wre=()=>{const[t,a]=g.useState([]),[,r]=g.useState(!0),[s,i]=g.useState(new Set);g.useEffect(()=>{c()},[]);const c=async()=>{try{const m=localStorage.getItem("auth_token"),h=localStorage.getItem("company_id"),x=await Ae.get("/api/v1/accounting/chart-of-accounts.php",{headers:{Authorization:`Bearer ${m}`,"X-Company-ID":h}});x.data.success&&a(x.data.data.accounts)}catch(m){console.error("Error fetching accounts:",m)}finally{r(!1)}},o=m=>{const h=new Set(s);h.has(m)?h.delete(m):h.add(m),i(h)},u=(m,h=0)=>{const x=m.children&&m.children.length>0,f=s.has(m.id);return e.jsxs(We.Fragment,{children:[e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",style:{paddingLeft:`${h*2+1.5}rem`},children:e.jsxs("div",{className:"flex items-center space-x-2",children:[x&&e.jsx("button",{onClick:()=>o(m.id),className:"focus:outline-none",children:e.jsx(vc,{className:`w-4 h-4 transition-transform ${f?"rotate-90":""}`})}),e.jsx("span",{className:"font-medium text-gray-900",children:m.account_code})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-gray-900",children:m.account_name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:m.account_type})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right font-medium",children:["$",Number(m.balance).toLocaleString("ro-RO",{minimumFractionDigits:2})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${m.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:m.is_active?"Active":"Inactive"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"text-indigo-600 hover:text-indigo-800",children:e.jsx(_v,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-red-600 hover:text-red-800",children:e.jsx(oa,{className:"w-4 h-4"})})]})})]}),x&&f&&m.children.map(v=>u(v,h+1))]},m.id)};return e.jsx(qe,{children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Chart of Accounts"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your account structure"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>window.location.href="/accounting/reports",className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:[e.jsx(Ze,{className:"w-5 h-5"}),e.jsx("span",{children:"Reports"})]}),e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:[e.jsx(wt,{className:"w-5 h-5"}),e.jsx("span",{children:"New Account"})]})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-md border border-gray-200",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Account Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Account Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Balance"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(m=>u(m))})]})})})]})})},Sre=()=>{const[t,a]=g.useState({total_revenue:0,total_expenses:0,profit_margin:0,active_projects:0,total_hours:0,utilization_rate:0}),[,r]=g.useState(!0),[s,i]=g.useState("last_30_days");g.useEffect(()=>{c()},[s]);const c=async()=>{try{const o=localStorage.getItem("auth_token"),u=localStorage.getItem("company_id"),m=await Ae.get("/api/v1/analytics/metrics.php",{headers:{Authorization:`Bearer ${o}`,"X-Company-ID":u}});m.data.success&&a(m.data.data.metrics)}catch(o){console.error("Error fetching metrics:",o)}finally{r(!1)}};return e.jsx(qe,{children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics Dashboard"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Business intelligence and insights"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("select",{value:s,onChange:o=>i(o.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"last_7_days",children:"Last 7 Days"}),e.jsx("option",{value:"last_30_days",children:"Last 30 Days"}),e.jsx("option",{value:"last_90_days",children:"Last 90 Days"}),e.jsx("option",{value:"this_year",children:"This Year"})]}),e.jsxs("button",{onClick:()=>window.location.href="/analytics/dashboards",className:"flex items-center space-x-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:[e.jsx(wt,{className:"w-5 h-5"}),e.jsx("span",{children:"New Dashboard"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Total Revenue"}),e.jsxs("p",{className:"text-3xl font-bold mt-2",children:["$",t.total_revenue.toLocaleString("ro-RO",{minimumFractionDigits:2})]})]}),e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx(Ht,{className:"w-6 h-6"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Profit Margin"}),e.jsxs("p",{className:"text-3xl font-bold mt-2",children:[t.profit_margin.toFixed(1),"%"]})]}),e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx(Ue,{className:"w-6 h-6"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Active Projects"}),e.jsx("p",{className:"text-3xl font-bold mt-2",children:t.active_projects})]}),e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx(Za,{className:"w-6 h-6"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Hours"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[t.total_hours.toFixed(1),"h"]})]}),e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx(ka,{className:"w-6 h-6 text-orange-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Utilization Rate"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[t.utilization_rate.toFixed(1),"%"]})]}),e.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center",children:e.jsx(Ue,{className:"w-6 h-6 text-indigo-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Expenses"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:["$",t.total_expenses.toLocaleString("ro-RO",{minimumFractionDigits:2})]})]}),e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(Ht,{className:"w-6 h-6 text-red-600"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("button",{onClick:()=>window.location.href="/analytics/kpis",className:"bg-white rounded-xl shadow-md p-6 border-2 border-gray-200 hover:border-indigo-500 transition-colors text-left",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center",children:e.jsx(Ue,{className:"w-6 h-6 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900",children:"KPI Tracking"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Monitor key metrics"})]})]})}),e.jsx("button",{onClick:()=>window.location.href="/analytics/reports",className:"bg-white rounded-xl shadow-md p-6 border-2 border-gray-200 hover:border-indigo-500 transition-colors text-left",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(Za,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900",children:"Custom Reports"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Build your own reports"})]})]})}),e.jsx("button",{onClick:()=>window.location.href="/analytics/widgets",className:"bg-white rounded-xl shadow-md p-6 border-2 border-gray-200 hover:border-indigo-500 transition-colors text-left",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(ka,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900",children:"Widgets"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Customize your dashboard"})]})]})})]})]})})},_re=()=>{const[t,a]=g.useState([]),[r,s]=g.useState([]),[i,c]=g.useState(!0),[o,u]=g.useState(!1),[m,h]=g.useState(new Set),[x,f]=g.useState({}),[v,b]=g.useState({category_name:"",parent_category:"",description:""});g.useEffect(()=>{w()},[]);const w=async()=>{try{c(!0);const C=await K2.listCategories(!1,!0);C.success&&C.data&&(a(C.data.categories||[]),s(C.data.hierarchy||[]),f(C.data.usage_statistics||{}))}catch(C){console.error("Failed to load categories:",C)}finally{c(!1)}},N=async C=>{C.preventDefault();try{await K2.createCustomCategory(v),u(!1),b({category_name:"",parent_category:"",description:""}),w()}catch(E){alert(E.response?.data?.message||"Failed to create category")}},y=C=>{const E=new Set(m);E.has(C)?E.delete(C):E.add(C),h(E)},_=(C,E=0)=>{const k=C.children&&C.children.length>0,O=m.has(C.category_name),D=x[C.category_name];return e.jsxs("div",{className:"mb-1",children:[e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 transition-colors ${E>0?"ml-8 border-l-2 border-gray-200":""}`,children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[k?e.jsx("button",{onClick:()=>y(C.category_name),className:"text-gray-400 hover:text-gray-600",children:O?e.jsx(yd,{className:"w-5 h-5"}):e.jsx(vc,{className:"w-5 h-5"})}):e.jsx("div",{className:"w-5"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h4",{className:`font-medium ${C.is_custom?"text-blue-900":"text-gray-900"}`,children:C.category_name}),C.is_custom&&e.jsxs("span",{className:"px-2 py-0.5 text-xs bg-blue-100 text-blue-800 rounded-full flex items-center space-x-1",children:[e.jsx(nc,{className:"w-3 h-3"}),e.jsx("span",{children:"Custom"})]})]}),C.description&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:C.description}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-gray-500",children:[e.jsxs("span",{children:["Section: ",C.statement_section]}),C.parent_category&&e.jsxs("span",{children:["Parent: ",C.parent_category]}),D&&e.jsxs("span",{className:"text-green-600 font-medium",children:["Used ",D.count," times ($",D.total.toFixed(2),")"]})]})]})]}),C.is_custom&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:e.jsx(_v,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(oa,{className:"w-4 h-4"})})]})]}),k&&O&&e.jsx("div",{className:"mt-1",children:C.children.map(P=>_(P,E+1))})]},C.id)},A=t.filter(C=>!C.parent_category);return i?e.jsx(qe,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})})}):e.jsx(qe,{children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Expense Categories"}),e.jsx("p",{className:"text-gray-600",children:"Manage your expense categories with hierarchical organization"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Categories"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:t.length})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg shadow-sm border border-blue-200 p-6",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-600",children:"Custom Categories"}),e.jsx("p",{className:"text-3xl font-bold text-blue-900 mt-2",children:t.filter(C=>C.is_custom).length})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg shadow-sm border border-green-200 p-6",children:[e.jsx("h3",{className:"text-sm font-medium text-green-600",children:"Top Level Categories"}),e.jsx("p",{className:"text-3xl font-bold text-green-900 mt-2",children:A.length})]})]}),e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsxs("button",{onClick:()=>u(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(wt,{className:"w-5 h-5"}),e.jsx("span",{children:"Create Custom Category"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Category Hierarchy"}),e.jsx("div",{className:"space-y-2",children:r.map(C=>_(C))})]})}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Create Custom Category"}),e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Name *"}),e.jsx("input",{type:"text",required:!0,value:v.category_name,onChange:C=>b({...v,category_name:C.target.value}),placeholder:"e.g., Software Subscriptions",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Parent Category (Optional)"}),e.jsxs("select",{value:v.parent_category,onChange:C=>b({...v,parent_category:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"None (Top Level)"}),A.map(C=>e.jsx("option",{value:C.category_name,children:C.category_name},C.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:v.description,onChange:C=>b({...v,description:C.target.value}),placeholder:"Brief description of this category",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{u(!1),b({category_name:"",parent_category:"",description:""})},className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Create Category"})]})]})]})})})]})})},Cre="/api/v1",Um=Ae.create({baseURL:Cre,headers:{"Content-Type":"application/json"}});Um.interceptors.request.use(t=>{const a=localStorage.getItem("auth_token"),r=localStorage.getItem("company_id");return a&&(t.headers.Authorization=`Bearer ${a}`),r&&(t.headers["X-Company-ID"]=r),t});const Jg={list:async t=>{const a=new URLSearchParams;t?.account_id&&a.append("account_id",t.account_id),t?.start_date&&a.append("start_date",t.start_date),t?.end_date&&a.append("end_date",t.end_date),t?.entry_type&&a.append("entry_type",t.entry_type),t?.limit&&a.append("limit",t.limit.toString()),t?.offset&&a.append("offset",t.offset.toString());const r=a.toString(),s=`/accounting/general-ledger.php${r?`?${r}`:""}`;return(await Um.get(s)).data.data||{entries:[],count:0}},getSummary:async t=>{const a=new URLSearchParams;return a.append("summary","true"),t?.start_date&&a.append("start_date",t.start_date),t?.end_date&&a.append("end_date",t.end_date),(await Um.get(`/accounting/general-ledger.php?${a.toString()}`)).data.data?.summary||[]},exportToExcel:async t=>{const a=new URLSearchParams;return a.append("export","excel"),t?.account_id&&a.append("account_id",t.account_id),t?.start_date&&a.append("start_date",t.start_date),t?.end_date&&a.append("end_date",t.end_date),(await Um.get(`/accounting/general-ledger.php?${a.toString()}`,{responseType:"blob"})).data}},kre=()=>{const[t,a]=g.useState([]),[r,s]=g.useState([]),[i,c]=g.useState(!0),[o,u]=g.useState("entries"),[m,h]=g.useState(""),[x,f]=g.useState(""),[v,b]=g.useState(""),[w,N]=g.useState("all");g.useEffect(()=>{y()},[m,x,v,w,o]);const y=async()=>{try{c(!0);const k={account_id:m||void 0,start_date:x||void 0,end_date:v||void 0,entry_type:w!=="all"?w:void 0};if(o==="entries"){const O=await Jg.list(k);a(O.entries||[])}else{const O=await Jg.getSummary(k);s(O)}}catch(k){console.error("Error loading general ledger:",k),alert("Eroare la ncrcarea registrului general")}finally{c(!1)}},_=async()=>{try{const k=await Jg.exportToExcel({account_id:m||void 0,start_date:x||void 0,end_date:v||void 0}),O=window.URL.createObjectURL(k),D=document.createElement("a");D.href=O,D.download=`general-ledger-${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(D),D.click(),window.URL.revokeObjectURL(O),document.body.removeChild(D)}catch(k){console.error("Error exporting:",k),alert("Eroare la exportul n Excel")}},A=k=>{const O=new Date,D=O.getFullYear(),P=O.getMonth(),L=O.getDate();let z,M=O;switch(k){case"today":z=O;break;case"week":z=new Date(O),z.setDate(L-O.getDay());break;case"month":z=new Date(D,P,1);break;case"quarter":const F=Math.floor(P/3);z=new Date(D,F*3,1);break;case"year":z=new Date(D,0,1);break;default:return}f(z.toISOString().split("T")[0]),b(M.toISOString().split("T")[0])},C=k=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:"RON"}).format(k),E=k=>new Date(k).toLocaleDateString("ro-RO");return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Registru General (General Ledger)"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Vizualizare complet a tuturor tranzaciilor contabile"})]}),e.jsxs("button",{onClick:_,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[e.jsx(_5,{className:"h-5 w-5 mr-2"}),"Export Excel"]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(qi,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Filtre"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Perioade Predefinite"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>A("today"),className:"px-3 py-1.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500",children:"Astzi"}),e.jsx("button",{onClick:()=>A("week"),className:"px-3 py-1.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500",children:"Sptmna Aceasta"}),e.jsx("button",{onClick:()=>A("month"),className:"px-3 py-1.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500",children:"Luna Aceasta"}),e.jsx("button",{onClick:()=>A("quarter"),className:"px-3 py-1.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500",children:"Trimestrul Acesta"}),e.jsx("button",{onClick:()=>A("year"),className:"px-3 py-1.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500",children:"Anul Acesta"}),e.jsx("button",{onClick:()=>{f(""),b("")},className:"px-3 py-1.5 text-sm font-medium text-red-700 bg-white border border-red-300 rounded-md hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-red-500",children:"Reseteaz"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cont"}),e.jsx("input",{type:"text",value:m,onChange:k=>h(k.target.value),placeholder:"Cod sau nume cont...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data nceput"}),e.jsx("input",{type:"date",value:x,onChange:k=>f(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data sfrit"}),e.jsx("input",{type:"date",value:v,onChange:k=>b(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tip nregistrare"}),e.jsxs("select",{value:w,onChange:k=>N(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"all",children:"Toate"}),e.jsx("option",{value:"general",children:"General"}),e.jsx("option",{value:"invoice",children:"Factur"}),e.jsx("option",{value:"payment",children:"Plat"}),e.jsx("option",{value:"expense",children:"Cheltuial"})]})]})]}),e.jsx("div",{className:"mt-4 border-t pt-4",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>u("entries"),className:`px-4 py-2 rounded-lg font-medium ${o==="entries"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"nregistrri Detaliate"}),e.jsx("button",{onClick:()=>u("summary"),className:`px-4 py-2 rounded-lg font-medium ${o==="summary"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Sumar Conturi"})]})})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:i?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx("div",{className:"w-12 h-12 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})}):o==="entries"?e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cont"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descriere"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Referin"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Debit"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Credit"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sold"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:"Nu exist nregistrri pentru filtrele selectate"})}):t.map(k=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E(k.transaction_date)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.account_code}),e.jsx("div",{className:"text-sm text-gray-500",children:k.account_name})]}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:k.description}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:k.reference}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-gray-900",children:k.debit>0?C(k.debit):"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-gray-900",children:k.credit>0?C(k.credit):"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("div",{className:`text-sm font-medium ${k.balance>=0?"text-green-600":"text-red-600"}`,children:C(k.balance)})})]},k.id))})]})})}):e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cont"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sold Iniial"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Debit"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Credit"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sold Final"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:"Nu exist date pentru perioada selectat"})}):r.map(k=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.account_code}),e.jsx("div",{className:"text-sm text-gray-500",children:k.account_name})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-gray-900",children:C(k.opening_balance)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-green-600",children:C(k.total_debit)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-red-600",children:C(k.total_credit)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("div",{className:`text-sm font-medium ${k.closing_balance>=0?"text-green-600":"text-red-600"}`,children:C(k.closing_balance)})})]},k.account_id))})]})})})})]})},Are="/api/v1",Oi=Ae.create({baseURL:Are,headers:{"Content-Type":"application/json"}});Oi.interceptors.request.use(t=>{const a=localStorage.getItem("auth_token"),r=localStorage.getItem("company_id");return a&&(t.headers.Authorization=`Bearer ${a}`),r&&(t.headers["X-Company-ID"]=r),t});const zo={list:async()=>(await Oi.get("/accounting/tax-codes.php")).data.data||[],get:async t=>(await Oi.get(`/accounting/tax-codes.php?id=${t}`)).data.data,create:async t=>(await Oi.post("/accounting/tax-codes.php",t)).data.data,update:async(t,a)=>(await Oi.put(`/accounting/tax-codes.php?id=${t}`,a)).data.data,delete:async t=>{await Oi.delete(`/accounting/tax-codes.php?id=${t}`)},setDefault:async t=>{await Oi.post("/accounting/tax-codes.php",{action:"set_default",id:t})}},Ere=()=>{const[t,a]=g.useState([]),[r,s]=g.useState(!0),[i,c]=g.useState(!1),[o,u]=g.useState(null),[m,h]=g.useState({code:"",name:"",description:"",tax_type:"vat",rate:19,is_default:!1,is_active:!0});g.useEffect(()=>{x()},[]);const x=async()=>{try{s(!0);const _=await zo.list();a(_)}catch(_){console.error("Error loading tax codes:",_),alert("Eroare la ncrcarea codurilor TVA")}finally{s(!1)}},f=async _=>{_.preventDefault();try{o?(await zo.update(o.id,m),alert("Cod TVA actualizat cu succes!")):(await zo.create(m),alert("Cod TVA creat cu succes!")),c(!1),N(),x()}catch(A){console.error("Error saving tax code:",A),alert("Eroare la salvarea codului TVA")}},v=_=>{u(_),h({code:_.code,name:_.name,description:_.description||"",tax_type:_.tax_type,rate:_.rate,is_default:_.is_default,is_active:_.is_active}),c(!0)},b=async _=>{if(confirm("Sigur dorii s tergei acest cod TVA?"))try{await zo.delete(_),alert("Cod TVA ters cu succes!"),x()}catch(A){console.error("Error deleting tax code:",A),alert("Eroare la tergerea codului TVA")}},w=async _=>{try{await zo.setDefault(_),alert("Cod TVA setat ca implicit!"),x()}catch(A){console.error("Error setting default:",A),alert("Eroare la setarea codului implicit")}},N=()=>{h({code:"",name:"",description:"",tax_type:"vat",rate:19,is_default:!1,is_active:!0}),u(null)},y=_=>({vat:"TVA",income_tax:"Impozit Venit",sales_tax:"Tax Vnzri",other:"Altele"})[_]||_;return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Coduri TVA"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Gestionare coduri i cote TVA pentru facturare"})]}),e.jsxs("button",{onClick:()=>{N(),c(!0)},className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[e.jsx(wt,{className:"h-5 w-5 mr-2"}),"Cod TVA Nou"]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:r?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx("div",{className:"w-12 h-12 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})}):e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cod"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Denumire"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tip"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cot (%)"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Utilizri"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Implicit"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aciuni"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-6 py-12 text-center text-gray-500",children:"Nu exist coduri TVA configurate. Adugai primul cod."})}):t.map(_=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.code})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.name}),_.description&&e.jsx("div",{className:"text-sm text-gray-500",children:_.description})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:y(_.tax_type)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"text-sm font-bold text-gray-900",children:[_.rate,"%"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:_.usage_count||0})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:_.is_default?e.jsx(zM,{className:"h-5 w-5 text-yellow-400 inline-block fill-current"}):e.jsx("button",{onClick:()=>w(_.id),className:"text-gray-400 hover:text-yellow-400",title:"Seteaz ca implicit",children:e.jsx(DM,{className:"h-5 w-5"})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:_.is_active?e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(Xn,{className:"h-3 w-3 mr-1"}),"Activ"]}):e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[e.jsx(ht,{className:"h-3 w-3 mr-1"}),"Inactiv"]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx("button",{onClick:()=>v(_),className:"text-primary-600 hover:text-primary-900 mr-4",children:e.jsx(ya,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>b(_.id),className:"text-red-600 hover:text-red-900",children:e.jsx(oa,{className:"h-5 w-5"})})]})]},_.id))})]})})}),i&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-lg bg-white",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:o?"Editare Cod TVA":"Cod TVA Nou"}),e.jsx("button",{onClick:()=>{c(!1),N()},className:"text-gray-400 hover:text-gray-600",children:e.jsx(ht,{className:"h-6 w-6"})})]}),e.jsxs("form",{onSubmit:f,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cod *"}),e.jsx("input",{type:"text",required:!0,value:m.code,onChange:_=>h({...m,code:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"ex: TVA19"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cot TVA (%) *"}),e.jsx("input",{type:"number",required:!0,min:"0",max:"100",step:"0.01",value:m.rate,onChange:_=>h({...m,rate:parseFloat(_.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Denumire *"}),e.jsx("input",{type:"text",required:!0,value:m.name,onChange:_=>h({...m,name:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"ex: TVA Standard 19%"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descriere"}),e.jsx("textarea",{value:m.description,onChange:_=>h({...m,description:_.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Descriere opional..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tip Tax"}),e.jsxs("select",{value:m.tax_type,onChange:_=>h({...m,tax_type:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"vat",children:"TVA"}),e.jsx("option",{value:"income_tax",children:"Impozit Venit"}),e.jsx("option",{value:"sales_tax",children:"Tax Vnzri"}),e.jsx("option",{value:"other",children:"Altele"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:m.is_default,onChange:_=>h({...m,is_default:_.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Cod implicit"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:m.is_active,onChange:_=>h({...m,is_active:_.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Activ"})]})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>{c(!1),N()},className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Anuleaz"}),e.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:o?"Actualizeaz":"Creeaz"})]})]})]})})]})},Ore="/api/v1",Ys=Ae.create({baseURL:Ore,headers:{"Content-Type":"application/json"}});Ys.interceptors.request.use(t=>{const a=localStorage.getItem("auth_token"),r=localStorage.getItem("company_id");return a&&(t.headers.Authorization=`Bearer ${a}`),r&&(t.headers["X-Company-ID"]=r),t});const Mo={list:async()=>(await Ys.get("/accounting/fixed-assets.php")).data.data||[],get:async t=>(await Ys.get(`/accounting/fixed-assets.php?id=${t}`)).data.data,create:async t=>(await Ys.post("/accounting/fixed-assets.php",t)).data.data,update:async(t,a)=>(await Ys.put(`/accounting/fixed-assets.php?id=${t}`,a)).data.data,delete:async t=>{await Ys.delete(`/accounting/fixed-assets.php?id=${t}`)},dispose:async(t,a,r)=>(await Ys.post("/accounting/fixed-assets.php",{action:"dispose",id:t,disposal_date:a,disposal_value:r})).data.data,getDepreciationSchedule:async t=>(await Ys.get(`/accounting/fixed-assets.php?id=${t}&schedule=true`)).data.data?.schedule||[],calculateDepreciation:async(t,a)=>(await Ys.post("/accounting/fixed-assets.php",{action:"calculate_depreciation",id:t,to_date:a})).data.data?.depreciation||0},Tre=()=>{const[t,a]=g.useState([]),[r,s]=g.useState(!0),[i,c]=g.useState(!1),[o,u]=g.useState(!1),[m,h]=g.useState(null),[x,f]=g.useState([]),[v,b]=g.useState(null),[w,N]=g.useState({asset_code:"",asset_name:"",description:"",category:"",purchase_date:new Date().toISOString().split("T")[0],purchase_price:0,salvage_value:0,useful_life_years:5,depreciation_method:"straight_line",location:"",serial_number:""});g.useEffect(()=>{y()},[]);const y=async()=>{try{s(!0);const z=await Mo.list();a(z)}catch(z){console.error("Error loading fixed assets:",z),alert("Eroare la ncrcarea imobilizrilor")}finally{s(!1)}},_=async z=>{z.preventDefault();try{m?(await Mo.update(m.id,w),alert("Imobilizare actualizat cu succes!")):(await Mo.create(w),alert("Imobilizare creat cu succes!")),c(!1),k(),y()}catch(M){console.error("Error saving fixed asset:",M),alert("Eroare la salvarea imobilizrii")}},A=z=>{h(z),N({asset_code:z.asset_code,asset_name:z.asset_name,description:z.description||"",category:z.category,purchase_date:z.purchase_date,purchase_price:z.purchase_price,salvage_value:z.salvage_value,useful_life_years:z.useful_life_years,depreciation_method:z.depreciation_method,location:z.location||"",serial_number:z.serial_number||""}),c(!0)},C=async z=>{if(confirm("Sigur dorii s tergei aceast imobilizare?"))try{await Mo.delete(z),alert("Imobilizare tears cu succes!"),y()}catch(M){console.error("Error deleting asset:",M),alert("Eroare la tergerea imobilizrii")}},E=async z=>{try{const M=await Mo.getDepreciationSchedule(z.id);f(M),b(z),u(!0)}catch(M){console.error("Error loading schedule:",M),alert("Eroare la ncrcarea planului de amortizare")}},k=()=>{N({asset_code:"",asset_name:"",description:"",category:"",purchase_date:new Date().toISOString().split("T")[0],purchase_price:0,salvage_value:0,useful_life_years:5,depreciation_method:"straight_line",location:"",serial_number:""}),h(null)},O=z=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:"RON"}).format(z),D=z=>new Date(z).toLocaleDateString("ro-RO"),P=z=>{const M={active:{color:"bg-green-100 text-green-800",text:"Activ"},disposed:{color:"bg-red-100 text-red-800",text:"Cedat"},fully_depreciated:{color:"bg-gray-100 text-gray-800",text:"Amortizat Complet"}},F=M[z]||M.active;return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${F.color}`,children:F.text})},L=z=>{const M=z.accumulated_depreciation/(z.purchase_price-z.salvage_value)*100,F=new Date(z.purchase_date),te=(new Date().getTime()-F.getTime())/(1e3*60*60*24*365.25),W=z.useful_life_years-te;return M>=100?{type:"danger",message:" Imobilizare complet amortizat"}:W<1&&W>0?{type:"warning",message:" Mai puin de 1 an pn la amortizare complet"}:M>80&&M<100?{type:"info",message:` ${Math.round(M)}% amortizat`}:null};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Imobilizri Corporale"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Registru imobilizri i plan de amortizare"})]}),e.jsxs("button",{onClick:()=>{k(),c(!0)},className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[e.jsx(wt,{className:"h-5 w-5 mr-2"}),"Imobilizare Nou"]})]})})}),(()=>{const z=t.filter(q=>L(q)!==null),M=z.filter(q=>L(q)?.type==="danger"),F=z.filter(q=>L(q)?.type==="warning");return z.length===0?null:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-6",children:e.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Atenie la amortizri"}),e.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:e.jsxs("p",{children:[M.length>0&&e.jsxs("span",{className:"font-semibold",children:[M.length," imobilizare",M.length>1?"i":""," complet amortizat",M.length>1?"e":""]}),M.length>0&&F.length>0&&", ",F.length>0&&e.jsxs("span",{children:[F.length," imobilizare",F.length>1?"i":""," aproape de amortizare complet"]})]})})]})]})})})})(),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-blue-100 rounded-md p-3",children:e.jsx(Ht,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Valoare Total"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:O(t.reduce((z,M)=>z+M.purchase_price,0))})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-red-100 rounded-md p-3",children:e.jsx(en,{className:"h-6 w-6 text-red-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Amortizare Acumulat"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:O(t.reduce((z,M)=>z+M.accumulated_depreciation,0))})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-green-100 rounded-md p-3",children:e.jsx(Ze,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Valoare Contabil"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:O(t.reduce((z,M)=>z+M.book_value,0))})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-purple-100 rounded-md p-3",children:e.jsx(Ze,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Numr Imobilizri"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:t.length})]})]})})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:r?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx("div",{className:"w-12 h-12 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})}):e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cod / Denumire"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categorie"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data Achiziie"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valoare Achiziie"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amortizare"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valoare Contabil"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aciuni"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-6 py-12 text-center text-gray-500",children:"Nu exist imobilizri nregistrate. Adugai prima imobilizare."})}):t.map(z=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:z.asset_code}),e.jsx("div",{className:"text-sm text-gray-500",children:z.asset_name}),(()=>{const M=L(z);if(!M||!M.type)return null;const F={danger:"bg-red-50 text-red-700 border-red-200",warning:"bg-yellow-50 text-yellow-700 border-yellow-200",info:"bg-blue-50 text-blue-700 border-blue-200"};return e.jsx("div",{className:`mt-1 text-xs px-2 py-1 rounded border ${F[M.type]}`,children:M.message})})()]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:z.category}),z.location&&e.jsxs("div",{className:"text-xs text-gray-500",children:[" ",z.location]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:D(z.purchase_date)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-gray-900",children:O(z.purchase_price)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-red-600",children:O(z.accumulated_depreciation)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-bold text-green-600",children:O(z.book_value)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:P(z.status)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[e.jsx("button",{onClick:()=>E(z),className:"text-blue-600 hover:text-blue-900",title:"Plan amortizare",children:e.jsx(Ze,{className:"h-5 w-5 inline-block"})}),e.jsx("button",{onClick:()=>A(z),className:"text-primary-600 hover:text-primary-900",title:"Editeaz",children:e.jsx(ya,{className:"h-5 w-5 inline-block"})}),e.jsx("button",{onClick:()=>C(z.id),className:"text-red-600 hover:text-red-900",title:"terge",children:e.jsx(oa,{className:"h-5 w-5 inline-block"})})]})]},z.id))})]})})})}),i&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsxs("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-3xl shadow-lg rounded-lg bg-white",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:m?"Editare Imobilizare":"Imobilizare Nou"}),e.jsx("button",{onClick:()=>{c(!1),k()},className:"text-gray-400 hover:text-gray-600",children:e.jsx(ht,{className:"h-6 w-6"})})]}),e.jsxs("form",{onSubmit:_,className:"max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cod Imobilizare *"}),e.jsx("input",{type:"text",required:!0,value:w.asset_code,onChange:z=>N({...w,asset_code:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"ex: IMO-001"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categorie *"}),e.jsx("input",{type:"text",required:!0,value:w.category,onChange:z=>N({...w,category:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"ex: Echipamente IT"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Denumire Imobilizare *"}),e.jsx("input",{type:"text",required:!0,value:w.asset_name,onChange:z=>N({...w,asset_name:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"ex: Server Dell PowerEdge R740"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descriere"}),e.jsx("textarea",{value:w.description,onChange:z=>N({...w,description:z.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Achiziie *"}),e.jsx("input",{type:"date",required:!0,value:w.purchase_date,onChange:z=>N({...w,purchase_date:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valoare Achiziie (RON) *"}),e.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:w.purchase_price,onChange:z=>N({...w,purchase_price:parseFloat(z.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valoare Rezidual (RON)"}),e.jsx("input",{type:"number",min:"0",step:"0.01",value:w.salvage_value,onChange:z=>N({...w,salvage_value:parseFloat(z.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Durat Via Util (ani) *"}),e.jsx("input",{type:"number",required:!0,min:"1",value:w.useful_life_years,onChange:z=>N({...w,useful_life_years:parseInt(z.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Metod Amortizare *"}),e.jsxs("select",{required:!0,value:w.depreciation_method,onChange:z=>N({...w,depreciation_method:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"straight_line",children:"Linie Dreapt"}),e.jsx("option",{value:"declining_balance",children:"Sold Degresiv"}),e.jsx("option",{value:"units_of_production",children:"Uniti Producie"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Locaie"}),e.jsx("input",{type:"text",value:w.location,onChange:z=>N({...w,location:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"ex: Sediu Central, Etaj 2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Numr Serie"}),e.jsx("input",{type:"text",value:w.serial_number,onChange:z=>N({...w,serial_number:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>{c(!1),k()},className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Anuleaz"}),e.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:m?"Actualizeaz":"Creeaz"})]})]})]})}),o&&v&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsxs("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-4xl shadow-lg rounded-lg bg-white",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:["Plan Amortizare - ",v.asset_name]}),e.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(ht,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"overflow-x-auto max-h-96",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"An"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Valoare Iniial"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Amortizare"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Amortizare Acumulat"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Valoare Final"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(z=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:z.year}),e.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-900",children:O(z.opening_value)}),e.jsx("td",{className:"px-4 py-3 text-sm text-right text-red-600",children:O(z.depreciation)}),e.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-900",children:O(z.accumulated_depreciation)}),e.jsx("td",{className:"px-4 py-3 text-sm text-right font-bold text-green-600",children:O(z.closing_value)})]},z.year))})]})})]})})]})},Dre=()=>{const t=Be(),[a,r]=g.useState([]),[s,i]=g.useState(!0),[c,o]=g.useState(null),[u,m]=g.useState(""),[h,x]=g.useState("all"),[f,v]=g.useState("all"),[b,w]=g.useState([0,1e3]),[N,y]=g.useState("grid"),[_,A]=g.useState("newest"),C=["Excel","Finance","Contabilitate","Fiscal","Business","Legal"];g.useEffect(()=>{E()},[h,f,_]);const E=async()=>{try{i(!0);const P=localStorage.getItem("auth_token"),L=new URLSearchParams;h!=="all"&&L.append("category",h),f!=="all"&&L.append("level",f),_&&L.append("sort",_);const M=await(await fetch(`https://documentiulia.ro/api/v1/courses/list.php?${L.toString()}`,{headers:{Authorization:`Bearer ${P||""}`}})).json();M.success?r(M.courses):o(M.message)}catch(P){o("Failed to load courses"),console.error(P)}finally{i(!1)}},k=async P=>{const L=localStorage.getItem("auth_token");if(!L){t("/login",{state:{returnTo:"/courses"}});return}try{const M=await(await fetch("https://documentiulia.ro/api/v1/courses/enroll.php",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${L}`},body:JSON.stringify({course_id:P})})).json();M.success?t(`/courses/${P}/learn`):alert(M.message)}catch(z){alert("Failed to enroll in course"),console.error(z)}},O=a.filter(P=>{const L=P.title.toLowerCase().includes(u.toLowerCase())||P.short_description.toLowerCase().includes(u.toLowerCase()),z=P.price_ron>=b[0]&&P.price_ron<=b[1];return L&&z}),D=({course:P})=>e.jsxs("div",{className:`bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-shadow cursor-pointer ${N==="list"?"flex flex-row":"flex flex-col"}`,onClick:()=>t(`/courses/${P.slug}`),children:[e.jsx("div",{className:N==="list"?"w-64 flex-shrink-0":"w-full",children:e.jsx("img",{src:P.thumbnail_url||"https://via.placeholder.com/400x225/3b82f6/ffffff?text=Course",alt:P.title,className:"w-full h-48 object-cover"})}),e.jsxs("div",{className:"p-6 flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-xs font-semibold rounded-full",children:P.category}),e.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:P.level.replace("_"," ").toUpperCase()})]}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 line-clamp-2",children:P.title}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:P.short_description}),e.jsx("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z"})}),P.total_lessons," lecii"]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),P.duration_hours,"h"]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),P.average_rating?.toFixed(1)||"N/A"]})]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:P.price_ron===0?"Gratuit":`${P.price_ron} RON`}),P.total_enrolled>0&&e.jsxs("p",{className:"text-xs text-gray-500",children:[P.total_enrolled," studeni nscrii"]})]}),e.jsx("button",{onClick:L=>{L.stopPropagation(),k(P.id)},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"nscrie-te"})]})]})]});return s?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Catalog Cursuri"}),e.jsx("p",{className:"text-xl text-blue-100",children:"nva abiliti eseniale pentru business prin cursuri practice i aplicative"})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Caut cursuri"}),e.jsx("input",{type:"text",value:u,onChange:P=>m(P.target.value),placeholder:"Caut dup titlu sau descriere...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categorie"}),e.jsxs("select",{value:h,onChange:P=>x(P.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"Toate categoriile"}),C.map(P=>e.jsx("option",{value:P,children:P},P))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nivel"}),e.jsxs("select",{value:f,onChange:P=>v(P.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"Toate nivelurile"}),e.jsx("option",{value:"beginner",children:"nceptor"}),e.jsx("option",{value:"intermediate",children:"Intermediar"}),e.jsx("option",{value:"advanced",children:"Avansat"}),e.jsx("option",{value:"all_levels",children:"Toate nivelurile"})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Pre: ",b[0]," - ",b[1]," RON"]}),e.jsx("input",{type:"range",min:"0",max:"1000",value:b[1],onChange:P=>w([0,parseInt(P.target.value)]),className:"w-full"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Sortare:"}),e.jsxs("select",{value:_,onChange:P=>A(P.target.value),className:"px-3 py-1 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"newest",children:"Cele mai noi"}),e.jsx("option",{value:"popular",children:"Cele mai populare"}),e.jsx("option",{value:"price_low",children:"Pre cresctor"}),e.jsx("option",{value:"price_high",children:"Pre descresctor"}),e.jsx("option",{value:"rating",children:"Rating"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>y("grid"),className:`p-2 rounded ${N==="grid"?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),e.jsx("button",{onClick:()=>y("list"),className:`p-2 rounded ${N==="list"?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})})]})]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("p",{className:"text-gray-600",children:[O.length," ",O.length===1?"curs gsit":"cursuri gsite"]})}),c&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:c}),e.jsx("div",{className:N==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-6",children:O.map(P=>e.jsx(D,{course:P},P.id))}),O.length===0&&!s&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Nu s-au gsit cursuri"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"ncearc s ajustezi filtrele sau caut altceva."})]})]})]})},Pre=()=>{const{slug:t}=cs(),a=Be(),[r,s]=g.useState(null),[i,c]=g.useState(!0),[o,u]=g.useState(null),[m,h]=g.useState("overview"),[x,f]=g.useState(new Set);g.useEffect(()=>{v()},[t]);const v=async()=>{try{c(!0);const y=localStorage.getItem("auth_token"),A=await(await fetch(`https://documentiulia.ro/api/v1/courses/get.php?slug=${t}`,{headers:{Authorization:`Bearer ${y||""}`}})).json();A.success?(s(A.course),A.course.modules.length>0&&f(new Set([A.course.modules[0].id]))):u(A.message)}catch(y){u("Failed to load course details"),console.error(y)}finally{c(!1)}},b=async()=>{const y=localStorage.getItem("auth_token");if(!y){a("/login",{state:{returnTo:`/courses/${t}`}});return}if(r)try{const A=await(await fetch("https://documentiulia.ro/api/v1/courses/enroll.php",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`},body:JSON.stringify({course_id:r.id})})).json();A.success?a(`/courses/${r.id}/learn`):alert(A.message)}catch(_){alert("Failed to enroll in course"),console.error(_)}},w=y=>{const _=new Set(x);_.has(y)?_.delete(y):_.add(y),f(_)},N=y=>{switch(y){case"video":return e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"})});case"quiz":return e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})});case"text":return e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z",clipRule:"evenodd"})});default:return e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})})}};return i?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):o||!r?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[e.jsx("div",{className:"text-red-600 text-xl mb-4",children:o||"Course not found"}),e.jsx("button",{onClick:()=>a("/courses"),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Back to Courses"})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("span",{className:"px-3 py-1 bg-blue-500 rounded-full text-sm font-semibold",children:r.category}),e.jsx("span",{className:"px-3 py-1 bg-blue-500 rounded-full text-sm",children:r.level.replace("_"," ").toUpperCase()})]}),e.jsx("h1",{className:"text-4xl font-bold mb-4",children:r.title}),e.jsx("p",{className:"text-xl text-blue-100 mb-6",children:r.short_description}),e.jsxs("div",{className:"flex items-center space-x-6 text-blue-100",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),e.jsx("span",{className:"font-semibold",children:r.average_rating?.toFixed(1)||"N/A"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})}),e.jsxs("span",{children:[r.total_enrolled," studeni nscrii"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),e.jsxs("span",{children:[r.duration_hours," ore  ",r.total_lessons," lecii"]})]})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("p",{className:"text-sm text-blue-200",children:["Creat de ",e.jsx("span",{className:"font-semibold text-white",children:r.instructor_name})]})})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 text-gray-900",children:[e.jsx("img",{src:r.thumbnail_url||"https://via.placeholder.com/400x225/3b82f6/ffffff?text=Course",alt:r.title,className:"w-full rounded-lg mb-4"}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("p",{className:"text-3xl font-bold text-blue-600 mb-2",children:r.price_ron===0?"Gratuit":`${r.price_ron} RON`}),r.price_ron>0&&e.jsx("p",{className:"text-sm text-gray-500",children:"Plat unic  Acces nelimitat"})]}),e.jsx("button",{onClick:b,className:"w-full py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-bold text-lg mb-4",children:"nscrie-te acum"}),e.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-3 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Acces nelimitat pe via"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-3 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Certificat de absolvire"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-3 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Resurse descrcabile"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-3 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Suport 24/7"]})]})]})})]})})}),e.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("nav",{className:"flex space-x-8",children:["overview","curriculum","instructor","reviews"].map(y=>e.jsxs("button",{onClick:()=>h(y),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${m===y?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[y==="overview"&&"Prezentare general",y==="curriculum"&&"Curriculum",y==="instructor"&&"Instructor",y==="reviews"&&"Recenzii"]},y))})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[m==="overview"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Despre acest curs"}),e.jsx("div",{className:"prose max-w-none text-gray-600",children:r.description})]}),r.what_you_will_learn&&r.what_you_will_learn.length>0&&e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Ce vei nva"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.what_you_will_learn.map((y,_)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx("svg",{className:"w-6 h-6 text-green-500 mr-3 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-gray-700",children:y})]},_))})]}),r.requirements&&r.requirements.length>0&&e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Cerine"}),e.jsx("ul",{className:"list-disc list-inside space-y-2 text-gray-700",children:r.requirements.map((y,_)=>e.jsx("li",{children:y},_))})]}),r.target_audience&&r.target_audience.length>0&&e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Acest curs este pentru tine dac"}),e.jsx("ul",{className:"list-disc list-inside space-y-2 text-gray-700",children:r.target_audience.map((y,_)=>e.jsx("li",{children:y},_))})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-24",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Statistici curs"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Durat total"}),e.jsxs("span",{className:"font-semibold",children:[r.duration_hours,"h"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Lecii"}),e.jsx("span",{className:"font-semibold",children:r.total_lessons})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Studeni"}),e.jsx("span",{className:"font-semibold",children:r.total_enrolled})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Nivel"}),e.jsx("span",{className:"font-semibold",children:r.level.replace("_"," ")})]})]})]})})]}),m==="curriculum"&&e.jsxs("div",{className:"max-w-4xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Coninutul cursului"}),e.jsxs("p",{className:"text-gray-600",children:[r.modules.length," module  ",r.total_lessons," lecii  ",r.duration_hours,"h durat total"]})]}),e.jsx("div",{className:"space-y-4",children:r.modules.map(y=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsxs("button",{onClick:()=>w(y.id),className:"w-full px-6 py-4 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform ${x.has(y.id)?"transform rotate-90":""}`,fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),e.jsxs("div",{className:"text-left",children:[e.jsxs("h3",{className:"font-bold text-gray-900",children:["Modulul ",y.order_index,": ",y.module_name]}),y.module_description&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:y.module_description})]})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[y.lessons.length," lecii"]})]}),x.has(y.id)&&e.jsx("div",{className:"border-t",children:y.lessons.map(_=>e.jsxs("div",{className:"px-6 py-4 flex items-center justify-between hover:bg-gray-50 border-b last:border-b-0",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"text-gray-400",children:N(_.lesson_type)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:_.lesson_name}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("span",{className:"text-xs text-gray-500 capitalize",children:_.lesson_type}),_.duration_minutes>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-xs text-gray-400",children:""}),e.jsxs("span",{className:"text-xs text-gray-500",children:[_.duration_minutes," min"]})]}),_.is_preview&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-xs text-gray-400",children:""}),e.jsx("span",{className:"text-xs text-blue-600 font-semibold",children:"Preview"})]})]})]})]}),_.is_preview&&e.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-semibold",children:"Vizioneaz"})]},_.id))})]},y.id))})]}),m==="instructor"&&e.jsx("div",{className:"max-w-4xl",children:e.jsx("div",{className:"bg-white rounded-lg shadow-md p-8",children:e.jsxs("div",{className:"flex items-start space-x-6",children:[e.jsx("div",{className:"w-32 h-32 bg-blue-600 rounded-full flex items-center justify-center text-white text-4xl font-bold flex-shrink-0",children:r.instructor_name.charAt(0)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:r.instructor_name}),e.jsx("p",{className:"text-gray-600 mb-6",children:r.instructor_bio||"Expert instructor cu experien vast n domeniu."}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.total_enrolled}),e.jsx("p",{className:"text-sm text-gray-600",children:"Studeni"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"1"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Cursuri"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.average_rating?.toFixed(1)||"N/A"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Rating mediu"})]})]})]})]})})}),m==="reviews"&&e.jsx("div",{className:"max-w-4xl",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Fr recenzii nc"}),e.jsx("p",{className:"text-gray-600",children:"Fii primul care las o recenzie pentru acest curs!"})]})})]})]})},zre=()=>{const t=Be(),[a,r]=g.useState([]),[s,i]=g.useState([]),[c,o]=g.useState(!0),[,u]=g.useState(null),[m,h]=g.useState("courses");g.useEffect(()=>{x()},[]);const x=async()=>{try{o(!0);const y=localStorage.getItem("auth_token");if(!y){t("/login");return}const A=await(await fetch("https://documentiulia.ro/api/v1/courses/my-enrollments.php",{headers:{Authorization:`Bearer ${y}`}})).json();A.success&&r(A.enrollments||[]);const C=(A.enrollments||[]).filter(E=>E.certificate_issued_at).map(E=>({certificate_id:E.enrollment_id,certificate_code:"CERT-PLACEHOLDER",course_name:E.course_title,course_category:"Business",issued_at:E.certificate_issued_at,final_score:E.completion_percentage,certificate_url:"/certificates/placeholder.pdf",is_valid:!0}));i(C)}catch(y){u("Failed to load student data"),console.error(y)}finally{o(!1)}},f=y=>{y.current_lesson_id?t(`/courses/${y.course_id}/learn/${y.current_lesson_id}`):t(`/courses/${y.course_id}/learn`)},v=y=>y>=80?"bg-green-500":y>=50?"bg-blue-500":y>=25?"bg-yellow-500":"bg-gray-300",b=y=>{if(y<60)return`${y}m`;const _=Math.floor(y/60),A=y%60;return`${_}h ${A}m`},N=(()=>{const y=a.length,_=a.filter(E=>E.completion_percentage>=100).length,A=a.filter(E=>E.completion_percentage>0&&E.completion_percentage<100).length,C=a.reduce((E,k)=>E+(k.time_spent_minutes||0),0);return{totalCourses:y,completedCourses:_,inProgressCourses:A,totalTimeSpent:C}})();return c?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Tabloul meu de bord"}),e.jsx("p",{className:"text-blue-100",children:"Gestioneaz-i cursurile i urmrete-i progresul"})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Cursuri totale"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:N.totalCourses})]}),e.jsx("div",{className:"bg-blue-100 rounded-full p-3",children:e.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3z"})})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Finalizate"}),e.jsx("p",{className:"text-3xl font-bold text-green-600 mt-1",children:N.completedCourses})]}),e.jsx("div",{className:"bg-green-100 rounded-full p-3",children:e.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"n progres"}),e.jsx("p",{className:"text-3xl font-bold text-yellow-600 mt-1",children:N.inProgressCourses})]}),e.jsx("div",{className:"bg-yellow-100 rounded-full p-3",children:e.jsx("svg",{className:"w-8 h-8 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Timp petrecut"}),e.jsxs("p",{className:"text-3xl font-bold text-purple-600 mt-1",children:[Math.floor(N.totalTimeSpent/60),"h"]})]}),e.jsx("div",{className:"bg-purple-100 rounded-full p-3",children:e.jsx("svg",{className:"w-8 h-8 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md mb-6",children:[e.jsx("div",{className:"border-b",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:["courses","certificates","activity"].map(y=>e.jsxs("button",{onClick:()=>h(y),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${m===y?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[y==="courses"&&"Cursurile mele",y==="certificates"&&"Certificate",y==="activity"&&"Activitate recent"]},y))})}),m==="courses"&&e.jsx("div",{className:"p-6",children:a.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Niciun curs nscris"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"ncepe s nvei explornd catalogul nostru de cursuri."}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:()=>t("/courses"),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Exploreaz cursuri"})})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(y=>e.jsxs("div",{className:"bg-gray-50 rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:y.course_thumbnail||"https://via.placeholder.com/400x225/3b82f6/ffffff?text=Course",alt:y.course_title,className:"w-full h-40 object-cover"}),y.completion_percentage>=100&&e.jsx("div",{className:"absolute top-2 right-2 bg-green-500 text-white px-3 py-1 rounded-full text-xs font-semibold",children:" Finalizat"})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-2 line-clamp-2",children:y.course_title}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-1",children:[e.jsx("span",{children:"Progres"}),e.jsxs("span",{className:"font-semibold",children:[Math.round(y.completion_percentage),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all ${v(y.completion_percentage)}`,style:{width:`${y.completion_percentage}%`}})})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-4",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),y.lessons_completed,"/",y.total_lessons]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),b(y.time_spent_minutes)]})]}),y.current_lesson_name&&e.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:["Lecia curent: ",e.jsx("span",{className:"font-medium",children:y.current_lesson_name})]}),e.jsx("button",{onClick:()=>f(y),className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:y.completion_percentage===0?"ncepe cursul":"Continu nvarea"})]})]},y.enrollment_id))})}),m==="certificates"&&e.jsx("div",{className:"p-6",children:s.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Niciun certificat nc"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Finalizeaz un curs pentru a obine primul certificat."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.map(y=>e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg p-6 border-2 border-blue-200",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:"bg-blue-600 text-white p-3 rounded-full",children:e.jsxs("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),e.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})]})}),e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-xs font-semibold rounded-full",children:y.course_category})]}),e.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:y.course_name}),e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Cod certificat: ",e.jsx("span",{className:"font-mono font-semibold",children:y.certificate_code})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-4",children:[e.jsxs("span",{children:["Scor final: ",e.jsxs("span",{className:"font-bold text-green-600",children:[y.final_score,"%"]})]}),e.jsx("span",{children:new Date(y.issued_at).toLocaleDateString("ro-RO")})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>window.open(y.certificate_url,"_blank"),className:"flex-1 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold text-sm",children:"Descarc PDF"}),e.jsx("button",{onClick:()=>navigator.clipboard.writeText(`https://documentiulia.ro/verify/${y.certificate_code}`),className:"flex-1 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-semibold text-sm",children:"Copiaz link"})]})]},y.certificate_id))})}),m==="activity"&&e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[a.filter(y=>y.last_accessed_at).sort((y,_)=>new Date(_.last_accessed_at).getTime()-new Date(y.last_accessed_at).getTime()).slice(0,10).map(y=>e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:y.course_thumbnail||"https://via.placeholder.com/80x80/3b82f6/ffffff?text=C",alt:y.course_title,className:"w-16 h-16 rounded-lg object-cover"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:y.course_title}),y.current_lesson_name&&e.jsx("p",{className:"text-sm text-gray-500 truncate",children:y.current_lesson_name}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Ultimul acces: ",new Date(y.last_accessed_at).toLocaleDateString("ro-RO")]})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx("button",{onClick:()=>f(y),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"Continu"})})]},y.enrollment_id)),a.filter(y=>y.last_accessed_at).length===0&&e.jsx("div",{className:"text-center py-12 text-gray-500",children:e.jsx("p",{children:"Nicio activitate recent"})})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Aciuni rapide"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("button",{onClick:()=>t("/courses"),className:"flex items-center space-x-3 p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3z"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Exploreaz cursuri"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Descoper cursuri noi"})]})]}),e.jsxs("button",{onClick:()=>h("certificates"),className:"flex items-center space-x-3 p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsxs("svg",{className:"w-8 h-8 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),e.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})]}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Certificatele mele"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Vezi certificatele obinute"})]})]}),e.jsxs("button",{onClick:()=>t("/settings"),className:"flex items-center space-x-3 p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors",children:[e.jsx("svg",{className:"w-8 h-8 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Setri cont"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Gestioneaz contul tu"})]})]})]})]})]})]})},Mre=({lessonId:t,videoUrl:a,lessonTitle:r,onProgress:s,onComplete:i,onNext:c,hasNextLesson:o=!1})=>{const u=g.useRef(null),[m,h]=g.useState(!1),[x,f]=g.useState(0),[v,b]=g.useState(0),[w,N]=g.useState(1),[y,_]=g.useState(!1),[A,C]=g.useState(0),[E,k]=g.useState(new Set),[O,D]=g.useState(Date.now()),[P,L]=g.useState(!1);g.useEffect(()=>{(async()=>{try{const Y=localStorage.getItem("auth_token"),ie=localStorage.getItem("selectedCompanyId"),xe=await fetch(`/api/v1/courses/get-progress.php?course_id=${t}`,{headers:{Authorization:`Bearer ${Y}`,"X-Company-ID":ie||""}});if(xe.ok){const ye=(await xe.json()).data.lessons.find(Ce=>Ce.lesson_id===t);ye&&ye.last_position&&u.current&&(u.current.currentTime=ye.last_position)}}catch(Y){console.error("Failed to load progress:",Y)}})(),D(Date.now())},[t]),g.useEffect(()=>{if(u.current&&v>0){const Y=Math.floor(x/5);E.has(Y)||k(new Set([...E,Y]))}},[x,v]);const z=()=>{if(v===0)return 0;const Y=Math.ceil(v/5),ie=E.size/Y*100;return Math.min(100,Math.round(ie*10)/10)};g.useEffect(()=>{const K=setInterval(()=>{m&&u.current&&M(!1)},1e4);return()=>clearInterval(K)},[m,x,E]);const M=async(K=!1)=>{const Y=z(),ie=Math.floor((Date.now()-O)/1e3),xe={lesson_id:t,progress_percentage:A,last_position:Math.floor(x),time_spent_seconds:ie,video_watch_percentage:Y,completed:K||Y>=90};s&&s(xe);try{const he=localStorage.getItem("auth_token"),ye=localStorage.getItem("selectedCompanyId"),Ce=await fetch("/api/v1/courses/update-progress.php",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`,"X-Company-ID":ye||""},body:JSON.stringify(xe)});Ce.ok&&(await Ce.json()).success&&!K&&Y>=90&&(L(!0),i&&i(),setTimeout(()=>{L(!1)},3e3))}catch(he){console.error("Failed to save progress:",he)}},F=()=>{u.current&&(m?u.current.pause():u.current.play(),h(!m))},q=()=>{if(u.current){f(u.current.currentTime);const K=u.current.currentTime/u.current.duration*100;C(K)}},te=()=>{u.current&&b(u.current.duration)},W=K=>{const Y=parseFloat(K.target.value);u.current&&(u.current.currentTime=Y,f(Y))},H=()=>{u.current&&(u.current.muted=!y,_(!y))},R=K=>{const Y=parseFloat(K.target.value);u.current&&(u.current.volume=Y,N(Y),_(Y===0))},$=()=>{u.current&&(document.fullscreenElement?document.exitFullscreen():u.current.requestFullscreen())},V=()=>{h(!1),M(!0),L(!0),i&&i()},Z=K=>{const Y=Math.floor(K/60),ie=Math.floor(K%60);return`${Y}:${ie.toString().padStart(2,"0")}`},B=z();return e.jsxs("div",{className:"relative w-full bg-gray-900 rounded-lg overflow-hidden shadow-2xl",children:[e.jsx("video",{ref:u,src:a,className:"w-full aspect-video",onTimeUpdate:q,onLoadedMetadata:te,onEnded:V,onPlay:()=>h(!0),onPause:()=>h(!1)}),P&&e.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 animate-fade-in",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{className:"font-semibold",children:"Lecia completat!"})]})}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 to-transparent p-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("input",{type:"range",min:"0",max:v,value:x,onChange:W,className:"w-full h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, #3b82f6 0%, #3b82f6 ${A}%, #4b5563 ${A}%, #4b5563 100%)`}}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-300 mt-1",children:[e.jsx("span",{children:Z(x)}),e.jsx("span",{children:Z(v)})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:F,className:"text-white hover:text-blue-400 transition-colors",children:m?e.jsx(my,{size:24}):e.jsx(Cv,{size:24})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:H,className:"text-white hover:text-blue-400 transition-colors",children:y||w===0?e.jsx(WM,{size:20}):e.jsx(YM,{size:20})}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:w,onChange:R,className:"w-20 h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer"})]}),e.jsxs("div",{className:"text-sm text-gray-300",children:["Progres: ",e.jsxs("span",{className:"text-blue-400 font-semibold",children:[B,"%"]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[o&&c&&e.jsxs("button",{onClick:c,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[e.jsx("span",{children:"Lecia urmtoare"}),e.jsx(CM,{size:16})]}),e.jsx("button",{onClick:$,className:"text-white hover:text-blue-400 transition-colors",children:e.jsx(Xz,{size:20})})]})]})]}),e.jsx("div",{className:"absolute top-0 left-0 right-0 bg-gradient-to-b from-black/70 to-transparent p-4",children:e.jsx("h3",{className:"text-white text-lg font-semibold",children:r})})]})},T3=()=>{const{courseId:t,lessonId:a}=cs(),r=Be(),[,s]=g.useState(null),[i,c]=g.useState(null),[o,u]=g.useState(null),[m,h]=g.useState(!0),[x,f]=g.useState(new Set);g.useEffect(()=>{v(),b()},[t]),g.useEffect(()=>{if(o&&a){const O=o.lessons.find(D=>D.lesson_id===parseInt(a));c(O)}},[a,o]);const v=async()=>{try{const O=localStorage.getItem("auth_token"),D=localStorage.getItem("selectedCompanyId"),P=await fetch(`/api/v1/courses/get.php?id=${t}`,{headers:{Authorization:`Bearer ${O}`,"X-Company-ID":D||""}});if(P.ok){const L=await P.json();s(L.data)}}catch(O){console.error("Failed to fetch course data:",O)}},b=async()=>{try{const O=localStorage.getItem("auth_token"),D=localStorage.getItem("selectedCompanyId"),P=await fetch(`/api/v1/courses/get-progress.php?course_id=${t}`,{headers:{Authorization:`Bearer ${O}`,"X-Company-ID":D||""}});if(P.ok){const L=await P.json();if(u(L.data),a){const z=L.data.lessons.find(M=>M.lesson_id===parseInt(a));z&&f(new Set([z.module_id]))}}}catch(O){console.error("Failed to fetch progress:",O)}finally{h(!1)}},w=async()=>{b()},N=()=>{b()},y=async()=>{try{const O=localStorage.getItem("auth_token"),D=localStorage.getItem("selectedCompanyId"),P=await fetch(`/api/v1/courses/next-lesson.php?course_id=${t}&current_lesson_id=${a}`,{headers:{Authorization:`Bearer ${O}`,"X-Company-ID":D||""}});if(P.ok){const L=await P.json();L.data&&r(`/courses/${t}/lesson/${L.data.id}`)}}catch(O){console.error("Failed to get next lesson:",O)}},_=O=>{const D=new Set(x);D.has(O)?D.delete(O):D.add(O),f(D)},A=O=>{r(`/courses/${t}/lesson/${O}`)},C=o?.lessons.reduce((O,D)=>(O[D.module_id]||(O[D.module_id]={module_id:D.module_id,module_name:D.module_name,module_number:D.module_number,lessons:[]}),O[D.module_id].lessons.push(D),O),{}),E=C?Object.values(C).sort((O,D)=>O.module_number-D.module_number):[],k=o?.lessons.findIndex(O=>O.lesson_id===parseInt(a||"0"))<(o?.lessons.length||0)-1;return m?e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):i?e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsx(Mre,{lessonId:i.lesson_id,videoUrl:`/videos/${i.lesson_id}.mp4`,lessonTitle:i.lesson_name,onProgress:w,onComplete:N,onNext:k?y:void 0,hasNextLesson:k}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:i.lesson_name}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[e.jsxs("span",{children:["Modul ",i.module_number]}),e.jsx("span",{children:""}),e.jsxs("span",{children:[Math.floor(i.video_duration_seconds/60)," minute"]}),i.is_completed&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:""}),e.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[e.jsx(Me,{size:16}),"Completat"]})]})]})]})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sticky top-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Curriculum curs"}),o&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${o.stats.overall_progress}%`}})}),e.jsxs("span",{className:"font-semibold",children:[Math.round(o.stats.overall_progress),"%"]})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[o?.stats.completed_lessons," / ",o?.stats.total_lessons," lecii completate"]})]}),e.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:E.map(O=>e.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[e.jsxs("button",{onClick:()=>_(O.module_id),className:"w-full flex items-center justify-between p-3 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[x.has(O.module_id)?e.jsx(yd,{size:16,className:"text-gray-600"}):e.jsx(vc,{size:16,className:"text-gray-600"}),e.jsxs("span",{className:"font-semibold text-sm text-gray-900",children:["Modul ",O.module_number,": ",O.module_name]})]}),e.jsxs("span",{className:"text-xs text-gray-500",children:[O.lessons.filter(D=>D.is_completed).length,"/",O.lessons.length]})]}),x.has(O.module_id)&&e.jsx("div",{className:"border-t border-gray-200",children:O.lessons.map(D=>e.jsxs("button",{onClick:()=>A(D.lesson_id),className:`w-full flex items-center gap-3 p-3 hover:bg-gray-50 transition-colors ${D.lesson_id===parseInt(a||"0")?"bg-blue-50 border-l-4 border-blue-600":""}`,children:[D.is_completed?e.jsx(Me,{size:16,className:"text-green-600 flex-shrink-0"}):e.jsx(dz,{size:16,className:"text-gray-400 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"text-sm text-gray-900",children:D.lesson_name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[Math.floor(D.video_duration_seconds/60)," min"]})]})]},D.lesson_id))})]},O.module_id))})]})})]})})}):e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Lecie negsit"}),e.jsx("button",{onClick:()=>r(`/courses/${t}`),className:"text-blue-600 hover:text-blue-800",children:"napoi la curs"})]})})},Rre=()=>{const t=Be(),[a,r]=g.useState(null),[s,i]=g.useState(null),[c,o]=g.useState([]),[u,m]=g.useState(!0),[,h]=g.useState(null);g.useEffect(()=>{x()},[]);const x=async()=>{try{m(!0);const y=localStorage.getItem("auth_token");if(!y){t("/login");return}const A=await(await fetch("https://documentiulia.ro/api/v1/subscriptions/my-subscription.php",{headers:{Authorization:`Bearer ${y}`}})).json();A.success&&(r(A.subscription),i(A.usage));const E=await(await fetch("https://documentiulia.ro/api/v1/subscriptions/plans.php")).json();E.success&&o(E.plans)}catch(y){h("Failed to load subscription data"),console.error(y)}finally{m(!1)}},f=y=>{const _={active:{bg:"bg-green-100",text:"text-green-800",label:"Activ"},trialing:{bg:"bg-blue-100",text:"text-blue-800",label:"Perioad trial"},past_due:{bg:"bg-red-100",text:"text-red-800",label:"Plat restant"},canceled:{bg:"bg-gray-100",text:"text-gray-800",label:"Anulat"},expired:{bg:"bg-gray-100",text:"text-gray-800",label:"Expirat"}},A=_[y]||_.active;return e.jsx("span",{className:`px-3 py-1 ${A.bg} ${A.text} text-sm font-semibold rounded-full`,children:A.label})},v=(y,_)=>_?Math.min(y/_*100,100):0,b=y=>y>=90?"bg-red-500":y>=75?"bg-yellow-500":"bg-green-500",w=y=>new Date(y).toLocaleDateString("ro-RO",{year:"numeric",month:"long",day:"numeric"}),N=y=>{const _=new Date,C=new Date(y).getTime()-_.getTime();return Math.ceil(C/(1e3*60*60*24))};return u?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Abonamentul meu"}),e.jsx("p",{className:"text-blue-100",children:"Gestioneaz abonamentul i facturarea"})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a?e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 mb-8",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Plan ",a.plan_name]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[f(a.status),a.cancel_at_period_end&&e.jsxs("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-800 text-sm font-semibold rounded-full",children:["Se anuleaz la ",w(a.current_period_end)]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[a.amount_paid," ",a.currency]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["/",a.billing_cycle==="yearly"?"an":"lun"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Perioad curent"}),e.jsxs("p",{className:"font-semibold text-gray-900",children:[w(a.current_period_start)," - ",w(a.current_period_end)]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[N(a.current_period_end)," zile pn la rennoire"]})]}),a.trial_ends_at&&e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-blue-600 mb-1",children:"Perioad trial"}),e.jsxs("p",{className:"font-semibold text-blue-900",children:["Expir ",w(a.trial_ends_at)]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Rennoire automat"}),e.jsx("p",{className:"font-semibold text-gray-900",children:a.auto_renew?"Activat":"Dezactivat"})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>t("/subscription/plans"),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"Schimb planul"}),e.jsx("button",{onClick:()=>t("/subscription/billing"),className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-semibold",children:"Istoric facturi"}),a.status==="active"&&!a.cancel_at_period_end&&e.jsx("button",{onClick:()=>{},className:"px-6 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors font-semibold",children:"Anuleaz abonamentul"})]})]}):e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 mb-8 text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Niciun abonament activ"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Eti pe planul Free. Actualizeaz pentru a debloca toate funcionalitile platformei."}),e.jsx("button",{onClick:()=>t("/subscription/plans"),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"Vezi planurile disponibile"})]}),s&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Utilizare resurse"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Facturi luna aceasta"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[s.invoices_this_month," / ",s.invoices_limit||""]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all ${b(v(s.invoices_this_month,s.invoices_limit))}`,style:{width:`${v(s.invoices_this_month,s.invoices_limit)}%`}})})]}),s.ai_queries_limit&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Interogri AI"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[s.ai_queries_this_month," / ",s.ai_queries_limit]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all ${b(v(s.ai_queries_this_month,s.ai_queries_limit))}`,style:{width:`${v(s.ai_queries_this_month,s.ai_queries_limit)}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Spaiu stocare"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[s.storage_used_gb.toFixed(2)," GB / ",s.storage_limit_gb," GB"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all ${b(v(s.storage_used_gb,s.storage_limit_gb))}`,style:{width:`${v(s.storage_used_gb,s.storage_limit_gb)}%`}})})]})]})]}),a&&a.features&&a.features.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Funcionaliti incluse"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.features.map((y,_)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("svg",{className:"w-5 h-5 text-green-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-gray-700",children:y})]},_))})]}),!a&&c.length>0&&e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg shadow-xl p-8 text-white mt-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Actualizeaz la Premium"}),e.jsx("p",{className:"text-blue-100 mb-4",children:"Deblocheaz funcionaliti avansate: AI, integrare bancar, CRM i multe altele"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Facturi nelimitate"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Asistent fiscal AI"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Acces la toate cursurile"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-blue-200 mb-2",children:"ncepnd de la"}),e.jsxs("p",{className:"text-4xl font-bold mb-2",children:[c[1]?.price_monthly," EUR"]}),e.jsx("p",{className:"text-sm text-blue-200 mb-4",children:"/lun"}),e.jsx("button",{onClick:()=>t("/subscription/plans"),className:"px-8 py-3 bg-white text-blue-600 rounded-lg hover:bg-blue-50 transition-colors font-bold text-lg",children:"Vezi planurile"})]})]})})]})]})},Lre=()=>{const t=Be(),[a,r]=g.useState([]),[s,i]=g.useState(!0),[c,o]=g.useState(null),[u,m]=g.useState("monthly"),[h,x]=g.useState(null);g.useEffect(()=>{f(),v()},[]);const f=async()=>{try{i(!0);const A=await(await fetch("https://documentiulia.ro/api/v1/subscriptions/plans.php")).json();A.success?r(A.plans):o(A.message)}catch(_){o("Failed to load pricing plans"),console.error(_)}finally{i(!1)}},v=async()=>{const _=localStorage.getItem("auth_token");if(_)try{const C=await(await fetch("https://documentiulia.ro/api/v1/subscriptions/my-subscription.php",{headers:{Authorization:`Bearer ${_}`}})).json();C.success&&C.subscription&&x(C.subscription.plan_key)}catch(A){console.error("Failed to check current subscription",A)}},b=_=>u==="yearly"?_.price_yearly:_.price_monthly,w=_=>{const A=_.price_monthly*12,C=A-_.price_yearly;return Math.round(C/A*100)},N=async _=>{if(!localStorage.getItem("auth_token")){t("/login",{state:{returnTo:"/subscription/plans"}});return}if(_.plan_key===h){t("/subscription");return}alert(`Upgrade to ${_.plan_name} - Stripe integration coming soon!`)},y=_=>{switch(_){case"free":return e.jsx("svg",{className:"w-12 h-12 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})});case"basic":return e.jsx("svg",{className:"w-12 h-12 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})});case"premium":return e.jsx("svg",{className:"w-12 h-12 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})});case"enterprise":return e.jsxs("svg",{className:"w-12 h-12 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{fillRule:"evenodd",d:"M6 6V5a3 3 0 013-3h2a3 3 0 013 3v1h2a2 2 0 012 2v3.57A22.952 22.952 0 0110 13a22.95 22.95 0 01-8-1.43V8a2 2 0 012-2h2zm2-1a1 1 0 011-1h2a1 1 0 011 1v1H8V5zm1 5a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1z",clipRule:"evenodd"}),e.jsx("path",{d:"M2 13.692V16a2 2 0 002 2h12a2 2 0 002-2v-2.308A24.974 24.974 0 0110 15c-2.796 0-5.487-.46-8-1.308z"})]});default:return null}};return s?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Alege planul potrivit pentru afacerea ta"}),e.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"ncepe gratuit i actualizeaz cnd afacerea ta crete"}),e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsx("span",{className:`text-lg ${u==="monthly"?"text-white font-semibold":"text-blue-200"}`,children:"Lunar"}),e.jsx("button",{onClick:()=>m(u==="monthly"?"yearly":"monthly"),className:`relative inline-flex h-8 w-16 items-center rounded-full transition-colors ${u==="yearly"?"bg-white":"bg-blue-400"}`,children:e.jsx("span",{className:`inline-block h-6 w-6 transform rounded-full bg-blue-600 transition-transform ${u==="yearly"?"translate-x-9":"translate-x-1"}`})}),e.jsx("span",{className:`text-lg ${u==="yearly"?"text-white font-semibold":"text-blue-200"}`,children:"Anual"}),u==="yearly"&&e.jsx("span",{className:"ml-2 px-3 py-1 bg-green-500 text-white text-sm font-bold rounded-full",children:"Economiseti pn la 30%!"})]})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[c&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:c}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:a.map(_=>{const A=_.plan_key==="premium",C=_.plan_key===h,E=b(_),k=u==="yearly"?w(_):0;return e.jsxs("div",{className:`relative bg-white rounded-xl shadow-lg overflow-hidden transition-transform hover:scale-105 ${A?"ring-4 ring-purple-500 transform scale-105":""}`,children:[A&&e.jsx("div",{className:"absolute top-0 right-0 bg-purple-500 text-white px-4 py-1 text-sm font-bold rounded-bl-lg",children:"CEL MAI POPULAR"}),C&&e.jsx("div",{className:"absolute top-0 left-0 bg-green-500 text-white px-4 py-1 text-sm font-bold rounded-br-lg",children:"PLANUL CURENT"}),e.jsxs("div",{className:"p-8",children:[e.jsx("div",{className:"flex justify-center mb-4",children:y(_.plan_key)}),e.jsx("h3",{className:"text-2xl font-bold text-center text-gray-900 mb-2",children:_.plan_name}),e.jsx("p",{className:"text-center text-gray-600 text-sm mb-6 h-12",children:_.description}),e.jsx("div",{className:"text-center mb-6",children:E===0?e.jsxs("div",{children:[e.jsx("p",{className:"text-4xl font-bold text-gray-900",children:"Gratuit"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Pentru totdeauna"})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-baseline justify-center",children:[e.jsx("span",{className:"text-4xl font-bold text-gray-900",children:E}),e.jsx("span",{className:"text-xl text-gray-600 ml-2",children:_.currency})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["per ",u==="yearly"?"an":"lun"]}),u==="yearly"&&k>0&&e.jsxs("p",{className:"text-xs text-green-600 font-semibold mt-1",children:["Economiseti ",k,"%"]})]})}),e.jsx("button",{onClick:()=>N(_),disabled:C,className:`w-full py-3 rounded-lg font-bold text-lg transition-colors mb-6 ${C?"bg-gray-200 text-gray-500 cursor-not-allowed":A?"bg-purple-600 text-white hover:bg-purple-700":"bg-blue-600 text-white hover:bg-blue-700"}`,children:C?"Planul curent":E===0?"ncepe gratuit":"Alege planul"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Ce include:"}),e.jsxs("div",{className:"space-y-2 mb-4 pb-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{children:_.max_invoices_per_month?`${_.max_invoices_per_month} facturi/lun`:"Facturi nelimitate"})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsxs("span",{children:[_.max_users_per_company," utilizatori"]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsxs("span",{children:[_.max_companies," ",_.max_companies===1?"companie":"companii"]})]}),_.ai_queries_per_month&&e.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsxs("span",{children:[_.ai_queries_per_month," interogri AI/lun"]})]})]}),_.features&&_.features.map((O,D)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-green-500 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-sm text-gray-700",children:O})]},D))]})]})]},_.id)})}),e.jsxs("div",{className:"mt-16 max-w-3xl mx-auto",children:[e.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-8",children:"ntrebri frecvente"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Pot s schimb planul oricnd?"}),e.jsx("p",{className:"text-gray-600",children:"Da, poi actualiza sau retrograda planul oricnd. Dac actualizezi, vei avea acces imediat la noile funcionaliti. Dac retrograzi, schimbarea va intra n vigoare la sfritul perioadei de facturare curente."})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ce metode de plat acceptai?"}),e.jsx("p",{className:"text-gray-600",children:"Acceptm toate cardurile majore (Visa, Mastercard, American Express) prin Stripe. Pentru planul Enterprise, oferim i opiunea de plat prin transfer bancar."})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Exist o perioad de prob gratuit?"}),e.jsx("p",{className:"text-gray-600",children:"Da! Toate planurile pltite includ o perioad de prob gratuit de 14 zile. Nu este necesar introducerea datelor cardului pentru planul Free."})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Pot anula oricnd?"}),e.jsx("p",{className:"text-gray-600",children:"Da, poi anula abonamentul oricnd din panoul de administrare. Nu exist penaliti pentru anulare i vei continua s ai acces pn la sfritul perioadei pltite."})]})]})]}),e.jsxs("div",{className:"mt-12 text-center",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Nu gseti rspunsul la ntrebarea ta?"}),e.jsx("button",{onClick:()=>t("/support"),className:"px-6 py-3 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors font-semibold",children:"Contacteaz suportul"})]})]})]})},Ire=()=>{const t=Be(),[a,r]=g.useState([]),[s,i]=g.useState(!0),[c,o]=g.useState(null),[u,m]=g.useState("all");g.useEffect(()=>{h()},[]);const h=async()=>{try{i(!0);const y=localStorage.getItem("auth_token");if(!y){t("/login");return}const A=await(await fetch("https://documentiulia.ro/api/v1/subscriptions/invoices.php",{headers:{Authorization:`Bearer ${y}`}})).json();A.success?r(A.invoices):o(A.message)}catch(y){o("Failed to load billing history"),console.error(y)}finally{i(!1)}},x=y=>{const _={paid:{bg:"bg-green-100",text:"text-green-800",label:"Pltit"},pending:{bg:"bg-yellow-100",text:"text-yellow-800",label:"n ateptare"},failed:{bg:"bg-red-100",text:"text-red-800",label:"Euat"},refunded:{bg:"bg-gray-100",text:"text-gray-800",label:"Rambursat"},void:{bg:"bg-gray-100",text:"text-gray-800",label:"Anulat"},draft:{bg:"bg-blue-100",text:"text-blue-800",label:"Ciorn"}},A=_[y]||_.pending;return e.jsx("span",{className:`px-3 py-1 ${A.bg} ${A.text} text-xs font-semibold rounded-full`,children:A.label})},f=y=>new Date(y).toLocaleDateString("ro-RO",{year:"numeric",month:"long",day:"numeric"}),v=y=>{y.pdf_url?window.open(y.pdf_url,"_blank"):alert("PDF-ul facturii nu este disponibil nc")},b=u==="all"?a:a.filter(y=>y.status===u),N=(()=>{const y=a.filter(A=>A.status==="paid").reduce((A,C)=>A+C.total_amount,0),_=a.filter(A=>A.status==="pending").reduce((A,C)=>A+C.total_amount,0);return{paid:y,pending:_}})();return s?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Istoric facturi"}),e.jsx("p",{className:"text-blue-100",children:"Vizualizeaz i descarc toate facturile tale"})]}),e.jsx("button",{onClick:()=>t("/subscription"),className:"px-6 py-2 bg-white text-blue-600 rounded-lg hover:bg-blue-50 transition-colors font-semibold",children:" napoi la abonament"})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total pltit"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[N.paid.toFixed(2)," EUR"]})]}),e.jsx("div",{className:"bg-green-100 rounded-full p-3",children:e.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"n ateptare"}),e.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[N.pending.toFixed(2)," EUR"]})]}),e.jsx("div",{className:"bg-yellow-100 rounded-full p-3",children:e.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total facturi"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:a.length})]}),e.jsx("div",{className:"bg-blue-100 rounded-full p-3",children:e.jsxs("svg",{className:"w-6 h-6 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{d:"M9 2a2 2 0 00-2 2v8a2 2 0 002 2h6a2 2 0 002-2V6.414A2 2 0 0016.414 5L14 2.586A2 2 0 0012.586 2H9z"}),e.jsx("path",{d:"M3 8a2 2 0 012-2v10h8a2 2 0 01-2 2H5a2 2 0 01-2-2V8z"})]})})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Filtreaz dup status:"}),e.jsxs("select",{value:u,onChange:y=>m(y.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"Toate facturile"}),e.jsx("option",{value:"paid",children:"Pltite"}),e.jsx("option",{value:"pending",children:"n ateptare"}),e.jsx("option",{value:"failed",children:"Euate"}),e.jsx("option",{value:"refunded",children:"Rambursate"})]})]})}),c&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:c}),b.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-12 text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nicio factur"}),e.jsx("p",{className:"text-gray-600",children:u==="all"?"Nu ai nc nicio factur. Cnd vei face un upgrade sau vei plti un abonament, facturile vor aprea aici.":`Nu ai facturi cu statusul "${u}".`})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Numr factur"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dat"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plan"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sum"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aciuni"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(y=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:y.invoice_number}),y.payment_method&&e.jsx("div",{className:"text-xs text-gray-500 capitalize",children:y.payment_method})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:f(y.invoice_date)}),y.paid_date&&e.jsxs("div",{className:"text-xs text-gray-500",children:["Pltit: ",f(y.paid_date)]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:y.plan_name})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[y.total_amount.toFixed(2)," ",y.currency]}),y.discount_amount>0&&e.jsxs("div",{className:"text-xs text-green-600",children:["Reducere: -",y.discount_amount.toFixed(2)," ",y.currency]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x(y.status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:e.jsxs("button",{onClick:()=>v(y),className:"text-blue-600 hover:text-blue-900 inline-flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Descarc"]})})]},y.id))})]})})}),e.jsx("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("svg",{className:"w-6 h-6 text-blue-600 mr-3 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Ai nevoie de ajutor cu facturarea?"}),e.jsx("p",{className:"text-blue-800 mb-3",children:"Dac ai ntrebri despre o factur sau ai nevoie de ajutor cu plata, contacteaz echipa noastr de suport."}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>t("/support"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold text-sm",children:"Contacteaz suportul"}),e.jsx("button",{onClick:()=>window.open("mailto:billing@documentiulia.ro"),className:"px-4 py-2 bg-white text-blue-600 border border-blue-600 rounded-lg hover:bg-blue-50 transition-colors font-semibold text-sm",children:"Email: billing@documentiulia.ro"})]})]})]})})]})]})},$re=()=>{const t=Be(),[a,r]=g.useState(null),[s,i]=g.useState(!0),[c,o]=g.useState(null),[u,m]=g.useState({start:new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]});g.useEffect(()=>{h()},[u]);const h=async()=>{try{i(!0);const v=localStorage.getItem("auth_token");if(!v){t("/login");return}const w=await(await fetch(`https://documentiulia.ro/api/v1/reports/key-metrics.php?start_date=${u.start}&end_date=${u.end}`,{headers:{Authorization:`Bearer ${v}`}})).json();w.success?r(w.metrics):o(w.message)}catch(v){o("Failed to load key metrics"),console.error(v)}finally{i(!1)}},x=v=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:"RON"}).format(v),f=v=>`${v.toFixed(2)}%`;return s?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-800 text-white py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Rapoarte avansate"}),e.jsx("p",{className:"text-purple-100",children:"Analize financiare i rapoarte detaliate"})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data nceput"}),e.jsx("input",{type:"date",value:u.start,onChange:v=>m({...u,start:v.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data sfrit"}),e.jsx("input",{type:"date",value:u.end,onChange:v=>m({...u,end:v.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:h,className:"w-full px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-semibold",children:"Actualizeaz"})})]})}),c&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:c}),a&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-green-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Venituri totale"}),e.jsxs("svg",{className:"w-8 h-8 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}),e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z",clipRule:"evenodd"})]})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x(a.total_revenue)}),a.revenue_growth_rate!==0&&e.jsxs("p",{className:`text-sm mt-2 ${a.revenue_growth_rate>0?"text-green-600":"text-red-600"}`,children:[a.revenue_growth_rate>0?"":""," ",f(Math.abs(a.revenue_growth_rate))," vs perioada anterioar"]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-red-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Cheltuieli totale"}),e.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x(a.total_expenses)})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-blue-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Venit net"}),e.jsx("svg",{className:"w-8 h-8 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 0l-2 2a1 1 0 101.414 1.414L8 10.414l1.293 1.293a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),e.jsx("p",{className:`text-2xl font-bold ${a.net_income>=0?"text-green-600":"text-red-600"}`,children:x(a.net_income)}),e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Marj: ",f(a.profit_margin)]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-purple-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Cash flow"}),e.jsx("svg",{className:"w-8 h-8 text-purple-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})]}),e.jsx("p",{className:`text-2xl font-bold ${a.cash_flow>=0?"text-green-600":"text-red-600"}`,children:x(a.cash_flow)})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-1",children:"Valoare medie factur"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:x(a.average_invoice_value)})]}),e.jsx("div",{className:"bg-blue-100 rounded-full p-4",children:e.jsxs("svg",{className:"w-8 h-8 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{d:"M9 2a2 2 0 00-2 2v8a2 2 0 002 2h6a2 2 0 002-2V6.414A2 2 0 0016.414 5L14 2.586A2 2 0 0012.586 2H9z"}),e.jsx("path",{d:"M3 8a2 2 0 012-2v10h8a2 2 0 01-2 2H5a2 2 0 01-2-2V8z"})]})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("button",{onClick:()=>t("/reports/profit-loss"),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-xl transition-shadow text-left group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"bg-green-100 rounded-lg p-3 group-hover:bg-green-200 transition-colors",children:e.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 0l-2 2a1 1 0 101.414 1.414L8 10.414l1.293 1.293a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("svg",{className:"w-6 h-6 text-gray-400 group-hover:text-purple-600 transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Profit & Loss"}),e.jsx("p",{className:"text-gray-600",children:"Situaia veniturilor i cheltuielilor, cu calcul venit net i marj de profit"})]}),e.jsxs("button",{onClick:()=>t("/reports/budget-vs-actual"),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-xl transition-shadow text-left group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"bg-blue-100 rounded-lg p-3 group-hover:bg-blue-200 transition-colors",children:e.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})})}),e.jsx("svg",{className:"w-6 h-6 text-gray-400 group-hover:text-purple-600 transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Buget vs Realizat"}),e.jsx("p",{className:"text-gray-600",children:"Comparaie ntre bugetul planificat i realizrile efective, cu analiz varian"})]}),e.jsxs("button",{onClick:()=>t("/reports/cash-flow"),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-xl transition-shadow text-left group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"bg-purple-100 rounded-lg p-3 group-hover:bg-purple-200 transition-colors",children:e.jsx("svg",{className:"w-8 h-8 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})}),e.jsx("svg",{className:"w-6 h-6 text-gray-400 group-hover:text-purple-600 transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Situaia fluxului de numerar"}),e.jsx("p",{className:"text-gray-600",children:"Analiz intrri i ieiri de numerar, cu calcul cash flow net"})]}),e.jsxs("button",{onClick:()=>t("/reports/custom-builder"),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-xl transition-shadow text-left group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"bg-orange-100 rounded-lg p-3 group-hover:bg-orange-200 transition-colors",children:e.jsx("svg",{className:"w-8 h-8 text-orange-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"})})}),e.jsx("svg",{className:"w-6 h-6 text-gray-400 group-hover:text-purple-600 transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Constructor rapoarte personalizate"}),e.jsx("p",{className:"text-gray-600",children:"Creeaz rapoarte custom cu metrici i filtre configurabile"})]})]})]})]})},Bre=()=>{const t=Be(),[a,r]=g.useState(null),[s,i]=g.useState(!0),[c,o]=g.useState(null),[u,m]=g.useState({start:new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]});g.useEffect(()=>{h()},[u]);const h=async()=>{try{i(!0);const b=localStorage.getItem("auth_token");if(!b){t("/login");return}const N=await(await fetch(`https://documentiulia.ro/api/v1/reports/profit-loss.php?start_date=${u.start}&end_date=${u.end}`,{headers:{Authorization:`Bearer ${b}`}})).json();N.success?r(N.data):o(N.message)}catch(b){o("Failed to load profit & loss report"),console.error(b)}finally{i(!1)}},x=b=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:"RON"}).format(b),f=b=>new Date(b).toLocaleDateString("ro-RO",{year:"numeric",month:"long",day:"numeric"}),v=()=>{alert("Funcionalitatea de export PDF va fi implementat n curnd")};return s?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-800 text-white py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Raport Profit & Loss"}),e.jsx("p",{className:"text-green-100",children:"Situaia veniturilor i cheltuielilor pentru perioada selectat"})]}),e.jsx("button",{onClick:()=>t("/reports"),className:"px-6 py-2 bg-white text-green-600 rounded-lg hover:bg-green-50 transition-colors font-semibold",children:" napoi la rapoarte"})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data nceput"}),e.jsx("input",{type:"date",value:u.start,onChange:b=>m({...u,start:b.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data sfrit"}),e.jsx("input",{type:"date",value:u.end,onChange:b=>m({...u,end:b.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:h,className:"w-full px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-semibold",children:"Actualizeaz"})}),e.jsx("div",{className:"flex items-end",children:e.jsxs("button",{onClick:v,className:"w-full px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-semibold flex items-center justify-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Export PDF"]})})]})}),c&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:c}),a&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8 text-center",children:e.jsxs("p",{className:"text-lg text-gray-600",children:["Perioada: ",e.jsx("span",{className:"font-semibold text-gray-900",children:f(a.period_start)})," - ",e.jsx("span",{className:"font-semibold text-gray-900",children:f(a.period_end)})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-t-4 border-green-500",children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-2",children:"Venituri totale"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:x(a.revenue.total_revenue)}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[a.revenue.invoice_count," facturi"]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-t-4 border-red-500",children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-2",children:"Cheltuieli totale"}),e.jsx("p",{className:"text-3xl font-bold text-red-600",children:x(a.expenses.total_expenses)}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[a.expenses.expense_count," cheltuieli"]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-t-4 border-blue-500",children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-2",children:"Venit net"}),e.jsx("p",{className:`text-3xl font-bold ${a.net_income>=0?"text-blue-600":"text-red-600"}`,children:x(a.net_income)}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:a.net_income>=0?"Profit":"Pierdere"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-t-4 border-purple-500",children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-2",children:"Marj de profit"}),e.jsxs("p",{className:`text-3xl font-bold ${a.profit_margin>=0?"text-purple-600":"text-red-600"}`,children:[a.profit_margin.toFixed(2),"%"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:a.profit_margin>=20?"Excelent":a.profit_margin>=10?"Bun":a.profit_margin>=0?"Modest":"Negativ"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsx("div",{className:"bg-green-600 text-white px-6 py-4",children:e.jsx("h3",{className:"text-xl font-bold",children:"Venituri detaliate"})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center pb-4 border-b border-gray-200",children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Facturi pltite"}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:x(a.revenue.total_revenue)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Numr facturi"}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:a.revenue.invoice_count})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Valoare medie factur"}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:a.revenue.invoice_count>0?x(a.revenue.total_revenue/a.revenue.invoice_count):x(0)})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsx("div",{className:"bg-red-600 text-white px-6 py-4",children:e.jsx("h3",{className:"text-xl font-bold",children:"Cheltuieli pe categorii"})}),e.jsx("div",{className:"p-6",children:a.expenses.by_category.length>0?e.jsxs("div",{className:"space-y-3",children:[a.expenses.by_category.map((b,w)=>e.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-gray-200 last:border-0",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-900 font-medium capitalize",children:b.category}),e.jsxs("p",{className:"text-xs text-gray-500",children:[b.expense_count," cheltuieli"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-lg font-bold text-red-600",children:x(b.total_amount)}),e.jsxs("p",{className:"text-xs text-gray-500",children:[(b.total_amount/a.expenses.total_expenses*100).toFixed(1),"%"]})]})]},w)),e.jsxs("div",{className:"flex justify-between items-center pt-3 border-t-2 border-gray-300",children:[e.jsx("span",{className:"text-gray-900 font-bold",children:"TOTAL"}),e.jsx("span",{className:"text-xl font-bold text-red-600",children:x(a.expenses.total_expenses)})]})]}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("p",{children:"Nicio cheltuial nregistrat n aceast perioad"})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mt-8",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Analiz de performan"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Status profitabilitate"}),e.jsx("div",{className:"flex items-center",children:a.net_income>=0?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-6 h-6 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-lg font-semibold text-green-700",children:"Profitabil"})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-6 h-6 text-red-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-lg font-semibold text-red-700",children:"Neprofitabil"})]})})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Eficien operaional"}),e.jsx("div",{className:"flex items-center",children:e.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:[a.expenses.total_expenses>0?(a.expenses.total_expenses/a.revenue.total_revenue*100).toFixed(1):"0.0","% din venituri"]})})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Recomandare"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:a.profit_margin>=20?"Continuai strategia actual":a.profit_margin>=10?"Optimizai cheltuielile operaionale":a.profit_margin>=0?"Reducei cheltuielile sau cretei preurile":"Revizii urgent modelul de business"})]})]})]})]})]})]})},Fre=()=>{const t=Be(),[a,r]=g.useState(null),[s,i]=g.useState(!0),[c,o]=g.useState(null),[u,m]=g.useState(new Date().getFullYear()),[h,x]=g.useState(null);g.useEffect(()=>{f()},[u,h]);const f=async()=>{try{i(!0);const y=localStorage.getItem("auth_token");if(!y){t("/login");return}const _=new URLSearchParams({year:u.toString()});h!==null&&_.append("month",h.toString());const C=await(await fetch(`https://documentiulia.ro/api/v1/reports/budget-vs-actual.php?${_.toString()}`,{headers:{Authorization:`Bearer ${y}`}})).json();C.success?r(C.data):o(C.message)}catch(y){o("Failed to load budget comparison"),console.error(y)}finally{i(!1)}},v=y=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:"RON"}).format(y),b=y=>{const _={on_track:{bg:"bg-green-100",text:"text-green-800",label:"Pe int",icon:""},under:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Sub int",icon:""},over:{bg:"bg-red-100",text:"text-red-800",label:"Peste buget",icon:""}},A=_[y]||_.on_track;return e.jsxs("span",{className:`px-3 py-1 ${A.bg} ${A.text} text-xs font-semibold rounded-full`,children:[A.icon," ",A.label]})},w=(y,_=!1)=>_?y>=0?"text-green-600":"text-red-600":y<=0?"text-green-600":"text-red-600",N=[{value:null,label:"Tot anul"},{value:1,label:"Ianuarie"},{value:2,label:"Februarie"},{value:3,label:"Martie"},{value:4,label:"Aprilie"},{value:5,label:"Mai"},{value:6,label:"Iunie"},{value:7,label:"Iulie"},{value:8,label:"August"},{value:9,label:"Septembrie"},{value:10,label:"Octombrie"},{value:11,label:"Noiembrie"},{value:12,label:"Decembrie"}];return s?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Buget vs Realizat"}),e.jsx("p",{className:"text-blue-100",children:"Comparaie ntre bugetul planificat i performana efectiv"})]}),e.jsx("button",{onClick:()=>t("/reports"),className:"px-6 py-2 bg-white text-blue-600 rounded-lg hover:bg-blue-50 transition-colors font-semibold",children:" napoi la rapoarte"})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Anul"}),e.jsx("select",{value:u,onChange:y=>m(parseInt(y.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[2024,2025,2026].map(y=>e.jsx("option",{value:y,children:y},y))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Luna"}),e.jsx("select",{value:h===null?"":h,onChange:y=>x(y.target.value===""?null:parseInt(y.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:N.map(y=>e.jsx("option",{value:y.value===null?"":y.value,children:y.label},y.value===null?"all":y.value))})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:f,className:"w-full px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"Actualizeaz"})})]})}),c&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:c}),a&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8 text-center",children:e.jsxs("p",{className:"text-lg text-gray-600",children:["Perioad: ",e.jsx("span",{className:"font-semibold text-gray-900",children:a.period})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-8",children:[e.jsxs("div",{className:"bg-green-600 text-white px-6 py-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Venituri"}),b(a.revenue_performance)]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Bugetat"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v(a.revenue_budgeted)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Realizat"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:v(a.revenue_actual)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Varian"}),e.jsxs("p",{className:`text-2xl font-bold ${w(a.revenue_variance,!0)}`,children:[a.revenue_variance>=0?"+":"",v(a.revenue_variance)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Varian %"}),e.jsxs("p",{className:`text-2xl font-bold ${w(a.revenue_variance,!0)}`,children:[a.revenue_variance_percent>=0?"+":"",a.revenue_variance_percent.toFixed(1),"%"]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[e.jsx("span",{children:"Progres fa de buget"}),e.jsxs("span",{children:[(a.revenue_actual/a.revenue_budgeted*100).toFixed(1),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:e.jsx("div",{className:`h-4 rounded-full ${a.revenue_actual>=a.revenue_budgeted?"bg-green-500":a.revenue_actual>=a.revenue_budgeted*.8?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(100,a.revenue_actual/a.revenue_budgeted*100)}%`}})})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-8",children:[e.jsx("div",{className:"bg-red-600 text-white px-6 py-4",children:e.jsx("h3",{className:"text-xl font-bold",children:"Cheltuieli pe categorii"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categorie"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bugetat"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Realizat"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Varian"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Varian %"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[a.expense_categories.map((y,_)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm font-medium text-gray-900 capitalize",children:y.category})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("span",{className:"text-sm text-gray-900",children:v(y.budgeted)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:v(y.actual)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsxs("span",{className:`text-sm font-semibold ${w(y.variance)}`,children:[y.variance>=0?"+":"",v(y.variance)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsxs("span",{className:`text-sm font-semibold ${w(y.variance)}`,children:[y.variance>=0?"+":"",y.variance_percent.toFixed(1),"%"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:b(y.performance)})]},_)),e.jsxs("tr",{className:"bg-gray-100 font-semibold",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm font-bold text-gray-900",children:"TOTAL CHELTUIELI"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("span",{className:"text-sm font-bold text-gray-900",children:v(a.total_expenses_budgeted)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("span",{className:"text-sm font-bold text-gray-900",children:v(a.total_expenses_actual)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsxs("span",{className:`text-sm font-bold ${w(a.total_expenses_variance)}`,children:[a.total_expenses_variance>=0?"+":"",v(a.total_expenses_variance)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsxs("span",{className:`text-sm font-bold ${w(a.total_expenses_variance)}`,children:[a.total_expenses_variance>=0?"+":"",a.total_expenses_variance_percent.toFixed(1),"%"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap"})]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsx("div",{className:"bg-purple-600 text-white px-6 py-4",children:e.jsx("h3",{className:"text-xl font-bold",children:"Venit net"})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Venit net bugetat"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:v(a.net_income_budgeted)})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Venit net realizat"}),e.jsx("p",{className:`text-3xl font-bold ${a.net_income_actual>=0?"text-blue-600":"text-red-600"}`,children:v(a.net_income_actual)})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-6",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Varian venit net"}),e.jsxs("p",{className:`text-3xl font-bold ${w(a.net_income_variance,!0)}`,children:[a.net_income_variance>=0?"+":"",v(a.net_income_variance)]})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("svg",{className:"w-6 h-6 text-blue-600 mr-3 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Analiz de performan"}),e.jsx("p",{className:"text-blue-800",children:a.net_income_variance>=0?`Excelent! Venitul net a depit bugetul cu ${v(Math.abs(a.net_income_variance))}. Continuai strategia actual i monitorizai performana.`:`Atenie! Venitul net este sub buget cu ${v(Math.abs(a.net_income_variance))}. Revizuii cheltuielile i cutai oportuniti de cretere a veniturilor.`})]})]})})]})]})]})]})]})},Ure=()=>{const t=Be(),[a,r]=g.useState(null),[s,i]=g.useState(!0),[c,o]=g.useState(null),[u,m]=g.useState({start:new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]});g.useEffect(()=>{h()},[u]);const h=async()=>{try{i(!0);const v=localStorage.getItem("auth_token");if(!v){t("/login");return}const w=await(await fetch(`https://documentiulia.ro/api/v1/reports/cash-flow.php?start_date=${u.start}&end_date=${u.end}`,{headers:{Authorization:`Bearer ${v}`}})).json();w.success?r(w.data):o(w.message)}catch(v){o("Failed to load cash flow report"),console.error(v)}finally{i(!1)}},x=v=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:"RON"}).format(v),f=v=>new Date(v).toLocaleDateString("ro-RO",{year:"numeric",month:"long",day:"numeric"});return s?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-800 text-white py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Situaia fluxului de numerar"}),e.jsx("p",{className:"text-purple-100",children:"Analiz detaliat a intrrilor i ieirilor de numerar"})]}),e.jsx("button",{onClick:()=>t("/reports"),className:"px-6 py-2 bg-white text-purple-600 rounded-lg hover:bg-purple-50 transition-colors font-semibold",children:" napoi la rapoarte"})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data nceput"}),e.jsx("input",{type:"date",value:u.start,onChange:v=>m({...u,start:v.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data sfrit"}),e.jsx("input",{type:"date",value:u.end,onChange:v=>m({...u,end:v.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:h,className:"w-full px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-semibold",children:"Actualizeaz"})})]})}),c&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:c}),a&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8 text-center",children:e.jsxs("p",{className:"text-lg text-gray-600",children:["Perioada: ",e.jsx("span",{className:"font-semibold text-gray-900",children:f(a.period_start)})," - ",e.jsx("span",{className:"font-semibold text-gray-900",children:f(a.period_end)})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-t-4 border-green-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Intrri totale"}),e.jsx("svg",{className:"w-8 h-8 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v3.586L7.707 9.293a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 10.586V7z",clipRule:"evenodd"})})]}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:x(a.operating_activities.cash_in.total)})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-t-4 border-red-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Ieiri totale"}),e.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-7.414V13a1 1 0 11-2 0v-2.414l-1.293 1.293a1 1 0 01-1.414-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 10.586z",clipRule:"evenodd"})})]}),e.jsx("p",{className:"text-3xl font-bold text-red-600",children:x(a.operating_activities.cash_out.total)})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-t-4 border-purple-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Cash flow net"}),e.jsx("svg",{className:"w-8 h-8 text-purple-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})]}),e.jsx("p",{className:`text-3xl font-bold ${a.net_cash_flow>=0?"text-purple-600":"text-red-600"}`,children:x(a.net_cash_flow)})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-8",children:[e.jsx("div",{className:"bg-purple-600 text-white px-6 py-4",children:e.jsx("h3",{className:"text-xl font-bold",children:"Activiti operaionale"})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("svg",{className:"w-6 h-6 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v3.586L7.707 9.293a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 10.586V7z",clipRule:"evenodd"})}),"Intrri de numerar"]}),e.jsxs("div",{className:"space-y-3 pl-8",children:[e.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-gray-200",children:[e.jsx("span",{className:"text-gray-700",children:"Facturi ncasate"}),e.jsx("span",{className:"text-lg font-semibold text-green-600",children:x(a.operating_activities.cash_in.invoices_paid)})]}),e.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-gray-200",children:[e.jsx("span",{className:"text-gray-700",children:"Alte venituri"}),e.jsx("span",{className:"text-lg font-semibold text-green-600",children:x(a.operating_activities.cash_in.other_income)})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2 bg-green-50 px-4 py-3 rounded-lg",children:[e.jsx("span",{className:"text-gray-900 font-semibold",children:"Total intrri"}),e.jsx("span",{className:"text-xl font-bold text-green-600",children:x(a.operating_activities.cash_in.total)})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("svg",{className:"w-6 h-6 text-red-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-7.414V13a1 1 0 11-2 0v-2.414l-1.293 1.293a1 1 0 01-1.414-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 10.586z",clipRule:"evenodd"})}),"Ieiri de numerar"]}),e.jsxs("div",{className:"space-y-3 pl-8",children:[e.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-gray-200",children:[e.jsx("span",{className:"text-gray-700",children:"Cheltuieli pltite"}),e.jsx("span",{className:"text-lg font-semibold text-red-600",children:x(a.operating_activities.cash_out.expenses_paid)})]}),e.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-gray-200",children:[e.jsx("span",{className:"text-gray-700",children:"Facturi furnizori pltite"}),e.jsx("span",{className:"text-lg font-semibold text-red-600",children:x(a.operating_activities.cash_out.bills_paid)})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2 bg-red-50 px-4 py-3 rounded-lg",children:[e.jsx("span",{className:"text-gray-900 font-semibold",children:"Total ieiri"}),e.jsx("span",{className:"text-xl font-bold text-red-600",children:x(a.operating_activities.cash_out.total)})]})]})]}),e.jsx("div",{className:"border-t-2 border-gray-300 pt-6",children:e.jsxs("div",{className:"flex justify-between items-center bg-purple-50 px-6 py-4 rounded-lg",children:[e.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Cash flow net din operaiuni"}),e.jsx("span",{className:`text-3xl font-bold ${a.operating_activities.net_operating_cash_flow>=0?"text-purple-600":"text-red-600"}`,children:x(a.operating_activities.net_operating_cash_flow)})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsx("div",{className:"bg-blue-600 text-white px-6 py-4",children:e.jsx("h3",{className:"text-xl font-bold",children:"Rezumat sold numerar"})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center pb-4 border-b border-gray-200",children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Sold iniial"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:x(a.opening_balance)})]}),e.jsxs("div",{className:"flex justify-between items-center pb-4 border-b border-gray-200",children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Cash flow perioada"}),e.jsxs("span",{className:`text-2xl font-bold ${a.net_cash_flow>=0?"text-green-600":"text-red-600"}`,children:[a.net_cash_flow>=0?"+":"",x(a.net_cash_flow)]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 bg-blue-50 px-6 py-4 rounded-lg",children:[e.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Sold final"}),e.jsx("span",{className:`text-3xl font-bold ${a.closing_balance>=0?"text-blue-600":"text-red-600"}`,children:x(a.closing_balance)})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("svg",{className:`w-6 h-6 ${a.net_cash_flow>=0?"text-green-500":"text-red-500"} mr-3 flex-shrink-0`,fill:"currentColor",viewBox:"0 0 20 20",children:a.net_cash_flow>=0?e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"}):e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:a.net_cash_flow>=0?"Sntate financiar bun":"Atenie necesar"}),e.jsx("p",{className:"text-gray-700",children:a.net_cash_flow>=0?`Cash flow-ul pozitiv de ${x(a.net_cash_flow)} indic o sntate financiar bun. Continuai s monitorizai intrrile i ieirile pentru a menine aceast tendin.`:`Cash flow-ul negativ de ${x(Math.abs(a.net_cash_flow))} necesit atenie imediat. Revizuii cheltuielile i accelerai ncasrile pentru a mbunti situaia.`})]})]})})]})]})]})]})]})},qre=()=>{const{token:t,companyId:a}=Ct(),[r,s]=g.useState([]),[i,c]=g.useState([]),[o,u]=g.useState(!0),[m,h]=g.useState(!1),[x,f]=g.useState(""),[v,b]=g.useState("nordigen"),[w,N]=g.useState(null);g.useEffect(()=>{y()},[]);const y=async()=>{try{const L=await(await fetch("https://documentiulia.ro/api/v1/bank/connections.php",{headers:{Authorization:`Bearer ${t}`,"X-Company-ID":a||""}})).json();L.success&&s(L.data)}catch(P){console.error("Error fetching connections:",P)}finally{u(!1)}},_=async()=>{try{const L=await(await fetch(`https://documentiulia.ro/api/v1/bank/institutions.php?provider=${v}&country=RO`,{headers:{Authorization:`Bearer ${t}`}})).json();L.success&&c(L.data)}catch(P){console.error("Error fetching institutions:",P)}},A=async()=>{if(!x){alert("V rugm selectai o banc");return}try{const P=`${window.location.origin}/bank/callback`,z=await(await fetch("https://documentiulia.ro/api/v1/bank/connections.php",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,"X-Company-ID":a||""},body:JSON.stringify({provider:v,institution_id:x,redirect_url:P})})).json();z.success?(sessionStorage.setItem("pending_bank_connection_id",z.data.connection_id),window.location.href=z.data.auth_url):alert("Eroare: "+z.message)}catch(P){console.error("Error adding connection:",P),alert("Eroare la conectarea bncii")}},C=async P=>{N(P);try{const z=await(await fetch("https://documentiulia.ro/api/v1/bank/connection-sync.php",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,"X-Company-ID":a||""},body:JSON.stringify({connection_id:P})})).json();z.success?(alert(`Sincronizare reuit: ${z.data.new} tranzacii noi`),y()):alert("Eroare sincronizare: "+z.message)}catch(L){console.error("Error syncing:",L),alert("Eroare la sincronizare")}finally{N(null)}},E=async P=>{if(confirm("Sigur dorii s deconectai acest cont bancar?"))try{const z=await(await fetch("https://documentiulia.ro/api/v1/bank/connection-disconnect.php",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,"X-Company-ID":a||""},body:JSON.stringify({connection_id:P})})).json();z.success?(alert("Cont deconectat cu succes"),y()):alert("Eroare: "+z.message)}catch(L){console.error("Error disconnecting:",L),alert("Eroare la deconectare")}},k=()=>{h(!0),_()},O=P=>{const L={active:{bg:"bg-green-100",text:"text-green-800",label:"Activ"},pending:{bg:"bg-yellow-100",text:"text-yellow-800",label:"n ateptare"},expired:{bg:"bg-red-100",text:"text-red-800",label:"Expirat"},disconnected:{bg:"bg-gray-100",text:"text-gray-800",label:"Deconectat"}},z=L[P]||L.pending;return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${z.bg} ${z.text}`,children:z.label})},D=P=>P?new Date(P).toLocaleDateString("ro-RO",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Niciodat";return o?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"text-gray-500",children:"Se ncarc..."})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Conturi bancare conectate"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Conectai-v conturile bancare pentru sincronizare automat a tranzaciilor"})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("button",{onClick:k,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Adaug cont bancar"]})}),r.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Niciun cont conectat"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"ncepei prin a conecta primul cont bancar."}),e.jsx("div",{className:"mt-6",children:e.jsxs("button",{onClick:k,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Adaug cont bancar"]})})]}):e.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:r.map(P=>e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[P.institution_logo_url?e.jsx("img",{src:P.institution_logo_url,alt:P.institution_name,className:"h-10 w-10 rounded-md mr-3"}):e.jsx("div",{className:"h-10 w-10 rounded-md bg-blue-100 flex items-center justify-center mr-3",children:e.jsx("svg",{className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:P.institution_name}),e.jsx("p",{className:"text-xs text-gray-500",children:P.account_type})]})]}),O(P.status)]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Cont:"}),e.jsxs("span",{className:"font-medium text-gray-900",children:["****",P.account_number]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Moned:"}),e.jsx("span",{className:"font-medium text-gray-900",children:P.currency})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Ultima sincronizare:"}),e.jsx("span",{className:"font-medium text-gray-900 text-xs",children:D(P.last_sync_at)})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>C(P.id),disabled:w===P.id||P.status!=="active",className:"flex-1 inline-flex justify-center items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:w===P.id?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-gray-700",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sincronizare..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"-ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Sincronizeaz"]})}),e.jsx("button",{onClick:()=>E(P.id),className:"inline-flex justify-center items-center px-3 py-2 border border-red-300 shadow-sm text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:e.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})},P.id))}),m&&e.jsx("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:e.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>h(!1)}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen",children:""}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[e.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Adaug cont bancar"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Provider"}),e.jsxs("select",{value:v,onChange:P=>{b(P.target.value),_()},className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",children:[e.jsx("option",{value:"nordigen",children:"Nordigen (Gratuit)"}),e.jsx("option",{value:"salt_edge",children:"Salt Edge (Premium)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Banc"}),e.jsxs("select",{value:x,onChange:P=>f(P.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",children:[e.jsx("option",{value:"",children:"Selectai banca..."}),i.map(P=>e.jsx("option",{value:P.id,children:P.name},P.id))]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[e.jsx("button",{type:"button",onClick:A,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm",children:"Conecteaz"}),e.jsx("button",{type:"button",onClick:()=>h(!1),className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Anuleaz"})]})]})]})})]})},Hre=()=>{const{token:t,companyId:a}=Ct(),[r,s]=g.useState([]),[i,c]=g.useState(null),[o,u]=g.useState(!0),[m,h]=g.useState({date_from:new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0],date_to:new Date().toISOString().split("T")[0],category:"",status:""}),[x,f]=g.useState(null),[v,b]=g.useState("");g.useEffect(()=>{w(),N()},[m]);const w=async()=>{u(!0);try{const k=new URLSearchParams;m.date_from&&k.append("date_from",m.date_from),m.date_to&&k.append("date_to",m.date_to),m.category&&k.append("category",m.category),m.status&&k.append("status",m.status),k.append("limit","100");const D=await(await fetch(`https://documentiulia.ro/api/v1/bank/transactions.php?${k.toString()}`,{headers:{Authorization:`Bearer ${t}`,"X-Company-ID":a||""}})).json();D.success&&s(D.data)}catch(k){console.error("Error fetching transactions:",k)}finally{u(!1)}},N=async()=>{try{const k=new URLSearchParams;k.append("from_date",m.date_from),k.append("to_date",m.date_to);const D=await(await fetch(`https://documentiulia.ro/api/v1/bank/transaction-stats.php?${k.toString()}`,{headers:{Authorization:`Bearer ${t}`,"X-Company-ID":a||""}})).json();D.success&&c(D.data)}catch(k){console.error("Error fetching stats:",k)}},y=async(k,O)=>{try{const P=await(await fetch("https://documentiulia.ro/api/v1/bank/transactions.php",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,"X-Company-ID":a||""},body:JSON.stringify({transaction_id:k,category:O})})).json();P.success?(w(),f(null)):alert("Eroare: "+P.message)}catch(D){console.error("Error updating category:",D),alert("Eroare la actualizare categorie")}},_=k=>({income_salary:"Venit - Salariu",income_refund:"Venit - Rambursare",income_other:"Venit - Altele",groceries:"Alimente",transportation_fuel:"Transport - Combustibil",dining_out:"Restaurante",utilities:"Utiliti",rent:"Chirie",cash_withdrawal:"Retragere numerar",uncategorized:"Necategorizat"})[k]||k,A=(k,O)=>{const D=k.startsWith("income_"),P=D?"bg-green-100":O>=70?"bg-blue-100":"bg-gray-100",L=D?"text-green-800":O>=70?"text-blue-800":"text-gray-800";return e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${P} ${L}`,children:[_(k),O<100&&e.jsxs("span",{className:"ml-1 text-xs opacity-75",children:["(",Math.round(O),"%)"]})]})},C=(k,O)=>{const D=k>=0?"text-green-600":"text-red-600",P=k>=0?"+":"";return e.jsxs("span",{className:`font-semibold ${D}`,children:[P,k.toFixed(2)," ",O]})},E=k=>new Date(k).toLocaleDateString("ro-RO",{year:"numeric",month:"short",day:"numeric"});return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Tranzacii bancare"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Vizualizai i gestionai toate tranzaciile sincronizate din conturile bancare"})]}),i&&e.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4 mb-8",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total tranzacii"}),e.jsx("dd",{className:"mt-1 text-3xl font-semibold text-gray-900",children:i.total_transactions})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total venituri"}),e.jsxs("dd",{className:"mt-1 text-3xl font-semibold text-green-600",children:["+",Number(i.total_income).toFixed(2)," RON"]})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total cheltuieli"}),e.jsxs("dd",{className:"mt-1 text-3xl font-semibold text-red-600",children:["-",Number(i.total_expenses).toFixed(2)," RON"]})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Reconciliate"}),e.jsx("dd",{className:"mt-1 text-3xl font-semibold text-blue-600",children:i.matched_transactions})]})})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Filtre"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"De la data"}),e.jsx("input",{type:"date",value:m.date_from,onChange:k=>h({...m,date_from:k.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Pn la data"}),e.jsx("input",{type:"date",value:m.date_to,onChange:k=>h({...m,date_to:k.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Categorie"}),e.jsxs("select",{value:m.category,onChange:k=>h({...m,category:k.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"Toate categoriile"}),e.jsx("option",{value:"groceries",children:"Alimente"}),e.jsx("option",{value:"transportation_fuel",children:"Transport"}),e.jsx("option",{value:"dining_out",children:"Restaurante"}),e.jsx("option",{value:"utilities",children:"Utiliti"}),e.jsx("option",{value:"income_salary",children:"Salariu"}),e.jsx("option",{value:"uncategorized",children:"Necategorizat"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),e.jsxs("select",{value:m.status,onChange:k=>h({...m,status:k.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"Toate statusurile"}),e.jsx("option",{value:"booked",children:"Confirmat"}),e.jsx("option",{value:"pending",children:"n ateptare"})]})]})]})]}),e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:o?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"text-gray-500",children:"Se ncarc..."})}):r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Nicio tranzacie"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Nu s-au gsit tranzacii pentru criteriile selectate."})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descriere"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cont"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categorie"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sum"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aciuni"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(k=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E(k.transaction_date)}),e.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:[e.jsx("div",{className:"font-medium",children:k.clean_description||k.description}),k.counterparty_name&&e.jsx("div",{className:"text-xs text-gray-500",children:k.counterparty_name})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e.jsx("div",{children:k.institution_name}),e.jsxs("div",{className:"text-xs",children:["****",k.account_number]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x===k.id?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:v,onChange:O=>b(O.target.value),className:"text-sm border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"groceries",children:"Alimente"}),e.jsx("option",{value:"transportation_fuel",children:"Transport"}),e.jsx("option",{value:"dining_out",children:"Restaurante"}),e.jsx("option",{value:"utilities",children:"Utiliti"}),e.jsx("option",{value:"rent",children:"Chirie"}),e.jsx("option",{value:"income_salary",children:"Salariu"}),e.jsx("option",{value:"uncategorized",children:"Necategorizat"})]}),e.jsx("button",{onClick:()=>y(k.id,v),className:"text-green-600 hover:text-green-900",children:""}),e.jsx("button",{onClick:()=>f(null),className:"text-red-600 hover:text-red-900",children:""})]}):e.jsx("div",{onClick:()=>{f(k.id),b(k.category)},className:"cursor-pointer",children:A(k.category,k.category_confidence)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right",children:C(k.amount,k.currency)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:"Reconciliaz"})})]},k.id))})]})})})]})},Vre=()=>{const t=Be();md();const{token:a,companyId:r}=Ct(),[s,i]=g.useState("processing"),[c,o]=g.useState("Procesm conexiunea dvs. bancar...");g.useEffect(()=>{u()},[]);const u=async()=>{try{const m=sessionStorage.getItem("pending_bank_connection_id");if(!m){i("error"),o("ID conexiune lips. V rugm ncercai din nou.");return}const x=await(await fetch("https://documentiulia.ro/api/v1/bank/connection-complete.php",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,"X-Company-ID":r||""},body:JSON.stringify({connection_id:m})})).json();x.success?(i("success"),o("Conexiune bancar stabilit cu succes!"),sessionStorage.removeItem("pending_bank_connection_id"),setTimeout(()=>{t("/bank/connections")},2e3)):(i("error"),o(`Eroare: ${x.message}`))}catch(m){console.error("Error completing connection:",m),i("error"),o("Eroare la finalizarea conexiunii. V rugm ncercai din nou.")}};return e.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:e.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:e.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:e.jsxs("div",{className:"text-center",children:[s==="processing"&&e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-12 w-12 text-blue-600 mx-auto mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Procesare..."}),e.jsx("p",{className:"text-sm text-gray-500",children:c})]}),s==="success"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:e.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Succes!"}),e.jsx("p",{className:"text-sm text-gray-500",children:c}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Vei fi redirecionat automat..."})]}),s==="error"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:e.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Eroare"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:c}),e.jsx("button",{onClick:()=>t("/bank/connections"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"napoi la conexiuni"})]})]})})})})},Gre=()=>{const t=Be(),a=g.useRef(null),r=g.useRef(null),s=g.useRef(null),[i,c]=g.useState(!1),[o,u]=g.useState(!1),[m,h]=g.useState(!1),[x,f]=g.useState(!1),[v,b]=g.useState(null),[w,N]=g.useState(null),[y,_]=g.useState(null),[A,C]=g.useState(null),[E,k]=g.useState(!0),[O,D]=g.useState({}),P=localStorage.getItem("auth_token"),L=localStorage.getItem("company_id"),z=Y=>{Y.preventDefault(),Y.stopPropagation(),c(!0)},M=Y=>{Y.preventDefault(),Y.stopPropagation(),c(!1)},F=Y=>{Y.preventDefault(),Y.stopPropagation()},q=Y=>{Y.preventDefault(),Y.stopPropagation(),c(!1);const ie=Y.dataTransfer.files;ie&&ie.length>0&&te(ie[0])},te=async Y=>{if(!["image/jpeg","image/jpg","image/png","application/pdf"].includes(Y.type)){C("Please upload a valid image (JPG, PNG) or PDF file");return}const xe=10*1024*1024;if(Y.size>xe){C("File size must be less than 10MB");return}C(null);const he=new FileReader;he.onload=ye=>{N(ye.target?.result)},he.readAsDataURL(Y),await W(Y)},W=async Y=>{u(!0),C(null);const ie=localStorage.getItem("auth_token"),xe=localStorage.getItem("company_id");if(!ie||ie==="null"||ie==="undefined"){C("Session expired. Please log in again."),u(!1),setTimeout(()=>t("/login"),2e3);return}try{const he=new FormData;he.append("file",Y),he.append("auto_process",E?"true":"false");const Ce=await(await fetch("https://documentiulia.ro/api/v1/receipts/upload.php",{method:"POST",headers:{Authorization:`Bearer ${ie}`,"X-Company-ID":xe||""},body:he})).json();Ce.success?(_(Ce.data),E&&Ce.data.ocr_status==="completed"?D({merchant_name:Ce.data.merchant_name,receipt_date:Ce.data.receipt_date,total_amount:Ce.data.total_amount,vat_amount:Ce.data.vat_amount,currency:Ce.data.currency,payment_method:Ce.data.payment_method,ocr_confidence:Ce.data.ocr_confidence}):E&&Ce.data.ocr_status==="processing"&&H(Ce.data.receipt_id)):C(Ce.message||"Upload failed")}catch(he){C("Network error during upload"),console.error(he)}finally{u(!1)}},H=async Y=>{h(!0);const ie=30;let xe=0;const he=setInterval(async()=>{xe++;try{const Ce=await(await fetch(`https://documentiulia.ro/api/v1/receipts/get.php?receipt_id=${Y}`,{headers:{Authorization:`Bearer ${P}`,"X-Company-ID":L||""}})).json();if(Ce.success){const re=Ce.data;re.ocr_status==="completed"?(clearInterval(he),h(!1),_(re),D({merchant_name:re.merchant_name,receipt_date:re.receipt_date,total_amount:re.total_amount,vat_amount:re.vat_amount,currency:re.currency,payment_method:re.payment_method,ocr_confidence:re.ocr_confidence})):re.ocr_status==="failed"&&(clearInterval(he),h(!1),C("OCR processing failed. Please try again or edit manually."))}xe>=ie&&(clearInterval(he),h(!1),C("Processing timeout. Please check receipt list later."))}catch(ye){console.error("Polling error:",ye)}},1e3)},R=async()=>{if(y){h(!0),C(null);try{const ie=await(await fetch("https://documentiulia.ro/api/v1/receipts/process.php",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${P}`,"X-Company-ID":L||""},body:JSON.stringify({receipt_id:y.receipt_id})})).json();ie.success?(_(ie.data),D({merchant_name:ie.data.merchant_name,receipt_date:ie.data.receipt_date,total_amount:ie.data.total_amount,vat_amount:ie.data.vat_amount,currency:ie.data.currency,payment_method:ie.data.payment_method,ocr_confidence:ie.data.ocr_confidence})):C(ie.message||"Processing failed")}catch(Y){C("Network error during processing"),console.error(Y)}finally{h(!1)}}},$=async()=>{try{const Y=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});r.current&&(r.current.srcObject=Y,b(Y),f(!0))}catch(Y){C("Could not access camera. Please check permissions."),console.error(Y)}},V=()=>{v&&(v.getTracks().forEach(Y=>Y.stop()),b(null)),f(!1)},Z=()=>{if(r.current&&s.current){const Y=r.current,ie=s.current;ie.width=Y.videoWidth,ie.height=Y.videoHeight;const xe=ie.getContext("2d");xe&&(xe.drawImage(Y,0,0),ie.toBlob(async he=>{if(he){const ye=new File([he],`receipt_${Date.now()}.jpg`,{type:"image/jpeg"});V();const Ce=new FileReader;Ce.onload=re=>{N(re.target?.result)},Ce.readAsDataURL(ye),await W(ye)}},"image/jpeg",.9))}},B=()=>{y&&t("/expenses/create",{state:{receipt_id:y.receipt_id,merchant:O.merchant_name,amount:O.total_amount,date:O.receipt_date,currency:O.currency}})},K=()=>{N(null),_(null),D({}),C(null),a.current&&(a.current.value="")};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Upload Receipt"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Upload a receipt image or PDF and extract data automatically using OCR"})]}),!w&&!x&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[e.jsxs("div",{className:`border-2 border-dashed rounded-lg p-12 text-center transition-colors ${i?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:z,onDragOver:F,onDragLeave:M,onDrop:q,children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:e.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsx("p",{className:"mt-4 text-lg text-gray-700",children:"Drag and drop a receipt image here, or click to browse"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Supports JPG, PNG, PDF up to 10MB"}),e.jsxs("div",{className:"mt-6 flex justify-center gap-4",children:[e.jsx("button",{onClick:()=>a.current?.click(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Choose File"}),e.jsx("button",{onClick:$,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:" Use Camera"})]}),e.jsx("input",{ref:a,type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",className:"hidden",onChange:Y=>{Y.target.files&&Y.target.files.length>0&&te(Y.target.files[0])}})]}),e.jsxs("div",{className:"mt-4 flex items-center",children:[e.jsx("input",{type:"checkbox",id:"auto-process",checked:E,onChange:Y=>k(Y.target.checked),className:"h-4 w-4 text-blue-600 rounded"}),e.jsx("label",{htmlFor:"auto-process",className:"ml-2 text-sm text-gray-700",children:"Automatically extract data after upload (recommended)"})]})]}),x&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("video",{ref:r,autoPlay:!0,playsInline:!0,className:"w-full rounded-lg"}),e.jsx("canvas",{ref:s,className:"hidden"})]}),e.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[e.jsx("button",{onClick:Z,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:" Capture Photo"}),e.jsx("button",{onClick:V,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Cancel"})]})]}),A&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-red-800",children:A})}),(o||m)&&e.jsx("div",{className:"mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600 mr-3"}),e.jsxs("p",{className:"text-blue-800",children:[o&&"Uploading receipt...",m&&"Processing with OCR..."]})]})}),w&&y&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Receipt Preview"}),e.jsx("img",{src:w,alt:"Receipt preview",className:"w-full rounded-lg border border-gray-200"}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsx("button",{onClick:K,className:"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Upload Another"}),y.ocr_status!=="completed"&&e.jsx("button",{onClick:R,disabled:m,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Process Now"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Extracted Data"}),y.ocr_confidence&&e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm ${y.ocr_confidence>=80?"bg-green-100 text-green-800":y.ocr_confidence>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[Math.round(y.ocr_confidence),"% confidence"]})]}),y.ocr_status==="completed"?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Merchant Name"}),e.jsx("input",{type:"text",value:O.merchant_name||"",onChange:Y=>D({...O,merchant_name:Y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Receipt Date"}),e.jsx("input",{type:"date",value:O.receipt_date||"",onChange:Y=>D({...O,receipt_date:Y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Amount"}),e.jsx("input",{type:"number",step:"0.01",value:O.total_amount||"",onChange:Y=>D({...O,total_amount:parseFloat(Y.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"VAT Amount"}),e.jsx("input",{type:"number",step:"0.01",value:O.vat_amount||"",onChange:Y=>D({...O,vat_amount:parseFloat(Y.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Currency"}),e.jsxs("select",{value:O.currency||"RON",onChange:Y=>D({...O,currency:Y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{value:"RON",children:"RON"}),e.jsx("option",{value:"EUR",children:"EUR"}),e.jsx("option",{value:"USD",children:"USD"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),e.jsxs("select",{value:O.payment_method||"",onChange:Y=>D({...O,payment_method:Y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"cash",children:"Cash"}),e.jsx("option",{value:"card",children:"Card"}),e.jsx("option",{value:"transfer",children:"Bank Transfer"})]})]}),e.jsx("button",{onClick:B,className:"w-full mt-6 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium",children:"Create Expense from Receipt"})]}):e.jsxs("p",{className:"text-gray-600",children:[y.ocr_status==="pending"&&'Click "Process Now" to extract data',y.ocr_status==="processing"&&"Processing...",y.ocr_status==="failed"&&"Processing failed. Please edit manually."]})]})]})]})})},Kre=()=>{const t=Be(),[a,r]=g.useState([]),[s,i]=g.useState(null),[c,o]=g.useState(!0),[u,m]=g.useState(null),[h,x]=g.useState(""),[f,v]=g.useState(""),[b,w]=g.useState(""),[N,y]=g.useState(""),[_,A]=g.useState(""),[C]=g.useState(50),[E,k]=g.useState(0),[O,D]=g.useState(null),[P,L]=g.useState(!1),z=localStorage.getItem("auth_token"),M=localStorage.getItem("company_id");g.useEffect(()=>{F()},[h,f,b,N,_,E]);const F=async()=>{o(!0),m(null);try{const Z=new URLSearchParams;h&&Z.append("status",h),f&&Z.append("date_from",f),b&&Z.append("date_to",b),N&&Z.append("merchant",N),_&&Z.append("linked",_),Z.append("limit",C.toString()),Z.append("offset",E.toString());const K=await(await fetch(`https://documentiulia.ro/api/v1/receipts/list.php?${Z.toString()}`,{headers:{Authorization:`Bearer ${z}`,"X-Company-ID":M||""}})).json();K.success?(r(K.data),i(K.stats)):m(K.message||"Failed to load receipts")}catch(Z){m("Network error loading receipts"),console.error(Z)}finally{o(!1)}},q=async Z=>{if(confirm("Are you sure you want to delete this receipt?"))try{(await fetch("https://documentiulia.ro/api/v1/receipts/delete.php",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${z}`,"X-Company-ID":M||""},body:JSON.stringify({receipt_id:Z})})).ok&&F()}catch(B){console.error("Delete error:",B),alert("Failed to delete receipt")}},te=Z=>{D(Z),L(!0)},W=Z=>{t("/expenses/create",{state:{receipt_id:Z.id,merchant:Z.merchant_name,amount:Z.total_amount,date:Z.receipt_date,currency:Z.currency}})},H=()=>{x(""),v(""),w(""),y(""),A(""),k(0)},R=Z=>{const B={pending:"bg-gray-100 text-gray-800",processing:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800"};return e.jsx("span",{className:`inline-flex px-2.5 py-0.5 rounded-full text-xs font-medium ${B[Z]||B.pending}`,children:Z.charAt(0).toUpperCase()+Z.slice(1)})},$=Z=>new Date(Z).toLocaleDateString("ro-RO",{year:"numeric",month:"short",day:"numeric"}),V=(Z,B="RON")=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:B}).format(Z);return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Receipts"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Manage and process your receipt uploads"})]}),e.jsx("button",{onClick:()=>t("/receipts/upload"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"+ Upload Receipt"})]}),s&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Receipts"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.total_count})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Processed"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.completed_count})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:s.pending_count})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Amount"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:V(s.total_amount)})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Filters"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:h,onChange:Z=>x(Z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"processing",children:"Processing"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"failed",children:"Failed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date From"}),e.jsx("input",{type:"date",value:f,onChange:Z=>v(Z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date To"}),e.jsx("input",{type:"date",value:b,onChange:Z=>w(Z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Merchant"}),e.jsx("input",{type:"text",placeholder:"Search merchant...",value:N,onChange:Z=>y(Z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Linked Status"}),e.jsxs("select",{value:_,onChange:Z=>A(Z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"true",children:"Linked to Expense"}),e.jsx("option",{value:"false",children:"Not Linked"})]})]})]}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx("button",{onClick:H,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Reset Filters"})})]}),u&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-red-800",children:u})}),c?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading receipts..."})]}):a.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No receipts found"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Upload your first receipt to get started"}),e.jsx("button",{onClick:()=>t("/receipts/upload"),className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Upload Receipt"})]}):e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Merchant"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Confidence"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Linked"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(Z=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Z.receipt_date?$(Z.receipt_date):"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Z.merchant_name||"Unknown"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Z.total_amount?V(Z.total_amount,Z.currency):"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:R(Z.ocr_status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Z.ocr_confidence?`${Math.round(Z.ocr_confidence)}%`:"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:Z.expense_id?e.jsx("span",{className:"inline-flex px-2 py-1 bg-green-100 text-green-800 rounded text-xs",children:" Linked"}):e.jsx("span",{className:"inline-flex px-2 py-1 bg-gray-100 text-gray-800 rounded text-xs",children:"Not Linked"})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx("button",{onClick:()=>te(Z),className:"text-blue-600 hover:text-blue-900 mr-3",children:"View"}),!Z.expense_id&&Z.ocr_status==="completed"&&e.jsx("button",{onClick:()=>W(Z),className:"text-green-600 hover:text-green-900 mr-3",children:"Link"}),e.jsx("button",{onClick:()=>q(Z.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},Z.id))})]}),e.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",E+1," to ",Math.min(E+C,E+a.length)," of ",s?.total_count||0," receipts"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>k(Math.max(0,E-C)),disabled:E===0,className:"px-4 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),e.jsx("button",{onClick:()=>k(E+C),disabled:a.length<C,className:"px-4 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})]})]}),P&&O&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Receipt Details"}),e.jsx("button",{onClick:()=>L(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{children:e.jsx("img",{src:`https://documentiulia.ro/${O.file_path}`,alt:"Receipt",className:"w-full rounded-lg border border-gray-200"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),R(O.ocr_status)]}),O.ocr_confidence&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"OCR Confidence"}),e.jsxs("p",{className:"text-gray-900",children:[Math.round(O.ocr_confidence),"%"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Merchant Name"}),e.jsx("p",{className:"text-gray-900",children:O.merchant_name||"Not detected"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Receipt Date"}),e.jsx("p",{className:"text-gray-900",children:O.receipt_date?$(O.receipt_date):"Not detected"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Amount"}),e.jsx("p",{className:"text-gray-900",children:O.total_amount?V(O.total_amount,O.currency):"Not detected"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Linked to Expense"}),e.jsx("p",{className:"text-gray-900",children:O.expense_id?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload Date"}),e.jsx("p",{className:"text-gray-900",children:$(O.created_at)})]}),!O.expense_id&&O.ocr_status==="completed"&&e.jsx("button",{onClick:()=>{L(!1),W(O)},className:"w-full mt-4 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Create Expense from Receipt"})]})]})]})})})]})})},Yre=()=>{const{receiptId:t}=cs(),a=Be(),[r,s]=g.useState(!0),[i,c]=g.useState(!1),[o,u]=g.useState(null),[m,h]=g.useState(null),[x,f]=g.useState(""),[v,b]=g.useState({}),[w,N]=g.useState(""),[y,_]=g.useState(null),A=[{key:"merchant_name",label:"Merchant Name",icon:""},{key:"merchant_address",label:"Merchant Address",icon:""},{key:"receipt_number",label:"Receipt Number",icon:""},{key:"receipt_date",label:"Receipt Date",icon:""},{key:"total_amount",label:"Total Amount",icon:""},{key:"vat_amount",label:"VAT Amount",icon:""},{key:"vat_rate",label:"VAT Rate",icon:"%"},{key:"payment_method",label:"Payment Method",icon:""}];g.useEffect(()=>{C()},[t]);const C=async()=>{try{s(!0),u(null);const D=localStorage.getItem("auth_token"),P=localStorage.getItem("company_id"),z=await(await fetch(`/api/v1/receipts/template-editor.php?receipt_id=${t}`,{headers:{Authorization:`Bearer ${D}`,"X-Company-ID":P||""}})).json();if(!z.success)throw new Error(z.message||"Failed to load template data");if(h(z.data),f(z.data.receipt.merchant_name||""),z.data.existing_template?.field_mappings)try{const M=typeof z.data.existing_template.field_mappings=="string"?JSON.parse(z.data.existing_template.field_mappings):z.data.existing_template.field_mappings;b(M)}catch(M){console.error("Error parsing field mappings:",M)}}catch(D){u(D.message)}finally{s(!1)}},E=D=>{if(!w){alert("Please select a field first by clicking on one of the field buttons on the left");return}_(D.index);const P=`line:${D.index}`;b(L=>({...L,[w]:{pattern:P,line_index:D.index,example:D.text}}))},k=async()=>{try{if(c(!0),u(null),!x.trim())throw new Error("Merchant name is required");const D=localStorage.getItem("auth_token"),P=localStorage.getItem("company_id"),z=await(await fetch("/api/v1/receipts/template-editor.php",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${D}`,"X-Company-ID":P||""},body:JSON.stringify({receipt_id:t,merchant_name:x,merchant_pattern:x,field_mappings:v})})).json();if(!z.success)throw new Error(z.message||"Failed to save template");alert("Template saved successfully!"),a("/receipts")}catch(D){u(D.message)}finally{c(!1)}},O=D=>{b(P=>{const L={...P};return delete L[D],L})};return r?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading receipt data..."})]})}):o||!m?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-md w-full",children:[e.jsxs("div",{className:"text-red-600 text-center",children:[e.jsx("svg",{className:"w-16 h-16 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("h2",{className:"text-xl font-bold mb-2",children:"Error"}),e.jsx("p",{children:o||"Failed to load template data"})]}),e.jsx("button",{onClick:()=>a("/receipts"),className:"mt-6 w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700",children:"Back to Receipts"})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Receipt Template Editor"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Click on the text lines in the receipt to assign them to fields"})]}),e.jsx("button",{onClick:()=>a("/receipts"),className:"px-4 py-2 text-gray-600 hover:text-gray-900",children:" Back"})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Merchant Name *"}),e.jsx("input",{type:"text",value:x,onChange:D=>f(D.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter merchant name"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Fields to Extract"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select a field, then click on the corresponding line in the receipt"}),e.jsx("div",{className:"space-y-2",children:A.map(D=>{const P=!!v[D.key],L=w===D.key;return e.jsxs("div",{children:[e.jsx("button",{onClick:()=>N(D.key),className:`w-full text-left px-4 py-3 rounded-lg border-2 transition-all ${L?"border-blue-500 bg-blue-50":P?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:D.icon}),e.jsx("span",{className:"font-medium",children:D.label})]}),P&&e.jsx("button",{onClick:z=>{z.stopPropagation(),O(D.key)},className:"text-red-600 hover:text-red-800",title:"Clear mapping",children:""})]})}),P&&v[D.key].example&&e.jsxs("div",{className:"mt-1 ml-4 text-xs text-gray-600 bg-gray-50 p-2 rounded",children:[e.jsx("strong",{children:"Selected:"})," ",v[D.key].example]})]},D.key)})}),w&&e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("p",{className:"text-sm font-medium text-blue-900",children:["Selected: ",A.find(D=>D.key===w)?.label]}),e.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Click on a line in the receipt "})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Receipt Text"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:w?"Click on a line to select it":"Select a field first"}),e.jsx("div",{className:"space-y-1 max-h-[600px] overflow-y-auto",children:m.ocr_lines.map(D=>{const P=Object.values(v).some(z=>z.line_index===D.index),L=y===D.index;return e.jsxs("button",{onClick:()=>E(D),className:`w-full text-left px-3 py-2 rounded text-sm font-mono transition-all ${L?"bg-blue-100 border-2 border-blue-500":P?"bg-green-50 border border-green-300":"hover:bg-gray-50 border border-transparent"}`,disabled:!w,children:[e.jsxs("span",{className:"text-gray-400 mr-2",children:[D.index,":"]}),D.text]},D.index)})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Receipt Image"}),m.image_url?e.jsx("img",{src:m.image_url,alt:"Receipt",className:"w-full rounded-lg shadow-md"}):e.jsx("div",{className:"w-full h-64 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx("p",{className:"text-gray-500",children:"No image available"})})]})]}),e.jsx("div",{className:"mt-6 bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Mapped fields: ",Object.keys(v).length," / ",A.length]})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:()=>a("/receipts"),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",disabled:i,children:"Cancel"}),e.jsx("button",{onClick:k,disabled:i||!x.trim(),className:`px-6 py-2 rounded-lg font-medium ${i||!x.trim()?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:i?"Saving...":"Save Template"})]})]})})]})]})},Xre=()=>{const t=Be(),[a,r]=g.useState(!0),[s,i]=g.useState([]),[c,o]=g.useState(null);g.useEffect(()=>{u()},[]);const u=async()=>{try{r(!0),o(null);const f=localStorage.getItem("auth_token"),v=localStorage.getItem("company_id"),w=await(await fetch("/api/v1/receipts/templates.php",{headers:{Authorization:`Bearer ${f}`,"X-Company-ID":v||""}})).json();if(!w.success)throw new Error(w.message||"Failed to load templates");i(w.data)}catch(f){o(f.message)}finally{r(!1)}},m=async f=>{try{const v=localStorage.getItem("auth_token"),b=localStorage.getItem("company_id"),N=await(await fetch("/api/v1/receipts/list.php",{headers:{Authorization:`Bearer ${v}`,"X-Company-ID":b||""}})).json();if(!N.success)throw new Error(N.message||"Failed to fetch receipts");const y=N.data.find(_=>_.merchant_name===f);if(!y){alert(`Nu s-a gsit nicio chitan de la ${f}. ncrcai o chitan nou pentru a edita ablonul.`),t("/receipts/upload");return}t(`/receipts/template/${y.id}`)}catch(v){alert(`Eroare: ${v.message}`)}},h=async f=>{if(confirm("Sigur dorii s tergei acest ablon?"))try{const v=localStorage.getItem("auth_token"),b=localStorage.getItem("company_id"),N=await(await fetch(`/api/v1/receipts/templates.php?id=${f}`,{method:"DELETE",headers:{Authorization:`Bearer ${v}`,"X-Company-ID":b||""}})).json();if(!N.success)throw new Error(N.message||"Failed to delete template");u()}catch(v){alert(`Eroare: ${v.message}`)}},x=f=>new Date(f).toLocaleDateString("ro-RO",{year:"numeric",month:"short",day:"numeric"});return a?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Se ncarc abloanele..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx(dy,{className:"w-8 h-8 text-blue-600"}),"abloane OCR"]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Gestionai abloanele pentru recunoaterea automat a datelor din chitane"})]}),e.jsx("button",{onClick:()=>t("/receipts/list"),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Mergi la Chitane"})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[c&&e.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:[e.jsx("p",{className:"font-medium",children:"Eroare:"}),e.jsx("p",{children:c})]}),s.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[e.jsx(dy,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Nu exist abloane configurate"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"abloanele se creeaz automat cnd corectai datele extrase din chitane"}),e.jsx("button",{onClick:()=>t("/receipts/upload"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"ncarc Prima Chitan"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(f=>e.jsx("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow border border-gray-200",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center justify-between",children:[e.jsx("span",{children:f.merchant_name}),e.jsxs("span",{className:"text-sm font-normal text-gray-500 bg-gray-100 px-2 py-1 rounded",children:["#",f.id]})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600"}),e.jsxs("span",{children:["Utilizat de ",e.jsx("strong",{children:f.usage_count})," ",f.usage_count===1?"dat":"ori"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(nt,{className:"w-4 h-4 text-blue-600"}),e.jsxs("span",{children:["Creat: ",x(f.created_at)]})]})]}),e.jsxs("div",{className:"space-y-2 mb-6 text-sm",children:[f.amount_pattern&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded px-3 py-2",children:[e.jsx("span",{className:"font-medium text-green-900",children:"Sum:"}),e.jsx("span",{className:"ml-2 text-green-700 font-mono text-xs",children:f.amount_pattern.length>30?f.amount_pattern.substring(0,30)+"...":f.amount_pattern})]}),f.date_pattern&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded px-3 py-2",children:[e.jsx("span",{className:"font-medium text-blue-900",children:"Dat:"}),e.jsx("span",{className:"ml-2 text-blue-700 font-mono text-xs",children:f.date_pattern})]}),f.vat_pattern&&e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded px-3 py-2",children:[e.jsx("span",{className:"font-medium text-purple-900",children:"TVA:"}),e.jsx("span",{className:"ml-2 text-purple-700 font-mono text-xs",children:f.vat_pattern.length>30?f.vat_pattern.substring(0,30)+"...":f.vat_pattern})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>m(f.merchant_name),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(ya,{className:"w-4 h-4"}),e.jsx("span",{children:"Editeaz"})]}),e.jsx("button",{onClick:()=>h(f.id),className:"px-4 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100",title:"terge ablon",children:e.jsx(oa,{className:"w-4 h-4"})})]})]})},f.id))}),e.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:" Cum funcioneaz abloanele?"}),e.jsxs("ul",{className:"space-y-2 text-blue-800",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold mt-0.5",children:"1."}),e.jsx("span",{children:"ncrcai o chitan i procesai-o cu OCR"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold mt-0.5",children:"2."}),e.jsx("span",{children:"Dac datele extrase nu sunt corecte, corectai-le i salvai ablonul"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold mt-0.5",children:"3."}),e.jsx("span",{children:"Urmtoarele chitane de la acelai comerciant vor folosi ablonul salvat"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold mt-0.5",children:"4."}),e.jsx("span",{children:"abloanele se mbuntesc automat cu fiecare corecie"})]})]})]})]})]})},Wre=()=>{const{token:t,user:a}=Ct(),[r,s]=g.useState([]),[i,c]=g.useState(null),[o,u]=g.useState(!0),[m,h]=g.useState(null);g.useEffect(()=>{x(),t&&a&&f()},[t,a]);const x=async()=>{try{const y=await(await fetch("https://documentiulia.ro/api/v1/forum/categories.php")).json();y.success?s(y.data):h(y.message)}catch{h("Failed to load forum categories")}finally{u(!1)}},f=async()=>{if(a?.id)try{const y=await(await fetch(`https://documentiulia.ro/api/v1/forum/reputation.php?endpoint=user&user_id=${a.id}`,{headers:{Authorization:`Bearer ${t}`}})).json();y.success&&c(y.data)}catch(N){console.error("Failed to load reputation:",N)}},v=N=>{const y=new Date(N),A=new Date().getTime()-y.getTime(),C=Math.floor(A/6e4),E=Math.floor(A/36e5),k=Math.floor(A/864e5);return C<1?"Just now":C<60?`${C} minutes ago`:E<24?`${E} hours ago`:k<7?`${k} days ago`:y.toLocaleDateString("ro-RO",{day:"numeric",month:"short",year:"numeric"})},b=N=>({newbie:"text-gray-600",contributor:"text-green-600",trusted:"text-blue-600",expert:"text-purple-600",master:"text-yellow-600"})[N]||"text-gray-600",w=N=>({newbie:"",contributor:"",trusted:"",expert:"",master:""})[N]||"";return o?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Community Forum"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Ask questions, share knowledge, and connect with the community"})]}),t&&e.jsxs(Ne,{to:"/forum/new-thread",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Thread"]}),!t&&e.jsx(Ne,{to:"/login",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Login to Post"})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2",children:[m&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:m}),e.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Forum Categories"})}),e.jsx("div",{className:"divide-y divide-gray-200",children:r.length===0?e.jsxs("div",{className:"px-6 py-12 text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No categories yet"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating the first category."})]}):r.map(N=>e.jsx(Ne,{to:`/forum/category/${N.slug}`,className:"block hover:bg-gray-50 transition-colors duration-150",children:e.jsx("div",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-12 w-12 rounded-lg bg-indigo-100 flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:N.icon})})}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 group-hover:text-indigo-600",children:N.name}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 line-clamp-2",children:N.description})]}),e.jsx("div",{className:"ml-4 flex-shrink-0 text-right",children:e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})}),e.jsx("span",{className:"font-medium text-gray-900",children:N.thread_count}),e.jsx("span",{className:"ml-1 hidden sm:inline",children:"threads"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})}),e.jsx("span",{className:"font-medium text-gray-900",children:N.post_count}),e.jsx("span",{className:"ml-1 hidden sm:inline",children:"posts"})]})]})})]}),N.last_activity_at&&e.jsxs("div",{className:"mt-3 flex items-center text-xs text-gray-500",children:[e.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("span",{children:["Last activity ",v(N.last_activity_at)]}),N.last_thread_title&&e.jsxs("span",{className:"ml-2 truncate max-w-xs",children:["in ",e.jsx("span",{className:"font-medium",children:N.last_thread_title})]}),N.last_thread_author&&e.jsxs("span",{className:"ml-1",children:["by ",e.jsx("span",{className:"font-medium",children:N.last_thread_author})]})]})]})]})})},N.id))})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Total Threads"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r.reduce((N,y)=>N+y.thread_count,0)})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Total Posts"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r.reduce((N,y)=>N+y.post_count,0)})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Categories"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r.length})]})]})]}),e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[t&&i&&e.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Your Reputation"})}),e.jsxs("div",{className:"px-6 py-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-3xl mr-2",children:w(i.rank)}),e.jsxs("div",{children:[e.jsx("div",{className:`text-lg font-semibold ${b(i.rank)} capitalize`,children:i.rank}),e.jsx("div",{className:"text-sm text-gray-600",children:"Rank"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:i.total_points}),e.jsx("div",{className:"text-sm text-gray-600",children:"Points"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ne,{to:`/forum/profile/${a?.id}`,className:"block w-full text-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"View Profile"}),e.jsx(Ne,{to:"/forum/leaderboard",className:"block w-full text-center px-4 py-2 border border-indigo-600 rounded-md text-sm font-medium text-indigo-600 hover:bg-indigo-50",children:"View Leaderboard"})]}),i.badge_count>0&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Badges Earned"}),e.jsx("span",{className:"font-semibold text-gray-900",children:i.badge_count})]})})]})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"How to Use the Forum"})}),e.jsx("div",{className:"px-6 py-5",children:e.jsxs("ul",{className:"space-y-3 text-sm text-gray-600",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{children:"Ask questions about Romanian accounting and tax"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{children:"Share your knowledge and help others"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{children:"Vote on helpful answers to earn reputation"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{children:"Earn badges and climb the leaderboard"})]})]})})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Community Guidelines"}),e.jsxs("ul",{className:"space-y-1 text-xs text-blue-800",children:[e.jsx("li",{children:" Be respectful and professional"}),e.jsx("li",{children:" Stay on topic"}),e.jsx("li",{children:" No spam or self-promotion"}),e.jsx("li",{children:" Search before posting"}),e.jsx("li",{children:" Mark helpful answers"})]})]})]})]})})]})},Zre=()=>{const{slug:t}=cs(),{token:a}=Ct(),[r,s]=g.useState([]),[i,c]=g.useState(""),[o,u]=g.useState(null),[m,h]=g.useState(!0),[x,f]=g.useState(null),[v,b]=g.useState("recent"),[w,N]=g.useState(""),[y,_]=g.useState(""),[A,C]=g.useState(""),[E]=g.useState(20),[k,O]=g.useState(0),[D,P]=g.useState(!0),[L,z]=g.useState([]);g.useEffect(()=>{M()},[t]),g.useEffect(()=>{o&&F()},[o,v,w,y,k]);const M=async()=>{try{const V=await(await fetch("https://documentiulia.ro/api/v1/forum/categories.php")).json();if(V.success){const Z=V.data.find(B=>B.slug===t);Z?(c(Z.name),u(Z.id)):f("Category not found")}}catch{f("Failed to load category")}},F=async()=>{if(o){h(!0);try{const $=new URLSearchParams({category_id:o.toString(),sort:v,limit:E.toString(),offset:k.toString()});w&&$.append("tag",w),y&&$.append("is_solved",y);const Z=await(await fetch(`https://documentiulia.ro/api/v1/forum/threads.php?${$.toString()}`)).json();if(Z.success){s(Z.data),P(Z.data.length===E);const B=new Set;Z.data.forEach(K=>{K.tags.forEach(Y=>B.add(Y))}),z(Array.from(B).sort())}else f(Z.message)}catch{f("Failed to load threads")}finally{h(!1)}}},q=$=>{const V=new Date($),B=new Date().getTime()-V.getTime(),K=Math.floor(B/6e4),Y=Math.floor(B/36e5),ie=Math.floor(B/864e5);return K<1?"Just now":K<60?`${K}m ago`:Y<24?`${Y}h ago`:ie<7?`${ie}d ago`:V.toLocaleDateString("ro-RO",{day:"numeric",month:"short"})},te=$=>({newbie:"text-gray-600",contributor:"text-green-600",trusted:"text-blue-600",expert:"text-purple-600",master:"text-yellow-600"})[$]||"text-gray-600",W=r.filter($=>{if(A){const V=A.toLowerCase();return $.title.toLowerCase().includes(V)||$.content.toLowerCase().includes(V)||$.author_name.toLowerCase().includes(V)}return!0}),H=W.filter($=>$.is_pinned),R=W.filter($=>!$.is_pinned);return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-500 mb-2",children:[e.jsx(Ne,{to:"/forum",className:"hover:text-gray-700",children:"Forum"}),e.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-gray-900 font-medium",children:i})]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:i})]}),a&&e.jsxs(Ne,{to:`/forum/new-thread?category=${o}`,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:[e.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Thread"]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg p-4 mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search threads...",value:A,onChange:$=>C($.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500"}),e.jsx("svg",{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),e.jsxs("select",{value:v,onChange:$=>b($.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",children:[e.jsx("option",{value:"recent",children:"Most Recent"}),e.jsx("option",{value:"popular",children:"Most Popular"}),e.jsx("option",{value:"views",children:"Most Viewed"}),e.jsx("option",{value:"votes",children:"Most Voted"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:y,onChange:$=>_($.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",children:[e.jsx("option",{value:"",children:"All Threads"}),e.jsx("option",{value:"false",children:"Unsolved"}),e.jsx("option",{value:"true",children:"Solved"})]})]})]}),L.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Tag"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>N(""),className:`px-3 py-1 rounded-full text-sm ${w===""?"bg-indigo-100 text-indigo-800 font-medium":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All"}),L.map($=>e.jsx("button",{onClick:()=>N($),className:`px-3 py-1 rounded-full text-sm ${w===$?"bg-indigo-100 text-indigo-800 font-medium":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:$},$))]})]})]}),x&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:x}),e.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[m?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):W.length===0?e.jsxs("div",{className:"px-6 py-12 text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No threads found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:A?"Try adjusting your search or filters.":"Be the first to start a discussion!"}),a&&!A&&e.jsx("div",{className:"mt-6",children:e.jsx(Ne,{to:`/forum/new-thread?category=${o}`,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:"Start a Thread"})})]}):e.jsxs("div",{className:"divide-y divide-gray-200",children:[H.map($=>e.jsx(Ne,{to:`/forum/thread/${$.id}`,className:"block hover:bg-gray-50 transition-colors duration-150",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 mr-4",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-yellow-100 flex items-center justify-center",children:e.jsx("svg",{className:"h-5 w-5 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM14 11a1 1 0 011 1v1h1a1 1 0 110 2h-1v1a1 1 0 11-2 0v-1h-1a1 1 0 110-2h1v-1a1 1 0 011-1z"})})})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800",children:" Pinned"}),$.is_solved&&e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:" Solved"}),$.is_locked&&e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800",children:" Locked"})]}),e.jsx("h3",{className:"text-base font-semibold text-gray-900 hover:text-indigo-600 line-clamp-2",children:$.title}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 line-clamp-2",children:$.content}),e.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-xs text-gray-500",children:[e.jsx("span",{className:`font-medium ${te($.author_rank)}`,children:$.author_name}),e.jsx("span",{children:""}),e.jsx("span",{children:q($.created_at)}),$.tags.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:""}),e.jsxs("div",{className:"flex items-center space-x-1",children:[$.tags.slice(0,3).map(V=>e.jsx("span",{className:"px-2 py-0.5 bg-gray-100 rounded text-gray-700",children:V},V)),$.tags.length>3&&e.jsxs("span",{className:"text-gray-500",children:["+",$.tags.length-3]})]})]})]})]}),e.jsxs("div",{className:"ml-4 flex-shrink-0 flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),e.jsx("span",{children:$.view_count})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),e.jsx("span",{children:$.reply_count})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),e.jsx("span",{children:$.upvote_count})]})]})]})})]})})},$.id)),R.map($=>e.jsx(Ne,{to:`/forum/thread/${$.id}`,className:"block hover:bg-gray-50 transition-colors duration-150",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 mr-4",children:e.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center ${$.is_solved?"bg-green-100":"bg-gray-100"}`,children:$.is_solved?e.jsx("svg",{className:"h-5 w-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):e.jsx("svg",{className:"h-5 w-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[($.is_solved||$.is_locked)&&e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[$.is_solved&&e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:" Solved"}),$.is_locked&&e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800",children:" Locked"})]}),e.jsx("h3",{className:"text-base font-semibold text-gray-900 hover:text-indigo-600 line-clamp-2",children:$.title}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 line-clamp-2",children:$.content}),e.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-xs text-gray-500",children:[e.jsx("span",{className:`font-medium ${te($.author_rank)}`,children:$.author_name}),e.jsx("span",{children:""}),e.jsx("span",{children:q($.created_at)}),$.tags.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:""}),e.jsxs("div",{className:"flex items-center space-x-1",children:[$.tags.slice(0,3).map(V=>e.jsx("span",{className:"px-2 py-0.5 bg-gray-100 rounded text-gray-700",children:V},V)),$.tags.length>3&&e.jsxs("span",{className:"text-gray-500",children:["+",$.tags.length-3]})]})]})]})]}),e.jsxs("div",{className:"ml-4 flex-shrink-0 flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),e.jsx("span",{children:$.view_count})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),e.jsx("span",{children:$.reply_count})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),e.jsx("span",{children:$.upvote_count})]})]})]})})]})})},$.id))]}),!m&&W.length>0&&e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>O(Math.max(0,k-E)),disabled:k===0,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous"]}),e.jsxs("span",{className:"text-sm text-gray-700",children:["Showing ",k+1," - ",k+W.length]}),e.jsxs("button",{onClick:()=>O(k+E),disabled:!D,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:["Next",e.jsx("svg",{className:"h-4 w-4 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})})]})]})]})},Qre=()=>{const{id:t}=cs(),{token:a,user:r}=Ct(),s=Be(),[i,c]=g.useState(null),[o,u]=g.useState([]),[m,h]=g.useState(!0),[x,f]=g.useState(null),[v,b]=g.useState(""),[w,N]=g.useState(null),[y,_]=g.useState(!1),[A,C]=g.useState(null),[E,k]=g.useState(!1);g.useEffect(()=>{O(),D(),a&&(P(),L())},[t,a]);const O=async()=>{try{const $=await(await fetch(`https://documentiulia.ro/api/v1/forum/thread.php?id=${t}`)).json();$.success?c($.data):f($.message)}catch{f("Failed to load thread")}finally{h(!1)}},D=async()=>{try{const $=await(await fetch(`https://documentiulia.ro/api/v1/forum/replies.php?thread_id=${t}&sort=oldest&limit=100`)).json();$.success&&u($.data)}catch(R){console.error("Failed to load replies:",R)}},P=async()=>{try{const $=await(await fetch(`https://documentiulia.ro/api/v1/forum/vote.php?voteable_type=thread&voteable_id=${t}`,{headers:{Authorization:`Bearer ${a}`}})).json();$.success&&$.data&&C($.data.vote_type)}catch(R){console.error("Failed to load user vote:",R)}},L=async()=>{try{const $=await(await fetch("https://documentiulia.ro/api/v1/forum/bookmarks.php",{headers:{Authorization:`Bearer ${a}`}})).json();if($.success){const V=$.data.some(Z=>Z.thread_id===t);k(V)}}catch(R){console.error("Failed to check bookmark:",R)}},z=async R=>{if(!a){s("/login");return}try{const V=await(await fetch("https://documentiulia.ro/api/v1/forum/vote.php",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({voteable_type:"thread",voteable_id:parseInt(t),vote_type:R})})).json();V.success&&(C(V.data.vote_type||null),O())}catch($){console.error("Failed to vote:",$)}},M=async()=>{if(!a){s("/login");return}try{(await(await fetch("https://documentiulia.ro/api/v1/forum/bookmarks.php",{method:E?"DELETE":"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({thread_id:t})})).json()).success&&k(!E)}catch(R){console.error("Failed to bookmark:",R)}},F=async R=>{if(R.preventDefault(),!a){s("/login");return}if(v.trim()){_(!0);try{const V=await(await fetch("https://documentiulia.ro/api/v1/forum/replies.php",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({thread_id:t,content:v,parent_reply_id:w})})).json();V.success?(b(""),N(null),D(),O()):f(V.message)}catch{f("Failed to post reply")}finally{_(!1)}}},q=async R=>{if(a)try{(await(await fetch("https://documentiulia.ro/api/v1/forum/thread.php",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({thread_id:t,action:"solve",is_solved:!0,accepted_reply_id:R})})).json()).success&&(O(),D())}catch($){console.error("Failed to mark as solved:",$)}},te=R=>new Date(R).toLocaleDateString("ro-RO",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}),W=R=>({newbie:"text-gray-600",contributor:"text-green-600",trusted:"text-blue-600",expert:"text-purple-600",master:"text-yellow-600"})[R]||"text-gray-600",H=R=>({newbie:"",contributor:"",trusted:"",expert:"",master:""})[R]||"";return m?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):x||!i?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-md",children:[e.jsx("div",{className:"text-red-600 mb-4",children:e.jsx("svg",{className:"h-12 w-12 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 text-center mb-2",children:"Thread not found"}),e.jsx("p",{className:"text-gray-600 text-center mb-6",children:x||"The thread you are looking for does not exist."}),e.jsx(Ne,{to:"/forum",className:"block w-full text-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Back to Forum"})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[e.jsx(Ne,{to:"/forum",className:"hover:text-gray-700",children:"Forum"}),e.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),e.jsx(Ne,{to:`/forum/category/${i.category_name}`,className:"hover:text-gray-700",children:i.category_name}),e.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-gray-900 truncate max-w-md",children:i.title})]})})}),e.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden mb-6",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.is_pinned&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-yellow-100 text-yellow-800",children:" Pinned"}),i.is_solved&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-800",children:" Solved"}),i.is_locked&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-gray-100 text-gray-800",children:" Locked"})]}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:i.title}),i.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:i.tags.map(R=>e.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-800 rounded-full text-sm",children:R},R))})]}),e.jsx("div",{className:"ml-4 flex items-center space-x-2",children:a&&e.jsx("button",{onClick:M,className:`p-2 rounded-md ${E?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:E?"Remove bookmark":"Bookmark thread",children:e.jsx("svg",{className:"h-5 w-5",fill:E?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})})})})]})}),e.jsx("div",{className:"px-6 py-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0 mr-6",children:e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsx("button",{onClick:()=>z("upvote"),className:`p-2 rounded-md transition-colors ${A==="upvote"?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,disabled:!a,children:e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:i.upvote_count}),e.jsx("button",{onClick:()=>z("downvote"),className:`p-2 rounded-md transition-colors ${A==="downvote"?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,disabled:!a,children:e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"prose max-w-none mb-6",children:e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:i.content})}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center",children:e.jsx("span",{className:"text-lg",children:H(i.author_rank)})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium text-gray-900",children:i.author_name}),e.jsx("span",{className:`text-xs ${W(i.author_rank)} capitalize`,children:i.author_rank})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Posted ",te(i.created_at)]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),e.jsxs("span",{children:[i.view_count," views"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),e.jsxs("span",{children:[i.reply_count," replies"]})]})]})]})]})]})})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden mb-6",children:[e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:e.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[o.length," ",o.length===1?"Reply":"Replies"]})}),o.length===0?e.jsxs("div",{className:"px-6 py-12 text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No replies yet"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Be the first to reply to this thread!"})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:o.map(R=>e.jsx("div",{className:`px-6 py-6 ${R.is_accepted?"bg-green-50 border-l-4 border-green-500":""}`,children:e.jsx("div",{className:"flex",children:e.jsxs("div",{className:"flex-1",children:[R.is_accepted&&e.jsx("div",{className:"mb-3",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:" Accepted Answer"})}),e.jsx("div",{className:"prose max-w-none mb-4",children:e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:R.content})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-indigo-100 flex items-center justify-center",children:e.jsx("span",{className:"text-sm",children:H(R.author_rank)})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:R.author_name}),e.jsx("span",{className:`text-xs ${W(R.author_rank)} capitalize`,children:R.author_rank})]}),e.jsx("div",{className:"text-xs text-gray-500",children:te(R.created_at)})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),e.jsx("span",{children:R.upvote_count})]}),a&&r&&String(i.author_id)===String(r.id)&&!i.is_solved&&!R.is_accepted&&e.jsx("button",{onClick:()=>q(R.id.toString()),className:"text-sm text-green-600 hover:text-green-700 font-medium",children:" Accept Answer"})]})]})]})})},R.id))})]}),!i.is_locked&&e.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Your Reply"})}),e.jsx("div",{className:"px-6 py-6",children:a?e.jsxs("form",{onSubmit:F,children:[e.jsx("div",{className:"mb-4",children:e.jsx("textarea",{value:v,onChange:R=>b(R.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Write your reply...",required:!0})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Please be respectful and constructive in your replies."}),e.jsx("button",{type:"submit",disabled:y||!v.trim(),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Posting...":"Post Reply"})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"You must be logged in to reply"}),e.jsx(Ne,{to:"/login",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:"Login to Reply"})]})})]}),i.is_locked&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-center",children:[e.jsx("svg",{className:"mx-auto h-8 w-8 text-yellow-600 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),e.jsx("p",{className:"text-yellow-800 font-medium",children:"This thread is locked"}),e.jsx("p",{className:"text-yellow-700 text-sm mt-1",children:"No new replies can be posted"})]})]})]})},Jre=()=>{const t=Be(),[a]=md(),{token:r}=Ct(),[s,i]=g.useState([]),[c,o]=g.useState(a.get("category")||""),[u,m]=g.useState(""),[h,x]=g.useState(""),[f,v]=g.useState([]),[b,w]=g.useState(""),[N,y]=g.useState(!1),[_,A]=g.useState(null);g.useEffect(()=>{if(!r){t("/login");return}C()},[r,t]);const C=async()=>{try{const P=await(await fetch("https://documentiulia.ro/api/v1/forum/categories.php")).json();P.success&&i(P.data)}catch(D){console.error("Failed to load categories:",D)}},E=D=>{if(D.key==="Enter"||D.key===","){D.preventDefault();const P=b.trim().toLowerCase();P&&!f.includes(P)&&f.length<5&&(v([...f,P]),w(""))}},k=D=>{v(f.filter(P=>P!==D))},O=async D=>{if(D.preventDefault(),A(null),!c){A("Please select a category");return}if(!u.trim()){A("Please enter a title");return}if(!h.trim()){A("Please enter content");return}y(!0);try{const L=await(await fetch("https://documentiulia.ro/api/v1/forum/threads.php",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({category_id:parseInt(c),title:u.trim(),content:h.trim(),tags:f})})).json();L.success?t(`/forum/thread/${L.data.id}`):A(L.message||"Failed to create thread")}catch{A("An error occurred while creating the thread")}finally{y(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-500 mb-2",children:[e.jsx(Ne,{to:"/forum",className:"hover:text-gray-700",children:"Forum"}),e.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-gray-900",children:"New Thread"})]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Create New Thread"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Ask a question or start a discussion with the community"})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[_&&e.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[e.jsx("svg",{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),e.jsx("span",{children:_})]}),e.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:e.jsxs("form",{onSubmit:O,children:[e.jsxs("div",{className:"px-6 py-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Category ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:c,onChange:D=>o(D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[e.jsx("option",{value:"",children:"Select a category"}),s.map(D=>e.jsx("option",{value:D.id,children:D.name},D.id))]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Choose the most appropriate category for your thread"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:u,onChange:D=>m(D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",placeholder:"What's your question or topic?",maxLength:500,required:!0}),e.jsxs("div",{className:"mt-1 flex items-center justify-between text-sm",children:[e.jsx("p",{className:"text-gray-500",children:"Be specific and clear about your question or topic"}),e.jsxs("span",{className:"text-gray-400",children:[u.length,"/500"]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Content ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:h,onChange:D=>x(D.target.value),rows:12,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 font-mono text-sm",placeholder:`Provide details about your question or discussion topic...

Tips for a great thread:
 Be clear and specific
 Include relevant context and background
 Show what you've tried (if applicable)
 Be respectful and professional`,required:!0}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"The more context you provide, the better answers you'll receive"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (Optional)"}),e.jsxs("div",{className:"mb-2",children:[e.jsx("input",{type:"text",value:b,onChange:D=>w(D.target.value),onKeyDown:E,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Add tags (press Enter or comma to add)",disabled:f.length>=5}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Add up to 5 tags to help others find your thread. Press Enter or comma to add each tag."})]}),f.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(D=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800",children:[D,e.jsx("button",{type:"button",onClick:()=>k(D),className:"ml-2 inline-flex items-center justify-center hover:bg-indigo-200 rounded-full p-0.5",children:e.jsx("svg",{className:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},D))}),e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Suggested tags:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["tva","impozit","salarii","pfa","legislatie","facturi"].map(D=>!f.includes(D)&&f.length<5&&e.jsxs("button",{type:"button",onClick:()=>v([...f,D]),className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:["+ ",D]},D))})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:" Community Guidelines"}),e.jsxs("ul",{className:"space-y-1 text-sm text-blue-800",children:[e.jsx("li",{children:" Be respectful and professional in your communication"}),e.jsx("li",{children:" Search existing threads before posting to avoid duplicates"}),e.jsx("li",{children:" Provide enough context for others to understand your question"}),e.jsx("li",{children:" Use appropriate categories and tags"}),e.jsx("li",{children:" Mark helpful answers when you receive them"})]})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[e.jsx(Ne,{to:"/forum",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:N||!c||!u.trim()||!h.trim(),className:"inline-flex items-center px-6 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:N?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Thread..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Thread"]})})]})]})}),e.jsxs("div",{className:"mt-6 bg-white shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Tips for Getting Great Answers"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-8 w-8 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx("span",{className:"text-lg",children:"1"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Write a clear title"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Your title should summarize the question in one sentence"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-8 w-8 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx("span",{className:"text-lg",children:"2"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Provide context"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Explain the background and what you're trying to achieve"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-8 w-8 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx("span",{className:"text-lg",children:"3"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Use relevant tags"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Tags help categorize your thread and make it easier to find"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-8 w-8 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx("span",{className:"text-lg",children:"4"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Be patient and engage"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Reply to answers, mark helpful ones, and provide updates"})]})]})]})]})]})]})},vs=window.location.hostname==="localhost"?"http://localhost/api/v1":"https://documentiulia.ro/api/v1",ese=()=>{const[t,a]=g.useState([]),[r,s]=g.useState(""),[i,c]=g.useState(null),[o,u]=g.useState(!1),[m,h]=g.useState(null),[x,f]=g.useState(!1);g.useEffect(()=>{v()},[]),g.useEffect(()=>{r&&b()},[r]);const v=async()=>{try{const y=localStorage.getItem("auth_token"),A=await(await fetch(`${vs}/companies/list.php`,{headers:{Authorization:`Bearer ${y}`}})).json();A.success&&(a(A.companies||[]),A.companies.length>0&&s(A.companies[0].id))}catch(y){console.error("Failed to load companies:",y)}},b=async()=>{f(!0);try{const y=localStorage.getItem("auth_token"),A=await(await fetch(`${vs}/efactura/oauth-status.php?company_id=${r}`,{headers:{Authorization:`Bearer ${y}`}})).json();A.success&&c(A.status)}catch(y){console.error("Failed to check OAuth status:",y)}finally{f(!1)}},w=async()=>{if(!r){h("Please select a company");return}u(!0),h(null);try{const y=localStorage.getItem("auth_token"),_=await fetch(`${vs}/efactura/oauth-authorize.php`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`},body:JSON.stringify({company_id:r,redirect_uri:`${window.location.origin}/efactura/oauth-callback`})}),A=await _.json();if(!_.ok)throw new Error(A.message||"Failed to initiate OAuth");if(A.success&&A.authorization_url)window.location.href=A.authorization_url;else throw new Error("Invalid response from server")}catch(y){h(y.message||"Connection failed"),u(!1)}},N=async()=>{if(confirm("Are you sure you want to disconnect from ANAF e-Factura?"))try{const y=localStorage.getItem("auth_token");(await(await fetch(`${vs}/efactura/oauth-disconnect.php`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`},body:JSON.stringify({company_id:r})})).json()).success&&c({connected:!1})}catch{h("Failed to disconnect")}};return e.jsx("div",{className:"max-w-2xl mx-auto p-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"e-Factura ANAF Settings"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Company"}),e.jsxs("select",{value:r,onChange:y=>s(y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"-- Select a company --"}),t.map(y=>e.jsxs("option",{value:y.id,children:[y.name," (CIF: ",y.fiscal_code,")"]},y.id))]})]}),r&&e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Connection Status"}),x?e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Checking status..."})]}):i?.connected?e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:"inline-block w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{className:"font-medium text-green-700",children:"Connected to ANAF"})]}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[i.connected_at&&e.jsxs("p",{children:["Connected: ",new Date(i.connected_at).toLocaleString()]}),i.expires_at&&e.jsxs("p",{children:["Token expires:"," ",new Date(i.expires_at).toLocaleString()]}),i.last_sync&&e.jsxs("p",{children:["Last sync: ",new Date(i.last_sync).toLocaleString()]})]}),e.jsx("button",{onClick:N,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 text-sm",children:"Disconnect"})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:"inline-block w-3 h-3 bg-gray-400 rounded-full"}),e.jsx("span",{className:"font-medium text-gray-700",children:"Not Connected"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Connect to ANAF to enable automatic e-Factura upload and download."})]})]})}),m&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-md",children:e.jsx("p",{className:"text-sm text-red-800",children:m})}),r&&!i?.connected&&e.jsx("button",{onClick:w,disabled:o,className:`
              w-full px-6 py-3 rounded-md font-medium text-white
              ${o?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 active:bg-blue-800"}
            `,children:o?"Connecting...":"Connect to ANAF e-Factura"}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-md",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"About ANAF e-Factura"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:" Automatic upload of invoices to ANAF SPV system"}),e.jsx("li",{children:" Download invoices received from suppliers"}),e.jsx("li",{children:" Real-time status synchronization"}),e.jsx("li",{children:" Compliant with RO_CIUS 1.0.1 standard"})]})]})]})})},tse=({companyId:t,invoices:a,onUploadComplete:r})=>{const[s,i]=g.useState(new Set),[c,o]=g.useState(!1),[u,m]=g.useState(null),[h,x]=g.useState(!0),f=y=>{const _=new Set(s);_.has(y)?_.delete(y):_.add(y),i(_)},v=()=>{i(new Set(a.map(y=>y.id)))},b=()=>{i(new Set)},w=async()=>{if(s.size===0){alert("Please select at least one invoice");return}o(!0),m(null);try{const y=localStorage.getItem("auth_token");if(!y)throw new Error("Not authenticated");const _=await fetch(`${vs}/efactura/batch-upload.php`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`},body:JSON.stringify({company_id:t,invoice_ids:Array.from(s),continue_on_error:h})}),A=await _.json();if(!_.ok)throw new Error(A.message||"Batch upload failed");if(A.success)m(A),r?.(A);else throw new Error(A.message||"Batch upload failed")}catch(y){alert(y.message||"Batch upload failed")}finally{o(!1)}},N=a.filter(y=>!y.efactura_status||y.efactura_status==="pending"||y.efactura_status==="error");return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Batch Upload to ANAF"}),e.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:v,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:["Select All (",N.length,")"]}),e.jsx("button",{onClick:b,className:"text-sm text-gray-600 hover:text-gray-700 font-medium",children:"Deselect All"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[s.size," selected"]})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:h,onChange:y=>x(y.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Continue on error"})]})]}),e.jsx("div",{className:"mb-6 max-h-96 overflow-y-auto",children:N.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No invoices available for upload"}):e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Select"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Invoice #"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Customer"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Amount"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N.map(y=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"checkbox",checked:s.has(y.id),onChange:()=>f(y.id),className:"rounded"})}),e.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:y.number}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:y.customer_name}),e.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 text-right",children:[y.total_amount.toFixed(2)," RON"]}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs ${y.efactura_status==="error"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:y.efactura_status||"pending"})})]},y.id))})]})}),e.jsx("button",{onClick:w,disabled:c||s.size===0,className:`
          w-full px-6 py-3 rounded-md font-medium text-white flex items-center justify-center gap-2
          ${c||s.size===0?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}
        `,children:c?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Uploading..."})]}):e.jsxs("span",{children:["Upload ",s.size," Invoice(s) to ANAF"]})}),u&&e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Upload Results"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:u.total}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:u.successful}),e.jsx("div",{className:"text-sm text-gray-600",children:"Successful"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:u.failed}),e.jsx("div",{className:"text-sm text-gray-600",children:"Failed"})]})]}),u.results.some(y=>!y.success)&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"font-medium text-sm mb-2",children:"Failed Uploads:"}),e.jsx("div",{className:"space-y-2",children:u.results.filter(y=>!y.success).map((y,_)=>e.jsxs("div",{className:"text-sm text-red-700 bg-red-50 p-2 rounded",children:["Invoice ",y.invoice_id,": ",y.error]},_))})]})]})]})},ase=()=>{const[t,a]=g.useState([]),[r,s]=g.useState(""),[i,c]=g.useState([]),[o,u]=g.useState(!1),[m,h]=g.useState(!1),[x,f]=g.useState(60),[v,b]=g.useState("all");g.useEffect(()=>{w()},[]),g.useEffect(()=>{r&&N()},[r]);const w=async()=>{try{const C=localStorage.getItem("auth_token"),k=await(await fetch(`${vs}/companies/list.php`,{headers:{Authorization:`Bearer ${C}`}})).json();k.success&&(a(k.companies||[]),k.companies.length>0&&s(k.companies[0].id))}catch(C){console.error("Failed to load companies:",C)}},N=async()=>{u(!0);try{const C=localStorage.getItem("auth_token"),k=await(await fetch(`${vs}/efactura/received-invoices.php?company_id=${r}`,{headers:{Authorization:`Bearer ${C}`}})).json();k.success&&c(k.invoices||[])}catch(C){console.error("Failed to load invoices:",C)}finally{u(!1)}},y=async()=>{if(r){h(!0);try{const C=localStorage.getItem("auth_token"),k=await(await fetch(`${vs}/efactura/download-received.php`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify({company_id:r,days:x})})).json();k.success?(alert(`Downloaded ${k.downloaded||0} new invoices`),N()):alert(k.message||"Download failed")}catch(C){alert(C.message||"Download failed")}finally{h(!1)}}},A=(()=>{switch(v){case"matched":return i.filter(C=>C.matched_purchase_order_id);case"unmatched":return i.filter(C=>!C.matched_purchase_order_id);default:return i}})();return e.jsx("div",{className:"max-w-7xl mx-auto p-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Received Invoices (e-Factura)"}),e.jsxs("div",{className:"mb-6 flex gap-4 items-end",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company"}),e.jsxs("select",{value:r,onChange:C=>s(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[e.jsx("option",{value:"",children:"-- Select Company --"}),t.map(C=>e.jsx("option",{value:C.id,children:C.name},C.id))]})]}),e.jsxs("div",{className:"w-32",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Days"}),e.jsx("input",{type:"number",value:x,onChange:C=>f(parseInt(C.target.value)||60),min:"1",max:"365",className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),e.jsx("button",{onClick:y,disabled:m||!r,className:`
              px-6 py-2 rounded-md font-medium text-white
              ${m||!r?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}
            `,children:m?"Downloading...":"Download New"})]}),e.jsx("div",{className:"mb-6 border-b",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{onClick:()=>b("all"),className:`pb-2 px-1 font-medium ${v==="all"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-800"}`,children:["All (",i.length,")"]}),e.jsxs("button",{onClick:()=>b("matched"),className:`pb-2 px-1 font-medium ${v==="matched"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-800"}`,children:["Matched (",i.filter(C=>C.matched_purchase_order_id).length,")"]}),e.jsxs("button",{onClick:()=>b("unmatched"),className:`pb-2 px-1 font-medium ${v==="unmatched"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-800"}`,children:["Unmatched (",i.filter(C=>!C.matched_purchase_order_id).length,")"]})]})}),o?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading invoices..."})]}):A.length===0?e.jsx("div",{className:"text-center py-12 text-gray-500",children:r?'No invoices found. Click "Download New" to fetch from ANAF.':"Please select a company"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Supplier"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Invoice #"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Amount"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Match Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.map(C=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.seller_name}),e.jsxs("div",{className:"text-xs text-gray-500",children:["CIF: ",C.cif]})]}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:C.invoice_number}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:new Date(C.invoice_date).toLocaleDateString()}),e.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 text-right",children:[C.total_amount.toFixed(2)," ",C.currency]}),e.jsx("td",{className:"px-4 py-3",children:C.matched_purchase_order_id?e.jsxs("div",{children:[e.jsx("span",{className:"inline-block px-2 py-1 bg-green-100 text-green-800 text-xs rounded",children:C.auto_matched?" Auto":" Manual"}),C.match_confidence!==void 0&&e.jsxs("span",{className:"ml-2 text-xs text-gray-600",children:[C.match_confidence,"%"]})]}):e.jsx("span",{className:"inline-block px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded",children:"Unmatched"})}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsx("a",{href:`/invoices/received/${C.id}`,className:"text-blue-600 hover:text-blue-700 font-medium",children:"View"})})]},C.id))})]})})]})})},rse=()=>{const[t,a]=g.useState([]),[r,s]=g.useState(""),[i,c]=g.useState(null),[o,u]=g.useState(30),[m,h]=g.useState(!1);g.useEffect(()=>{x()},[]),g.useEffect(()=>{r&&f()},[r,o]);const x=async()=>{try{const v=localStorage.getItem("auth_token"),w=await(await fetch(`${vs}/companies/list.php`,{headers:{Authorization:`Bearer ${v}`}})).json();w.success&&(a(w.companies||[]),w.companies.length>0&&s(w.companies[0].id))}catch(v){console.error("Failed to load companies:",v)}},f=async()=>{h(!0);try{const v=localStorage.getItem("auth_token"),w=await(await fetch(`${vs}/efactura/analytics.php?company_id=${r}&period=${o}`,{headers:{Authorization:`Bearer ${v}`}})).json();w.success&&c(w.analytics)}catch(v){console.error("Failed to load analytics:",v)}finally{h(!1)}};return e.jsx("div",{className:"max-w-7xl mx-auto p-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"e-Factura Analytics"}),e.jsxs("div",{className:"mb-6 flex gap-4 items-end",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company"}),e.jsxs("select",{value:r,onChange:v=>s(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[e.jsx("option",{value:"",children:"-- Select Company --"}),t.map(v=>e.jsx("option",{value:v.id,children:v.name},v.id))]})]}),e.jsx("div",{className:"flex gap-2",children:[7,30,90,365].map(v=>e.jsxs("button",{onClick:()=>u(v),className:`px-4 py-2 rounded-md text-sm font-medium ${o===v?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[v,"d"]},v))})]}),m?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading analytics..."})]}):i?e.jsxs("div",{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Upload Statistics"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:i.total_invoices_uploaded}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Total Uploaded"})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:i.total_accepted}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Accepted"})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-red-600",children:i.total_rejected}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Rejected"})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:i.total_pending}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Pending"})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Received Invoices"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:i.total_received}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Total Received"})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:i.total_matched}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Auto-Matched"})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:i.total_received-i.total_matched}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Needs Review"})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Performance"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Success Rate"}),e.jsxs("span",{className:"text-2xl font-bold text-green-600",children:[i.success_rate.toFixed(1),"%"]})]}),e.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all",style:{width:`${i.success_rate}%`}})})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Avg. Upload Time"}),e.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[i.average_upload_time.toFixed(1),"s"]})]}),e.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"Per invoice processing time"})]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Recent Activity"}),e.jsxs("div",{className:"space-y-3",children:[i.last_upload&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600",children:""})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:"Last Upload"}),e.jsx("div",{className:"text-sm text-gray-600",children:new Date(i.last_upload).toLocaleString()})]})]}),i.last_download&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-purple-600",children:""})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:"Last Download"}),e.jsx("div",{className:"text-sm text-gray-600",children:new Date(i.last_download).toLocaleString()})]})]})]})]}),e.jsxs("div",{className:"mt-6 text-center text-sm text-gray-500",children:["Showing data for the last ",o," days"]})]}):e.jsx("div",{className:"text-center py-12 text-gray-500",children:r?"No data available":"Please select a company"})]})})},sse=()=>e.jsx(qe,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Setri e-Factur ANAF"}),e.jsx(ese,{})]})}),nse=()=>e.jsx(qe,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Statistici e-Factur"}),e.jsx(rse,{})]})}),ise=()=>e.jsx(qe,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Facturi Primite (ANAF)"}),e.jsx(ase,{})]})}),lse=()=>{const{user:t}=Ct(),[a,r]=g.useState([]),[s,i]=g.useState(!0);g.useEffect(()=>{c()},[]);const c=async()=>{try{const u=(await Ri.list()).map(m=>({id:m.id,number:m.invoice_number||m.number||"",customer_name:m.customer_name||"",total_amount:m.total_amount||0,efactura_status:m.efactura_status}));r(u)}catch(o){console.error("Failed to load invoices:",o)}finally{i(!1)}};return s?e.jsx(qe,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})})}):e.jsx(qe,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"ncrcare n Mas e-Factur"}),e.jsx(tse,{companyId:String(t?.company_id||""),invoices:a,onUploadComplete:o=>{console.log("Batch upload complete:",o),c()}})]})})};function cse(){const[t,a]=g.useState([]),[r,s]=g.useState(!0),[i,c]=g.useState(new Date().getFullYear()),[o,u]=g.useState(null);g.useEffect(()=>{m()},[i]);const m=async()=>{try{s(!0);const b=localStorage.getItem("auth_token"),w=localStorage.getItem("company_id"),N=await Ae.get(`/api/v1/hr/payroll/list.php?year=${i}`,{headers:{Authorization:`Bearer ${b}`,"X-Company-ID":w}});N.data.success&&a(N.data.data)}catch(b){console.error("Failed to fetch payroll periods:",b)}finally{s(!1)}},h=async(b,w)=>{try{const N=`${b}-${w}`;u(N);const y=localStorage.getItem("auth_token"),_=localStorage.getItem("company_id");(await Ae.post("/api/v1/hr/payroll/process.php",{year:b,month:w},{headers:{Authorization:`Bearer ${y}`,"X-Company-ID":_}})).data.success&&(alert("Payroll processed successfully!"),m())}catch(N){alert(N.response?.data?.message||"Failed to process payroll")}finally{u(null)}},x=async b=>{if(confirm("Are you sure you want to approve this payroll period?"))try{const w=localStorage.getItem("auth_token"),N=localStorage.getItem("company_id");(await Ae.post("/api/v1/hr/payroll/approve.php",{period_id:b},{headers:{Authorization:`Bearer ${w}`,"X-Company-ID":N}})).data.success&&(alert("Payroll approved successfully!"),m())}catch(w){alert(w.response?.data?.message||"Failed to approve payroll")}},f=b=>{switch(b){case"draft":return"bg-gray-100 text-gray-800";case"calculated":return"bg-blue-100 text-blue-800";case"approved":return"bg-green-100 text-green-800";case"paid":return"bg-purple-100 text-purple-800";case"closed":return"bg-slate-100 text-slate-800";default:return"bg-gray-100 text-gray-800"}},v=b=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:"RON"}).format(Number(b));return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(nt,{className:"w-8 h-8"}),"Payroll Management"]}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Manage employee payroll, process salaries, and generate payslips"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Year"}),e.jsx("select",{value:i,onChange:b=>c(Number(b.target.value)),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[2024,2025,2026].map(b=>e.jsx("option",{value:b,children:b},b))})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Total Periods"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t.length})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Gross Salary"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:v(t.reduce((b,w)=>b+Number(w.total_gross_salary),0))})]}),e.jsx(Ht,{className:"w-12 h-12 text-blue-500"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Net Salary"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:v(t.reduce((b,w)=>b+Number(w.total_net_salary),0))})]}),e.jsx(ka,{className:"w-12 h-12 text-green-500"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Employer Cost"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:v(t.reduce((b,w)=>b+w.total_employer_cost,0))})]}),e.jsx(Ze,{className:"w-12 h-12 text-purple-500"})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Payroll Periods - ",i]})}),r?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading payroll periods..."})]}):t.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(nt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsxs("p",{className:"text-gray-600",children:["No payroll periods found for ",i]}),e.jsxs("button",{onClick:()=>h(i,1),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:["Process January ",i]})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Period"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employees"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gross Salary"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Net Salary"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employer Cost"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(b=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(nt,{className:"w-5 h-5 text-gray-400 mr-2"}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[b.month_name," ",b.year]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[b.working_days," working days"]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${f(b.status)}`,children:b.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:b.employee_count}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v(b.total_gross_salary)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v(b.total_net_salary)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v(b.total_employer_cost)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("a",{href:`/dashboard/payroll/${b.id}`,className:"text-blue-600 hover:text-blue-900",children:"View Details"}),b.status==="calculated"&&e.jsxs("button",{onClick:()=>x(b.id),className:"text-green-600 hover:text-green-900 flex items-center gap-1",children:[e.jsx(Me,{className:"w-4 h-4"}),"Approve"]})]})})]},b.id))})]})})]}),t.length>0&&t.length<12&&e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{onClick:()=>{const b=t.length+1;h(i,b)},disabled:o!==null,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center gap-2 mx-auto",children:o?e.jsxs(e.Fragment,{children:[e.jsx(fr,{className:"w-5 h-5 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(nt,{className:"w-5 h-5"}),"Process Next Month"]})})})]})})}function ose(){const{id:t}=cs(),a=Be(),[r,s]=g.useState(null),[i,c]=g.useState(!0);g.useEffect(()=>{t&&o()},[t]);const o=async()=>{try{c(!0);const x=localStorage.getItem("auth_token"),f=localStorage.getItem("company_id"),v=await Ae.get(`/api/v1/hr/payroll/get.php?id=${t}`,{headers:{Authorization:`Bearer ${x}`,"X-Company-ID":f}});v.data.success&&s(v.data.data)}catch(x){console.error("Failed to fetch payroll period:",x)}finally{c(!1)}},u=async()=>{if(confirm("Are you sure you want to approve this payroll period?"))try{const x=localStorage.getItem("auth_token"),f=localStorage.getItem("company_id");(await Ae.post("/api/v1/hr/payroll/approve.php",{period_id:t},{headers:{Authorization:`Bearer ${x}`,"X-Company-ID":f}})).data.success&&(alert("Payroll approved successfully!"),o())}catch(x){alert(x.response?.data?.message||"Failed to approve payroll")}},m=async()=>{if(r)try{const x=localStorage.getItem("auth_token"),f=localStorage.getItem("company_id");for(const v of r.items){const b=await Ae.get(`/api/v1/hr/payroll/download-payslip.php?period_id=${r.id}&employee_id=${v.employee_id}`,{headers:{Authorization:`Bearer ${x}`,"X-Company-ID":f},responseType:"blob"}),w=window.URL.createObjectURL(new Blob([b.data])),N=document.createElement("a");N.href=w,N.setAttribute("download",`Fluturos_${v.employee_code}_${r.year}_${String(r.month).padStart(2,"0")}.pdf`),document.body.appendChild(N),N.click(),N.remove(),await new Promise(y=>setTimeout(y,500))}alert("Payslips downloaded successfully!")}catch(x){console.error("Failed to download payslips:",x),alert("Failed to download payslips")}},h=x=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:"RON"}).format(Number(x));return i?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading payroll period..."})]})}):r?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("button",{onClick:()=>a("/dashboard/payroll"),className:"flex items-center text-gray-600 hover:text-gray-900 mb-4",children:[e.jsx(gd,{className:"w-5 h-5 mr-2"}),"Back to Payroll List"]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Payroll - ",r.month_name," ",r.year]}),e.jsxs("p",{className:"mt-2 text-gray-600",children:[r.period_start," to ",r.period_end," (",r.working_days," working days)"]})]}),e.jsxs("div",{className:"flex gap-3",children:[r.status==="calculated"&&e.jsxs("button",{onClick:u,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2",children:[e.jsx(Me,{className:"w-5 h-5"}),"Approve Payroll"]}),e.jsxs("button",{onClick:m,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[e.jsx(tr,{className:"w-5 h-5"}),"Download Payslips"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Employees"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:r.items.length})]}),e.jsx(as,{className:"w-10 h-10 text-blue-500"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Gross Salary"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:h(r.total_gross_salary)})]}),e.jsx(Ht,{className:"w-10 h-10 text-green-500"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Net Salary"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:h(r.total_net_salary)})]}),e.jsx(Ze,{className:"w-10 h-10 text-purple-500"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Employer Cost"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:h(r.total_employer_cost)})]}),e.jsx(nt,{className:"w-10 h-10 text-red-500"})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Employee Payroll Details"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Days Worked"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gross Salary"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"CAS (25%)"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"CASS (10%)"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Income Tax"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Net Salary"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employer Cost"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.items.map(x=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(as,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.employee_name}),e.jsx("div",{className:"text-sm text-gray-500",children:x.employee_code})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[x.days_worked," / ",r.working_days]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:h(x.gross_salary)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.jsxs("div",{children:[h(x.cas_employee)," (employee)"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[h(x.cas_employer)," (employer)"]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.jsxs("div",{children:[h(x.cass_employee)," (employee)"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[h(x.cass_employer)," (employer)"]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:h(x.income_tax)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:h(x.net_salary)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-red-600",children:h(x.total_employer_cost)})]},x.id))}),e.jsx("tfoot",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900",children:"TOTAL"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900",children:h(r.total_gross_salary)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-600",children:h(r.total_net_salary)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-red-600",children:h(r.total_employer_cost)})]})})]})})]}),e.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Romanian Payroll Tax Rates (2025)"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-900",children:"CAS (Pension)"}),e.jsx("p",{className:"text-sm text-blue-700",children:"25% employee contribution + 25% employer contribution"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-900",children:"CASS (Health)"}),e.jsx("p",{className:"text-sm text-blue-700",children:"10% employee contribution + 10% employer contribution"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Income Tax"}),e.jsx("p",{className:"text-sm text-blue-700",children:"10% of taxable income (after CAS, CASS, and 510 RON personal deduction)"})]})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-600",children:"Payroll period not found"}),e.jsx("button",{onClick:()=>a("/dashboard/payroll"),className:"mt-4 text-blue-600 hover:text-blue-800",children:"Go back to payroll list"})]})})}function dse(){const[t,a]=g.useState({}),[r,s]=g.useState(!0),[i,c]=g.useState(new Date().getFullYear()),[o,u]=g.useState(null),[m,h]=g.useState(!1);g.useEffect(()=>{x()},[i]);const x=async()=>{try{s(!0);const _=localStorage.getItem("auth_token"),A=localStorage.getItem("company_id"),C=await Ae.get(`/api/v1/fiscal-calendar/my-calendar.php?year=${i}`,{headers:{Authorization:`Bearer ${_}`,"X-Company-ID":A}});C.data.success&&a(C.data.data)}catch(_){console.error("Failed to fetch fiscal calendar:",_)}finally{s(!1)}},f=_=>{switch(_){case"overdue":return"bg-red-100 text-red-800 border-red-300";case"critical":return"bg-orange-100 text-orange-800 border-orange-300";case"high":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"medium":return"bg-blue-100 text-blue-800 border-blue-300";case"low":return"bg-green-100 text-green-800 border-green-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},v=_=>{switch(_){case"overdue":case"critical":return e.jsx(ca,{className:"w-5 h-5"});case"high":return e.jsx(fr,{className:"w-5 h-5"});default:return e.jsx(nt,{className:"w-5 h-5"})}},b=_=>{switch(_){case"submitted":case"approved":return e.jsx(Me,{className:"w-5 h-5 text-green-600"});default:return e.jsx(fr,{className:"w-5 h-5 text-gray-400"})}},w=async _=>{const A=document.createElement("input");A.type="file",A.accept=".pdf,.xml",A.onchange=async C=>{const E=C.target.files[0];if(!E)return;const k=new FormData;k.append("file",E),k.append("calendar_entry_id",_);try{const O=localStorage.getItem("auth_token"),D=localStorage.getItem("company_id");(await Ae.post("/api/v1/fiscal-calendar/declaration-file.php",k,{headers:{Authorization:`Bearer ${O}`,"X-Company-ID":D,"Content-Type":"multipart/form-data"}})).data.success&&(alert("Declaration uploaded successfully!"),x())}catch(O){alert(O.response?.data?.message||"Failed to upload declaration")}},A.click()},N=async _=>{try{const A=localStorage.getItem("auth_token"),C=localStorage.getItem("company_id"),E=await Ae.get(`/api/v1/fiscal-calendar/declaration-file.php?id=${_}`,{headers:{Authorization:`Bearer ${A}`,"X-Company-ID":C},responseType:"blob"}),k=window.URL.createObjectURL(new Blob([E.data])),O=document.createElement("a");O.href=k,O.setAttribute("download",`declaration_${_}.pdf`),document.body.appendChild(O),O.click(),O.remove()}catch{alert("Failed to download declaration")}},y=["January","February","March","April","May","June","July","August","September","October","November","December"];return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(nt,{className:"w-8 h-8"}),"Fiscal Calendar"]}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Track Romanian fiscal deadlines and manage declarations"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),e.jsx("select",{value:i,onChange:_=>c(Number(_.target.value)),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[2024,2025,2026].map(_=>e.jsx("option",{value:_,children:_},_))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Month"}),e.jsxs("select",{value:o||"",onChange:_=>u(_.target.value||null),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Months"}),y.map((_,A)=>e.jsx("option",{value:(A+1).toString(),children:_},_))]})]})]}),e.jsxs("button",{onClick:()=>h(!m),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[e.jsx(Ze,{className:"w-5 h-5"}),m?"Show Calendar":"Show Declarations"]})]})}),r?e.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading fiscal calendar..."})]}):m?e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Declaration History"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:Object.entries(t).map(([,_])=>_.filter(A=>A.declaration_id).map(A=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ze,{className:"w-6 h-6 text-blue-600"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-medium text-gray-900",children:[A.deadline_name," (",A.deadline_code,")"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Due: ",A.due_date]})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[b(A.status),e.jsx("span",{className:"text-sm text-gray-600",children:A.status}),e.jsxs("button",{onClick:()=>N(A.declaration_id),className:"ml-4 px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-1",children:[e.jsx(tr,{className:"w-4 h-4"}),"Download PDF"]})]})]})},A.id)))})})]}):e.jsx("div",{className:"space-y-6",children:Object.entries(t).filter(([_])=>!o||_===y[Number(o)-1]).map(([_,A])=>e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:e.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[_," - ",A.length," deadline",A.length!==1?"s":""]})}),e.jsx("div",{className:"divide-y divide-gray-200",children:A.map(C=>e.jsxs("div",{className:`p-6 border-l-4 ${f(C.urgency)}`,children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[v(C.urgency),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:C.deadline_name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Code: ",C.deadline_code," | Due:"," ",C.due_date]})]})]}),e.jsx("p",{className:"text-sm text-gray-700 ml-8",children:C.description})]}),e.jsx("div",{className:"flex items-center gap-2 ml-4",children:C.declaration_id?e.jsxs("button",{onClick:()=>N(C.declaration_id),className:"px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700 flex items-center gap-1",children:[e.jsx(tr,{className:"w-4 h-4"}),"Download"]}):e.jsxs("button",{onClick:()=>w(C.id),className:"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-1",children:[e.jsx(Xo,{className:"w-4 h-4"}),"Upload"]})})]}),e.jsxs("div",{className:"mt-3 ml-8",children:[e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f(C.urgency)} border`,children:C.urgency.toUpperCase()}),C.can_auto_generate&&e.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 border border-purple-300",children:"Auto-generate available"})]})]},C.id))})]},_))}),e.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Urgency Levels"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-red-500 rounded"}),e.jsx("span",{className:"text-sm",children:"Overdue (past deadline)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-orange-500 rounded"}),e.jsx("span",{className:"text-sm",children:"Critical (<3 days)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded"}),e.jsx("span",{className:"text-sm",children:"High (3-7 days)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded"}),e.jsx("span",{className:"text-sm",children:"Medium (7-14 days)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),e.jsx("span",{className:"text-sm",children:"Low (>14 days)"})]})]})]})]})})}const use="/api/v1",Gl=Ae.create({baseURL:use,headers:{"Content-Type":"application/json"}});Gl.interceptors.request.use(t=>{const a=localStorage.getItem("auth_token"),r=localStorage.getItem("company_id");return a&&(t.headers.Authorization=`Bearer ${a}`),r&&(t.headers["X-Company-ID"]=r),t});const Cm={list:async()=>(await Gl.get("/hr/employees.php")).data.data||[],getById:async t=>(await Gl.get(`/hr/employees.php?id=${t}`)).data.data,create:async t=>(await Gl.post("/hr/employees.php",t)).data.data,update:async(t,a)=>{await Gl.put("/hr/employees.php",{id:t,...a})},delete:async t=>{await Gl.delete("/hr/employees.php",{data:{id:t}})}},mse=()=>{const[t,a]=g.useState([]),[r,s]=g.useState(!0),[i,c]=g.useState(""),[o,u]=g.useState("all"),[m,h]=g.useState(!1),[x,f]=g.useState(null),[v,b]=g.useState({display_name:"",email:"",phone:"",employee_number:"",employment_type:"full_time",department:"",position_title:"",hire_date:"",salary_amount:void 0,status:"active"});g.useEffect(()=>{w()},[]);const w=async()=>{try{const k=await Cm.list();a(k)}catch(k){console.error("Failed to load employees:",k),alert("Eroare la ncrcarea angajailor")}finally{s(!1)}},N=k=>{k?(f(k),b({display_name:k.display_name,email:k.email||"",phone:k.phone||"",employee_number:k.employee_number||"",employment_type:k.employment_type||"full_time",department:k.department||"",position_title:k.position_title||"",hire_date:k.hire_date||"",salary_amount:k.salary_amount,status:k.status})):(f(null),b({display_name:"",email:"",phone:"",employee_number:"",employment_type:"full_time",department:"",position_title:"",hire_date:"",salary_amount:void 0,status:"active"})),h(!0)},y=()=>{h(!1),f(null)},_=async k=>{if(k.preventDefault(),!v.display_name){alert("Numele angajatului este obligatoriu");return}try{x?(await Cm.update(x.id,v),alert("Angajat actualizat cu succes!")):(await Cm.create(v),alert("Angajat adugat cu succes!")),y(),w()}catch(O){console.error("Failed to save employee:",O),alert("Eroare la salvarea angajatului")}},A=async(k,O)=>{if(window.confirm(`Eti sigur c vrei s tergi angajatul ${O}?`))try{await Cm.delete(k),a(t.filter(D=>D.id!==k)),alert("Angajat ters cu succes!")}catch(D){console.error("Failed to delete employee:",D),alert("Eroare la tergerea angajatului")}},C=t.filter(k=>{const O=k.display_name?.toLowerCase().includes(i.toLowerCase())||k.email?.toLowerCase().includes(i.toLowerCase())||k.department?.toLowerCase().includes(i.toLowerCase())||k.position_title?.toLowerCase().includes(i.toLowerCase()),D=o==="all"||k.status===o;return O&&D}),E={total:t.length,active:t.filter(k=>k.status==="active").length,inactive:t.filter(k=>k.status==="inactive").length};return r?e.jsx(qe,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})})}):e.jsxs(qe,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Angajai"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Gestioneaz echipa companiei tale"})]}),e.jsxs("button",{onClick:()=>N(),className:"btn-primary flex items-center gap-2",children:[e.jsx(wt,{className:"w-5 h-5"}),"Adaug Angajat"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{label:"Total Angajai",value:E.total,color:"text-gray-900",icon:ka},{label:"Activi",value:E.active,color:"text-green-600",icon:ka},{label:"Inactivi",value:E.inactive,color:"text-red-600",icon:ka}].map((k,O)=>{const D=k.icon;return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:k.label}),e.jsx(D,{className:`w-5 h-5 ${k.color}`})]}),e.jsx("p",{className:`text-2xl font-bold ${k.color}`,children:k.value})]},O)})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Oa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Caut angajai...",value:i,onChange:k=>c(k.target.value),className:"input pl-10"})]})}),e.jsx("div",{children:e.jsxs("select",{value:o,onChange:k=>u(k.target.value),className:"input",children:[e.jsx("option",{value:"all",children:"Toi angajaii"}),e.jsx("option",{value:"active",children:"Activi"}),e.jsx("option",{value:"inactive",children:"Inactivi"})]})})]})}),e.jsx("div",{className:"card overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Angajat"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Departament"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Poziie"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tip Angajare"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aciuni"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:"Nu exist angajai"})}):C.map(k=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.display_name}),k.email&&e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500 mt-1",children:[e.jsx(Hi,{className:"w-3 h-3"}),k.email]}),k.phone&&e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[e.jsx(Yo,{className:"w-3 h-3"}),k.phone]})]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:k.department||"-"}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:k.position_title||"-"}),e.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:[k.employment_type==="full_time"&&"Full Time",k.employment_type==="part_time"&&"Part Time",k.employment_type==="contract"&&"Contract",k.employment_type==="intern"&&"Intern",!k.employment_type&&"-"]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${k.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:k.status==="active"?"Activ":"Inactiv"})}),e.jsxs("td",{className:"px-6 py-4 text-right text-sm space-x-2",children:[e.jsx("button",{onClick:()=>N(k),className:"text-primary-600 hover:text-primary-900 inline-flex items-center",children:e.jsx(ya,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>A(k.id,k.display_name),className:"text-red-600 hover:text-red-900 inline-flex items-center",children:e.jsx(oa,{className:"w-4 h-4"})})]})]},k.id))})]})})})]}),m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:x?"Editeaz Angajat":"Adaug Angajat Nou"})}),e.jsxs("form",{onSubmit:_,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nume Complet ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",required:!0,value:v.display_name,onChange:k=>b({...v,display_name:k.target.value}),className:"input",placeholder:"Ion Popescu"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",value:v.email,onChange:k=>b({...v,email:k.target.value}),className:"input",placeholder:"ion.popescu@company.ro"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefon"}),e.jsx("input",{type:"tel",value:v.phone,onChange:k=>b({...v,phone:k.target.value}),className:"input",placeholder:"+40 700 000 000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Numr Angajat"}),e.jsx("input",{type:"text",value:v.employee_number,onChange:k=>b({...v,employee_number:k.target.value}),className:"input",placeholder:"EMP001"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tip Angajare"}),e.jsxs("select",{value:v.employment_type,onChange:k=>b({...v,employment_type:k.target.value}),className:"input",children:[e.jsx("option",{value:"full_time",children:"Full Time"}),e.jsx("option",{value:"part_time",children:"Part Time"}),e.jsx("option",{value:"contract",children:"Contract"}),e.jsx("option",{value:"intern",children:"Intern"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departament"}),e.jsx("input",{type:"text",value:v.department,onChange:k=>b({...v,department:k.target.value}),className:"input",placeholder:"IT, HR, Finance, etc."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Poziie"}),e.jsx("input",{type:"text",value:v.position_title,onChange:k=>b({...v,position_title:k.target.value}),className:"input",placeholder:"Software Engineer, Manager, etc."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Angajrii"}),e.jsx("input",{type:"date",value:v.hire_date,onChange:k=>b({...v,hire_date:k.target.value}),className:"input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Salariu (RON)"}),e.jsx("input",{type:"number",step:"0.01",value:v.salary_amount||"",onChange:k=>b({...v,salary_amount:parseFloat(k.target.value)||void 0}),className:"input",placeholder:"5000.00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:v.status,onChange:k=>b({...v,status:k.target.value}),className:"input",children:[e.jsx("option",{value:"active",children:"Activ"}),e.jsx("option",{value:"inactive",children:"Inactiv"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:y,className:"btn-secondary",children:"Anuleaz"}),e.jsxs("button",{type:"submit",className:"btn-primary",children:[x?"Actualizeaz":"Adaug"," Angajat"]})]})]})]})})]})},xse="/api/v1",Kl=Ae.create({baseURL:xse,headers:{"Content-Type":"application/json"}});Kl.interceptors.request.use(t=>{const a=localStorage.getItem("auth_token"),r=localStorage.getItem("company_id");return a&&(t.headers.Authorization=`Bearer ${a}`),r&&(t.headers["X-Company-ID"]=r),t});const km={list:async()=>(await Kl.get("/payments/payments.php")).data.data||[],getById:async t=>(await Kl.get(`/payments/payments.php?id=${t}`)).data.data,create:async t=>(await Kl.post("/payments/payments.php",t)).data.data,update:async(t,a)=>{await Kl.put("/payments/payments.php",{id:t,...a})},delete:async t=>{await Kl.delete("/payments/payments.php",{data:{id:t}})}},hse=()=>{const[t,a]=g.useState([]),[r,s]=g.useState([]),[i,c]=g.useState(!0),[o,u]=g.useState(""),[m,h]=g.useState("all"),[x,f]=g.useState("all"),[v,b]=g.useState(!1),[w,N]=g.useState(null),[y,_]=g.useState({payment_type:"invoice_payment",payment_date:new Date().toISOString().split("T")[0],amount:0,currency:"RON",reference_number:"",contact_id:void 0,status:"completed"});g.useEffect(()=>{A()},[]);const A=async()=>{try{const[M,F]=await Promise.all([km.list(),ac.list()]);a(M),s(F)}catch(M){console.error("Failed to load data:",M),alert("Eroare la ncrcarea datelor")}finally{c(!1)}},C=M=>{M?(N(M),_({payment_type:M.payment_type,payment_date:M.payment_date,amount:M.amount,currency:M.currency,reference_number:M.reference_number||"",contact_id:M.contact_id||void 0,status:M.status})):(N(null),_({payment_type:"invoice_payment",payment_date:new Date().toISOString().split("T")[0],amount:0,currency:"RON",reference_number:"",contact_id:void 0,status:"completed"})),b(!0)},E=()=>{b(!1),N(null)},k=async M=>{if(M.preventDefault(),y.amount<=0){alert("Suma trebuie s fie mai mare dect 0");return}try{w?(await km.update(w.id,y),alert("Plat actualizat cu succes!")):(await km.create(y),alert("Plat nregistrat cu succes!")),E(),A()}catch(F){console.error("Failed to save payment:",F),alert("Eroare la salvarea plii")}},O=async(M,F)=>{if(window.confirm(`Eti sigur c vrei s tergi plata de ${F} RON?`))try{await km.delete(M),a(t.filter(q=>q.id!==M)),alert("Plat tears cu succes!")}catch(q){console.error("Failed to delete payment:",q),alert("Eroare la tergerea plii")}},D=t.filter(M=>{const F=M.reference_number?.toLowerCase().includes(o.toLowerCase())||M.contact_name?.toLowerCase().includes(o.toLowerCase())||M.amount.toString().includes(o),q=m==="all"||M.status===m,te=x==="all"||M.payment_type===x;return F&&q&&te}),P={total:t.reduce((M,F)=>M+F.amount,0),completed:t.filter(M=>M.status==="completed").reduce((M,F)=>M+F.amount,0),pending:t.filter(M=>M.status==="pending").reduce((M,F)=>M+F.amount,0),count:t.length},L=M=>({invoice_payment:"Plat Factur",bill_payment:"Plat Factur Furnizor",expense_reimbursement:"Rambursare Cheltuial",other:"Altele"})[M]||M,z=M=>({completed:"Finalizat",pending:"n Ateptare",failed:"Euat",cancelled:"Anulat"})[M]||M;return i?e.jsx(qe,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})})}):e.jsxs(qe,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pli"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Gestioneaz plile i tranzaciile"})]}),e.jsxs("button",{onClick:()=>C(),className:"btn-primary flex items-center gap-2",children:[e.jsx(wt,{className:"w-5 h-5"}),"nregistreaz Plat"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{label:"Total Pli",value:`${P.total.toFixed(2)} RON`,color:"text-gray-900",icon:Ht},{label:"Finalizate",value:`${P.completed.toFixed(2)} RON`,color:"text-green-600",icon:Sv},{label:"n Ateptare",value:`${P.pending.toFixed(2)} RON`,color:"text-yellow-600",icon:nt},{label:"Numr Pli",value:P.count,color:"text-blue-600",icon:Ze}].map((M,F)=>{const q=M.icon;return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:M.label}),e.jsx(q,{className:`w-5 h-5 ${M.color}`})]}),e.jsx("p",{className:`text-2xl font-bold ${M.color}`,children:M.value})]},F)})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Oa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Caut pli...",value:o,onChange:M=>u(M.target.value),className:"input pl-10"})]})}),e.jsx("div",{children:e.jsxs("select",{value:x,onChange:M=>f(M.target.value),className:"input",children:[e.jsx("option",{value:"all",children:"Toate tipurile"}),e.jsx("option",{value:"invoice_payment",children:"Plat Factur"}),e.jsx("option",{value:"bill_payment",children:"Plat Factur Furnizor"}),e.jsx("option",{value:"expense_reimbursement",children:"Rambursare Cheltuial"}),e.jsx("option",{value:"other",children:"Altele"})]})}),e.jsx("div",{children:e.jsxs("select",{value:m,onChange:M=>h(M.target.value),className:"input",children:[e.jsx("option",{value:"all",children:"Toate statusurile"}),e.jsx("option",{value:"completed",children:"Finalizat"}),e.jsx("option",{value:"pending",children:"n Ateptare"}),e.jsx("option",{value:"failed",children:"Euat"}),e.jsx("option",{value:"cancelled",children:"Anulat"})]})})]})}),e.jsx("div",{className:"card overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Referin"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tip Plat"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dat"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sum"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aciuni"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:D.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:"Nu exist pli nregistrate"})}):D.map(M=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:M.reference_number||"-"}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:L(M.payment_type)}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:M.contact_name||"-"}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:new Date(M.payment_date).toLocaleDateString("ro-RO")}),e.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:[M.amount.toFixed(2)," ",M.currency]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${M.status==="completed"?"bg-green-100 text-green-800":M.status==="pending"?"bg-yellow-100 text-yellow-800":M.status==="failed"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:z(M.status)})}),e.jsxs("td",{className:"px-6 py-4 text-right text-sm space-x-2",children:[e.jsx("button",{onClick:()=>C(M),className:"text-primary-600 hover:text-primary-900 inline-flex items-center",children:e.jsx(ya,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>O(M.id,M.amount),className:"text-red-600 hover:text-red-900 inline-flex items-center",children:e.jsx(oa,{className:"w-4 h-4"})})]})]},M.id))})]})})})]}),v&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:w?"Editeaz Plat":"nregistreaz Plat Nou"})}),e.jsxs("form",{onSubmit:k,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Tip Plat ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{required:!0,value:y.payment_type,onChange:M=>_({...y,payment_type:M.target.value}),className:"input",children:[e.jsx("option",{value:"invoice_payment",children:"Plat Factur"}),e.jsx("option",{value:"bill_payment",children:"Plat Factur Furnizor"}),e.jsx("option",{value:"expense_reimbursement",children:"Rambursare Cheltuial"}),e.jsx("option",{value:"other",children:"Altele"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Dat Plat ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",required:!0,value:y.payment_date,onChange:M=>_({...y,payment_date:M.target.value}),className:"input"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Sum ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",required:!0,step:"0.01",min:"0.01",value:y.amount,onChange:M=>_({...y,amount:parseFloat(M.target.value)}),className:"input",placeholder:"1000.00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Moned"}),e.jsxs("select",{value:y.currency,onChange:M=>_({...y,currency:M.target.value}),className:"input",children:[e.jsx("option",{value:"RON",children:"RON"}),e.jsx("option",{value:"EUR",children:"EUR"}),e.jsx("option",{value:"USD",children:"USD"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Numr Referin"}),e.jsx("input",{type:"text",value:y.reference_number,onChange:M=>_({...y,reference_number:M.target.value}),className:"input",placeholder:"PAY-2025-001"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact"}),e.jsxs("select",{value:y.contact_id||"",onChange:M=>_({...y,contact_id:M.target.value||void 0}),className:"input",children:[e.jsx("option",{value:"",children:"Fr contact"}),r.map(M=>e.jsx("option",{value:M.id,children:M.display_name},M.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:y.status,onChange:M=>_({...y,status:M.target.value}),className:"input",children:[e.jsx("option",{value:"completed",children:"Finalizat"}),e.jsx("option",{value:"pending",children:"n Ateptare"}),e.jsx("option",{value:"failed",children:"Euat"}),e.jsx("option",{value:"cancelled",children:"Anulat"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:E,className:"btn-secondary",children:"Anuleaz"}),e.jsxs("button",{type:"submit",className:"btn-primary",children:[w?"Actualizeaz":"nregistreaz"," Plat"]})]})]})]})})]})},pse="/api/v1",Yl=Ae.create({baseURL:pse,headers:{"Content-Type":"application/json"}});Yl.interceptors.request.use(t=>{const a=localStorage.getItem("auth_token"),r=localStorage.getItem("company_id");return a&&(t.headers.Authorization=`Bearer ${a}`),r&&(t.headers["X-Company-ID"]=r),t});const Am={list:async()=>(await Yl.get("/recurring-invoices/list.php")).data.data||{recurring_invoices:[],statistics:{}},getById:async t=>(await Yl.get(`/recurring-invoices/get.php?id=${t}`)).data.data,create:async t=>(await Yl.post("/recurring-invoices/create.php",t)).data.data,update:async(t,a)=>{await Yl.put("/recurring-invoices/update.php",{id:t,...a})},cancel:async t=>{await Yl.post("/recurring-invoices/cancel.php",{id:t})}},fse=()=>{const[t,a]=g.useState([]),[r,s]=g.useState([]),[i,c]=g.useState(!0),[o,u]=g.useState(!1),[m,h]=g.useState(null),[x,f]=g.useState(""),[v,b]=g.useState("all"),[w,N]=g.useState("all"),[y,_]=g.useState({total_active:0,total_paused:0,monthly_revenue:0}),[A,C]=g.useState({customer_id:"",frequency:"monthly",next_invoice_date:"",amount:0,currency:"RON",description:"",line_items:[]});g.useEffect(()=>{E()},[]),g.useEffect(()=>{k()},[x,v,w,t]);const E=async()=>{try{c(!0);const q=await Am.list();a(q.recurring_invoices||[]),_(q.statistics||{total_active:0,total_paused:0,monthly_revenue:0})}catch(q){console.error("Error loading recurring invoices:",q),alert("Eroare la ncrcarea facturilor recurente")}finally{c(!1)}},k=()=>{let q=[...t];x&&(q=q.filter(te=>te.customer_name?.toLowerCase().includes(x.toLowerCase())||te.description?.toLowerCase().includes(x.toLowerCase())||te.amount.toString().includes(x))),v!=="all"&&(q=q.filter(te=>v==="active"?te.is_active:!te.is_active)),w!=="all"&&(q=q.filter(te=>te.frequency===w)),s(q)},O=async q=>{q.preventDefault();try{m?(await Am.update(m.id,A),alert("Factur recurent actualizat cu succes!")):(await Am.create(A),alert("Factur recurent creat cu succes!")),u(!1),L(),E()}catch(te){console.error("Error saving recurring invoice:",te),alert("Eroare la salvarea facturii recurente")}},D=q=>{h(q),C({customer_id:q.user_id,frequency:q.frequency,next_invoice_date:q.next_invoice_date.split("T")[0],amount:q.amount,currency:q.currency,description:q.description||"",line_items:[]}),u(!0)},P=async q=>{if(window.confirm("Sigur dorii s anulai aceast factur recurent?"))try{await Am.cancel(q),alert("Factur recurent anulat cu succes!"),E()}catch(te){console.error("Error canceling recurring invoice:",te),alert("Eroare la anularea facturii recurente")}},L=()=>{h(null),C({customer_id:"",frequency:"monthly",next_invoice_date:"",amount:0,currency:"RON",description:"",line_items:[]})},z=q=>({daily:"Zilnic",weekly:"Sptmnal",monthly:"Lunar",quarterly:"Trimestrial",yearly:"Anual"})[q]||q,M=(q,te)=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:te||"RON"}).format(q),F=q=>new Date(q).toLocaleDateString("ro-RO");return i?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"text-lg",children:"Se ncarc..."})}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Facturi Recurente"}),e.jsx("p",{className:"text-gray-600",children:"Gestionai facturile automate i abonamentele"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:y.total_active})]}),e.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:e.jsx(sc,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Pause"}),e.jsx("p",{className:"text-2xl font-bold text-gray-600",children:y.total_paused})]}),e.jsx("div",{className:"bg-gray-100 p-3 rounded-lg",children:e.jsx(my,{className:"w-6 h-6 text-gray-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Venit Lunar Estimat"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:M(y.monthly_revenue,"RON")})]}),e.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:e.jsx(Ht,{className:"w-6 h-6 text-blue-600"})})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Oa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Caut...",value:x,onChange:q=>f(q.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("select",{value:v,onChange:q=>b(q.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"Toate statusurile"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"paused",children:"n pauz"})]}),e.jsxs("select",{value:w,onChange:q=>N(q.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"Toate frecvenele"}),e.jsx("option",{value:"daily",children:"Zilnic"}),e.jsx("option",{value:"weekly",children:"Sptmnal"}),e.jsx("option",{value:"monthly",children:"Lunar"}),e.jsx("option",{value:"quarterly",children:"Trimestrial"}),e.jsx("option",{value:"yearly",children:"Anual"})]}),e.jsxs("button",{onClick:()=>{L(),u(!0)},className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition flex items-center justify-center gap-2",children:[e.jsx(wt,{className:"w-5 h-5"}),"Adaug Factur Recurent"]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descriere"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Frecven"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Urmtoarea Factur"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sum"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aciuni"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:"Nu exist facturi recurente"})}):r.map(q=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:q.customer_name||"N/A"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-900",children:q.description||"-"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:z(q.frequency)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[e.jsx(nt,{className:"w-4 h-4 mr-2 text-gray-400"}),F(q.next_invoice_date)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:M(q.amount,q.currency)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:q.is_active?e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(Cv,{className:"w-3 h-3 mr-1"}),"Activ"]}):e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[e.jsx(my,{className:"w-3 h-3 mr-1"}),"n pauz"]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx("button",{onClick:()=>D(q),className:"text-blue-600 hover:text-blue-900 mr-4",title:"Editeaz",children:e.jsx(ya,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>P(q.id),className:"text-red-600 hover:text-red-900",title:"Anuleaz",children:e.jsx(oa,{className:"w-5 h-5"})})]})]},q.id))})]})}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:m?"Editeaz Factur Recurent":"Adaug Factur Recurent"}),e.jsxs("form",{onSubmit:O,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ID Client *"}),e.jsx("input",{type:"text",required:!0,value:A.customer_id,onChange:q=>C({...A,customer_id:q.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frecven *"}),e.jsxs("select",{required:!0,value:A.frequency,onChange:q=>C({...A,frequency:q.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"daily",children:"Zilnic"}),e.jsx("option",{value:"weekly",children:"Sptmnal"}),e.jsx("option",{value:"monthly",children:"Lunar"}),e.jsx("option",{value:"quarterly",children:"Trimestrial"}),e.jsx("option",{value:"yearly",children:"Anual"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Urmtoarea Factur *"}),e.jsx("input",{type:"date",required:!0,value:A.next_invoice_date,onChange:q=>C({...A,next_invoice_date:q.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sum *"}),e.jsx("input",{type:"number",step:"0.01",min:"0.01",required:!0,value:A.amount,onChange:q=>C({...A,amount:parseFloat(q.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Moned"}),e.jsxs("select",{value:A.currency,onChange:q=>C({...A,currency:q.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"RON",children:"RON"}),e.jsx("option",{value:"EUR",children:"EUR"}),e.jsx("option",{value:"USD",children:"USD"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descriere"}),e.jsx("textarea",{rows:3,value:A.description,onChange:q=>C({...A,description:q.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Detalii despre factura recurent..."})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx("button",{type:"button",onClick:()=>{u(!1),L()},className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition",children:"Anuleaz"}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:m?"Actualizeaz":"Adaug"})]})]})]})})})]})},gse="/api/v1",Fo=Ae.create({baseURL:gse,headers:{"Content-Type":"application/json"}});Fo.interceptors.request.use(t=>{const a=localStorage.getItem("auth_token"),r=localStorage.getItem("company_id");return a&&(t.headers.Authorization=`Bearer ${a}`),r&&(t.headers["X-Company-ID"]=r),t});const ey={list:async t=>{const a=new URLSearchParams;return t?.status&&a.append("status",t.status),t?.entry_type&&a.append("entry_type",t.entry_type),t?.start_date&&a.append("start_date",t.start_date),t?.end_date&&a.append("end_date",t.end_date),t?.limit&&a.append("limit",t.limit.toString()),t?.offset&&a.append("offset",t.offset.toString()),(await Fo.get(`/accounting/journal-entries.php?${a.toString()}`)).data.data||{entries:[],count:0}},getById:async t=>(await Fo.get(`/accounting/journal-entries.php?id=${t}`)).data.data.entry,create:async t=>(await Fo.post("/accounting/journal-entries.php",t)).data.data,post:async t=>{await Fo.post("/accounting/journal-entries.php?action=post",{entry_id:t})}},yse=()=>{const[t,a]=g.useState([]),[r,s]=g.useState([]),[i,c]=g.useState(!0),[o,u]=g.useState(!1),[m,h]=g.useState(null),[x,f]=g.useState(""),[v,b]=g.useState("all"),[w,N]=g.useState("all"),[y,_]=g.useState({entry_date:new Date().toISOString().split("T")[0],entry_type:"general",description:"",reference:"",lines:[{account_id:"",debit:0,credit:0,description:""},{account_id:"",debit:0,credit:0,description:""}]});g.useEffect(()=>{A()},[]),g.useEffect(()=>{C()},[x,v,w,t]);const A=async()=>{try{c(!0);const R=await ey.list();a(R.entries||[])}catch(R){console.error("Error loading journal entries:",R),alert("Eroare la ncrcarea nregistrrilor jurnal")}finally{c(!1)}},C=()=>{let R=[...t];x&&(R=R.filter($=>$.entry_number?.toLowerCase().includes(x.toLowerCase())||$.description?.toLowerCase().includes(x.toLowerCase())||$.reference?.toLowerCase().includes(x.toLowerCase()))),v!=="all"&&(R=R.filter($=>$.status===v)),w!=="all"&&(R=R.filter($=>$.entry_type===w)),s(R)},E=async R=>{R.preventDefault();const $=y.lines.reduce((B,K)=>B+(K.debit||0),0),V=y.lines.reduce((B,K)=>B+(K.credit||0),0);if(Math.abs($-V)>.01){alert(`nregistrarea nu este echilibrat!
Debit total: ${$.toFixed(2)}
Credit total: ${V.toFixed(2)}`);return}const Z=y.lines.filter(B=>B.account_id&&(B.debit>0||B.credit>0));if(Z.length<2){alert("Trebuie s avei cel puin 2 linii valide n nregistrare");return}try{await ey.create({...y,lines:Z}),alert("nregistrare jurnal creat cu succes!"),u(!1),z(),A()}catch(B){console.error("Error creating journal entry:",B),alert("Eroare la crearea nregistrrii jurnal")}},k=async R=>{if(window.confirm("Sigur dorii s postai aceast nregistrare? Acest lucru o va face permanent."))try{await ey.post(R),alert("nregistrare postat cu succes!"),A()}catch($){console.error("Error posting journal entry:",$),alert("Eroare la postarea nregistrrii")}},O=R=>{h(R)},D=()=>{_({...y,lines:[...y.lines,{account_id:"",debit:0,credit:0,description:""}]})},P=R=>{y.lines.length>2&&_({...y,lines:y.lines.filter(($,V)=>V!==R)})},L=(R,$,V)=>{const Z=[...y.lines];Z[R]={...Z[R],[$]:V},_({...y,lines:Z})},z=()=>{_({entry_date:new Date().toISOString().split("T")[0],entry_type:"general",description:"",reference:"",lines:[{account_id:"",debit:0,credit:0,description:""},{account_id:"",debit:0,credit:0,description:""}]})},M=()=>y.lines.reduce((R,$)=>R+(parseFloat($.debit.toString())||0),0),F=()=>y.lines.reduce((R,$)=>R+(parseFloat($.credit.toString())||0),0),q=()=>Math.abs(M()-F())<.01,te=R=>{const $={draft:{color:"bg-yellow-100 text-yellow-800",label:"Draft"},posted:{color:"bg-green-100 text-green-800",label:"Postat"},voided:{color:"bg-red-100 text-red-800",label:"Anulat"}},V=$[R]||$.draft;return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${V.color}`,children:V.label})},W=R=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:"RON"}).format(R),H=R=>new Date(R).toLocaleDateString("ro-RO");return i?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"text-lg",children:"Se ncarc..."})}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"nregistrri Jurnal"}),e.jsx("p",{className:"text-gray-600",children:"Gestiune nregistrri contabile cu validare dubl intrare"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Oa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Caut...",value:x,onChange:R=>f(R.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("select",{value:v,onChange:R=>b(R.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"Toate statusurile"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"posted",children:"Postate"}),e.jsx("option",{value:"voided",children:"Anulate"})]}),e.jsxs("select",{value:w,onChange:R=>N(R.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"Toate tipurile"}),e.jsx("option",{value:"general",children:"General"}),e.jsx("option",{value:"adjustment",children:"Ajustare"}),e.jsx("option",{value:"closing",children:"nchidere"}),e.jsx("option",{value:"opening",children:"Deschidere"})]}),e.jsxs("button",{onClick:()=>{z(),u(!0)},className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition flex items-center justify-center gap-2",children:[e.jsx(wt,{className:"w-5 h-5"}),"nregistrare Nou"]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Numr"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descriere"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tip"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Debit"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Credit"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aciuni"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-6 py-8 text-center text-gray-500",children:"Nu exist nregistrri jurnal"})}):r.map(R=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.entry_number})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[e.jsx(nt,{className:"w-4 h-4 mr-2 text-gray-400"}),H(R.entry_date)]})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm text-gray-900",children:R.description}),R.reference&&e.jsxs("div",{className:"text-xs text-gray-500",children:["Ref: ",R.reference]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-xs text-gray-600 capitalize",children:R.entry_type})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("div",{className:"text-sm font-semibold text-green-600",children:W(R.total_debit)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("div",{className:"text-sm font-semibold text-red-600",children:W(R.total_credit)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:te(R.status)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx("button",{onClick:()=>O(R),className:"text-blue-600 hover:text-blue-900 mr-4",title:"Vezi detalii",children:e.jsx(za,{className:"w-5 h-5"})}),R.status==="draft"&&e.jsx("button",{onClick:()=>k(R.id),className:"text-green-600 hover:text-green-900",title:"Posteaz",children:e.jsx(Me,{className:"w-5 h-5"})})]})]},R.id))})]})}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-lg max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"nregistrare Jurnal Nou"}),e.jsxs("form",{onSubmit:E,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data *"}),e.jsx("input",{type:"date",required:!0,value:y.entry_date,onChange:R=>_({...y,entry_date:R.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tip *"}),e.jsxs("select",{required:!0,value:y.entry_type,onChange:R=>_({...y,entry_type:R.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"general",children:"General"}),e.jsx("option",{value:"adjustment",children:"Ajustare"}),e.jsx("option",{value:"closing",children:"nchidere"}),e.jsx("option",{value:"opening",children:"Deschidere"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Referin"}),e.jsx("input",{type:"text",value:y.reference,onChange:R=>_({...y,reference:R.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descriere *"}),e.jsx("textarea",{required:!0,rows:2,value:y.description,onChange:R=>_({...y,description:R.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Descrierea nregistrrii..."})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Linii nregistrare (Dubl intrare)"}),e.jsxs("button",{type:"button",onClick:D,className:"text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[e.jsx(wt,{className:"w-4 h-4"}),"Adaug linie"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full border border-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Cont"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Descriere"}),e.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500",children:"Debit"}),e.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500",children:"Credit"}),e.jsx("th",{className:"px-4 py-2"})]})}),e.jsxs("tbody",{children:[y.lines.map((R,$)=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"text",value:R.account_id,onChange:V=>L($,"account_id",V.target.value),placeholder:"ID cont",className:"w-full px-2 py-1 border border-gray-300 rounded"})}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"text",value:R.description||"",onChange:V=>L($,"description",V.target.value),placeholder:"Descriere linie",className:"w-full px-2 py-1 border border-gray-300 rounded"})}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"number",step:"0.01",min:"0",value:R.debit,onChange:V=>L($,"debit",parseFloat(V.target.value)||0),className:"w-full px-2 py-1 border border-gray-300 rounded text-right"})}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"number",step:"0.01",min:"0",value:R.credit,onChange:V=>L($,"credit",parseFloat(V.target.value)||0),className:"w-full px-2 py-1 border border-gray-300 rounded text-right"})}),e.jsx("td",{className:"px-4 py-2",children:y.lines.length>2&&e.jsx("button",{type:"button",onClick:()=>P($),className:"text-red-600 hover:text-red-800",children:e.jsx(ht,{className:"w-4 h-4"})})})]},$)),e.jsxs("tr",{className:"border-t-2 border-gray-400 font-semibold",children:[e.jsx("td",{colSpan:2,className:"px-4 py-2 text-right",children:"Total:"}),e.jsx("td",{className:"px-4 py-2 text-right text-green-600",children:W(M())}),e.jsx("td",{className:"px-4 py-2 text-right text-red-600",children:W(F())}),e.jsx("td",{className:"px-4 py-2",children:q()?e.jsx("span",{title:"Echilibrat",children:e.jsx(Me,{className:"w-5 h-5 text-green-600"})}):e.jsx("span",{title:"Neechilibrat",children:e.jsx(ht,{className:"w-5 h-5 text-red-600"})})})]})]})]})}),!q()&&e.jsxs("div",{className:"mt-2 text-sm text-red-600",children:[" nregistrarea nu este echilibrat. Diferen: ",W(Math.abs(M()-F()))]})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx("button",{type:"button",onClick:()=>{u(!1),z()},className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition",children:"Anuleaz"}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Salveaz ca Draft"})]})]})]})})}),m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold",children:["nregistrare Jurnal #",m.entry_number]}),e.jsx("button",{onClick:()=>h(null),className:"text-gray-500 hover:text-gray-700",children:e.jsx(ht,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Data"}),e.jsx("p",{className:"font-semibold",children:H(m.entry_date)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Tip"}),e.jsx("p",{className:"font-semibold capitalize",children:m.entry_type})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),e.jsx("p",{children:te(m.status)})]}),m.reference&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Referin"}),e.jsx("p",{className:"font-semibold",children:m.reference})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Descriere"}),e.jsx("p",{children:m.description})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Linii nregistrare"}),e.jsxs("table",{className:"min-w-full border",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Cont"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Descriere"}),e.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500",children:"Debit"}),e.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500",children:"Credit"})]})}),e.jsxs("tbody",{children:[m.lines.map((R,$)=>e.jsxs("tr",{className:"border-t",children:[e.jsxs("td",{className:"px-4 py-2",children:[R.account_code," - ",R.account_name]}),e.jsx("td",{className:"px-4 py-2",children:R.description}),e.jsx("td",{className:"px-4 py-2 text-right text-green-600",children:R.debit>0?W(R.debit):"-"}),e.jsx("td",{className:"px-4 py-2 text-right text-red-600",children:R.credit>0?W(R.credit):"-"})]},$)),e.jsxs("tr",{className:"border-t-2 border-gray-400 font-semibold",children:[e.jsx("td",{colSpan:2,className:"px-4 py-2 text-right",children:"Total:"}),e.jsx("td",{className:"px-4 py-2 text-right text-green-600",children:W(m.total_debit)}),e.jsx("td",{className:"px-4 py-2 text-right text-red-600",children:W(m.total_credit)})]})]})]})]}),m.posted_at&&e.jsxs("div",{className:"mt-6 text-sm text-gray-600",children:["Postat la: ",H(m.posted_at)]})]})})})]})},vse=({onSelect:t,onQuizStart:a,selectedId:r})=>{const{language:s}=Zi(),[i,c]=g.useState([]),[o,u]=g.useState(!0),[m,h]=g.useState(null),[x,f]=g.useState("all");g.useEffect(()=>{v()},[s]);const v=async()=>{try{const _=await(await fetch("/api/v1/personas/list.php",{headers:{"Accept-Language":s}})).json();_.success&&c(_.data)}catch(y){console.error("Failed to load personas:",y)}finally{u(!1)}},b=[{id:"all",label:s==="ro"?"Toate":"All"},{id:"service",label:s==="ro"?"Servicii":"Services"},{id:"retail",label:"Retail"},{id:"specialty",label:s==="ro"?"Specializate":"Specialty"}],w=x==="all"?i:i.filter(y=>y.category===x),N={briefcase:"M20 7h-4V4c0-1.1-.9-2-2-2h-4c-1.1 0-2 .9-2 2v3H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm-6 0h-4V4h4v3z",store:"M20 4H4v2h16V4zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6h1zm-9 4H6v-4h6v4z",truck:"M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zm-.5 1.5l1.96 2.5H17V9.5h2.5zM6 18c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm12 0c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z",scissors:"M12 12.5a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1zm-7-4a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm0 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm7-4l3-3 3 3 3-3-3-3 3-3-3-3-3 3-3-3-3 3 3 3-3 3z",wrench:"M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z",restaurant:"M11 9H9V2H7v7H5V2H3v7c0 2.12 1.66 3.84 3.75 3.97V22h2.5v-9.03C11.34 12.84 13 11.12 13 9V2h-2v7zm5-3v8h2.5v8H21V2c-2.76 0-5 2.24-5 4z",build:"M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z",flash:"M7 2v11h3v9l7-12h-4l4-8z",medical:"M19 3H5c-1.1 0-1.99.9-1.99 2L3 19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 11h-4v4h-4v-4H6v-4h4V6h4v4h4v4z",shopping:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z","directions-car":"M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z",agriculture:"M19.5 12c.93 0 1.78.28 2.5.76V8c0-1.1-.9-2-2-2h-6.29l-1.06-1.06 1.41-1.41-.71-.71-3.53 3.53.71.71 1.41-1.41L13 6.71V9c0 1.1-.9 2-2 2h-.54c.95 1.06 1.54 2.46 1.54 4 0 .34-.04.67-.09 1h3.14c.25-2.25 2.14-4 4.45-4z"};return o?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"persona-selector",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:s==="ro"?"Ce tip de afacere ai?":"What type of business do you have?"}),e.jsx("p",{className:"text-gray-600 text-lg",children:s==="ro"?"Alege profilul care descrie cel mai bine afacerea ta. Vei primi o experienta personalizata.":"Choose the profile that best describes your business. You'll get a personalized experience."})]}),e.jsx("div",{className:"flex justify-center gap-2 mb-8",children:b.map(y=>e.jsx("button",{onClick:()=>f(y.id),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${x===y.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:y.label},y.id))}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-8",children:w.map(y=>e.jsxs("div",{onClick:()=>t(y),onMouseEnter:()=>h(y.id),onMouseLeave:()=>h(null),className:`relative p-6 rounded-xl cursor-pointer transition-all duration-200 ${r===y.id?"ring-2 ring-blue-600 bg-blue-50":m===y.id?"bg-gray-50 shadow-lg transform -translate-y-1":"bg-white border border-gray-200 hover:border-gray-300"}`,children:[r===y.id&&e.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),e.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center mb-4",style:{backgroundColor:`${y.color}20`},children:e.jsx("svg",{className:"w-6 h-6",fill:y.color,viewBox:"0 0 24 24",children:e.jsx("path",{d:N[y.icon]||N.briefcase})})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:y.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:y.description}),m===y.id&&y.default_features.length>0&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-400 mb-1",children:s==="ro"?"Include:":"Includes:"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[y.default_features.slice(0,3).map((_,A)=>e.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded",children:_},A)),y.default_features.length>3&&e.jsxs("span",{className:"text-xs text-gray-400",children:["+",y.default_features.length-3]})]})]})]},y.id))}),e.jsxs("div",{className:"text-center py-6 border-t border-gray-200",children:[e.jsx("p",{className:"text-gray-500 mb-3",children:s==="ro"?"Nu esti sigur ce sa alegi?":"Not sure what to choose?"}),e.jsxs("button",{onClick:a,className:"inline-flex items-center px-6 py-3 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s==="ro"?"Ajuta-ma sa aleg":"Help me choose"]})]})]})},bse=({onComplete:t,onBack:a})=>{const{language:r}=Zi(),[s,i]=g.useState([]),[c,o]=g.useState(0),[u,m]=g.useState([]),[h,x]=g.useState(!0),[f,v]=g.useState(!1),[b,w]=g.useState(null);g.useEffect(()=>{N()},[r]);const N=async()=>{try{const k=await(await fetch("/api/v1/personas/quiz.php",{headers:{"Accept-Language":r}})).json();k.success&&i(k.data)}catch(E){console.error("Failed to load quiz:",E)}finally{x(!1)}},y=E=>{const k=[...u],O=k.findIndex(D=>D.question_id===s[c].id);O>=0?k[O].value=E:k.push({question_id:s[c].id,value:E}),m(k),setTimeout(()=>{c<s.length-1?o(c+1):_(k)},300)},_=async E=>{v(!0);try{const O=await(await fetch("/api/v1/personas/quiz.php",{method:"POST",headers:{"Content-Type":"application/json","Accept-Language":r},body:JSON.stringify({answers:E})})).json();O.success&&w(O.data)}catch(k){console.error("Failed to submit quiz:",k)}finally{v(!1)}},A=()=>u.find(k=>k.question_id===s[c]?.id)?.value;if(h)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(b)return e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:r==="ro"?"Am gasit profilul potrivit!":"We found the right profile!"}),e.jsx("p",{className:"text-gray-600",children:r==="ro"?"Bazat pe raspunsurile tale, iti recomandam:":"Based on your answers, we recommend:"})]}),e.jsxs("div",{className:"p-6 rounded-xl mb-6",style:{backgroundColor:`${b.recommended.color}10`},children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center flex-shrink-0",style:{backgroundColor:`${b.recommended.color}20`},children:e.jsx("span",{className:"text-3xl",children:b.recommended.icon})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:b.recommended.name}),e.jsxs("span",{className:"px-2 py-0.5 rounded-full text-sm font-medium text-white",style:{backgroundColor:b.recommended.color},children:[b.recommended.match_percentage,"% ",r==="ro"?"potrivire":"match"]})]}),e.jsx("p",{className:"text-gray-600",children:b.recommended.description})]})]}),e.jsx("button",{onClick:()=>t(b.recommended),className:"w-full mt-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:r==="ro"?"Continua cu acest profil":"Continue with this profile"})]}),b.alternatives.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 mb-3",children:r==="ro"?"Alte optiuni potrivite:":"Other suitable options:"}),e.jsx("div",{className:"space-y-2",children:b.alternatives.map(E=>e.jsxs("button",{onClick:()=>t(E),className:"w-full p-4 bg-white border border-gray-200 rounded-lg hover:border-gray-300 transition-colors flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:E.icon}),e.jsx("span",{className:"font-medium text-gray-900",children:E.name})]}),e.jsxs("span",{className:"text-sm text-gray-500",children:[E.match_percentage,"% ",r==="ro"?"potrivire":"match"]})]},E.id))})]}),e.jsx("button",{onClick:a,className:"mt-6 text-gray-500 hover:text-gray-700",children:r==="ro"?"Inapoi la selectie manuala":"Back to manual selection"})]});if(f)return e.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),e.jsx("p",{className:"text-gray-600",children:r==="ro"?"Analizam raspunsurile...":"Analyzing your answers..."})]});const C=s[c];return e.jsxs("div",{className:"max-w-xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-2",children:[e.jsxs("span",{children:[r==="ro"?"Intrebarea":"Question"," ",c+1," / ",s.length]}),e.jsxs("span",{children:[Math.round((c+1)/s.length*100),"%"]})]}),e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-600 rounded-full transition-all duration-300",style:{width:`${(c+1)/s.length*100}%`}})})]}),e.jsx("div",{className:"text-center mb-8",children:e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:C.question})}),e.jsx("div",{className:"space-y-3",children:C.options.map(E=>e.jsx("button",{onClick:()=>y(E.value),className:`w-full p-4 rounded-lg border-2 text-left transition-all ${A()===E.value?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-gray-300 bg-white"}`,children:e.jsx("span",{className:"font-medium text-gray-900",children:E.label})},E.value))}),e.jsxs("div",{className:"flex justify-between mt-8",children:[e.jsx("button",{onClick:()=>c>0?o(c-1):a(),className:"px-4 py-2 text-gray-600 hover:text-gray-900",children:r==="ro"?"Inapoi":"Back"}),c<s.length-1&&A()&&e.jsx("button",{onClick:()=>o(c+1),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:r==="ro"?"Urmatoarea":"Next"})]})]})},jse=({personaId:t,personaName:a,authToken:r,onContinue:s,onBack:i})=>{const{language:c}=Zi(),o=c==="ro",[u,m]=g.useState([]),[h,x]=g.useState(!0);g.useEffect(()=>{(async()=>{try{const A=await(await fetch(`/api/v1/personas/features.php?persona_id=${t}`,{headers:{Authorization:`Bearer ${r}`}})).json();A.success&&m(A.data||[])}catch(_){console.error("Failed to fetch features:",_)}finally{x(!1)}})()},[t,r]);const f=We.useMemo(()=>{const y={};return u.forEach(_=>{const A=_.category||"other";y[A]||(y[A]=[]),y[A].push(_)}),y},[u]),v=y=>({core:{ro:"Functii de Baza",en:"Core Features"},premium:{ro:"Functii Premium",en:"Premium Features"},vertical:{ro:"Specifice Industriei",en:"Industry-Specific"},regional:{ro:"Functii Locale",en:"Regional Features"},other:{ro:"Alte Functii",en:"Other Features"}})[y]?.[o?"ro":"en"]||y,b=y=>({core:"&#9881;",premium:"&#11088;",vertical:"&#128187;",regional:"&#127757;",other:"&#128270;"})[y]||"&#128462;",w=u.filter(y=>y.is_enabled),N=u.filter(y=>!y.is_enabled);return h?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-3xl",children:""})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:o?`Functii pentru "${a}"`:`Features for "${a}"`}),e.jsx("p",{className:"text-gray-600",children:o?"Iata ce vei putea face cu profilul selectat:":"Here's what you'll be able to do with your selected profile:"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:w.length}),e.jsx("div",{className:"text-sm text-gray-600",children:o?"Functii Active":"Active Features"})]}),e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-amber-600",children:N.length}),e.jsx("div",{className:"text-sm text-gray-600",children:o?"Cu Upgrade":"With Upgrade"})]})]}),e.jsx("div",{className:"space-y-6 mb-8",children:Object.entries(f).map(([y,_])=>{const A=_.filter(C=>C.is_enabled);return A.length===0?null:e.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-200",children:[e.jsxs("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[e.jsx("span",{dangerouslySetInnerHTML:{__html:b(y)}}),v(y)]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:A.map(C=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-green-600",children:""}),e.jsx("span",{className:"text-gray-700",children:C.name}),C.is_beta&&e.jsx("span",{className:"px-1 py-0.5 text-xs bg-purple-100 text-purple-700 rounded",children:"BETA"})]},C.id))})]},y)})}),N.length>0&&e.jsxs("div",{className:"bg-gray-50 rounded-xl p-5 border border-gray-200 mb-8",children:[e.jsxs("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[e.jsx("span",{children:""}),o?"Disponibile cu Upgrade":"Available with Upgrade"]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[N.slice(0,8).map(y=>e.jsx("span",{className:"px-3 py-1 bg-white border border-gray-200 rounded-full text-sm text-gray-500",children:y.name},y.id)),N.length>8&&e.jsxs("span",{className:"px-3 py-1 bg-blue-50 border border-blue-200 rounded-full text-sm text-blue-600",children:["+",N.length-8," ",o?"mai multe":"more"]})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("button",{onClick:i,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:o?"Inapoi":"Back"}),e.jsx("button",{onClick:s,className:"px-8 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:o?"Continua":"Continue"})]})]})},Nse=({companyId:t,authToken:a,onComplete:r,initialStep:s="welcome"})=>{const{language:i}=Zi(),[c,o]=g.useState(s),[u,m]=g.useState(null),[h,x]=g.useState(!1),[f,v]=g.useState(null),b=A=>{m(A)},w=async()=>{u&&o("features-preview")},N=async()=>{if(u){x(!0),v(null);try{const C=await(await fetch("/api/v1/personas/select.php",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,"X-Company-ID":t},body:JSON.stringify({persona_id:u.id,selection_method:"manual"})})).json();C.success?(await fetch("/api/v1/onboarding/progress.php",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,"X-Company-ID":t},body:JSON.stringify({step:"persona_selected",persona_id:u.id})}),o("complete")):v(C.message||"Failed to save persona")}catch{v("Network error. Please try again.")}finally{x(!1)}}},y=async A=>{m(A),x(!0);try{const E=await(await fetch("/api/v1/personas/select.php",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,"X-Company-ID":t},body:JSON.stringify({persona_id:A.id,selection_method:"quiz",quiz_score:A.match_percentage})})).json();E.success?o("complete"):v(E.message||"Failed to save persona")}catch{v("Network error. Please try again.")}finally{x(!1)}},_=()=>{switch(c){case"welcome":return e.jsxs("div",{className:"text-center max-w-2xl mx-auto",children:[e.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("svg",{className:"w-10 h-10 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:i==="ro"?"Bine ai venit!":"Welcome!"}),e.jsx("p",{className:"text-xl text-gray-600 mb-8",children:i==="ro"?"Hai sa personalizam platforma pentru afacerea ta. Acest proces dureaza mai putin de 2 minute.":"Let's personalize the platform for your business. This process takes less than 2 minutes."}),e.jsxs("div",{className:"space-y-4 text-left bg-gray-50 rounded-xl p-6 mb-8",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center flex-shrink-0 font-bold",children:"1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:i==="ro"?"Alege profilul afacerii":"Choose your business profile"}),e.jsx("p",{className:"text-gray-600 text-sm",children:i==="ro"?"Selecteaza tipul de afacere pentru o experienta personalizata":"Select your business type for a personalized experience"})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-300 text-white rounded-full flex items-center justify-center flex-shrink-0 font-bold",children:"2"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:i==="ro"?"Primeste functii adaptate":"Get tailored features"}),e.jsx("p",{className:"text-gray-600 text-sm",children:i==="ro"?"Dashboard si navigare optimizate pentru nevoile tale":"Dashboard and navigation optimized for your needs"})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-300 text-white rounded-full flex items-center justify-center flex-shrink-0 font-bold",children:"3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:i==="ro"?"Incepe sa lucrezi":"Start working"}),e.jsx("p",{className:"text-gray-600 text-sm",children:i==="ro"?"Esti gata sa gestionezi afacerea mai eficient":"You're ready to manage your business more efficiently"})]})]})]}),e.jsx("button",{onClick:()=>o("persona-select"),className:"px-8 py-4 bg-blue-600 text-white text-lg font-medium rounded-xl hover:bg-blue-700 transition-colors",children:i==="ro"?"Hai sa incepem":"Let's get started"})]});case"persona-select":return e.jsxs("div",{children:[e.jsx(vse,{onSelect:b,onQuizStart:()=>o("persona-quiz"),selectedId:u?.id}),u&&e.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t border-gray-200 shadow-lg",children:e.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-gray-600",children:i==="ro"?"Selectat:":"Selected:"}),e.jsx("span",{className:"font-semibold text-gray-900",children:u.name})]}),e.jsx("button",{onClick:w,disabled:h,className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50",children:h?i==="ro"?"Se salveaza...":"Saving...":i==="ro"?"Continua":"Continue"})]})}),f&&e.jsx("div",{className:"fixed bottom-20 left-0 right-0 p-4",children:e.jsx("div",{className:"max-w-md mx-auto bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:f})})]});case"persona-quiz":return e.jsx(bse,{onComplete:y,onBack:()=>o("persona-select")});case"features-preview":return u?e.jsx(jse,{personaId:u.id,personaName:u.name,authToken:a,onContinue:N,onBack:()=>o("persona-select")}):null;case"complete":return e.jsxs("div",{className:"text-center max-w-xl mx-auto",children:[e.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("svg",{className:"w-10 h-10 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:i==="ro"?"Felicitari!":"Congratulations!"}),e.jsx("p",{className:"text-xl text-gray-600 mb-4",children:i==="ro"?`Ai selectat profilul "${u?.name}"`:`You've selected the "${u?.name}" profile`}),e.jsx("p",{className:"text-gray-500 mb-8",children:i==="ro"?"Platforma a fost personalizata pentru nevoile tale. Poti schimba profilul oricand din Setari.":"The platform has been personalized for your needs. You can change the profile anytime from Settings."}),e.jsx("button",{onClick:r,className:"px-8 py-4 bg-blue-600 text-white text-lg font-medium rounded-xl hover:bg-blue-700 transition-colors",children:i==="ro"?"Intra in aplicatie":"Enter the app"})]});default:return null}};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsx("div",{className:"text-center mb-12",children:e.jsx("h2",{className:"text-2xl font-bold text-blue-600",children:"Accountech"})}),_()]})})},wse=()=>{const t=Be(),{token:a,companyId:r}=Ct(),{language:s}=Zi(),[i,c]=g.useState(!0);g.useEffect(()=>{o()},[r,a]);const o=async()=>{if(!r||!a){c(!1);return}try{const h=await(await fetch("/api/v1/personas/get.php",{headers:{Authorization:`Bearer ${a}`,"X-Company-ID":r}})).json();h.success&&h.data?.persona_id&&t("/dashboard",{replace:!0})}catch(m){console.error("Failed to check persona status:",m)}finally{c(!1)}},u=()=>{t("/dashboard",{replace:!0})};return i?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:s==="ro"?"Se incarca...":"Loading..."})]})}):!r||!a?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:s==="ro"?"Eroare de autentificare":"Authentication Error"}),e.jsx("p",{className:"text-gray-600 mb-4",children:s==="ro"?"Te rugam sa te autentifici pentru a continua.":"Please log in to continue."}),e.jsx("button",{onClick:()=>t("/login"),className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:s==="ro"?"Autentificare":"Login"})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:e.jsx(Nse,{companyId:r,authToken:a,onComplete:u})})},Sse=new Map;function _se(){const{token:t,companyId:a}=Ct(),[r,s]=g.useState([]),[i,c]=g.useState(!0),[o,u]=g.useState(null),m=g.useCallback(async()=>{if(!(!t||!a)){c(!0),u(null);try{const f=await(await fetch("/api/v1/features/check.php",{headers:{Authorization:`Bearer ${t}`,"X-Company-ID":a}})).json();f.success?(s(f.data),f.data.forEach(v=>{Sse.set(`${a}:${v.id}`,{access:v.access,timestamp:Date.now()})})):u(f.message)}catch(x){u("Failed to load features"),console.error("Features fetch failed:",x)}finally{c(!1)}}},[t,a]);g.useEffect(()=>{m()},[m]);const h=g.useCallback(x=>r.find(v=>v.id===x)?.access?.enabled??!1,[r]);return{features:r,loading:i,error:o,refresh:m,isEnabled:h}}const Cse=()=>{const{language:t}=Zi(),a=t==="ro",{features:r,loading:s}=_se(),[i,c]=g.useState(null),o=We.useMemo(()=>{const f={};return r.forEach(v=>{const b=v.category||"other";f[b]||(f[b]=[]),f[b].push(v)}),f},[r]),u=Object.keys(o),m=f=>({core:{ro:"Funcii de Baz",en:"Core Features"},premium:{ro:"Funcii Premium",en:"Premium Features"},vertical:{ro:"Funcii Specifice",en:"Industry-Specific"},regional:{ro:"Funcii Regionale",en:"Regional Features"},other:{ro:"Alte Funcii",en:"Other Features"}})[f]?.[a?"ro":"en"]||f,h=f=>({core:"&#9881;",premium:"&#11088;",vertical:"&#128187;",regional:"&#127757;",other:"&#128270;"})[f]||"&#128462;",x=f=>({free:"bg-gray-100 text-gray-600",starter:"bg-green-100 text-green-700",growth:"bg-blue-100 text-blue-700",professional:"bg-purple-100 text-purple-700",enterprise:"bg-amber-100 text-amber-700"})[f]||"bg-gray-100 text-gray-600";return s?e.jsxs("div",{className:"flex h-screen bg-gray-50",children:[e.jsx(lv,{}),e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})]}):e.jsxs("div",{className:"flex h-screen bg-gray-50",children:[e.jsx(lv,{}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:a?"Funcii Platform":"Platform Features"}),e.jsx("p",{className:"text-gray-600 mt-2",children:a?"Explorai toate funciile disponibile i deblocai funcii noi prin upgrade":"Explore all available features and unlock new ones by upgrading"})]}),e.jsxs("div",{className:"flex gap-2 mb-8 flex-wrap",children:[e.jsx("button",{onClick:()=>c(null),className:`px-4 py-2 rounded-lg font-medium transition-colors ${i===null?"bg-blue-600 text-white":"bg-white text-gray-600 hover:bg-gray-100"}`,children:a?"Toate":"All"}),u.map(f=>e.jsxs("button",{onClick:()=>c(f),className:`px-4 py-2 rounded-lg font-medium transition-colors ${i===f?"bg-blue-600 text-white":"bg-white text-gray-600 hover:bg-gray-100"}`,children:[e.jsx("span",{dangerouslySetInnerHTML:{__html:h(f)}})," ",m(f)]},f))]}),(i?[i]:u).map(f=>e.jsxs("div",{className:"mb-8",children:[!i&&e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx("span",{dangerouslySetInnerHTML:{__html:h(f)}}),m(f)]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o[f]?.map(v=>e.jsxs("div",{className:`bg-white rounded-xl p-5 shadow-sm border transition-all ${v.access.enabled?"border-gray-200 hover:shadow-md":"border-gray-100 opacity-75"}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:v.name}),e.jsxs("div",{className:"flex gap-1",children:[v.is_beta&&e.jsx("span",{className:"px-2 py-0.5 text-xs bg-purple-100 text-purple-700 rounded-full",children:"BETA"}),e.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full uppercase ${x(v.required_tier)}`,children:v.required_tier})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:v.description||(a?"Fr descriere":"No description")}),e.jsxs("div",{className:"flex justify-between items-center",children:[v.access.enabled?e.jsxs("span",{className:"flex items-center gap-1 text-sm text-green-600",children:[e.jsx("span",{children:""}),a?"Activat":"Enabled"]}):e.jsxs("span",{className:"flex items-center gap-1 text-sm text-gray-400",children:[e.jsx("span",{children:""}),v.access.reason==="tier_required"?a?`Necesit ${v.access.required_tier}`:`Requires ${v.access.required_tier}`:a?"Blocat":"Locked"]}),v.requires_setup&&v.access.enabled&&e.jsx("span",{className:"text-xs text-amber-600",children:a?"Necesit configurare":"Needs setup"})]})]},v.id))})]},f)),e.jsxs("div",{className:"mt-8 p-6 bg-white rounded-xl shadow-sm",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:a?"Rezumat Funcii":"Features Summary"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.filter(f=>f.access.enabled).length}),e.jsx("div",{className:"text-sm text-gray-600",children:a?"Funcii Active":"Active Features"})]}),e.jsxs("div",{className:"text-center p-4 bg-amber-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-amber-600",children:r.filter(f=>!f.access.enabled).length}),e.jsx("div",{className:"text-sm text-gray-600",children:a?"Funcii Blocate":"Locked Features"})]}),e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.length}),e.jsx("div",{className:"text-sm text-gray-600",children:a?"Total Funcii":"Total Features"})]})]})]})]})})]})},kse=({children:t})=>{const{user:a,isAuthenticated:r,loading:s}=Ct();return s?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})}):!r||a?.role!=="admin"?e.jsx(Hx,{to:"/dashboard",replace:!0}):e.jsx(e.Fragment,{children:t})},pe=({children:t})=>{const{isAuthenticated:a,loading:r}=Ct();return r?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})}):a?e.jsx(e.Fragment,{children:t}):e.jsx(Hx,{to:"/login",replace:!0})},D3=({children:t})=>{const{isAuthenticated:a,loading:r}=Ct();return r?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})}):a?e.jsx(Hx,{to:"/dashboard",replace:!0}):e.jsx(e.Fragment,{children:t})},Ase=()=>e.jsxs(o9,{children:[e.jsx(me,{path:"/",element:e.jsx(iR,{})}),e.jsx(me,{path:"/fiscal-law",element:e.jsx(Eee,{})}),e.jsx(me,{path:"/login",element:e.jsx(D3,{children:e.jsx(lR,{})})}),e.jsx(me,{path:"/register",element:e.jsx(D3,{children:e.jsx(cR,{})})}),e.jsx(me,{path:"/onboarding",element:e.jsx(pe,{children:e.jsx(wse,{})})}),e.jsx(me,{path:"/dashboard",element:e.jsx(pe,{children:e.jsx(vee,{})})}),e.jsx(me,{path:"/invoices",element:e.jsx(pe,{children:e.jsx(bee,{})})}),e.jsx(me,{path:"/invoices/new",element:e.jsx(pe,{children:e.jsx(x3,{})})}),e.jsx(me,{path:"/invoices/:id/edit",element:e.jsx(pe,{children:e.jsx(x3,{})})}),e.jsx(me,{path:"/insights",element:e.jsx(pe,{children:e.jsx(Nee,{})})}),e.jsx(me,{path:"/bills",element:e.jsx(pe,{children:e.jsx(jee,{})})}),e.jsx(me,{path:"/expenses",element:e.jsx(pe,{children:e.jsx(wee,{})})}),e.jsx(me,{path:"/accounting",element:e.jsx(pe,{children:e.jsx(_ee,{})})}),e.jsx(me,{path:"/reports",element:e.jsx(pe,{children:e.jsx($re,{})})}),e.jsx(me,{path:"/reports/profit-loss",element:e.jsx(pe,{children:e.jsx(Bre,{})})}),e.jsx(me,{path:"/reports/budget-vs-actual",element:e.jsx(pe,{children:e.jsx(Fre,{})})}),e.jsx(me,{path:"/reports/cash-flow",element:e.jsx(pe,{children:e.jsx(Ure,{})})}),e.jsx(me,{path:"/bank/connections",element:e.jsx(pe,{children:e.jsx(qre,{})})}),e.jsx(me,{path:"/bank/transactions",element:e.jsx(pe,{children:e.jsx(Hre,{})})}),e.jsx(me,{path:"/bank/callback",element:e.jsx(pe,{children:e.jsx(Vre,{})})}),e.jsx(me,{path:"/receipts/upload",element:e.jsx(pe,{children:e.jsx(Gre,{})})}),e.jsx(me,{path:"/receipts/list",element:e.jsx(pe,{children:e.jsx(Kre,{})})}),e.jsx(me,{path:"/receipts/templates",element:e.jsx(pe,{children:e.jsx(Xre,{})})}),e.jsx(me,{path:"/receipts/template/:receiptId",element:e.jsx(pe,{children:e.jsx(Yre,{})})}),e.jsx(me,{path:"/settings",element:e.jsx(pe,{children:e.jsx(Cee,{})})}),e.jsx(me,{path:"/settings/categories",element:e.jsx(pe,{children:e.jsx(_re,{})})}),e.jsx(me,{path:"/settings/tax-codes",element:e.jsx(pe,{children:e.jsx(Ere,{})})}),e.jsx(me,{path:"/contacts",element:e.jsx(pe,{children:e.jsx(h3,{})})}),e.jsx(me,{path:"/business-consultant",element:e.jsx(pe,{children:e.jsx(Ree,{})})}),e.jsx(me,{path:"/fiscal-law",element:e.jsx(pe,{children:e.jsx(Lee,{})})}),e.jsx(me,{path:"/personal-context",element:e.jsx(pe,{children:e.jsx(Iee,{})})}),e.jsx(me,{path:"/decision-trees",element:e.jsx(pe,{children:e.jsx(Bee,{})})}),e.jsx(me,{path:"/tutorials",element:e.jsx(pe,{children:e.jsx(Hee,{})})}),e.jsx(me,{path:"/inventory",element:e.jsx(pe,{children:e.jsx(Zee,{})})}),e.jsx(me,{path:"/inventory/products",element:e.jsx(pe,{children:e.jsx(Qee,{})})}),e.jsx(me,{path:"/inventory/stock-levels",element:e.jsx(pe,{children:e.jsx(Jee,{})})}),e.jsx(me,{path:"/inventory/warehouses",element:e.jsx(pe,{children:e.jsx(ete,{})})}),e.jsx(me,{path:"/inventory/low-stock",element:e.jsx(pe,{children:e.jsx(tte,{})})}),e.jsx(me,{path:"/inventory/movements",element:e.jsx(pe,{children:e.jsx(ate,{})})}),e.jsx(me,{path:"/inventory/adjustments",element:e.jsx(pe,{children:e.jsx(rte,{})})}),e.jsx(me,{path:"/inventory/transfers",element:e.jsx(pe,{children:e.jsx(ste,{})})}),e.jsx(me,{path:"/crm",element:e.jsx(pe,{children:e.jsx(nte,{})})}),e.jsx(me,{path:"/crm/opportunities",element:e.jsx(pe,{children:e.jsx(lte,{})})}),e.jsx(me,{path:"/crm/opportunities/:id",element:e.jsx(pe,{children:e.jsx(cte,{})})}),e.jsx(me,{path:"/crm/quotations",element:e.jsx(pe,{children:e.jsx(ute,{})})}),e.jsx(me,{path:"/crm/contacts",element:e.jsx(pe,{children:e.jsx(h3,{})})}),e.jsx(me,{path:"/purchase-orders",element:e.jsx(pe,{children:e.jsx(xte,{})})}),e.jsx(me,{path:"/purchase-orders/:id",element:e.jsx(pe,{children:e.jsx(hte,{})})}),e.jsx(me,{path:"/time-tracking",element:e.jsx(pe,{children:e.jsx(pte,{})})}),e.jsx(me,{path:"/time/entries",element:e.jsx(pe,{children:e.jsx(fte,{})})}),e.jsx(me,{path:"/projects",element:e.jsx(pe,{children:e.jsx(gte,{})})}),e.jsx(me,{path:"/sprints",element:e.jsx(pe,{children:e.jsx(yte,{})})}),e.jsx(me,{path:"/sprints/planning",element:e.jsx(pe,{children:e.jsx(bre,{})})}),e.jsx(me,{path:"/sprints/:sprintId/board",element:e.jsx(pe,{children:e.jsx(yre,{})})}),e.jsx(me,{path:"/sprints/:sprintId/retrospective",element:e.jsx(pe,{children:e.jsx(jre,{})})}),e.jsx(me,{path:"/gantt",element:e.jsx(pe,{children:e.jsx(Nre,{})})}),e.jsx(me,{path:"/accounting/chart-of-accounts",element:e.jsx(pe,{children:e.jsx(wre,{})})}),e.jsx(me,{path:"/accounting/general-ledger",element:e.jsx(pe,{children:e.jsx(kre,{})})}),e.jsx(me,{path:"/accounting/fixed-assets",element:e.jsx(pe,{children:e.jsx(Tre,{})})}),e.jsx(me,{path:"/analytics",element:e.jsx(pe,{children:e.jsx(Sre,{})})}),e.jsx(me,{path:"/dashboard/payroll",element:e.jsx(pe,{children:e.jsx(cse,{})})}),e.jsx(me,{path:"/dashboard/payroll/:id",element:e.jsx(pe,{children:e.jsx(ose,{})})}),e.jsx(me,{path:"/hr/employees",element:e.jsx(pe,{children:e.jsx(mse,{})})}),e.jsx(me,{path:"/payments",element:e.jsx(pe,{children:e.jsx(hse,{})})}),e.jsx(me,{path:"/recurring-invoices",element:e.jsx(pe,{children:e.jsx(fse,{})})}),e.jsx(me,{path:"/accounting/journal-entries",element:e.jsx(pe,{children:e.jsx(yse,{})})}),e.jsx(me,{path:"/dashboard/fiscal-calendar",element:e.jsx(pe,{children:e.jsx(dse,{})})}),e.jsx(me,{path:"/features",element:e.jsx(pe,{children:e.jsx(Cse,{})})}),e.jsx(me,{path:"/admin/decision-tree-updates",element:e.jsx(kse,{children:e.jsx(Fee,{})})}),e.jsx(me,{path:"/courses",element:e.jsx(Dre,{})}),e.jsx(me,{path:"/courses/:slug",element:e.jsx(Pre,{})}),e.jsx(me,{path:"/courses/:courseId/learn",element:e.jsx(pe,{children:e.jsx(T3,{})})}),e.jsx(me,{path:"/courses/:courseId/learn/:lessonId",element:e.jsx(pe,{children:e.jsx(T3,{})})}),e.jsx(me,{path:"/my-courses",element:e.jsx(pe,{children:e.jsx(zre,{})})}),e.jsx(me,{path:"/subscription",element:e.jsx(pe,{children:e.jsx(Rre,{})})}),e.jsx(me,{path:"/subscription/plans",element:e.jsx(Lre,{})}),e.jsx(me,{path:"/subscription/billing",element:e.jsx(pe,{children:e.jsx(Ire,{})})}),e.jsx(me,{path:"/forum",element:e.jsx(Wre,{})}),e.jsx(me,{path:"/forum/category/:slug",element:e.jsx(Zre,{})}),e.jsx(me,{path:"/forum/thread/:id",element:e.jsx(Qre,{})}),e.jsx(me,{path:"/forum/new-thread",element:e.jsx(pe,{children:e.jsx(Jre,{})})}),e.jsx(me,{path:"/efactura/settings",element:e.jsx(pe,{children:e.jsx(sse,{})})}),e.jsx(me,{path:"/efactura/analytics",element:e.jsx(pe,{children:e.jsx(nse,{})})}),e.jsx(me,{path:"/efactura/received",element:e.jsx(pe,{children:e.jsx(ise,{})})}),e.jsx(me,{path:"/efactura/batch-upload",element:e.jsx(pe,{children:e.jsx(lse,{})})}),e.jsx(me,{path:"*",element:e.jsx(Hx,{to:"/",replace:!0})})]});function Ese(){return e.jsx(P9,{children:e.jsx(wP,{children:e.jsx(bP,{children:e.jsxs(jP,{children:[e.jsx(Ase,{}),e.jsx(nR,{})]})})})})}vD.createRoot(document.getElementById("root")).render(e.jsx(g.StrictMode,{children:e.jsx(Ese,{})}));
