function wE(t,a){for(var r=0;r<a.length;r++){const n=a[r];if(typeof n!="string"&&!Array.isArray(n)){for(const l in n)if(l!=="default"&&!(l in t)){const c=Object.getOwnPropertyDescriptor(n,l);c&&Object.defineProperty(t,l,c.get?c:{enumerable:!0,get:()=>n[l]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();function On(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Sf={exports:{}},_c={};var bN;function SE(){if(bN)return _c;bN=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(n,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var u in l)u!=="key"&&(c[u]=l[u])}else c=l;return l=c.ref,{$$typeof:t,type:n,key:d,ref:l!==void 0?l:null,props:c}}return _c.Fragment=a,_c.jsx=r,_c.jsxs=r,_c}var jN;function _E(){return jN||(jN=1,Sf.exports=SE()),Sf.exports}var e=_E(),_f={exports:{}},Ce={};var NN;function CE(){if(NN)return Ce;NN=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function j(I){return I===null||typeof I!="object"?null:(I=y&&I[y]||I["@@iterator"],typeof I=="function"?I:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,g={};function _(I,K,G){this.props=I,this.context=K,this.refs=g,this.updater=G||w}_.prototype.isReactComponent={},_.prototype.setState=function(I,K){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,K,"setState")},_.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function O(){}O.prototype=_.prototype;function C(I,K,G){this.props=I,this.context=K,this.refs=g,this.updater=G||w}var k=C.prototype=new O;k.constructor=C,S(k,_.prototype),k.isPureReactComponent=!0;var E=Array.isArray;function T(){}var D={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function R(I,K,G){var ne=G.ref;return{$$typeof:t,type:I,key:K,ref:ne!==void 0?ne:null,props:G}}function L(I,K){return R(I.type,K,I.props)}function q(I){return typeof I=="object"&&I!==null&&I.$$typeof===t}function F(I){var K={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(G){return K[G]})}var se=/\/+/g;function ce(I,K){return typeof I=="object"&&I!==null&&I.key!=null?F(""+I.key):K.toString(36)}function ue(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(T,T):(I.status="pending",I.then(function(K){I.status==="pending"&&(I.status="fulfilled",I.value=K)},function(K){I.status==="pending"&&(I.status="rejected",I.reason=K)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function H(I,K,G,ne,he){var me=typeof I;(me==="undefined"||me==="boolean")&&(I=null);var be=!1;if(I===null)be=!0;else switch(me){case"bigint":case"string":case"number":be=!0;break;case"object":switch(I.$$typeof){case t:case a:be=!0;break;case h:return be=I._init,H(be(I._payload),K,G,ne,he)}}if(be)return he=he(I),be=ne===""?"."+ce(I,0):ne,E(he)?(G="",be!=null&&(G=be.replace(se,"$&/")+"/"),H(he,K,G,"",function(Ae){return Ae})):he!=null&&(q(he)&&(he=L(he,G+(he.key==null||I&&I.key===he.key?"":(""+he.key).replace(se,"$&/")+"/")+be)),K.push(he)),1;be=0;var Ge=ne===""?".":ne+":";if(E(I))for(var ee=0;ee<I.length;ee++)ne=I[ee],me=Ge+ce(ne,ee),be+=H(ne,K,G,me,he);else if(ee=j(I),typeof ee=="function")for(I=ee.call(I),ee=0;!(ne=I.next()).done;)ne=ne.value,me=Ge+ce(ne,ee++),be+=H(ne,K,G,me,he);else if(me==="object"){if(typeof I.then=="function")return H(ue(I),K,G,ne,he);throw K=String(I),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return be}function z(I,K,G){if(I==null)return I;var ne=[],he=0;return H(I,ne,"","",function(me){return K.call(G,me,he++)}),ne}function $(I){if(I._status===-1){var K=I._result;K=K(),K.then(function(G){(I._status===0||I._status===-1)&&(I._status=1,I._result=G)},function(G){(I._status===0||I._status===-1)&&(I._status=2,I._result=G)}),I._status===-1&&(I._status=0,I._result=K)}if(I._status===1)return I._result.default;throw I._result}var re=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},te={map:z,forEach:function(I,K,G){z(I,function(){K.apply(this,arguments)},G)},count:function(I){var K=0;return z(I,function(){K++}),K},toArray:function(I){return z(I,function(K){return K})||[]},only:function(I){if(!q(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Ce.Activity=p,Ce.Children=te,Ce.Component=_,Ce.Fragment=r,Ce.Profiler=l,Ce.PureComponent=C,Ce.StrictMode=n,Ce.Suspense=x,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(I){return D.H.useMemoCache(I)}},Ce.cache=function(I){return function(){return I.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(I,K,G){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ne=S({},I.props),he=I.key;if(K!=null)for(me in K.key!==void 0&&(he=""+K.key),K)!P.call(K,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&K.ref===void 0||(ne[me]=K[me]);var me=arguments.length-2;if(me===1)ne.children=G;else if(1<me){for(var be=Array(me),Ge=0;Ge<me;Ge++)be[Ge]=arguments[Ge+2];ne.children=be}return R(I.type,he,ne)},Ce.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},Ce.createElement=function(I,K,G){var ne,he={},me=null;if(K!=null)for(ne in K.key!==void 0&&(me=""+K.key),K)P.call(K,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(he[ne]=K[ne]);var be=arguments.length-2;if(be===1)he.children=G;else if(1<be){for(var Ge=Array(be),ee=0;ee<be;ee++)Ge[ee]=arguments[ee+2];he.children=Ge}if(I&&I.defaultProps)for(ne in be=I.defaultProps,be)he[ne]===void 0&&(he[ne]=be[ne]);return R(I,me,he)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(I){return{$$typeof:u,render:I}},Ce.isValidElement=q,Ce.lazy=function(I){return{$$typeof:h,_payload:{_status:-1,_result:I},_init:$}},Ce.memo=function(I,K){return{$$typeof:f,type:I,compare:K===void 0?null:K}},Ce.startTransition=function(I){var K=D.T,G={};D.T=G;try{var ne=I(),he=D.S;he!==null&&he(G,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(T,re)}catch(me){re(me)}finally{K!==null&&G.types!==null&&(K.types=G.types),D.T=K}},Ce.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ce.use=function(I){return D.H.use(I)},Ce.useActionState=function(I,K,G){return D.H.useActionState(I,K,G)},Ce.useCallback=function(I,K){return D.H.useCallback(I,K)},Ce.useContext=function(I){return D.H.useContext(I)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(I,K){return D.H.useDeferredValue(I,K)},Ce.useEffect=function(I,K){return D.H.useEffect(I,K)},Ce.useEffectEvent=function(I){return D.H.useEffectEvent(I)},Ce.useId=function(){return D.H.useId()},Ce.useImperativeHandle=function(I,K,G){return D.H.useImperativeHandle(I,K,G)},Ce.useInsertionEffect=function(I,K){return D.H.useInsertionEffect(I,K)},Ce.useLayoutEffect=function(I,K){return D.H.useLayoutEffect(I,K)},Ce.useMemo=function(I,K){return D.H.useMemo(I,K)},Ce.useOptimistic=function(I,K){return D.H.useOptimistic(I,K)},Ce.useReducer=function(I,K,G){return D.H.useReducer(I,K,G)},Ce.useRef=function(I){return D.H.useRef(I)},Ce.useState=function(I){return D.H.useState(I)},Ce.useSyncExternalStore=function(I,K,G){return D.H.useSyncExternalStore(I,K,G)},Ce.useTransition=function(){return D.H.useTransition()},Ce.version="19.2.0",Ce}var wN;function fl(){return wN||(wN=1,_f.exports=CE()),_f.exports}var v=fl();const mm=On(v),AE=wE({__proto__:null,default:mm},[v]);var Cf={exports:{}},Cc={},Af={exports:{}},kf={};var SN;function kE(){return SN||(SN=1,(function(t){function a(H,z){var $=H.length;H.push(z);e:for(;0<$;){var re=$-1>>>1,te=H[re];if(0<l(te,z))H[re]=z,H[$]=te,$=re;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var z=H[0],$=H.pop();if($!==z){H[0]=$;e:for(var re=0,te=H.length,I=te>>>1;re<I;){var K=2*(re+1)-1,G=H[K],ne=K+1,he=H[ne];if(0>l(G,$))ne<te&&0>l(he,G)?(H[re]=he,H[ne]=$,re=ne):(H[re]=G,H[K]=$,re=K);else if(ne<te&&0>l(he,$))H[re]=he,H[ne]=$,re=ne;else break e}}return z}function l(H,z){var $=H.sortIndex-z.sortIndex;return $!==0?$:H.id-z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var d=Date,u=d.now();t.unstable_now=function(){return d.now()-u}}var x=[],f=[],h=1,p=null,y=3,j=!1,w=!1,S=!1,g=!1,_=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function k(H){for(var z=r(f);z!==null;){if(z.callback===null)n(f);else if(z.startTime<=H)n(f),z.sortIndex=z.expirationTime,a(x,z);else break;z=r(f)}}function E(H){if(S=!1,k(H),!w)if(r(x)!==null)w=!0,T||(T=!0,F());else{var z=r(f);z!==null&&ue(E,z.startTime-H)}}var T=!1,D=-1,P=5,R=-1;function L(){return g?!0:!(t.unstable_now()-R<P)}function q(){if(g=!1,T){var H=t.unstable_now();R=H;var z=!0;try{e:{w=!1,S&&(S=!1,O(D),D=-1),j=!0;var $=y;try{t:{for(k(H),p=r(x);p!==null&&!(p.expirationTime>H&&L());){var re=p.callback;if(typeof re=="function"){p.callback=null,y=p.priorityLevel;var te=re(p.expirationTime<=H);if(H=t.unstable_now(),typeof te=="function"){p.callback=te,k(H),z=!0;break t}p===r(x)&&n(x),k(H)}else n(x);p=r(x)}if(p!==null)z=!0;else{var I=r(f);I!==null&&ue(E,I.startTime-H),z=!1}}break e}finally{p=null,y=$,j=!1}z=void 0}}finally{z?F():T=!1}}}var F;if(typeof C=="function")F=function(){C(q)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,ce=se.port2;se.port1.onmessage=q,F=function(){ce.postMessage(null)}}else F=function(){_(q,0)};function ue(H,z){D=_(function(){H(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(H){switch(y){case 1:case 2:case 3:var z=3;break;default:z=y}var $=y;y=z;try{return H()}finally{y=$}},t.unstable_requestPaint=function(){g=!0},t.unstable_runWithPriority=function(H,z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var $=y;y=H;try{return z()}finally{y=$}},t.unstable_scheduleCallback=function(H,z,$){var re=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?re+$:re):$=re,H){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=$+te,H={id:h++,callback:z,priorityLevel:H,startTime:$,expirationTime:te,sortIndex:-1},$>re?(H.sortIndex=$,a(f,H),r(x)===null&&H===r(f)&&(S?(O(D),D=-1):S=!0,ue(E,$-re))):(H.sortIndex=te,a(x,H),w||j||(w=!0,T||(T=!0,F()))),H},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(H){var z=y;return function(){var $=y;y=z;try{return H.apply(this,arguments)}finally{y=$}}}})(kf)),kf}var _N;function OE(){return _N||(_N=1,Af.exports=kE()),Af.exports}var Of={exports:{}},na={};var CN;function EE(){if(CN)return na;CN=1;var t=fl();function a(x){var f="https://react.dev/errors/"+x;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+x+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(a(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(x,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:p==null?null:""+p,children:x,containerInfo:f,implementation:h}}var d=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(x,f){if(x==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return na.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,na.createPortal=function(x,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(a(299));return c(x,f,null,h)},na.flushSync=function(x){var f=d.T,h=n.p;try{if(d.T=null,n.p=2,x)return x()}finally{d.T=f,n.p=h,n.d.f()}},na.preconnect=function(x,f){typeof x=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(x,f))},na.prefetchDNS=function(x){typeof x=="string"&&n.d.D(x)},na.preinit=function(x,f){if(typeof x=="string"&&f&&typeof f.as=="string"){var h=f.as,p=u(h,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,j=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?n.d.S(x,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:j}):h==="script"&&n.d.X(x,{crossOrigin:p,integrity:y,fetchPriority:j,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},na.preinitModule=function(x,f){if(typeof x=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=u(f.as,f.crossOrigin);n.d.M(x,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(x)},na.preload=function(x,f){if(typeof x=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=u(h,f.crossOrigin);n.d.L(x,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},na.preloadModule=function(x,f){if(typeof x=="string")if(f){var h=u(f.as,f.crossOrigin);n.d.m(x,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(x)},na.requestFormReset=function(x){n.d.r(x)},na.unstable_batchedUpdates=function(x,f){return x(f)},na.useFormState=function(x,f,h){return d.H.useFormState(x,f,h)},na.useFormStatus=function(){return d.H.useHostTransitionStatus()},na.version="19.2.0",na}var AN;function dS(){if(AN)return Of.exports;AN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),Of.exports=EE(),Of.exports}var kN;function TE(){if(kN)return Cc;kN=1;var t=OE(),a=fl(),r=dS();function n(s){var i="https://react.dev/errors/"+s;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function c(s){var i=s,o=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(o=i.return),s=i.return;while(s)}return i.tag===3?o:null}function d(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function u(s){if(s.tag===31){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function x(s){if(c(s)!==s)throw Error(n(188))}function f(s){var i=s.alternate;if(!i){if(i=c(s),i===null)throw Error(n(188));return i!==s?null:s}for(var o=s,m=i;;){var b=o.return;if(b===null)break;var N=b.alternate;if(N===null){if(m=b.return,m!==null){o=m;continue}break}if(b.child===N.child){for(N=b.child;N;){if(N===o)return x(b),s;if(N===m)return x(b),i;N=N.sibling}throw Error(n(188))}if(o.return!==m.return)o=b,m=N;else{for(var A=!1,M=b.child;M;){if(M===o){A=!0,o=b,m=N;break}if(M===m){A=!0,m=b,o=N;break}M=M.sibling}if(!A){for(M=N.child;M;){if(M===o){A=!0,o=N,m=b;break}if(M===m){A=!0,m=N,o=b;break}M=M.sibling}if(!A)throw Error(n(189))}}if(o.alternate!==m)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?s:i}function h(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s;for(s=s.child;s!==null;){if(i=h(s),i!==null)return i;s=s.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),C=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function F(s){return s===null||typeof s!="object"?null:(s=q&&s[q]||s["@@iterator"],typeof s=="function"?s:null)}var se=Symbol.for("react.client.reference");function ce(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===se?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case _:return"Profiler";case g:return"StrictMode";case E:return"Suspense";case T:return"SuspenseList";case R:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case C:return s.displayName||"Context";case O:return(s._context.displayName||"Context")+".Consumer";case k:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case D:return i=s.displayName||null,i!==null?i:ce(s.type)||"Memo";case P:i=s._payload,s=s._init;try{return ce(s(i))}catch{}}return null}var ue=Array.isArray,H=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},re=[],te=-1;function I(s){return{current:s}}function K(s){0>te||(s.current=re[te],re[te]=null,te--)}function G(s,i){te++,re[te]=s.current,s.current=i}var ne=I(null),he=I(null),me=I(null),be=I(null);function Ge(s,i){switch(G(me,i),G(he,s),G(ne,null),i.nodeType){case 9:case 11:s=(s=i.documentElement)&&(s=s.namespaceURI)?q1(s):0;break;default:if(s=i.tagName,i=i.namespaceURI)i=q1(i),s=H1(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}K(ne),G(ne,s)}function ee(){K(ne),K(he),K(me)}function Ae(s){s.memoizedState!==null&&G(be,s);var i=ne.current,o=H1(i,s.type);i!==o&&(G(he,s),G(ne,o))}function Me(s){he.current===s&&(K(ne),K(he)),be.current===s&&(K(be),jc._currentValue=$)}var oe,Kt;function Be(s){if(oe===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);oe=i&&i[1]||"",Kt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oe+s+Kt}var Yt=!1;function Xt(s,i){if(!s||Yt)return"";Yt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(i){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(J){var W=J}Reflect.construct(s,[],le)}else{try{le.call()}catch(J){W=J}s.call(le.prototype)}}else{try{throw Error()}catch(J){W=J}(le=s())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(J){if(J&&W&&typeof J.stack=="string")return[J.stack,W.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=m.DetermineComponentFrameRoot(),A=N[0],M=N[1];if(A&&M){var B=A.split(`
`),X=M.split(`
`);for(b=m=0;m<B.length&&!B[m].includes("DetermineComponentFrameRoot");)m++;for(;b<X.length&&!X[b].includes("DetermineComponentFrameRoot");)b++;if(m===B.length||b===X.length)for(m=B.length-1,b=X.length-1;1<=m&&0<=b&&B[m]!==X[b];)b--;for(;1<=m&&0<=b;m--,b--)if(B[m]!==X[b]){if(m!==1||b!==1)do if(m--,b--,0>b||B[m]!==X[b]){var ae=`
`+B[m].replace(" at new "," at ");return s.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",s.displayName)),ae}while(1<=m&&0<=b);break}}}finally{Yt=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?Be(o):""}function Xr(s,i){switch(s.tag){case 26:case 27:case 5:return Be(s.type);case 16:return Be("Lazy");case 13:return s.child!==i&&i!==null?Be("Suspense Fallback"):Be("Suspense");case 19:return Be("SuspenseList");case 0:case 15:return Xt(s.type,!1);case 11:return Xt(s.type.render,!1);case 1:return Xt(s.type,!0);case 31:return Be("Activity");default:return""}}function Ml(s){try{var i="",o=null;do i+=Xr(s,o),o=s,s=s.return;while(s);return i}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var cx=Object.prototype.hasOwnProperty,ox=t.unstable_scheduleCallback,dx=t.unstable_cancelCallback,tk=t.unstable_shouldYield,ak=t.unstable_requestPaint,Ta=t.unstable_now,rk=t.unstable_getCurrentPriorityLevel,jv=t.unstable_ImmediatePriority,Nv=t.unstable_UserBlockingPriority,So=t.unstable_NormalPriority,nk=t.unstable_LowPriority,wv=t.unstable_IdlePriority,sk=t.log,ik=t.unstable_setDisableYieldValue,Dl=null,Ma=null;function Rn(s){if(typeof sk=="function"&&ik(s),Ma&&typeof Ma.setStrictMode=="function")try{Ma.setStrictMode(Dl,s)}catch{}}var Da=Math.clz32?Math.clz32:ok,lk=Math.log,ck=Math.LN2;function ok(s){return s>>>=0,s===0?32:31-(lk(s)/ck|0)|0}var _o=256,Co=262144,Ao=4194304;function vs(s){var i=s&42;if(i!==0)return i;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ko(s,i,o){var m=s.pendingLanes;if(m===0)return 0;var b=0,N=s.suspendedLanes,A=s.pingedLanes;s=s.warmLanes;var M=m&134217727;return M!==0?(m=M&~N,m!==0?b=vs(m):(A&=M,A!==0?b=vs(A):o||(o=M&~s,o!==0&&(b=vs(o))))):(M=m&~N,M!==0?b=vs(M):A!==0?b=vs(A):o||(o=m&~s,o!==0&&(b=vs(o)))),b===0?0:i!==0&&i!==b&&(i&N)===0&&(N=b&-b,o=i&-i,N>=o||N===32&&(o&4194048)!==0)?i:b}function Pl(s,i){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&i)===0}function dk(s,i){switch(s){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sv(){var s=Ao;return Ao<<=1,(Ao&62914560)===0&&(Ao=4194304),s}function ux(s){for(var i=[],o=0;31>o;o++)i.push(s);return i}function zl(s,i){s.pendingLanes|=i,i!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function uk(s,i,o,m,b,N){var A=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var M=s.entanglements,B=s.expirationTimes,X=s.hiddenUpdates;for(o=A&~o;0<o;){var ae=31-Da(o),le=1<<ae;M[ae]=0,B[ae]=-1;var W=X[ae];if(W!==null)for(X[ae]=null,ae=0;ae<W.length;ae++){var J=W[ae];J!==null&&(J.lane&=-536870913)}o&=~le}m!==0&&_v(s,m,0),N!==0&&b===0&&s.tag!==0&&(s.suspendedLanes|=N&~(A&~i))}function _v(s,i,o){s.pendingLanes|=i,s.suspendedLanes&=~i;var m=31-Da(i);s.entangledLanes|=i,s.entanglements[m]=s.entanglements[m]|1073741824|o&261930}function Cv(s,i){var o=s.entangledLanes|=i;for(s=s.entanglements;o;){var m=31-Da(o),b=1<<m;b&i|s[m]&i&&(s[m]|=i),o&=~b}}function Av(s,i){var o=i&-i;return o=(o&42)!==0?1:mx(o),(o&(s.suspendedLanes|i))!==0?0:o}function mx(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function xx(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function kv(){var s=z.p;return s!==0?s:(s=window.event,s===void 0?32:xN(s.type))}function Ov(s,i){var o=z.p;try{return z.p=s,i()}finally{z.p=o}}var Ln=Math.random().toString(36).slice(2),Wt="__reactFiber$"+Ln,pa="__reactProps$"+Ln,ui="__reactContainer$"+Ln,hx="__reactEvents$"+Ln,mk="__reactListeners$"+Ln,xk="__reactHandles$"+Ln,Ev="__reactResources$"+Ln,Rl="__reactMarker$"+Ln;function fx(s){delete s[Wt],delete s[pa],delete s[hx],delete s[mk],delete s[xk]}function mi(s){var i=s[Wt];if(i)return i;for(var o=s.parentNode;o;){if(i=o[ui]||o[Wt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(s=Z1(s);s!==null;){if(o=s[Wt])return o;s=Z1(s)}return i}s=o,o=s.parentNode}return null}function xi(s){if(s=s[Wt]||s[ui]){var i=s.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return s}return null}function Ll(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s.stateNode;throw Error(n(33))}function hi(s){var i=s[Ev];return i||(i=s[Ev]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function $t(s){s[Rl]=!0}var Tv=new Set,Mv={};function bs(s,i){fi(s,i),fi(s+"Capture",i)}function fi(s,i){for(Mv[s]=i,s=0;s<i.length;s++)Tv.add(i[s])}var hk=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dv={},Pv={};function fk(s){return cx.call(Pv,s)?!0:cx.call(Dv,s)?!1:hk.test(s)?Pv[s]=!0:(Dv[s]=!0,!1)}function Oo(s,i,o){if(fk(i))if(o===null)s.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(i);return;case"boolean":var m=i.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){s.removeAttribute(i);return}}s.setAttribute(i,""+o)}}function Eo(s,i,o){if(o===null)s.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(i);return}s.setAttribute(i,""+o)}}function Wr(s,i,o,m){if(m===null)s.removeAttribute(o);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(i,o,""+m)}}function Za(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function zv(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function pk(s,i,o){var m=Object.getOwnPropertyDescriptor(s.constructor.prototype,i);if(!s.hasOwnProperty(i)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var b=m.get,N=m.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return b.call(this)},set:function(A){o=""+A,N.call(this,A)}}),Object.defineProperty(s,i,{enumerable:m.enumerable}),{getValue:function(){return o},setValue:function(A){o=""+A},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function px(s){if(!s._valueTracker){var i=zv(s)?"checked":"value";s._valueTracker=pk(s,i,""+s[i])}}function Rv(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var o=i.getValue(),m="";return s&&(m=zv(s)?s.checked?"true":"false":s.value),s=m,s!==o?(i.setValue(s),!0):!1}function To(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var gk=/[\n"\\]/g;function Qa(s){return s.replace(gk,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function gx(s,i,o,m,b,N,A,M){s.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.type=A:s.removeAttribute("type"),i!=null?A==="number"?(i===0&&s.value===""||s.value!=i)&&(s.value=""+Za(i)):s.value!==""+Za(i)&&(s.value=""+Za(i)):A!=="submit"&&A!=="reset"||s.removeAttribute("value"),i!=null?yx(s,A,Za(i)):o!=null?yx(s,A,Za(o)):m!=null&&s.removeAttribute("value"),b==null&&N!=null&&(s.defaultChecked=!!N),b!=null&&(s.checked=b&&typeof b!="function"&&typeof b!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?s.name=""+Za(M):s.removeAttribute("name")}function Lv(s,i,o,m,b,N,A,M){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(s.type=N),i!=null||o!=null){if(!(N!=="submit"&&N!=="reset"||i!=null)){px(s);return}o=o!=null?""+Za(o):"",i=i!=null?""+Za(i):o,M||i===s.value||(s.value=i),s.defaultValue=i}m=m??b,m=typeof m!="function"&&typeof m!="symbol"&&!!m,s.checked=M?s.checked:!!m,s.defaultChecked=!!m,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(s.name=A),px(s)}function yx(s,i,o){i==="number"&&To(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function pi(s,i,o,m){if(s=s.options,i){i={};for(var b=0;b<o.length;b++)i["$"+o[b]]=!0;for(o=0;o<s.length;o++)b=i.hasOwnProperty("$"+s[o].value),s[o].selected!==b&&(s[o].selected=b),b&&m&&(s[o].defaultSelected=!0)}else{for(o=""+Za(o),i=null,b=0;b<s.length;b++){if(s[b].value===o){s[b].selected=!0,m&&(s[b].defaultSelected=!0);return}i!==null||s[b].disabled||(i=s[b])}i!==null&&(i.selected=!0)}}function Iv(s,i,o){if(i!=null&&(i=""+Za(i),i!==s.value&&(s.value=i),o==null)){s.defaultValue!==i&&(s.defaultValue=i);return}s.defaultValue=o!=null?""+Za(o):""}function Bv(s,i,o,m){if(i==null){if(m!=null){if(o!=null)throw Error(n(92));if(ue(m)){if(1<m.length)throw Error(n(93));m=m[0]}o=m}o==null&&(o=""),i=o}o=Za(i),s.defaultValue=o,m=s.textContent,m===o&&m!==""&&m!==null&&(s.value=m),px(s)}function gi(s,i){if(i){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=i;return}}s.textContent=i}var yk=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $v(s,i,o){var m=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?m?s.setProperty(i,""):i==="float"?s.cssFloat="":s[i]="":m?s.setProperty(i,o):typeof o!="number"||o===0||yk.has(i)?i==="float"?s.cssFloat=o:s[i]=(""+o).trim():s[i]=o+"px"}function Uv(s,i,o){if(i!=null&&typeof i!="object")throw Error(n(62));if(s=s.style,o!=null){for(var m in o)!o.hasOwnProperty(m)||i!=null&&i.hasOwnProperty(m)||(m.indexOf("--")===0?s.setProperty(m,""):m==="float"?s.cssFloat="":s[m]="");for(var b in i)m=i[b],i.hasOwnProperty(b)&&o[b]!==m&&$v(s,b,m)}else for(var N in i)i.hasOwnProperty(N)&&$v(s,N,i[N])}function vx(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vk=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bk=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mo(s){return bk.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Zr(){}var bx=null;function jx(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var yi=null,vi=null;function Fv(s){var i=xi(s);if(i&&(s=i.stateNode)){var o=s[pa]||null;e:switch(s=i.stateNode,i.type){case"input":if(gx(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Qa(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var m=o[i];if(m!==s&&m.form===s.form){var b=m[pa]||null;if(!b)throw Error(n(90));gx(m,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(i=0;i<o.length;i++)m=o[i],m.form===s.form&&Rv(m)}break e;case"textarea":Iv(s,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&pi(s,!!o.multiple,i,!1)}}}var Nx=!1;function qv(s,i,o){if(Nx)return s(i,o);Nx=!0;try{var m=s(i);return m}finally{if(Nx=!1,(yi!==null||vi!==null)&&(vd(),yi&&(i=yi,s=vi,vi=yi=null,Fv(i),s)))for(i=0;i<s.length;i++)Fv(s[i])}}function Il(s,i){var o=s.stateNode;if(o===null)return null;var m=o[pa]||null;if(m===null)return null;o=m[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(n(231,i,typeof o));return o}var Qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wx=!1;if(Qr)try{var Bl={};Object.defineProperty(Bl,"passive",{get:function(){wx=!0}}),window.addEventListener("test",Bl,Bl),window.removeEventListener("test",Bl,Bl)}catch{wx=!1}var In=null,Sx=null,Do=null;function Hv(){if(Do)return Do;var s,i=Sx,o=i.length,m,b="value"in In?In.value:In.textContent,N=b.length;for(s=0;s<o&&i[s]===b[s];s++);var A=o-s;for(m=1;m<=A&&i[o-m]===b[N-m];m++);return Do=b.slice(s,1<m?1-m:void 0)}function Po(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function zo(){return!0}function Vv(){return!1}function ga(s){function i(o,m,b,N,A){this._reactName=o,this._targetInst=b,this.type=m,this.nativeEvent=N,this.target=A,this.currentTarget=null;for(var M in s)s.hasOwnProperty(M)&&(o=s[M],this[M]=o?o(N):N[M]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?zo:Vv,this.isPropagationStopped=Vv,this}return p(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=zo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=zo)},persist:function(){},isPersistent:zo}),i}var js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ro=ga(js),$l=p({},js,{view:0,detail:0}),jk=ga($l),_x,Cx,Ul,Lo=p({},$l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kx,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ul&&(Ul&&s.type==="mousemove"?(_x=s.screenX-Ul.screenX,Cx=s.screenY-Ul.screenY):Cx=_x=0,Ul=s),_x)},movementY:function(s){return"movementY"in s?s.movementY:Cx}}),Gv=ga(Lo),Nk=p({},Lo,{dataTransfer:0}),wk=ga(Nk),Sk=p({},$l,{relatedTarget:0}),Ax=ga(Sk),_k=p({},js,{animationName:0,elapsedTime:0,pseudoElement:0}),Ck=ga(_k),Ak=p({},js,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),kk=ga(Ak),Ok=p({},js,{data:0}),Kv=ga(Ok),Ek={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dk(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Mk[s])?!!i[s]:!1}function kx(){return Dk}var Pk=p({},$l,{key:function(s){if(s.key){var i=Ek[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Po(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Tk[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kx,charCode:function(s){return s.type==="keypress"?Po(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Po(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),zk=ga(Pk),Rk=p({},Lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yv=ga(Rk),Lk=p({},$l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kx}),Ik=ga(Lk),Bk=p({},js,{propertyName:0,elapsedTime:0,pseudoElement:0}),$k=ga(Bk),Uk=p({},Lo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Fk=ga(Uk),qk=p({},js,{newState:0,oldState:0}),Hk=ga(qk),Vk=[9,13,27,32],Ox=Qr&&"CompositionEvent"in window,Fl=null;Qr&&"documentMode"in document&&(Fl=document.documentMode);var Gk=Qr&&"TextEvent"in window&&!Fl,Xv=Qr&&(!Ox||Fl&&8<Fl&&11>=Fl),Wv=" ",Zv=!1;function Qv(s,i){switch(s){case"keyup":return Vk.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var bi=!1;function Kk(s,i){switch(s){case"compositionend":return Jv(i);case"keypress":return i.which!==32?null:(Zv=!0,Wv);case"textInput":return s=i.data,s===Wv&&Zv?null:s;default:return null}}function Yk(s,i){if(bi)return s==="compositionend"||!Ox&&Qv(s,i)?(s=Hv(),Do=Sx=In=null,bi=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Xv&&i.locale!=="ko"?null:i.data;default:return null}}var Xk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eb(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!Xk[s.type]:i==="textarea"}function tb(s,i,o,m){yi?vi?vi.push(m):vi=[m]:yi=m,i=Cd(i,"onChange"),0<i.length&&(o=new Ro("onChange","change",null,o,m),s.push({event:o,listeners:i}))}var ql=null,Hl=null;function Wk(s){L1(s,0)}function Io(s){var i=Ll(s);if(Rv(i))return s}function ab(s,i){if(s==="change")return i}var rb=!1;if(Qr){var Ex;if(Qr){var Tx="oninput"in document;if(!Tx){var nb=document.createElement("div");nb.setAttribute("oninput","return;"),Tx=typeof nb.oninput=="function"}Ex=Tx}else Ex=!1;rb=Ex&&(!document.documentMode||9<document.documentMode)}function sb(){ql&&(ql.detachEvent("onpropertychange",ib),Hl=ql=null)}function ib(s){if(s.propertyName==="value"&&Io(Hl)){var i=[];tb(i,Hl,s,jx(s)),qv(Wk,i)}}function Zk(s,i,o){s==="focusin"?(sb(),ql=i,Hl=o,ql.attachEvent("onpropertychange",ib)):s==="focusout"&&sb()}function Qk(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Io(Hl)}function Jk(s,i){if(s==="click")return Io(i)}function eO(s,i){if(s==="input"||s==="change")return Io(i)}function tO(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Pa=typeof Object.is=="function"?Object.is:tO;function Vl(s,i){if(Pa(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var o=Object.keys(s),m=Object.keys(i);if(o.length!==m.length)return!1;for(m=0;m<o.length;m++){var b=o[m];if(!cx.call(i,b)||!Pa(s[b],i[b]))return!1}return!0}function lb(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function cb(s,i){var o=lb(s);s=0;for(var m;o;){if(o.nodeType===3){if(m=s+o.textContent.length,s<=i&&m>=i)return{node:o,offset:i-s};s=m}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=lb(o)}}function ob(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?ob(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function db(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var i=To(s.document);i instanceof s.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)s=i.contentWindow;else break;i=To(s.document)}return i}function Mx(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}var aO=Qr&&"documentMode"in document&&11>=document.documentMode,ji=null,Dx=null,Gl=null,Px=!1;function ub(s,i,o){var m=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Px||ji==null||ji!==To(m)||(m=ji,"selectionStart"in m&&Mx(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Gl&&Vl(Gl,m)||(Gl=m,m=Cd(Dx,"onSelect"),0<m.length&&(i=new Ro("onSelect","select",null,i,o),s.push({event:i,listeners:m}),i.target=ji)))}function Ns(s,i){var o={};return o[s.toLowerCase()]=i.toLowerCase(),o["Webkit"+s]="webkit"+i,o["Moz"+s]="moz"+i,o}var Ni={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionrun:Ns("Transition","TransitionRun"),transitionstart:Ns("Transition","TransitionStart"),transitioncancel:Ns("Transition","TransitionCancel"),transitionend:Ns("Transition","TransitionEnd")},zx={},mb={};Qr&&(mb=document.createElement("div").style,"AnimationEvent"in window||(delete Ni.animationend.animation,delete Ni.animationiteration.animation,delete Ni.animationstart.animation),"TransitionEvent"in window||delete Ni.transitionend.transition);function ws(s){if(zx[s])return zx[s];if(!Ni[s])return s;var i=Ni[s],o;for(o in i)if(i.hasOwnProperty(o)&&o in mb)return zx[s]=i[o];return s}var xb=ws("animationend"),hb=ws("animationiteration"),fb=ws("animationstart"),rO=ws("transitionrun"),nO=ws("transitionstart"),sO=ws("transitioncancel"),pb=ws("transitionend"),gb=new Map,Rx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rx.push("scrollEnd");function jr(s,i){gb.set(s,i),bs(i,[s])}var Bo=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Ja=[],wi=0,Lx=0;function $o(){for(var s=wi,i=Lx=wi=0;i<s;){var o=Ja[i];Ja[i++]=null;var m=Ja[i];Ja[i++]=null;var b=Ja[i];Ja[i++]=null;var N=Ja[i];if(Ja[i++]=null,m!==null&&b!==null){var A=m.pending;A===null?b.next=b:(b.next=A.next,A.next=b),m.pending=b}N!==0&&yb(o,b,N)}}function Uo(s,i,o,m){Ja[wi++]=s,Ja[wi++]=i,Ja[wi++]=o,Ja[wi++]=m,Lx|=m,s.lanes|=m,s=s.alternate,s!==null&&(s.lanes|=m)}function Ix(s,i,o,m){return Uo(s,i,o,m),Fo(s)}function Ss(s,i){return Uo(s,null,null,i),Fo(s)}function yb(s,i,o){s.lanes|=o;var m=s.alternate;m!==null&&(m.lanes|=o);for(var b=!1,N=s.return;N!==null;)N.childLanes|=o,m=N.alternate,m!==null&&(m.childLanes|=o),N.tag===22&&(s=N.stateNode,s===null||s._visibility&1||(b=!0)),s=N,N=N.return;return s.tag===3?(N=s.stateNode,b&&i!==null&&(b=31-Da(o),s=N.hiddenUpdates,m=s[b],m===null?s[b]=[i]:m.push(i),i.lane=o|536870912),N):null}function Fo(s){if(50<hc)throw hc=0,Kh=null,Error(n(185));for(var i=s.return;i!==null;)s=i,i=s.return;return s.tag===3?s.stateNode:null}var Si={};function iO(s,i,o,m){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function za(s,i,o,m){return new iO(s,i,o,m)}function Bx(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Jr(s,i){var o=s.alternate;return o===null?(o=za(s.tag,i,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=i,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,i=s.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function vb(s,i){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=i,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,i=o.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s}function qo(s,i,o,m,b,N){var A=0;if(m=s,typeof s=="function")Bx(s)&&(A=1);else if(typeof s=="string")A=uE(s,o,ne.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case R:return s=za(31,o,i,b),s.elementType=R,s.lanes=N,s;case S:return _s(o.children,b,N,i);case g:A=8,b|=24;break;case _:return s=za(12,o,i,b|2),s.elementType=_,s.lanes=N,s;case E:return s=za(13,o,i,b),s.elementType=E,s.lanes=N,s;case T:return s=za(19,o,i,b),s.elementType=T,s.lanes=N,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case C:A=10;break e;case O:A=9;break e;case k:A=11;break e;case D:A=14;break e;case P:A=16,m=null;break e}A=29,o=Error(n(130,s===null?"null":typeof s,"")),m=null}return i=za(A,o,i,b),i.elementType=s,i.type=m,i.lanes=N,i}function _s(s,i,o,m){return s=za(7,s,m,i),s.lanes=o,s}function $x(s,i,o){return s=za(6,s,null,i),s.lanes=o,s}function bb(s){var i=za(18,null,null,0);return i.stateNode=s,i}function Ux(s,i,o){return i=za(4,s.children!==null?s.children:[],s.key,i),i.lanes=o,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}var jb=new WeakMap;function er(s,i){if(typeof s=="object"&&s!==null){var o=jb.get(s);return o!==void 0?o:(i={value:s,source:i,stack:Ml(i)},jb.set(s,i),i)}return{value:s,source:i,stack:Ml(i)}}var _i=[],Ci=0,Ho=null,Kl=0,tr=[],ar=0,Bn=null,Dr=1,Pr="";function en(s,i){_i[Ci++]=Kl,_i[Ci++]=Ho,Ho=s,Kl=i}function Nb(s,i,o){tr[ar++]=Dr,tr[ar++]=Pr,tr[ar++]=Bn,Bn=s;var m=Dr;s=Pr;var b=32-Da(m)-1;m&=~(1<<b),o+=1;var N=32-Da(i)+b;if(30<N){var A=b-b%5;N=(m&(1<<A)-1).toString(32),m>>=A,b-=A,Dr=1<<32-Da(i)+b|o<<b|m,Pr=N+s}else Dr=1<<N|o<<b|m,Pr=s}function Fx(s){s.return!==null&&(en(s,1),Nb(s,1,0))}function qx(s){for(;s===Ho;)Ho=_i[--Ci],_i[Ci]=null,Kl=_i[--Ci],_i[Ci]=null;for(;s===Bn;)Bn=tr[--ar],tr[ar]=null,Pr=tr[--ar],tr[ar]=null,Dr=tr[--ar],tr[ar]=null}function wb(s,i){tr[ar++]=Dr,tr[ar++]=Pr,tr[ar++]=Bn,Dr=i.id,Pr=i.overflow,Bn=s}var Zt=null,it=null,Ie=!1,$n=null,rr=!1,Hx=Error(n(519));function Un(s){var i=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yl(er(i,s)),Hx}function Sb(s){var i=s.stateNode,o=s.type,m=s.memoizedProps;switch(i[Wt]=s,i[pa]=m,o){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(o=0;o<pc.length;o++)Pe(pc[o],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":Pe("invalid",i),Lv(i,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Pe("invalid",i);break;case"textarea":Pe("invalid",i),Bv(i,m.value,m.defaultValue,m.children)}o=m.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||m.suppressHydrationWarning===!0||U1(i.textContent,o)?(m.popover!=null&&(Pe("beforetoggle",i),Pe("toggle",i)),m.onScroll!=null&&Pe("scroll",i),m.onScrollEnd!=null&&Pe("scrollend",i),m.onClick!=null&&(i.onclick=Zr),i=!0):i=!1,i||Un(s,!0)}function _b(s){for(Zt=s.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:rr=!1;return;case 27:case 3:rr=!0;return;default:Zt=Zt.return}}function Ai(s){if(s!==Zt)return!1;if(!Ie)return _b(s),Ie=!0,!1;var i=s.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||of(s.type,s.memoizedProps)),o=!o),o&&it&&Un(s),_b(s),i===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));it=W1(s)}else if(i===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));it=W1(s)}else i===27?(i=it,ts(s.type)?(s=hf,hf=null,it=s):it=i):it=Zt?sr(s.stateNode.nextSibling):null;return!0}function Cs(){it=Zt=null,Ie=!1}function Vx(){var s=$n;return s!==null&&(ja===null?ja=s:ja.push.apply(ja,s),$n=null),s}function Yl(s){$n===null?$n=[s]:$n.push(s)}var Gx=I(null),As=null,tn=null;function Fn(s,i,o){G(Gx,i._currentValue),i._currentValue=o}function an(s){s._currentValue=Gx.current,K(Gx)}function Kx(s,i,o){for(;s!==null;){var m=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,m!==null&&(m.childLanes|=i)):m!==null&&(m.childLanes&i)!==i&&(m.childLanes|=i),s===o)break;s=s.return}}function Yx(s,i,o,m){var b=s.child;for(b!==null&&(b.return=s);b!==null;){var N=b.dependencies;if(N!==null){var A=b.child;N=N.firstContext;e:for(;N!==null;){var M=N;N=b;for(var B=0;B<i.length;B++)if(M.context===i[B]){N.lanes|=o,M=N.alternate,M!==null&&(M.lanes|=o),Kx(N.return,o,s),m||(A=null);break e}N=M.next}}else if(b.tag===18){if(A=b.return,A===null)throw Error(n(341));A.lanes|=o,N=A.alternate,N!==null&&(N.lanes|=o),Kx(A,o,s),A=null}else A=b.child;if(A!==null)A.return=b;else for(A=b;A!==null;){if(A===s){A=null;break}if(b=A.sibling,b!==null){b.return=A.return,A=b;break}A=A.return}b=A}}function ki(s,i,o,m){s=null;for(var b=i,N=!1;b!==null;){if(!N){if((b.flags&524288)!==0)N=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var A=b.alternate;if(A===null)throw Error(n(387));if(A=A.memoizedProps,A!==null){var M=b.type;Pa(b.pendingProps.value,A.value)||(s!==null?s.push(M):s=[M])}}else if(b===be.current){if(A=b.alternate,A===null)throw Error(n(387));A.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(s!==null?s.push(jc):s=[jc])}b=b.return}s!==null&&Yx(i,s,o,m),i.flags|=262144}function Vo(s){for(s=s.firstContext;s!==null;){if(!Pa(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ks(s){As=s,tn=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Qt(s){return Cb(As,s)}function Go(s,i){return As===null&&ks(s),Cb(s,i)}function Cb(s,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},tn===null){if(s===null)throw Error(n(308));tn=i,s.dependencies={lanes:0,firstContext:i},s.flags|=524288}else tn=tn.next=i;return o}var lO=typeof AbortController<"u"?AbortController:function(){var s=[],i=this.signal={aborted:!1,addEventListener:function(o,m){s.push(m)}};this.abort=function(){i.aborted=!0,s.forEach(function(o){return o()})}},cO=t.unstable_scheduleCallback,oO=t.unstable_NormalPriority,_t={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xx(){return{controller:new lO,data:new Map,refCount:0}}function Xl(s){s.refCount--,s.refCount===0&&cO(oO,function(){s.controller.abort()})}var Wl=null,Wx=0,Oi=0,Ei=null;function dO(s,i){if(Wl===null){var o=Wl=[];Wx=0,Oi=Jh(),Ei={status:"pending",value:void 0,then:function(m){o.push(m)}}}return Wx++,i.then(Ab,Ab),i}function Ab(){if(--Wx===0&&Wl!==null){Ei!==null&&(Ei.status="fulfilled");var s=Wl;Wl=null,Oi=0,Ei=null;for(var i=0;i<s.length;i++)(0,s[i])()}}function uO(s,i){var o=[],m={status:"pending",value:null,reason:null,then:function(b){o.push(b)}};return s.then(function(){m.status="fulfilled",m.value=i;for(var b=0;b<o.length;b++)(0,o[b])(i)},function(b){for(m.status="rejected",m.reason=b,b=0;b<o.length;b++)(0,o[b])(void 0)}),m}var kb=H.S;H.S=function(s,i){u1=Ta(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&dO(s,i),kb!==null&&kb(s,i)};var Os=I(null);function Zx(){var s=Os.current;return s!==null?s:at.pooledCache}function Ko(s,i){i===null?G(Os,Os.current):G(Os,i.pool)}function Ob(){var s=Zx();return s===null?null:{parent:_t._currentValue,pool:s}}var Ti=Error(n(460)),Qx=Error(n(474)),Yo=Error(n(542)),Xo={then:function(){}};function Eb(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Tb(s,i,o){switch(o=s[o],o===void 0?s.push(i):o!==i&&(i.then(Zr,Zr),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,Db(s),s;default:if(typeof i.status=="string")i.then(Zr,Zr);else{if(s=at,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=i,s.status="pending",s.then(function(m){if(i.status==="pending"){var b=i;b.status="fulfilled",b.value=m}},function(m){if(i.status==="pending"){var b=i;b.status="rejected",b.reason=m}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,Db(s),s}throw Ts=i,Ti}}function Es(s){try{var i=s._init;return i(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ts=o,Ti):o}}var Ts=null;function Mb(){if(Ts===null)throw Error(n(459));var s=Ts;return Ts=null,s}function Db(s){if(s===Ti||s===Yo)throw Error(n(483))}var Mi=null,Zl=0;function Wo(s){var i=Zl;return Zl+=1,Mi===null&&(Mi=[]),Tb(Mi,s,i)}function Ql(s,i){i=i.props.ref,s.ref=i!==void 0?i:null}function Zo(s,i){throw i.$$typeof===y?Error(n(525)):(s=Object.prototype.toString.call(i),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)))}function Pb(s){function i(V,U){if(s){var Y=V.deletions;Y===null?(V.deletions=[U],V.flags|=16):Y.push(U)}}function o(V,U){if(!s)return null;for(;U!==null;)i(V,U),U=U.sibling;return null}function m(V){for(var U=new Map;V!==null;)V.key!==null?U.set(V.key,V):U.set(V.index,V),V=V.sibling;return U}function b(V,U){return V=Jr(V,U),V.index=0,V.sibling=null,V}function N(V,U,Y){return V.index=Y,s?(Y=V.alternate,Y!==null?(Y=Y.index,Y<U?(V.flags|=67108866,U):Y):(V.flags|=67108866,U)):(V.flags|=1048576,U)}function A(V){return s&&V.alternate===null&&(V.flags|=67108866),V}function M(V,U,Y,ie){return U===null||U.tag!==6?(U=$x(Y,V.mode,ie),U.return=V,U):(U=b(U,Y),U.return=V,U)}function B(V,U,Y,ie){var Se=Y.type;return Se===S?ae(V,U,Y.props.children,ie,Y.key):U!==null&&(U.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===P&&Es(Se)===U.type)?(U=b(U,Y.props),Ql(U,Y),U.return=V,U):(U=qo(Y.type,Y.key,Y.props,null,V.mode,ie),Ql(U,Y),U.return=V,U)}function X(V,U,Y,ie){return U===null||U.tag!==4||U.stateNode.containerInfo!==Y.containerInfo||U.stateNode.implementation!==Y.implementation?(U=Ux(Y,V.mode,ie),U.return=V,U):(U=b(U,Y.children||[]),U.return=V,U)}function ae(V,U,Y,ie,Se){return U===null||U.tag!==7?(U=_s(Y,V.mode,ie,Se),U.return=V,U):(U=b(U,Y),U.return=V,U)}function le(V,U,Y){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=$x(""+U,V.mode,Y),U.return=V,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case j:return Y=qo(U.type,U.key,U.props,null,V.mode,Y),Ql(Y,U),Y.return=V,Y;case w:return U=Ux(U,V.mode,Y),U.return=V,U;case P:return U=Es(U),le(V,U,Y)}if(ue(U)||F(U))return U=_s(U,V.mode,Y,null),U.return=V,U;if(typeof U.then=="function")return le(V,Wo(U),Y);if(U.$$typeof===C)return le(V,Go(V,U),Y);Zo(V,U)}return null}function W(V,U,Y,ie){var Se=U!==null?U.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Se!==null?null:M(V,U,""+Y,ie);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case j:return Y.key===Se?B(V,U,Y,ie):null;case w:return Y.key===Se?X(V,U,Y,ie):null;case P:return Y=Es(Y),W(V,U,Y,ie)}if(ue(Y)||F(Y))return Se!==null?null:ae(V,U,Y,ie,null);if(typeof Y.then=="function")return W(V,U,Wo(Y),ie);if(Y.$$typeof===C)return W(V,U,Go(V,Y),ie);Zo(V,Y)}return null}function J(V,U,Y,ie,Se){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return V=V.get(Y)||null,M(U,V,""+ie,Se);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case j:return V=V.get(ie.key===null?Y:ie.key)||null,B(U,V,ie,Se);case w:return V=V.get(ie.key===null?Y:ie.key)||null,X(U,V,ie,Se);case P:return ie=Es(ie),J(V,U,Y,ie,Se)}if(ue(ie)||F(ie))return V=V.get(Y)||null,ae(U,V,ie,Se,null);if(typeof ie.then=="function")return J(V,U,Y,Wo(ie),Se);if(ie.$$typeof===C)return J(V,U,Y,Go(U,ie),Se);Zo(U,ie)}return null}function pe(V,U,Y,ie){for(var Se=null,Ue=null,ve=U,Ee=U=0,Le=null;ve!==null&&Ee<Y.length;Ee++){ve.index>Ee?(Le=ve,ve=null):Le=ve.sibling;var Fe=W(V,ve,Y[Ee],ie);if(Fe===null){ve===null&&(ve=Le);break}s&&ve&&Fe.alternate===null&&i(V,ve),U=N(Fe,U,Ee),Ue===null?Se=Fe:Ue.sibling=Fe,Ue=Fe,ve=Le}if(Ee===Y.length)return o(V,ve),Ie&&en(V,Ee),Se;if(ve===null){for(;Ee<Y.length;Ee++)ve=le(V,Y[Ee],ie),ve!==null&&(U=N(ve,U,Ee),Ue===null?Se=ve:Ue.sibling=ve,Ue=ve);return Ie&&en(V,Ee),Se}for(ve=m(ve);Ee<Y.length;Ee++)Le=J(ve,V,Ee,Y[Ee],ie),Le!==null&&(s&&Le.alternate!==null&&ve.delete(Le.key===null?Ee:Le.key),U=N(Le,U,Ee),Ue===null?Se=Le:Ue.sibling=Le,Ue=Le);return s&&ve.forEach(function(is){return i(V,is)}),Ie&&en(V,Ee),Se}function _e(V,U,Y,ie){if(Y==null)throw Error(n(151));for(var Se=null,Ue=null,ve=U,Ee=U=0,Le=null,Fe=Y.next();ve!==null&&!Fe.done;Ee++,Fe=Y.next()){ve.index>Ee?(Le=ve,ve=null):Le=ve.sibling;var is=W(V,ve,Fe.value,ie);if(is===null){ve===null&&(ve=Le);break}s&&ve&&is.alternate===null&&i(V,ve),U=N(is,U,Ee),Ue===null?Se=is:Ue.sibling=is,Ue=is,ve=Le}if(Fe.done)return o(V,ve),Ie&&en(V,Ee),Se;if(ve===null){for(;!Fe.done;Ee++,Fe=Y.next())Fe=le(V,Fe.value,ie),Fe!==null&&(U=N(Fe,U,Ee),Ue===null?Se=Fe:Ue.sibling=Fe,Ue=Fe);return Ie&&en(V,Ee),Se}for(ve=m(ve);!Fe.done;Ee++,Fe=Y.next())Fe=J(ve,V,Ee,Fe.value,ie),Fe!==null&&(s&&Fe.alternate!==null&&ve.delete(Fe.key===null?Ee:Fe.key),U=N(Fe,U,Ee),Ue===null?Se=Fe:Ue.sibling=Fe,Ue=Fe);return s&&ve.forEach(function(NE){return i(V,NE)}),Ie&&en(V,Ee),Se}function Je(V,U,Y,ie){if(typeof Y=="object"&&Y!==null&&Y.type===S&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case j:e:{for(var Se=Y.key;U!==null;){if(U.key===Se){if(Se=Y.type,Se===S){if(U.tag===7){o(V,U.sibling),ie=b(U,Y.props.children),ie.return=V,V=ie;break e}}else if(U.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===P&&Es(Se)===U.type){o(V,U.sibling),ie=b(U,Y.props),Ql(ie,Y),ie.return=V,V=ie;break e}o(V,U);break}else i(V,U);U=U.sibling}Y.type===S?(ie=_s(Y.props.children,V.mode,ie,Y.key),ie.return=V,V=ie):(ie=qo(Y.type,Y.key,Y.props,null,V.mode,ie),Ql(ie,Y),ie.return=V,V=ie)}return A(V);case w:e:{for(Se=Y.key;U!==null;){if(U.key===Se)if(U.tag===4&&U.stateNode.containerInfo===Y.containerInfo&&U.stateNode.implementation===Y.implementation){o(V,U.sibling),ie=b(U,Y.children||[]),ie.return=V,V=ie;break e}else{o(V,U);break}else i(V,U);U=U.sibling}ie=Ux(Y,V.mode,ie),ie.return=V,V=ie}return A(V);case P:return Y=Es(Y),Je(V,U,Y,ie)}if(ue(Y))return pe(V,U,Y,ie);if(F(Y)){if(Se=F(Y),typeof Se!="function")throw Error(n(150));return Y=Se.call(Y),_e(V,U,Y,ie)}if(typeof Y.then=="function")return Je(V,U,Wo(Y),ie);if(Y.$$typeof===C)return Je(V,U,Go(V,Y),ie);Zo(V,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,U!==null&&U.tag===6?(o(V,U.sibling),ie=b(U,Y),ie.return=V,V=ie):(o(V,U),ie=$x(Y,V.mode,ie),ie.return=V,V=ie),A(V)):o(V,U)}return function(V,U,Y,ie){try{Zl=0;var Se=Je(V,U,Y,ie);return Mi=null,Se}catch(ve){if(ve===Ti||ve===Yo)throw ve;var Ue=za(29,ve,null,V.mode);return Ue.lanes=ie,Ue.return=V,Ue}finally{}}}var Ms=Pb(!0),zb=Pb(!1),qn=!1;function Jx(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function eh(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Hn(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Vn(s,i,o){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(He&2)!==0){var b=m.pending;return b===null?i.next=i:(i.next=b.next,b.next=i),m.pending=i,i=Fo(s),yb(s,null,o),i}return Uo(s,m,i,o),Fo(s)}function Jl(s,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var m=i.lanes;m&=s.pendingLanes,o|=m,i.lanes=o,Cv(s,o)}}function th(s,i){var o=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,o===m)){var b=null,N=null;if(o=o.firstBaseUpdate,o!==null){do{var A={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};N===null?b=N=A:N=N.next=A,o=o.next}while(o!==null);N===null?b=N=i:N=N.next=i}else b=N=i;o={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:N,shared:m.shared,callbacks:m.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=i:s.next=i,o.lastBaseUpdate=i}var ah=!1;function ec(){if(ah){var s=Ei;if(s!==null)throw s}}function tc(s,i,o,m){ah=!1;var b=s.updateQueue;qn=!1;var N=b.firstBaseUpdate,A=b.lastBaseUpdate,M=b.shared.pending;if(M!==null){b.shared.pending=null;var B=M,X=B.next;B.next=null,A===null?N=X:A.next=X,A=B;var ae=s.alternate;ae!==null&&(ae=ae.updateQueue,M=ae.lastBaseUpdate,M!==A&&(M===null?ae.firstBaseUpdate=X:M.next=X,ae.lastBaseUpdate=B))}if(N!==null){var le=b.baseState;A=0,ae=X=B=null,M=N;do{var W=M.lane&-536870913,J=W!==M.lane;if(J?(Re&W)===W:(m&W)===W){W!==0&&W===Oi&&(ah=!0),ae!==null&&(ae=ae.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var pe=s,_e=M;W=i;var Je=o;switch(_e.tag){case 1:if(pe=_e.payload,typeof pe=="function"){le=pe.call(Je,le,W);break e}le=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=_e.payload,W=typeof pe=="function"?pe.call(Je,le,W):pe,W==null)break e;le=p({},le,W);break e;case 2:qn=!0}}W=M.callback,W!==null&&(s.flags|=64,J&&(s.flags|=8192),J=b.callbacks,J===null?b.callbacks=[W]:J.push(W))}else J={lane:W,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ae===null?(X=ae=J,B=le):ae=ae.next=J,A|=W;if(M=M.next,M===null){if(M=b.shared.pending,M===null)break;J=M,M=J.next,J.next=null,b.lastBaseUpdate=J,b.shared.pending=null}}while(!0);ae===null&&(B=le),b.baseState=B,b.firstBaseUpdate=X,b.lastBaseUpdate=ae,N===null&&(b.shared.lanes=0),Wn|=A,s.lanes=A,s.memoizedState=le}}function Rb(s,i){if(typeof s!="function")throw Error(n(191,s));s.call(i)}function Lb(s,i){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)Rb(o[s],i)}var Di=I(null),Qo=I(0);function Ib(s,i){s=mn,G(Qo,s),G(Di,i),mn=s|i.baseLanes}function rh(){G(Qo,mn),G(Di,Di.current)}function nh(){mn=Qo.current,K(Di),K(Qo)}var Ra=I(null),nr=null;function Gn(s){var i=s.alternate;G(Nt,Nt.current&1),G(Ra,s),nr===null&&(i===null||Di.current!==null||i.memoizedState!==null)&&(nr=s)}function sh(s){G(Nt,Nt.current),G(Ra,s),nr===null&&(nr=s)}function Bb(s){s.tag===22?(G(Nt,Nt.current),G(Ra,s),nr===null&&(nr=s)):Kn()}function Kn(){G(Nt,Nt.current),G(Ra,Ra.current)}function La(s){K(Ra),nr===s&&(nr=null),K(Nt)}var Nt=I(0);function Jo(s){for(var i=s;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||mf(o)||xf(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var rn=0,ke=null,Ze=null,Ct=null,ed=!1,Pi=!1,Ds=!1,td=0,ac=0,zi=null,mO=0;function bt(){throw Error(n(321))}function ih(s,i){if(i===null)return!1;for(var o=0;o<i.length&&o<s.length;o++)if(!Pa(s[o],i[o]))return!1;return!0}function lh(s,i,o,m,b,N){return rn=N,ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=s===null||s.memoizedState===null?Nj:Nh,Ds=!1,N=o(m,b),Ds=!1,Pi&&(N=Ub(i,o,m,b)),$b(s),N}function $b(s){H.H=sc;var i=Ze!==null&&Ze.next!==null;if(rn=0,Ct=Ze=ke=null,ed=!1,ac=0,zi=null,i)throw Error(n(300));s===null||At||(s=s.dependencies,s!==null&&Vo(s)&&(At=!0))}function Ub(s,i,o,m){ke=s;var b=0;do{if(Pi&&(zi=null),ac=0,Pi=!1,25<=b)throw Error(n(301));if(b+=1,Ct=Ze=null,s.updateQueue!=null){var N=s.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}H.H=wj,N=i(o,m)}while(Pi);return N}function xO(){var s=H.H,i=s.useState()[0];return i=typeof i.then=="function"?rc(i):i,s=s.useState()[0],(Ze!==null?Ze.memoizedState:null)!==s&&(ke.flags|=1024),i}function ch(){var s=td!==0;return td=0,s}function oh(s,i,o){i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~o}function dh(s){if(ed){for(s=s.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}ed=!1}rn=0,Ct=Ze=ke=null,Pi=!1,ac=td=0,zi=null}function ma(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?ke.memoizedState=Ct=s:Ct=Ct.next=s,Ct}function wt(){if(Ze===null){var s=ke.alternate;s=s!==null?s.memoizedState:null}else s=Ze.next;var i=Ct===null?ke.memoizedState:Ct.next;if(i!==null)Ct=i,Ze=s;else{if(s===null)throw ke.alternate===null?Error(n(467)):Error(n(310));Ze=s,s={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Ct===null?ke.memoizedState=Ct=s:Ct=Ct.next=s}return Ct}function ad(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rc(s){var i=ac;return ac+=1,zi===null&&(zi=[]),s=Tb(zi,s,i),i=ke,(Ct===null?i.memoizedState:Ct.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?Nj:Nh),s}function rd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return rc(s);if(s.$$typeof===C)return Qt(s)}throw Error(n(438,String(s)))}function uh(s){var i=null,o=ke.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var m=ke.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(i={data:m.data.map(function(b){return b.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=ad(),ke.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(s),m=0;m<s;m++)o[m]=L;return i.index++,o}function nn(s,i){return typeof i=="function"?i(s):i}function nd(s){var i=wt();return mh(i,Ze,s)}function mh(s,i,o){var m=s.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=o;var b=s.baseQueue,N=m.pending;if(N!==null){if(b!==null){var A=b.next;b.next=N.next,N.next=A}i.baseQueue=b=N,m.pending=null}if(N=s.baseState,b===null)s.memoizedState=N;else{i=b.next;var M=A=null,B=null,X=i,ae=!1;do{var le=X.lane&-536870913;if(le!==X.lane?(Re&le)===le:(rn&le)===le){var W=X.revertLane;if(W===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),le===Oi&&(ae=!0);else if((rn&W)===W){X=X.next,W===Oi&&(ae=!0);continue}else le={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},B===null?(M=B=le,A=N):B=B.next=le,ke.lanes|=W,Wn|=W;le=X.action,Ds&&o(N,le),N=X.hasEagerState?X.eagerState:o(N,le)}else W={lane:le,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},B===null?(M=B=W,A=N):B=B.next=W,ke.lanes|=le,Wn|=le;X=X.next}while(X!==null&&X!==i);if(B===null?A=N:B.next=M,!Pa(N,s.memoizedState)&&(At=!0,ae&&(o=Ei,o!==null)))throw o;s.memoizedState=N,s.baseState=A,s.baseQueue=B,m.lastRenderedState=N}return b===null&&(m.lanes=0),[s.memoizedState,m.dispatch]}function xh(s){var i=wt(),o=i.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=s;var m=o.dispatch,b=o.pending,N=i.memoizedState;if(b!==null){o.pending=null;var A=b=b.next;do N=s(N,A.action),A=A.next;while(A!==b);Pa(N,i.memoizedState)||(At=!0),i.memoizedState=N,i.baseQueue===null&&(i.baseState=N),o.lastRenderedState=N}return[N,m]}function Fb(s,i,o){var m=ke,b=wt(),N=Ie;if(N){if(o===void 0)throw Error(n(407));o=o()}else o=i();var A=!Pa((Ze||b).memoizedState,o);if(A&&(b.memoizedState=o,At=!0),b=b.queue,ph(Vb.bind(null,m,b,s),[s]),b.getSnapshot!==i||A||Ct!==null&&Ct.memoizedState.tag&1){if(m.flags|=2048,Ri(9,{destroy:void 0},Hb.bind(null,m,b,o,i),null),at===null)throw Error(n(349));N||(rn&127)!==0||qb(m,i,o)}return o}function qb(s,i,o){s.flags|=16384,s={getSnapshot:i,value:o},i=ke.updateQueue,i===null?(i=ad(),ke.updateQueue=i,i.stores=[s]):(o=i.stores,o===null?i.stores=[s]:o.push(s))}function Hb(s,i,o,m){i.value=o,i.getSnapshot=m,Gb(i)&&Kb(s)}function Vb(s,i,o){return o(function(){Gb(i)&&Kb(s)})}function Gb(s){var i=s.getSnapshot;s=s.value;try{var o=i();return!Pa(s,o)}catch{return!0}}function Kb(s){var i=Ss(s,2);i!==null&&Na(i,s,2)}function hh(s){var i=ma();if(typeof s=="function"){var o=s;if(s=o(),Ds){Rn(!0);try{o()}finally{Rn(!1)}}}return i.memoizedState=i.baseState=s,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nn,lastRenderedState:s},i}function Yb(s,i,o,m){return s.baseState=o,mh(s,Ze,typeof m=="function"?m:nn)}function hO(s,i,o,m,b){if(ld(s))throw Error(n(485));if(s=i.action,s!==null){var N={payload:b,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){N.listeners.push(A)}};H.T!==null?o(!0):N.isTransition=!1,m(N),o=i.pending,o===null?(N.next=i.pending=N,Xb(i,N)):(N.next=o.next,i.pending=o.next=N)}}function Xb(s,i){var o=i.action,m=i.payload,b=s.state;if(i.isTransition){var N=H.T,A={};H.T=A;try{var M=o(b,m),B=H.S;B!==null&&B(A,M),Wb(s,i,M)}catch(X){fh(s,i,X)}finally{N!==null&&A.types!==null&&(N.types=A.types),H.T=N}}else try{N=o(b,m),Wb(s,i,N)}catch(X){fh(s,i,X)}}function Wb(s,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(m){Zb(s,i,m)},function(m){return fh(s,i,m)}):Zb(s,i,o)}function Zb(s,i,o){i.status="fulfilled",i.value=o,Qb(i),s.state=o,i=s.pending,i!==null&&(o=i.next,o===i?s.pending=null:(o=o.next,i.next=o,Xb(s,o)))}function fh(s,i,o){var m=s.pending;if(s.pending=null,m!==null){m=m.next;do i.status="rejected",i.reason=o,Qb(i),i=i.next;while(i!==m)}s.action=null}function Qb(s){s=s.listeners;for(var i=0;i<s.length;i++)(0,s[i])()}function Jb(s,i){return i}function ej(s,i){if(Ie){var o=at.formState;if(o!==null){e:{var m=ke;if(Ie){if(it){t:{for(var b=it,N=rr;b.nodeType!==8;){if(!N){b=null;break t}if(b=sr(b.nextSibling),b===null){b=null;break t}}N=b.data,b=N==="F!"||N==="F"?b:null}if(b){it=sr(b.nextSibling),m=b.data==="F!";break e}}Un(m)}m=!1}m&&(i=o[0])}}return o=ma(),o.memoizedState=o.baseState=i,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jb,lastRenderedState:i},o.queue=m,o=vj.bind(null,ke,m),m.dispatch=o,m=hh(!1),N=jh.bind(null,ke,!1,m.queue),m=ma(),b={state:i,dispatch:null,action:s,pending:null},m.queue=b,o=hO.bind(null,ke,b,N,o),b.dispatch=o,m.memoizedState=s,[i,o,!1]}function tj(s){var i=wt();return aj(i,Ze,s)}function aj(s,i,o){if(i=mh(s,i,Jb)[0],s=nd(nn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var m=rc(i)}catch(A){throw A===Ti?Yo:A}else m=i;i=wt();var b=i.queue,N=b.dispatch;return o!==i.memoizedState&&(ke.flags|=2048,Ri(9,{destroy:void 0},fO.bind(null,b,o),null)),[m,N,s]}function fO(s,i){s.action=i}function rj(s){var i=wt(),o=Ze;if(o!==null)return aj(i,o,s);wt(),i=i.memoizedState,o=wt();var m=o.queue.dispatch;return o.memoizedState=s,[i,m,!1]}function Ri(s,i,o,m){return s={tag:s,create:o,deps:m,inst:i,next:null},i=ke.updateQueue,i===null&&(i=ad(),ke.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=s.next=s:(m=o.next,o.next=s,s.next=m,i.lastEffect=s),s}function nj(){return wt().memoizedState}function sd(s,i,o,m){var b=ma();ke.flags|=s,b.memoizedState=Ri(1|i,{destroy:void 0},o,m===void 0?null:m)}function id(s,i,o,m){var b=wt();m=m===void 0?null:m;var N=b.memoizedState.inst;Ze!==null&&m!==null&&ih(m,Ze.memoizedState.deps)?b.memoizedState=Ri(i,N,o,m):(ke.flags|=s,b.memoizedState=Ri(1|i,N,o,m))}function sj(s,i){sd(8390656,8,s,i)}function ph(s,i){id(2048,8,s,i)}function pO(s){ke.flags|=4;var i=ke.updateQueue;if(i===null)i=ad(),ke.updateQueue=i,i.events=[s];else{var o=i.events;o===null?i.events=[s]:o.push(s)}}function ij(s){var i=wt().memoizedState;return pO({ref:i,nextImpl:s}),function(){if((He&2)!==0)throw Error(n(440));return i.impl.apply(void 0,arguments)}}function lj(s,i){return id(4,2,s,i)}function cj(s,i){return id(4,4,s,i)}function oj(s,i){if(typeof i=="function"){s=s();var o=i(s);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function dj(s,i,o){o=o!=null?o.concat([s]):null,id(4,4,oj.bind(null,i,s),o)}function gh(){}function uj(s,i){var o=wt();i=i===void 0?null:i;var m=o.memoizedState;return i!==null&&ih(i,m[1])?m[0]:(o.memoizedState=[s,i],s)}function mj(s,i){var o=wt();i=i===void 0?null:i;var m=o.memoizedState;if(i!==null&&ih(i,m[1]))return m[0];if(m=s(),Ds){Rn(!0);try{s()}finally{Rn(!1)}}return o.memoizedState=[m,i],m}function yh(s,i,o){return o===void 0||(rn&1073741824)!==0&&(Re&261930)===0?s.memoizedState=i:(s.memoizedState=o,s=x1(),ke.lanes|=s,Wn|=s,o)}function xj(s,i,o,m){return Pa(o,i)?o:Di.current!==null?(s=yh(s,o,m),Pa(s,i)||(At=!0),s):(rn&42)===0||(rn&1073741824)!==0&&(Re&261930)===0?(At=!0,s.memoizedState=o):(s=x1(),ke.lanes|=s,Wn|=s,i)}function hj(s,i,o,m,b){var N=z.p;z.p=N!==0&&8>N?N:8;var A=H.T,M={};H.T=M,jh(s,!1,i,o);try{var B=b(),X=H.S;if(X!==null&&X(M,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var ae=uO(B,m);nc(s,i,ae,$a(s))}else nc(s,i,m,$a(s))}catch(le){nc(s,i,{then:function(){},status:"rejected",reason:le},$a())}finally{z.p=N,A!==null&&M.types!==null&&(A.types=M.types),H.T=A}}function gO(){}function vh(s,i,o,m){if(s.tag!==5)throw Error(n(476));var b=fj(s).queue;hj(s,b,i,$,o===null?gO:function(){return pj(s),o(m)})}function fj(s){var i=s.memoizedState;if(i!==null)return i;i={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nn,lastRenderedState:$},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nn,lastRenderedState:o},next:null},s.memoizedState=i,s=s.alternate,s!==null&&(s.memoizedState=i),i}function pj(s){var i=fj(s);i.next===null&&(i=s.alternate.memoizedState),nc(s,i.next.queue,{},$a())}function bh(){return Qt(jc)}function gj(){return wt().memoizedState}function yj(){return wt().memoizedState}function yO(s){for(var i=s.return;i!==null;){switch(i.tag){case 24:case 3:var o=$a();s=Hn(o);var m=Vn(i,s,o);m!==null&&(Na(m,i,o),Jl(m,i,o)),i={cache:Xx()},s.payload=i;return}i=i.return}}function vO(s,i,o){var m=$a();o={lane:m,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ld(s)?bj(i,o):(o=Ix(s,i,o,m),o!==null&&(Na(o,s,m),jj(o,i,m)))}function vj(s,i,o){var m=$a();nc(s,i,o,m)}function nc(s,i,o,m){var b={lane:m,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(ld(s))bj(i,b);else{var N=s.alternate;if(s.lanes===0&&(N===null||N.lanes===0)&&(N=i.lastRenderedReducer,N!==null))try{var A=i.lastRenderedState,M=N(A,o);if(b.hasEagerState=!0,b.eagerState=M,Pa(M,A))return Uo(s,i,b,0),at===null&&$o(),!1}catch{}finally{}if(o=Ix(s,i,b,m),o!==null)return Na(o,s,m),jj(o,i,m),!0}return!1}function jh(s,i,o,m){if(m={lane:2,revertLane:Jh(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},ld(s)){if(i)throw Error(n(479))}else i=Ix(s,o,m,2),i!==null&&Na(i,s,2)}function ld(s){var i=s.alternate;return s===ke||i!==null&&i===ke}function bj(s,i){Pi=ed=!0;var o=s.pending;o===null?i.next=i:(i.next=o.next,o.next=i),s.pending=i}function jj(s,i,o){if((o&4194048)!==0){var m=i.lanes;m&=s.pendingLanes,o|=m,i.lanes=o,Cv(s,o)}}var sc={readContext:Qt,use:rd,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt};sc.useEffectEvent=bt;var Nj={readContext:Qt,use:rd,useCallback:function(s,i){return ma().memoizedState=[s,i===void 0?null:i],s},useContext:Qt,useEffect:sj,useImperativeHandle:function(s,i,o){o=o!=null?o.concat([s]):null,sd(4194308,4,oj.bind(null,i,s),o)},useLayoutEffect:function(s,i){return sd(4194308,4,s,i)},useInsertionEffect:function(s,i){sd(4,2,s,i)},useMemo:function(s,i){var o=ma();i=i===void 0?null:i;var m=s();if(Ds){Rn(!0);try{s()}finally{Rn(!1)}}return o.memoizedState=[m,i],m},useReducer:function(s,i,o){var m=ma();if(o!==void 0){var b=o(i);if(Ds){Rn(!0);try{o(i)}finally{Rn(!1)}}}else b=i;return m.memoizedState=m.baseState=b,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:b},m.queue=s,s=s.dispatch=vO.bind(null,ke,s),[m.memoizedState,s]},useRef:function(s){var i=ma();return s={current:s},i.memoizedState=s},useState:function(s){s=hh(s);var i=s.queue,o=vj.bind(null,ke,i);return i.dispatch=o,[s.memoizedState,o]},useDebugValue:gh,useDeferredValue:function(s,i){var o=ma();return yh(o,s,i)},useTransition:function(){var s=hh(!1);return s=hj.bind(null,ke,s.queue,!0,!1),ma().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,i,o){var m=ke,b=ma();if(Ie){if(o===void 0)throw Error(n(407));o=o()}else{if(o=i(),at===null)throw Error(n(349));(Re&127)!==0||qb(m,i,o)}b.memoizedState=o;var N={value:o,getSnapshot:i};return b.queue=N,sj(Vb.bind(null,m,N,s),[s]),m.flags|=2048,Ri(9,{destroy:void 0},Hb.bind(null,m,N,o,i),null),o},useId:function(){var s=ma(),i=at.identifierPrefix;if(Ie){var o=Pr,m=Dr;o=(m&~(1<<32-Da(m)-1)).toString(32)+o,i="_"+i+"R_"+o,o=td++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=mO++,i="_"+i+"r_"+o.toString(32)+"_";return s.memoizedState=i},useHostTransitionStatus:bh,useFormState:ej,useActionState:ej,useOptimistic:function(s){var i=ma();i.memoizedState=i.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=jh.bind(null,ke,!0,o),o.dispatch=i,[s,i]},useMemoCache:uh,useCacheRefresh:function(){return ma().memoizedState=yO.bind(null,ke)},useEffectEvent:function(s){var i=ma(),o={impl:s};return i.memoizedState=o,function(){if((He&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}},Nh={readContext:Qt,use:rd,useCallback:uj,useContext:Qt,useEffect:ph,useImperativeHandle:dj,useInsertionEffect:lj,useLayoutEffect:cj,useMemo:mj,useReducer:nd,useRef:nj,useState:function(){return nd(nn)},useDebugValue:gh,useDeferredValue:function(s,i){var o=wt();return xj(o,Ze.memoizedState,s,i)},useTransition:function(){var s=nd(nn)[0],i=wt().memoizedState;return[typeof s=="boolean"?s:rc(s),i]},useSyncExternalStore:Fb,useId:gj,useHostTransitionStatus:bh,useFormState:tj,useActionState:tj,useOptimistic:function(s,i){var o=wt();return Yb(o,Ze,s,i)},useMemoCache:uh,useCacheRefresh:yj};Nh.useEffectEvent=ij;var wj={readContext:Qt,use:rd,useCallback:uj,useContext:Qt,useEffect:ph,useImperativeHandle:dj,useInsertionEffect:lj,useLayoutEffect:cj,useMemo:mj,useReducer:xh,useRef:nj,useState:function(){return xh(nn)},useDebugValue:gh,useDeferredValue:function(s,i){var o=wt();return Ze===null?yh(o,s,i):xj(o,Ze.memoizedState,s,i)},useTransition:function(){var s=xh(nn)[0],i=wt().memoizedState;return[typeof s=="boolean"?s:rc(s),i]},useSyncExternalStore:Fb,useId:gj,useHostTransitionStatus:bh,useFormState:rj,useActionState:rj,useOptimistic:function(s,i){var o=wt();return Ze!==null?Yb(o,Ze,s,i):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:uh,useCacheRefresh:yj};wj.useEffectEvent=ij;function wh(s,i,o,m){i=s.memoizedState,o=o(m,i),o=o==null?i:p({},i,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var Sh={enqueueSetState:function(s,i,o){s=s._reactInternals;var m=$a(),b=Hn(m);b.payload=i,o!=null&&(b.callback=o),i=Vn(s,b,m),i!==null&&(Na(i,s,m),Jl(i,s,m))},enqueueReplaceState:function(s,i,o){s=s._reactInternals;var m=$a(),b=Hn(m);b.tag=1,b.payload=i,o!=null&&(b.callback=o),i=Vn(s,b,m),i!==null&&(Na(i,s,m),Jl(i,s,m))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var o=$a(),m=Hn(o);m.tag=2,i!=null&&(m.callback=i),i=Vn(s,m,o),i!==null&&(Na(i,s,o),Jl(i,s,o))}};function Sj(s,i,o,m,b,N,A){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,N,A):i.prototype&&i.prototype.isPureReactComponent?!Vl(o,m)||!Vl(b,N):!0}function _j(s,i,o,m){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,m),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,m),i.state!==s&&Sh.enqueueReplaceState(i,i.state,null)}function Ps(s,i){var o=i;if("ref"in i){o={};for(var m in i)m!=="ref"&&(o[m]=i[m])}if(s=s.defaultProps){o===i&&(o=p({},o));for(var b in s)o[b]===void 0&&(o[b]=s[b])}return o}function Cj(s){Bo(s)}function Aj(s){console.error(s)}function kj(s){Bo(s)}function cd(s,i){try{var o=s.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(m){setTimeout(function(){throw m})}}function Oj(s,i,o){try{var m=s.onCaughtError;m(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function _h(s,i,o){return o=Hn(o),o.tag=3,o.payload={element:null},o.callback=function(){cd(s,i)},o}function Ej(s){return s=Hn(s),s.tag=3,s}function Tj(s,i,o,m){var b=o.type.getDerivedStateFromError;if(typeof b=="function"){var N=m.value;s.payload=function(){return b(N)},s.callback=function(){Oj(i,o,m)}}var A=o.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(s.callback=function(){Oj(i,o,m),typeof b!="function"&&(Zn===null?Zn=new Set([this]):Zn.add(this));var M=m.stack;this.componentDidCatch(m.value,{componentStack:M!==null?M:""})})}function bO(s,i,o,m,b){if(o.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(i=o.alternate,i!==null&&ki(i,o,b,!0),o=Ra.current,o!==null){switch(o.tag){case 31:case 13:return nr===null?bd():o.alternate===null&&jt===0&&(jt=3),o.flags&=-257,o.flags|=65536,o.lanes=b,m===Xo?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([m]):i.add(m),Wh(s,m,b)),!1;case 22:return o.flags|=65536,m===Xo?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([m])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([m]):o.add(m)),Wh(s,m,b)),!1}throw Error(n(435,o.tag))}return Wh(s,m,b),bd(),!1}if(Ie)return i=Ra.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=b,m!==Hx&&(s=Error(n(422),{cause:m}),Yl(er(s,o)))):(m!==Hx&&(i=Error(n(423),{cause:m}),Yl(er(i,o))),s=s.current.alternate,s.flags|=65536,b&=-b,s.lanes|=b,m=er(m,o),b=_h(s.stateNode,m,b),th(s,b),jt!==4&&(jt=2)),!1;var N=Error(n(520),{cause:m});if(N=er(N,o),xc===null?xc=[N]:xc.push(N),jt!==4&&(jt=2),i===null)return!0;m=er(m,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,s=b&-b,o.lanes|=s,s=_h(o.stateNode,m,s),th(o,s),!1;case 1:if(i=o.type,N=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Zn===null||!Zn.has(N))))return o.flags|=65536,b&=-b,o.lanes|=b,b=Ej(b),Tj(b,s,o,m),th(o,b),!1}o=o.return}while(o!==null);return!1}var Ch=Error(n(461)),At=!1;function Jt(s,i,o,m){i.child=s===null?zb(i,null,o,m):Ms(i,s.child,o,m)}function Mj(s,i,o,m,b){o=o.render;var N=i.ref;if("ref"in m){var A={};for(var M in m)M!=="ref"&&(A[M]=m[M])}else A=m;return ks(i),m=lh(s,i,o,A,N,b),M=ch(),s!==null&&!At?(oh(s,i,b),sn(s,i,b)):(Ie&&M&&Fx(i),i.flags|=1,Jt(s,i,m,b),i.child)}function Dj(s,i,o,m,b){if(s===null){var N=o.type;return typeof N=="function"&&!Bx(N)&&N.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=N,Pj(s,i,N,m,b)):(s=qo(o.type,null,m,i,i.mode,b),s.ref=i.ref,s.return=i,i.child=s)}if(N=s.child,!Ph(s,b)){var A=N.memoizedProps;if(o=o.compare,o=o!==null?o:Vl,o(A,m)&&s.ref===i.ref)return sn(s,i,b)}return i.flags|=1,s=Jr(N,m),s.ref=i.ref,s.return=i,i.child=s}function Pj(s,i,o,m,b){if(s!==null){var N=s.memoizedProps;if(Vl(N,m)&&s.ref===i.ref)if(At=!1,i.pendingProps=m=N,Ph(s,b))(s.flags&131072)!==0&&(At=!0);else return i.lanes=s.lanes,sn(s,i,b)}return Ah(s,i,o,m,b)}function zj(s,i,o,m){var b=m.children,N=s!==null?s.memoizedState:null;if(s===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((i.flags&128)!==0){if(N=N!==null?N.baseLanes|o:o,s!==null){for(m=i.child=s.child,b=0;m!==null;)b=b|m.lanes|m.childLanes,m=m.sibling;m=b&~N}else m=0,i.child=null;return Rj(s,i,N,o,m)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},s!==null&&Ko(i,N!==null?N.cachePool:null),N!==null?Ib(i,N):rh(),Bb(i);else return m=i.lanes=536870912,Rj(s,i,N!==null?N.baseLanes|o:o,o,m)}else N!==null?(Ko(i,N.cachePool),Ib(i,N),Kn(),i.memoizedState=null):(s!==null&&Ko(i,null),rh(),Kn());return Jt(s,i,b,o),i.child}function ic(s,i){return s!==null&&s.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Rj(s,i,o,m,b){var N=Zx();return N=N===null?null:{parent:_t._currentValue,pool:N},i.memoizedState={baseLanes:o,cachePool:N},s!==null&&Ko(i,null),rh(),Bb(i),s!==null&&ki(s,i,m,!0),i.childLanes=b,null}function od(s,i){return i=ud({mode:i.mode,children:i.children},s.mode),i.ref=s.ref,s.child=i,i.return=s,i}function Lj(s,i,o){return Ms(i,s.child,null,o),s=od(i,i.pendingProps),s.flags|=2,La(i),i.memoizedState=null,s}function jO(s,i,o){var m=i.pendingProps,b=(i.flags&128)!==0;if(i.flags&=-129,s===null){if(Ie){if(m.mode==="hidden")return s=od(i,m),i.lanes=536870912,ic(null,s);if(sh(i),(s=it)?(s=X1(s,rr),s=s!==null&&s.data==="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:Bn!==null?{id:Dr,overflow:Pr}:null,retryLane:536870912,hydrationErrors:null},o=bb(s),o.return=i,i.child=o,Zt=i,it=null)):s=null,s===null)throw Un(i);return i.lanes=536870912,null}return od(i,m)}var N=s.memoizedState;if(N!==null){var A=N.dehydrated;if(sh(i),b)if(i.flags&256)i.flags&=-257,i=Lj(s,i,o);else if(i.memoizedState!==null)i.child=s.child,i.flags|=128,i=null;else throw Error(n(558));else if(At||ki(s,i,o,!1),b=(o&s.childLanes)!==0,At||b){if(m=at,m!==null&&(A=Av(m,o),A!==0&&A!==N.retryLane))throw N.retryLane=A,Ss(s,A),Na(m,s,A),Ch;bd(),i=Lj(s,i,o)}else s=N.treeContext,it=sr(A.nextSibling),Zt=i,Ie=!0,$n=null,rr=!1,s!==null&&wb(i,s),i=od(i,m),i.flags|=4096;return i}return s=Jr(s.child,{mode:m.mode,children:m.children}),s.ref=i.ref,i.child=s,s.return=i,s}function dd(s,i){var o=i.ref;if(o===null)s!==null&&s.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(n(284));(s===null||s.ref!==o)&&(i.flags|=4194816)}}function Ah(s,i,o,m,b){return ks(i),o=lh(s,i,o,m,void 0,b),m=ch(),s!==null&&!At?(oh(s,i,b),sn(s,i,b)):(Ie&&m&&Fx(i),i.flags|=1,Jt(s,i,o,b),i.child)}function Ij(s,i,o,m,b,N){return ks(i),i.updateQueue=null,o=Ub(i,m,o,b),$b(s),m=ch(),s!==null&&!At?(oh(s,i,N),sn(s,i,N)):(Ie&&m&&Fx(i),i.flags|=1,Jt(s,i,o,N),i.child)}function Bj(s,i,o,m,b){if(ks(i),i.stateNode===null){var N=Si,A=o.contextType;typeof A=="object"&&A!==null&&(N=Qt(A)),N=new o(m,N),i.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Sh,i.stateNode=N,N._reactInternals=i,N=i.stateNode,N.props=m,N.state=i.memoizedState,N.refs={},Jx(i),A=o.contextType,N.context=typeof A=="object"&&A!==null?Qt(A):Si,N.state=i.memoizedState,A=o.getDerivedStateFromProps,typeof A=="function"&&(wh(i,o,A,m),N.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(A=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),A!==N.state&&Sh.enqueueReplaceState(N,N.state,null),tc(i,m,N,b),ec(),N.state=i.memoizedState),typeof N.componentDidMount=="function"&&(i.flags|=4194308),m=!0}else if(s===null){N=i.stateNode;var M=i.memoizedProps,B=Ps(o,M);N.props=B;var X=N.context,ae=o.contextType;A=Si,typeof ae=="object"&&ae!==null&&(A=Qt(ae));var le=o.getDerivedStateFromProps;ae=typeof le=="function"||typeof N.getSnapshotBeforeUpdate=="function",M=i.pendingProps!==M,ae||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(M||X!==A)&&_j(i,N,m,A),qn=!1;var W=i.memoizedState;N.state=W,tc(i,m,N,b),ec(),X=i.memoizedState,M||W!==X||qn?(typeof le=="function"&&(wh(i,o,le,m),X=i.memoizedState),(B=qn||Sj(i,o,B,m,W,X,A))?(ae||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(i.flags|=4194308)):(typeof N.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=m,i.memoizedState=X),N.props=m,N.state=X,N.context=A,m=B):(typeof N.componentDidMount=="function"&&(i.flags|=4194308),m=!1)}else{N=i.stateNode,eh(s,i),A=i.memoizedProps,ae=Ps(o,A),N.props=ae,le=i.pendingProps,W=N.context,X=o.contextType,B=Si,typeof X=="object"&&X!==null&&(B=Qt(X)),M=o.getDerivedStateFromProps,(X=typeof M=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(A!==le||W!==B)&&_j(i,N,m,B),qn=!1,W=i.memoizedState,N.state=W,tc(i,m,N,b),ec();var J=i.memoizedState;A!==le||W!==J||qn||s!==null&&s.dependencies!==null&&Vo(s.dependencies)?(typeof M=="function"&&(wh(i,o,M,m),J=i.memoizedState),(ae=qn||Sj(i,o,ae,m,W,J,B)||s!==null&&s.dependencies!==null&&Vo(s.dependencies))?(X||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(m,J,B),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(m,J,B)),typeof N.componentDidUpdate=="function"&&(i.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof N.componentDidUpdate!="function"||A===s.memoizedProps&&W===s.memoizedState||(i.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&W===s.memoizedState||(i.flags|=1024),i.memoizedProps=m,i.memoizedState=J),N.props=m,N.state=J,N.context=B,m=ae):(typeof N.componentDidUpdate!="function"||A===s.memoizedProps&&W===s.memoizedState||(i.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&W===s.memoizedState||(i.flags|=1024),m=!1)}return N=m,dd(s,i),m=(i.flags&128)!==0,N||m?(N=i.stateNode,o=m&&typeof o.getDerivedStateFromError!="function"?null:N.render(),i.flags|=1,s!==null&&m?(i.child=Ms(i,s.child,null,b),i.child=Ms(i,null,o,b)):Jt(s,i,o,b),i.memoizedState=N.state,s=i.child):s=sn(s,i,b),s}function $j(s,i,o,m){return Cs(),i.flags|=256,Jt(s,i,o,m),i.child}var kh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Oh(s){return{baseLanes:s,cachePool:Ob()}}function Eh(s,i,o){return s=s!==null?s.childLanes&~o:0,i&&(s|=Ba),s}function Uj(s,i,o){var m=i.pendingProps,b=!1,N=(i.flags&128)!==0,A;if((A=N)||(A=s!==null&&s.memoizedState===null?!1:(Nt.current&2)!==0),A&&(b=!0,i.flags&=-129),A=(i.flags&32)!==0,i.flags&=-33,s===null){if(Ie){if(b?Gn(i):Kn(),(s=it)?(s=X1(s,rr),s=s!==null&&s.data!=="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:Bn!==null?{id:Dr,overflow:Pr}:null,retryLane:536870912,hydrationErrors:null},o=bb(s),o.return=i,i.child=o,Zt=i,it=null)):s=null,s===null)throw Un(i);return xf(s)?i.lanes=32:i.lanes=536870912,null}var M=m.children;return m=m.fallback,b?(Kn(),b=i.mode,M=ud({mode:"hidden",children:M},b),m=_s(m,b,o,null),M.return=i,m.return=i,M.sibling=m,i.child=M,m=i.child,m.memoizedState=Oh(o),m.childLanes=Eh(s,A,o),i.memoizedState=kh,ic(null,m)):(Gn(i),Th(i,M))}var B=s.memoizedState;if(B!==null&&(M=B.dehydrated,M!==null)){if(N)i.flags&256?(Gn(i),i.flags&=-257,i=Mh(s,i,o)):i.memoizedState!==null?(Kn(),i.child=s.child,i.flags|=128,i=null):(Kn(),M=m.fallback,b=i.mode,m=ud({mode:"visible",children:m.children},b),M=_s(M,b,o,null),M.flags|=2,m.return=i,M.return=i,m.sibling=M,i.child=m,Ms(i,s.child,null,o),m=i.child,m.memoizedState=Oh(o),m.childLanes=Eh(s,A,o),i.memoizedState=kh,i=ic(null,m));else if(Gn(i),xf(M)){if(A=M.nextSibling&&M.nextSibling.dataset,A)var X=A.dgst;A=X,m=Error(n(419)),m.stack="",m.digest=A,Yl({value:m,source:null,stack:null}),i=Mh(s,i,o)}else if(At||ki(s,i,o,!1),A=(o&s.childLanes)!==0,At||A){if(A=at,A!==null&&(m=Av(A,o),m!==0&&m!==B.retryLane))throw B.retryLane=m,Ss(s,m),Na(A,s,m),Ch;mf(M)||bd(),i=Mh(s,i,o)}else mf(M)?(i.flags|=192,i.child=s.child,i=null):(s=B.treeContext,it=sr(M.nextSibling),Zt=i,Ie=!0,$n=null,rr=!1,s!==null&&wb(i,s),i=Th(i,m.children),i.flags|=4096);return i}return b?(Kn(),M=m.fallback,b=i.mode,B=s.child,X=B.sibling,m=Jr(B,{mode:"hidden",children:m.children}),m.subtreeFlags=B.subtreeFlags&65011712,X!==null?M=Jr(X,M):(M=_s(M,b,o,null),M.flags|=2),M.return=i,m.return=i,m.sibling=M,i.child=m,ic(null,m),m=i.child,M=s.child.memoizedState,M===null?M=Oh(o):(b=M.cachePool,b!==null?(B=_t._currentValue,b=b.parent!==B?{parent:B,pool:B}:b):b=Ob(),M={baseLanes:M.baseLanes|o,cachePool:b}),m.memoizedState=M,m.childLanes=Eh(s,A,o),i.memoizedState=kh,ic(s.child,m)):(Gn(i),o=s.child,s=o.sibling,o=Jr(o,{mode:"visible",children:m.children}),o.return=i,o.sibling=null,s!==null&&(A=i.deletions,A===null?(i.deletions=[s],i.flags|=16):A.push(s)),i.child=o,i.memoizedState=null,o)}function Th(s,i){return i=ud({mode:"visible",children:i},s.mode),i.return=s,s.child=i}function ud(s,i){return s=za(22,s,null,i),s.lanes=0,s}function Mh(s,i,o){return Ms(i,s.child,null,o),s=Th(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function Fj(s,i,o){s.lanes|=i;var m=s.alternate;m!==null&&(m.lanes|=i),Kx(s.return,i,o)}function Dh(s,i,o,m,b,N){var A=s.memoizedState;A===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:m,tail:o,tailMode:b,treeForkCount:N}:(A.isBackwards=i,A.rendering=null,A.renderingStartTime=0,A.last=m,A.tail=o,A.tailMode=b,A.treeForkCount=N)}function qj(s,i,o){var m=i.pendingProps,b=m.revealOrder,N=m.tail;m=m.children;var A=Nt.current,M=(A&2)!==0;if(M?(A=A&1|2,i.flags|=128):A&=1,G(Nt,A),Jt(s,i,m,o),m=Ie?Kl:0,!M&&s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Fj(s,o,i);else if(s.tag===19)Fj(s,o,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(b){case"forwards":for(o=i.child,b=null;o!==null;)s=o.alternate,s!==null&&Jo(s)===null&&(b=o),o=o.sibling;o=b,o===null?(b=i.child,i.child=null):(b=o.sibling,o.sibling=null),Dh(i,!1,b,o,N,m);break;case"backwards":case"unstable_legacy-backwards":for(o=null,b=i.child,i.child=null;b!==null;){if(s=b.alternate,s!==null&&Jo(s)===null){i.child=b;break}s=b.sibling,b.sibling=o,o=b,b=s}Dh(i,!0,o,null,N,m);break;case"together":Dh(i,!1,null,null,void 0,m);break;default:i.memoizedState=null}return i.child}function sn(s,i,o){if(s!==null&&(i.dependencies=s.dependencies),Wn|=i.lanes,(o&i.childLanes)===0)if(s!==null){if(ki(s,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(s!==null&&i.child!==s.child)throw Error(n(153));if(i.child!==null){for(s=i.child,o=Jr(s,s.pendingProps),i.child=o,o.return=i;s.sibling!==null;)s=s.sibling,o=o.sibling=Jr(s,s.pendingProps),o.return=i;o.sibling=null}return i.child}function Ph(s,i){return(s.lanes&i)!==0?!0:(s=s.dependencies,!!(s!==null&&Vo(s)))}function NO(s,i,o){switch(i.tag){case 3:Ge(i,i.stateNode.containerInfo),Fn(i,_t,s.memoizedState.cache),Cs();break;case 27:case 5:Ae(i);break;case 4:Ge(i,i.stateNode.containerInfo);break;case 10:Fn(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,sh(i),null;break;case 13:var m=i.memoizedState;if(m!==null)return m.dehydrated!==null?(Gn(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Uj(s,i,o):(Gn(i),s=sn(s,i,o),s!==null?s.sibling:null);Gn(i);break;case 19:var b=(s.flags&128)!==0;if(m=(o&i.childLanes)!==0,m||(ki(s,i,o,!1),m=(o&i.childLanes)!==0),b){if(m)return qj(s,i,o);i.flags|=128}if(b=i.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),G(Nt,Nt.current),m)break;return null;case 22:return i.lanes=0,zj(s,i,o,i.pendingProps);case 24:Fn(i,_t,s.memoizedState.cache)}return sn(s,i,o)}function Hj(s,i,o){if(s!==null)if(s.memoizedProps!==i.pendingProps)At=!0;else{if(!Ph(s,o)&&(i.flags&128)===0)return At=!1,NO(s,i,o);At=(s.flags&131072)!==0}else At=!1,Ie&&(i.flags&1048576)!==0&&Nb(i,Kl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var m=i.pendingProps;if(s=Es(i.elementType),i.type=s,typeof s=="function")Bx(s)?(m=Ps(s,m),i.tag=1,i=Bj(null,i,s,m,o)):(i.tag=0,i=Ah(null,i,s,m,o));else{if(s!=null){var b=s.$$typeof;if(b===k){i.tag=11,i=Mj(null,i,s,m,o);break e}else if(b===D){i.tag=14,i=Dj(null,i,s,m,o);break e}}throw i=ce(s)||s,Error(n(306,i,""))}}return i;case 0:return Ah(s,i,i.type,i.pendingProps,o);case 1:return m=i.type,b=Ps(m,i.pendingProps),Bj(s,i,m,b,o);case 3:e:{if(Ge(i,i.stateNode.containerInfo),s===null)throw Error(n(387));m=i.pendingProps;var N=i.memoizedState;b=N.element,eh(s,i),tc(i,m,null,o);var A=i.memoizedState;if(m=A.cache,Fn(i,_t,m),m!==N.cache&&Yx(i,[_t],o,!0),ec(),m=A.element,N.isDehydrated)if(N={element:m,isDehydrated:!1,cache:A.cache},i.updateQueue.baseState=N,i.memoizedState=N,i.flags&256){i=$j(s,i,m,o);break e}else if(m!==b){b=er(Error(n(424)),i),Yl(b),i=$j(s,i,m,o);break e}else{switch(s=i.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(it=sr(s.firstChild),Zt=i,Ie=!0,$n=null,rr=!0,o=zb(i,null,m,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Cs(),m===b){i=sn(s,i,o);break e}Jt(s,i,m,o)}i=i.child}return i;case 26:return dd(s,i),s===null?(o=tN(i.type,null,i.pendingProps,null))?i.memoizedState=o:Ie||(o=i.type,s=i.pendingProps,m=Ad(me.current).createElement(o),m[Wt]=i,m[pa]=s,ea(m,o,s),$t(m),i.stateNode=m):i.memoizedState=tN(i.type,s.memoizedProps,i.pendingProps,s.memoizedState),null;case 27:return Ae(i),s===null&&Ie&&(m=i.stateNode=Q1(i.type,i.pendingProps,me.current),Zt=i,rr=!0,b=it,ts(i.type)?(hf=b,it=sr(m.firstChild)):it=b),Jt(s,i,i.pendingProps.children,o),dd(s,i),s===null&&(i.flags|=4194304),i.child;case 5:return s===null&&Ie&&((b=m=it)&&(m=QO(m,i.type,i.pendingProps,rr),m!==null?(i.stateNode=m,Zt=i,it=sr(m.firstChild),rr=!1,b=!0):b=!1),b||Un(i)),Ae(i),b=i.type,N=i.pendingProps,A=s!==null?s.memoizedProps:null,m=N.children,of(b,N)?m=null:A!==null&&of(b,A)&&(i.flags|=32),i.memoizedState!==null&&(b=lh(s,i,xO,null,null,o),jc._currentValue=b),dd(s,i),Jt(s,i,m,o),i.child;case 6:return s===null&&Ie&&((s=o=it)&&(o=JO(o,i.pendingProps,rr),o!==null?(i.stateNode=o,Zt=i,it=null,s=!0):s=!1),s||Un(i)),null;case 13:return Uj(s,i,o);case 4:return Ge(i,i.stateNode.containerInfo),m=i.pendingProps,s===null?i.child=Ms(i,null,m,o):Jt(s,i,m,o),i.child;case 11:return Mj(s,i,i.type,i.pendingProps,o);case 7:return Jt(s,i,i.pendingProps,o),i.child;case 8:return Jt(s,i,i.pendingProps.children,o),i.child;case 12:return Jt(s,i,i.pendingProps.children,o),i.child;case 10:return m=i.pendingProps,Fn(i,i.type,m.value),Jt(s,i,m.children,o),i.child;case 9:return b=i.type._context,m=i.pendingProps.children,ks(i),b=Qt(b),m=m(b),i.flags|=1,Jt(s,i,m,o),i.child;case 14:return Dj(s,i,i.type,i.pendingProps,o);case 15:return Pj(s,i,i.type,i.pendingProps,o);case 19:return qj(s,i,o);case 31:return jO(s,i,o);case 22:return zj(s,i,o,i.pendingProps);case 24:return ks(i),m=Qt(_t),s===null?(b=Zx(),b===null&&(b=at,N=Xx(),b.pooledCache=N,N.refCount++,N!==null&&(b.pooledCacheLanes|=o),b=N),i.memoizedState={parent:m,cache:b},Jx(i),Fn(i,_t,b)):((s.lanes&o)!==0&&(eh(s,i),tc(i,null,null,o),ec()),b=s.memoizedState,N=i.memoizedState,b.parent!==m?(b={parent:m,cache:m},i.memoizedState=b,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=b),Fn(i,_t,m)):(m=N.cache,Fn(i,_t,m),m!==b.cache&&Yx(i,[_t],o,!0))),Jt(s,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(n(156,i.tag))}function ln(s){s.flags|=4}function zh(s,i,o,m,b){if((i=(s.mode&32)!==0)&&(i=!1),i){if(s.flags|=16777216,(b&335544128)===b)if(s.stateNode.complete)s.flags|=8192;else if(g1())s.flags|=8192;else throw Ts=Xo,Qx}else s.flags&=-16777217}function Vj(s,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!iN(i))if(g1())s.flags|=8192;else throw Ts=Xo,Qx}function md(s,i){i!==null&&(s.flags|=4),s.flags&16384&&(i=s.tag!==22?Sv():536870912,s.lanes|=i,$i|=i)}function lc(s,i){if(!Ie)switch(s.tailMode){case"hidden":i=s.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var m=null;o!==null;)o.alternate!==null&&(m=o),o=o.sibling;m===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function lt(s){var i=s.alternate!==null&&s.alternate.child===s.child,o=0,m=0;if(i)for(var b=s.child;b!==null;)o|=b.lanes|b.childLanes,m|=b.subtreeFlags&65011712,m|=b.flags&65011712,b.return=s,b=b.sibling;else for(b=s.child;b!==null;)o|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=s,b=b.sibling;return s.subtreeFlags|=m,s.childLanes=o,i}function wO(s,i,o){var m=i.pendingProps;switch(qx(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(i),null;case 1:return lt(i),null;case 3:return o=i.stateNode,m=null,s!==null&&(m=s.memoizedState.cache),i.memoizedState.cache!==m&&(i.flags|=2048),an(_t),ee(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(Ai(i)?ln(i):s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Vx())),lt(i),null;case 26:var b=i.type,N=i.memoizedState;return s===null?(ln(i),N!==null?(lt(i),Vj(i,N)):(lt(i),zh(i,b,null,m,o))):N?N!==s.memoizedState?(ln(i),lt(i),Vj(i,N)):(lt(i),i.flags&=-16777217):(s=s.memoizedProps,s!==m&&ln(i),lt(i),zh(i,b,s,m,o)),null;case 27:if(Me(i),o=me.current,b=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==m&&ln(i);else{if(!m){if(i.stateNode===null)throw Error(n(166));return lt(i),null}s=ne.current,Ai(i)?Sb(i):(s=Q1(b,m,o),i.stateNode=s,ln(i))}return lt(i),null;case 5:if(Me(i),b=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==m&&ln(i);else{if(!m){if(i.stateNode===null)throw Error(n(166));return lt(i),null}if(N=ne.current,Ai(i))Sb(i);else{var A=Ad(me.current);switch(N){case 1:N=A.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:N=A.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":N=A.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":N=A.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":N=A.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof m.is=="string"?A.createElement("select",{is:m.is}):A.createElement("select"),m.multiple?N.multiple=!0:m.size&&(N.size=m.size);break;default:N=typeof m.is=="string"?A.createElement(b,{is:m.is}):A.createElement(b)}}N[Wt]=i,N[pa]=m;e:for(A=i.child;A!==null;){if(A.tag===5||A.tag===6)N.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===i)break e;for(;A.sibling===null;){if(A.return===null||A.return===i)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}i.stateNode=N;e:switch(ea(N,b,m),b){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&ln(i)}}return lt(i),zh(i,i.type,s===null?null:s.memoizedProps,i.pendingProps,o),null;case 6:if(s&&i.stateNode!=null)s.memoizedProps!==m&&ln(i);else{if(typeof m!="string"&&i.stateNode===null)throw Error(n(166));if(s=me.current,Ai(i)){if(s=i.stateNode,o=i.memoizedProps,m=null,b=Zt,b!==null)switch(b.tag){case 27:case 5:m=b.memoizedProps}s[Wt]=i,s=!!(s.nodeValue===o||m!==null&&m.suppressHydrationWarning===!0||U1(s.nodeValue,o)),s||Un(i,!0)}else s=Ad(s).createTextNode(m),s[Wt]=i,i.stateNode=s}return lt(i),null;case 31:if(o=i.memoizedState,s===null||s.memoizedState!==null){if(m=Ai(i),o!==null){if(s===null){if(!m)throw Error(n(318));if(s=i.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(557));s[Wt]=i}else Cs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),s=!1}else o=Vx(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return i.flags&256?(La(i),i):(La(i),null);if((i.flags&128)!==0)throw Error(n(558))}return lt(i),null;case 13:if(m=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(b=Ai(i),m!==null&&m.dehydrated!==null){if(s===null){if(!b)throw Error(n(318));if(b=i.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[Wt]=i}else Cs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),b=!1}else b=Vx(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=b),b=!0;if(!b)return i.flags&256?(La(i),i):(La(i),null)}return La(i),(i.flags&128)!==0?(i.lanes=o,i):(o=m!==null,s=s!==null&&s.memoizedState!==null,o&&(m=i.child,b=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(b=m.alternate.memoizedState.cachePool.pool),N=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(N=m.memoizedState.cachePool.pool),N!==b&&(m.flags|=2048)),o!==s&&o&&(i.child.flags|=8192),md(i,i.updateQueue),lt(i),null);case 4:return ee(),s===null&&rf(i.stateNode.containerInfo),lt(i),null;case 10:return an(i.type),lt(i),null;case 19:if(K(Nt),m=i.memoizedState,m===null)return lt(i),null;if(b=(i.flags&128)!==0,N=m.rendering,N===null)if(b)lc(m,!1);else{if(jt!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(N=Jo(s),N!==null){for(i.flags|=128,lc(m,!1),s=N.updateQueue,i.updateQueue=s,md(i,s),i.subtreeFlags=0,s=o,o=i.child;o!==null;)vb(o,s),o=o.sibling;return G(Nt,Nt.current&1|2),Ie&&en(i,m.treeForkCount),i.child}s=s.sibling}m.tail!==null&&Ta()>gd&&(i.flags|=128,b=!0,lc(m,!1),i.lanes=4194304)}else{if(!b)if(s=Jo(N),s!==null){if(i.flags|=128,b=!0,s=s.updateQueue,i.updateQueue=s,md(i,s),lc(m,!0),m.tail===null&&m.tailMode==="hidden"&&!N.alternate&&!Ie)return lt(i),null}else 2*Ta()-m.renderingStartTime>gd&&o!==536870912&&(i.flags|=128,b=!0,lc(m,!1),i.lanes=4194304);m.isBackwards?(N.sibling=i.child,i.child=N):(s=m.last,s!==null?s.sibling=N:i.child=N,m.last=N)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Ta(),s.sibling=null,o=Nt.current,G(Nt,b?o&1|2:o&1),Ie&&en(i,m.treeForkCount),s):(lt(i),null);case 22:case 23:return La(i),nh(),m=i.memoizedState!==null,s!==null?s.memoizedState!==null!==m&&(i.flags|=8192):m&&(i.flags|=8192),m?(o&536870912)!==0&&(i.flags&128)===0&&(lt(i),i.subtreeFlags&6&&(i.flags|=8192)):lt(i),o=i.updateQueue,o!==null&&md(i,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),m=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(m=i.memoizedState.cachePool.pool),m!==o&&(i.flags|=2048),s!==null&&K(Os),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),an(_t),lt(i),null;case 25:return null;case 30:return null}throw Error(n(156,i.tag))}function SO(s,i){switch(qx(i),i.tag){case 1:return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return an(_t),ee(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 26:case 27:case 5:return Me(i),null;case 31:if(i.memoizedState!==null){if(La(i),i.alternate===null)throw Error(n(340));Cs()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 13:if(La(i),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Cs()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return K(Nt),null;case 4:return ee(),null;case 10:return an(i.type),null;case 22:case 23:return La(i),nh(),s!==null&&K(Os),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 24:return an(_t),null;case 25:return null;default:return null}}function Gj(s,i){switch(qx(i),i.tag){case 3:an(_t),ee();break;case 26:case 27:case 5:Me(i);break;case 4:ee();break;case 31:i.memoizedState!==null&&La(i);break;case 13:La(i);break;case 19:K(Nt);break;case 10:an(i.type);break;case 22:case 23:La(i),nh(),s!==null&&K(Os);break;case 24:an(_t)}}function cc(s,i){try{var o=i.updateQueue,m=o!==null?o.lastEffect:null;if(m!==null){var b=m.next;o=b;do{if((o.tag&s)===s){m=void 0;var N=o.create,A=o.inst;m=N(),A.destroy=m}o=o.next}while(o!==b)}}catch(M){Xe(i,i.return,M)}}function Yn(s,i,o){try{var m=i.updateQueue,b=m!==null?m.lastEffect:null;if(b!==null){var N=b.next;m=N;do{if((m.tag&s)===s){var A=m.inst,M=A.destroy;if(M!==void 0){A.destroy=void 0,b=i;var B=o,X=M;try{X()}catch(ae){Xe(b,B,ae)}}}m=m.next}while(m!==N)}}catch(ae){Xe(i,i.return,ae)}}function Kj(s){var i=s.updateQueue;if(i!==null){var o=s.stateNode;try{Lb(i,o)}catch(m){Xe(s,s.return,m)}}}function Yj(s,i,o){o.props=Ps(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(m){Xe(s,i,m)}}function oc(s,i){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var m=s.stateNode;break;case 30:m=s.stateNode;break;default:m=s.stateNode}typeof o=="function"?s.refCleanup=o(m):o.current=m}}catch(b){Xe(s,i,b)}}function zr(s,i){var o=s.ref,m=s.refCleanup;if(o!==null)if(typeof m=="function")try{m()}catch(b){Xe(s,i,b)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(b){Xe(s,i,b)}else o.current=null}function Xj(s){var i=s.type,o=s.memoizedProps,m=s.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&m.focus();break e;case"img":o.src?m.src=o.src:o.srcSet&&(m.srcset=o.srcSet)}}catch(b){Xe(s,s.return,b)}}function Rh(s,i,o){try{var m=s.stateNode;GO(m,s.type,o,i),m[pa]=i}catch(b){Xe(s,s.return,b)}}function Wj(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ts(s.type)||s.tag===4}function Lh(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Wj(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ts(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ih(s,i,o){var m=s.tag;if(m===5||m===6)s=s.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(s),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Zr));else if(m!==4&&(m===27&&ts(s.type)&&(o=s.stateNode,i=null),s=s.child,s!==null))for(Ih(s,i,o),s=s.sibling;s!==null;)Ih(s,i,o),s=s.sibling}function xd(s,i,o){var m=s.tag;if(m===5||m===6)s=s.stateNode,i?o.insertBefore(s,i):o.appendChild(s);else if(m!==4&&(m===27&&ts(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(xd(s,i,o),s=s.sibling;s!==null;)xd(s,i,o),s=s.sibling}function Zj(s){var i=s.stateNode,o=s.memoizedProps;try{for(var m=s.type,b=i.attributes;b.length;)i.removeAttributeNode(b[0]);ea(i,m,o),i[Wt]=s,i[pa]=o}catch(N){Xe(s,s.return,N)}}var cn=!1,kt=!1,Bh=!1,Qj=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function _O(s,i){if(s=s.containerInfo,lf=Pd,s=db(s),Mx(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var m=o.getSelection&&o.getSelection();if(m&&m.rangeCount!==0){o=m.anchorNode;var b=m.anchorOffset,N=m.focusNode;m=m.focusOffset;try{o.nodeType,N.nodeType}catch{o=null;break e}var A=0,M=-1,B=-1,X=0,ae=0,le=s,W=null;t:for(;;){for(var J;le!==o||b!==0&&le.nodeType!==3||(M=A+b),le!==N||m!==0&&le.nodeType!==3||(B=A+m),le.nodeType===3&&(A+=le.nodeValue.length),(J=le.firstChild)!==null;)W=le,le=J;for(;;){if(le===s)break t;if(W===o&&++X===b&&(M=A),W===N&&++ae===m&&(B=A),(J=le.nextSibling)!==null)break;le=W,W=le.parentNode}le=J}o=M===-1||B===-1?null:{start:M,end:B}}else o=null}o=o||{start:0,end:0}}else o=null;for(cf={focusedElem:s,selectionRange:o},Pd=!1,Ut=i;Ut!==null;)if(i=Ut,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,Ut=s;else for(;Ut!==null;){switch(i=Ut,N=i.alternate,s=i.flags,i.tag){case 0:if((s&4)!==0&&(s=i.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)b=s[o],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&N!==null){s=void 0,o=i,b=N.memoizedProps,N=N.memoizedState,m=o.stateNode;try{var pe=Ps(o.type,b);s=m.getSnapshotBeforeUpdate(pe,N),m.__reactInternalSnapshotBeforeUpdate=s}catch(_e){Xe(o,o.return,_e)}}break;case 3:if((s&1024)!==0){if(s=i.stateNode.containerInfo,o=s.nodeType,o===9)uf(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":uf(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=i.sibling,s!==null){s.return=i.return,Ut=s;break}Ut=i.return}}function Jj(s,i,o){var m=o.flags;switch(o.tag){case 0:case 11:case 15:dn(s,o),m&4&&cc(5,o);break;case 1:if(dn(s,o),m&4)if(s=o.stateNode,i===null)try{s.componentDidMount()}catch(A){Xe(o,o.return,A)}else{var b=Ps(o.type,i.memoizedProps);i=i.memoizedState;try{s.componentDidUpdate(b,i,s.__reactInternalSnapshotBeforeUpdate)}catch(A){Xe(o,o.return,A)}}m&64&&Kj(o),m&512&&oc(o,o.return);break;case 3:if(dn(s,o),m&64&&(s=o.updateQueue,s!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Lb(s,i)}catch(A){Xe(o,o.return,A)}}break;case 27:i===null&&m&4&&Zj(o);case 26:case 5:dn(s,o),i===null&&m&4&&Xj(o),m&512&&oc(o,o.return);break;case 12:dn(s,o);break;case 31:dn(s,o),m&4&&a1(s,o);break;case 13:dn(s,o),m&4&&r1(s,o),m&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=PO.bind(null,o),eE(s,o))));break;case 22:if(m=o.memoizedState!==null||cn,!m){i=i!==null&&i.memoizedState!==null||kt,b=cn;var N=kt;cn=m,(kt=i)&&!N?un(s,o,(o.subtreeFlags&8772)!==0):dn(s,o),cn=b,kt=N}break;case 30:break;default:dn(s,o)}}function e1(s){var i=s.alternate;i!==null&&(s.alternate=null,e1(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&fx(i)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var dt=null,ya=!1;function on(s,i,o){for(o=o.child;o!==null;)t1(s,i,o),o=o.sibling}function t1(s,i,o){if(Ma&&typeof Ma.onCommitFiberUnmount=="function")try{Ma.onCommitFiberUnmount(Dl,o)}catch{}switch(o.tag){case 26:kt||zr(o,i),on(s,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:kt||zr(o,i);var m=dt,b=ya;ts(o.type)&&(dt=o.stateNode,ya=!1),on(s,i,o),yc(o.stateNode),dt=m,ya=b;break;case 5:kt||zr(o,i);case 6:if(m=dt,b=ya,dt=null,on(s,i,o),dt=m,ya=b,dt!==null)if(ya)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(o.stateNode)}catch(N){Xe(o,i,N)}else try{dt.removeChild(o.stateNode)}catch(N){Xe(o,i,N)}break;case 18:dt!==null&&(ya?(s=dt,K1(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),Yi(s)):K1(dt,o.stateNode));break;case 4:m=dt,b=ya,dt=o.stateNode.containerInfo,ya=!0,on(s,i,o),dt=m,ya=b;break;case 0:case 11:case 14:case 15:Yn(2,o,i),kt||Yn(4,o,i),on(s,i,o);break;case 1:kt||(zr(o,i),m=o.stateNode,typeof m.componentWillUnmount=="function"&&Yj(o,i,m)),on(s,i,o);break;case 21:on(s,i,o);break;case 22:kt=(m=kt)||o.memoizedState!==null,on(s,i,o),kt=m;break;default:on(s,i,o)}}function a1(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Yi(s)}catch(o){Xe(i,i.return,o)}}}function r1(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Yi(s)}catch(o){Xe(i,i.return,o)}}function CO(s){switch(s.tag){case 31:case 13:case 19:var i=s.stateNode;return i===null&&(i=s.stateNode=new Qj),i;case 22:return s=s.stateNode,i=s._retryCache,i===null&&(i=s._retryCache=new Qj),i;default:throw Error(n(435,s.tag))}}function hd(s,i){var o=CO(s);i.forEach(function(m){if(!o.has(m)){o.add(m);var b=zO.bind(null,s,m);m.then(b,b)}})}function va(s,i){var o=i.deletions;if(o!==null)for(var m=0;m<o.length;m++){var b=o[m],N=s,A=i,M=A;e:for(;M!==null;){switch(M.tag){case 27:if(ts(M.type)){dt=M.stateNode,ya=!1;break e}break;case 5:dt=M.stateNode,ya=!1;break e;case 3:case 4:dt=M.stateNode.containerInfo,ya=!0;break e}M=M.return}if(dt===null)throw Error(n(160));t1(N,A,b),dt=null,ya=!1,N=b.alternate,N!==null&&(N.return=null),b.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)n1(i,s),i=i.sibling}var Nr=null;function n1(s,i){var o=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:va(i,s),ba(s),m&4&&(Yn(3,s,s.return),cc(3,s),Yn(5,s,s.return));break;case 1:va(i,s),ba(s),m&512&&(kt||o===null||zr(o,o.return)),m&64&&cn&&(s=s.updateQueue,s!==null&&(m=s.callbacks,m!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?m:o.concat(m))));break;case 26:var b=Nr;if(va(i,s),ba(s),m&512&&(kt||o===null||zr(o,o.return)),m&4){var N=o!==null?o.memoizedState:null;if(m=s.memoizedState,o===null)if(m===null)if(s.stateNode===null){e:{m=s.type,o=s.memoizedProps,b=b.ownerDocument||b;t:switch(m){case"title":N=b.getElementsByTagName("title")[0],(!N||N[Rl]||N[Wt]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=b.createElement(m),b.head.insertBefore(N,b.querySelector("head > title"))),ea(N,m,o),N[Wt]=s,$t(N),m=N;break e;case"link":var A=nN("link","href",b).get(m+(o.href||""));if(A){for(var M=0;M<A.length;M++)if(N=A[M],N.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&N.getAttribute("rel")===(o.rel==null?null:o.rel)&&N.getAttribute("title")===(o.title==null?null:o.title)&&N.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){A.splice(M,1);break t}}N=b.createElement(m),ea(N,m,o),b.head.appendChild(N);break;case"meta":if(A=nN("meta","content",b).get(m+(o.content||""))){for(M=0;M<A.length;M++)if(N=A[M],N.getAttribute("content")===(o.content==null?null:""+o.content)&&N.getAttribute("name")===(o.name==null?null:o.name)&&N.getAttribute("property")===(o.property==null?null:o.property)&&N.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&N.getAttribute("charset")===(o.charSet==null?null:o.charSet)){A.splice(M,1);break t}}N=b.createElement(m),ea(N,m,o),b.head.appendChild(N);break;default:throw Error(n(468,m))}N[Wt]=s,$t(N),m=N}s.stateNode=m}else sN(b,s.type,s.stateNode);else s.stateNode=rN(b,m,s.memoizedProps);else N!==m?(N===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):N.count--,m===null?sN(b,s.type,s.stateNode):rN(b,m,s.memoizedProps)):m===null&&s.stateNode!==null&&Rh(s,s.memoizedProps,o.memoizedProps)}break;case 27:va(i,s),ba(s),m&512&&(kt||o===null||zr(o,o.return)),o!==null&&m&4&&Rh(s,s.memoizedProps,o.memoizedProps);break;case 5:if(va(i,s),ba(s),m&512&&(kt||o===null||zr(o,o.return)),s.flags&32){b=s.stateNode;try{gi(b,"")}catch(pe){Xe(s,s.return,pe)}}m&4&&s.stateNode!=null&&(b=s.memoizedProps,Rh(s,b,o!==null?o.memoizedProps:b)),m&1024&&(Bh=!0);break;case 6:if(va(i,s),ba(s),m&4){if(s.stateNode===null)throw Error(n(162));m=s.memoizedProps,o=s.stateNode;try{o.nodeValue=m}catch(pe){Xe(s,s.return,pe)}}break;case 3:if(Ed=null,b=Nr,Nr=kd(i.containerInfo),va(i,s),Nr=b,ba(s),m&4&&o!==null&&o.memoizedState.isDehydrated)try{Yi(i.containerInfo)}catch(pe){Xe(s,s.return,pe)}Bh&&(Bh=!1,s1(s));break;case 4:m=Nr,Nr=kd(s.stateNode.containerInfo),va(i,s),ba(s),Nr=m;break;case 12:va(i,s),ba(s);break;case 31:va(i,s),ba(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,hd(s,m)));break;case 13:va(i,s),ba(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(pd=Ta()),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,hd(s,m)));break;case 22:b=s.memoizedState!==null;var B=o!==null&&o.memoizedState!==null,X=cn,ae=kt;if(cn=X||b,kt=ae||B,va(i,s),kt=ae,cn=X,ba(s),m&8192)e:for(i=s.stateNode,i._visibility=b?i._visibility&-2:i._visibility|1,b&&(o===null||B||cn||kt||zs(s)),o=null,i=s;;){if(i.tag===5||i.tag===26){if(o===null){B=o=i;try{if(N=B.stateNode,b)A=N.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{M=B.stateNode;var le=B.memoizedProps.style,W=le!=null&&le.hasOwnProperty("display")?le.display:null;M.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(pe){Xe(B,B.return,pe)}}}else if(i.tag===6){if(o===null){B=i;try{B.stateNode.nodeValue=b?"":B.memoizedProps}catch(pe){Xe(B,B.return,pe)}}}else if(i.tag===18){if(o===null){B=i;try{var J=B.stateNode;b?Y1(J,!0):Y1(B.stateNode,!1)}catch(pe){Xe(B,B.return,pe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===s)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}m&4&&(m=s.updateQueue,m!==null&&(o=m.retryQueue,o!==null&&(m.retryQueue=null,hd(s,o))));break;case 19:va(i,s),ba(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,hd(s,m)));break;case 30:break;case 21:break;default:va(i,s),ba(s)}}function ba(s){var i=s.flags;if(i&2){try{for(var o,m=s.return;m!==null;){if(Wj(m)){o=m;break}m=m.return}if(o==null)throw Error(n(160));switch(o.tag){case 27:var b=o.stateNode,N=Lh(s);xd(s,N,b);break;case 5:var A=o.stateNode;o.flags&32&&(gi(A,""),o.flags&=-33);var M=Lh(s);xd(s,M,A);break;case 3:case 4:var B=o.stateNode.containerInfo,X=Lh(s);Ih(s,X,B);break;default:throw Error(n(161))}}catch(ae){Xe(s,s.return,ae)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function s1(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var i=s;s1(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),s=s.sibling}}function dn(s,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Jj(s,i.alternate,i),i=i.sibling}function zs(s){for(s=s.child;s!==null;){var i=s;switch(i.tag){case 0:case 11:case 14:case 15:Yn(4,i,i.return),zs(i);break;case 1:zr(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Yj(i,i.return,o),zs(i);break;case 27:yc(i.stateNode);case 26:case 5:zr(i,i.return),zs(i);break;case 22:i.memoizedState===null&&zs(i);break;case 30:zs(i);break;default:zs(i)}s=s.sibling}}function un(s,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var m=i.alternate,b=s,N=i,A=N.flags;switch(N.tag){case 0:case 11:case 15:un(b,N,o),cc(4,N);break;case 1:if(un(b,N,o),m=N,b=m.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(X){Xe(m,m.return,X)}if(m=N,b=m.updateQueue,b!==null){var M=m.stateNode;try{var B=b.shared.hiddenCallbacks;if(B!==null)for(b.shared.hiddenCallbacks=null,b=0;b<B.length;b++)Rb(B[b],M)}catch(X){Xe(m,m.return,X)}}o&&A&64&&Kj(N),oc(N,N.return);break;case 27:Zj(N);case 26:case 5:un(b,N,o),o&&m===null&&A&4&&Xj(N),oc(N,N.return);break;case 12:un(b,N,o);break;case 31:un(b,N,o),o&&A&4&&a1(b,N);break;case 13:un(b,N,o),o&&A&4&&r1(b,N);break;case 22:N.memoizedState===null&&un(b,N,o),oc(N,N.return);break;case 30:break;default:un(b,N,o)}i=i.sibling}}function $h(s,i){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&Xl(o))}function Uh(s,i){s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Xl(s))}function wr(s,i,o,m){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)i1(s,i,o,m),i=i.sibling}function i1(s,i,o,m){var b=i.flags;switch(i.tag){case 0:case 11:case 15:wr(s,i,o,m),b&2048&&cc(9,i);break;case 1:wr(s,i,o,m);break;case 3:wr(s,i,o,m),b&2048&&(s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Xl(s)));break;case 12:if(b&2048){wr(s,i,o,m),s=i.stateNode;try{var N=i.memoizedProps,A=N.id,M=N.onPostCommit;typeof M=="function"&&M(A,i.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(B){Xe(i,i.return,B)}}else wr(s,i,o,m);break;case 31:wr(s,i,o,m);break;case 13:wr(s,i,o,m);break;case 23:break;case 22:N=i.stateNode,A=i.alternate,i.memoizedState!==null?N._visibility&2?wr(s,i,o,m):dc(s,i):N._visibility&2?wr(s,i,o,m):(N._visibility|=2,Li(s,i,o,m,(i.subtreeFlags&10256)!==0||!1)),b&2048&&$h(A,i);break;case 24:wr(s,i,o,m),b&2048&&Uh(i.alternate,i);break;default:wr(s,i,o,m)}}function Li(s,i,o,m,b){for(b=b&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var N=s,A=i,M=o,B=m,X=A.flags;switch(A.tag){case 0:case 11:case 15:Li(N,A,M,B,b),cc(8,A);break;case 23:break;case 22:var ae=A.stateNode;A.memoizedState!==null?ae._visibility&2?Li(N,A,M,B,b):dc(N,A):(ae._visibility|=2,Li(N,A,M,B,b)),b&&X&2048&&$h(A.alternate,A);break;case 24:Li(N,A,M,B,b),b&&X&2048&&Uh(A.alternate,A);break;default:Li(N,A,M,B,b)}i=i.sibling}}function dc(s,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=s,m=i,b=m.flags;switch(m.tag){case 22:dc(o,m),b&2048&&$h(m.alternate,m);break;case 24:dc(o,m),b&2048&&Uh(m.alternate,m);break;default:dc(o,m)}i=i.sibling}}var uc=8192;function Ii(s,i,o){if(s.subtreeFlags&uc)for(s=s.child;s!==null;)l1(s,i,o),s=s.sibling}function l1(s,i,o){switch(s.tag){case 26:Ii(s,i,o),s.flags&uc&&s.memoizedState!==null&&mE(o,Nr,s.memoizedState,s.memoizedProps);break;case 5:Ii(s,i,o);break;case 3:case 4:var m=Nr;Nr=kd(s.stateNode.containerInfo),Ii(s,i,o),Nr=m;break;case 22:s.memoizedState===null&&(m=s.alternate,m!==null&&m.memoizedState!==null?(m=uc,uc=16777216,Ii(s,i,o),uc=m):Ii(s,i,o));break;default:Ii(s,i,o)}}function c1(s){var i=s.alternate;if(i!==null&&(s=i.child,s!==null)){i.child=null;do i=s.sibling,s.sibling=null,s=i;while(s!==null)}}function mc(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var m=i[o];Ut=m,d1(m,s)}c1(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)o1(s),s=s.sibling}function o1(s){switch(s.tag){case 0:case 11:case 15:mc(s),s.flags&2048&&Yn(9,s,s.return);break;case 3:mc(s);break;case 12:mc(s);break;case 22:var i=s.stateNode;s.memoizedState!==null&&i._visibility&2&&(s.return===null||s.return.tag!==13)?(i._visibility&=-3,fd(s)):mc(s);break;default:mc(s)}}function fd(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var m=i[o];Ut=m,d1(m,s)}c1(s)}for(s=s.child;s!==null;){switch(i=s,i.tag){case 0:case 11:case 15:Yn(8,i,i.return),fd(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,fd(i));break;default:fd(i)}s=s.sibling}}function d1(s,i){for(;Ut!==null;){var o=Ut;switch(o.tag){case 0:case 11:case 15:Yn(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var m=o.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Xl(o.memoizedState.cache)}if(m=o.child,m!==null)m.return=o,Ut=m;else e:for(o=s;Ut!==null;){m=Ut;var b=m.sibling,N=m.return;if(e1(m),m===o){Ut=null;break e}if(b!==null){b.return=N,Ut=b;break e}Ut=N}}}var AO={getCacheForType:function(s){var i=Qt(_t),o=i.data.get(s);return o===void 0&&(o=s(),i.data.set(s,o)),o},cacheSignal:function(){return Qt(_t).controller.signal}},kO=typeof WeakMap=="function"?WeakMap:Map,He=0,at=null,De=null,Re=0,Ye=0,Ia=null,Xn=!1,Bi=!1,Fh=!1,mn=0,jt=0,Wn=0,Rs=0,qh=0,Ba=0,$i=0,xc=null,ja=null,Hh=!1,pd=0,u1=0,gd=1/0,yd=null,Zn=null,Dt=0,Qn=null,Ui=null,xn=0,Vh=0,Gh=null,m1=null,hc=0,Kh=null;function $a(){return(He&2)!==0&&Re!==0?Re&-Re:H.T!==null?Jh():kv()}function x1(){if(Ba===0)if((Re&536870912)===0||Ie){var s=Co;Co<<=1,(Co&3932160)===0&&(Co=262144),Ba=s}else Ba=536870912;return s=Ra.current,s!==null&&(s.flags|=32),Ba}function Na(s,i,o){(s===at&&(Ye===2||Ye===9)||s.cancelPendingCommit!==null)&&(Fi(s,0),Jn(s,Re,Ba,!1)),zl(s,o),((He&2)===0||s!==at)&&(s===at&&((He&2)===0&&(Rs|=o),jt===4&&Jn(s,Re,Ba,!1)),Rr(s))}function h1(s,i,o){if((He&6)!==0)throw Error(n(327));var m=!o&&(i&127)===0&&(i&s.expiredLanes)===0||Pl(s,i),b=m?TO(s,i):Xh(s,i,!0),N=m;do{if(b===0){Bi&&!m&&Jn(s,i,0,!1);break}else{if(o=s.current.alternate,N&&!OO(o)){b=Xh(s,i,!1),N=!1;continue}if(b===2){if(N=i,s.errorRecoveryDisabledLanes&N)var A=0;else A=s.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){i=A;e:{var M=s;b=xc;var B=M.current.memoizedState.isDehydrated;if(B&&(Fi(M,A).flags|=256),A=Xh(M,A,!1),A!==2){if(Fh&&!B){M.errorRecoveryDisabledLanes|=N,Rs|=N,b=4;break e}N=ja,ja=b,N!==null&&(ja===null?ja=N:ja.push.apply(ja,N))}b=A}if(N=!1,b!==2)continue}}if(b===1){Fi(s,0),Jn(s,i,0,!0);break}e:{switch(m=s,N=b,N){case 0:case 1:throw Error(n(345));case 4:if((i&4194048)!==i)break;case 6:Jn(m,i,Ba,!Xn);break e;case 2:ja=null;break;case 3:case 5:break;default:throw Error(n(329))}if((i&62914560)===i&&(b=pd+300-Ta(),10<b)){if(Jn(m,i,Ba,!Xn),ko(m,0,!0)!==0)break e;xn=i,m.timeoutHandle=V1(f1.bind(null,m,o,ja,yd,Hh,i,Ba,Rs,$i,Xn,N,"Throttled",-0,0),b);break e}f1(m,o,ja,yd,Hh,i,Ba,Rs,$i,Xn,N,null,-0,0)}}break}while(!0);Rr(s)}function f1(s,i,o,m,b,N,A,M,B,X,ae,le,W,J){if(s.timeoutHandle=-1,le=i.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zr},l1(i,N,le);var pe=(N&62914560)===N?pd-Ta():(N&4194048)===N?u1-Ta():0;if(pe=xE(le,pe),pe!==null){xn=N,s.cancelPendingCommit=pe(w1.bind(null,s,i,N,o,m,b,A,M,B,ae,le,null,W,J)),Jn(s,N,A,!X);return}}w1(s,i,N,o,m,b,A,M,B)}function OO(s){for(var i=s;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var m=0;m<o.length;m++){var b=o[m],N=b.getSnapshot;b=b.value;try{if(!Pa(N(),b))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Jn(s,i,o,m){i&=~qh,i&=~Rs,s.suspendedLanes|=i,s.pingedLanes&=~i,m&&(s.warmLanes|=i),m=s.expirationTimes;for(var b=i;0<b;){var N=31-Da(b),A=1<<N;m[N]=-1,b&=~A}o!==0&&_v(s,o,i)}function vd(){return(He&6)===0?(fc(0),!1):!0}function Yh(){if(De!==null){if(Ye===0)var s=De.return;else s=De,tn=As=null,dh(s),Mi=null,Zl=0,s=De;for(;s!==null;)Gj(s.alternate,s),s=s.return;De=null}}function Fi(s,i){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,XO(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),xn=0,Yh(),at=s,De=o=Jr(s.current,null),Re=i,Ye=0,Ia=null,Xn=!1,Bi=Pl(s,i),Fh=!1,$i=Ba=qh=Rs=Wn=jt=0,ja=xc=null,Hh=!1,(i&8)!==0&&(i|=i&32);var m=s.entangledLanes;if(m!==0)for(s=s.entanglements,m&=i;0<m;){var b=31-Da(m),N=1<<b;i|=s[b],m&=~N}return mn=i,$o(),o}function p1(s,i){ke=null,H.H=sc,i===Ti||i===Yo?(i=Mb(),Ye=3):i===Qx?(i=Mb(),Ye=4):Ye=i===Ch?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ia=i,De===null&&(jt=1,cd(s,er(i,s.current)))}function g1(){var s=Ra.current;return s===null?!0:(Re&4194048)===Re?nr===null:(Re&62914560)===Re||(Re&536870912)!==0?s===nr:!1}function y1(){var s=H.H;return H.H=sc,s===null?sc:s}function v1(){var s=H.A;return H.A=AO,s}function bd(){jt=4,Xn||(Re&4194048)!==Re&&Ra.current!==null||(Bi=!0),(Wn&134217727)===0&&(Rs&134217727)===0||at===null||Jn(at,Re,Ba,!1)}function Xh(s,i,o){var m=He;He|=2;var b=y1(),N=v1();(at!==s||Re!==i)&&(yd=null,Fi(s,i)),i=!1;var A=jt;e:do try{if(Ye!==0&&De!==null){var M=De,B=Ia;switch(Ye){case 8:Yh(),A=6;break e;case 3:case 2:case 9:case 6:Ra.current===null&&(i=!0);var X=Ye;if(Ye=0,Ia=null,qi(s,M,B,X),o&&Bi){A=0;break e}break;default:X=Ye,Ye=0,Ia=null,qi(s,M,B,X)}}EO(),A=jt;break}catch(ae){p1(s,ae)}while(!0);return i&&s.shellSuspendCounter++,tn=As=null,He=m,H.H=b,H.A=N,De===null&&(at=null,Re=0,$o()),A}function EO(){for(;De!==null;)b1(De)}function TO(s,i){var o=He;He|=2;var m=y1(),b=v1();at!==s||Re!==i?(yd=null,gd=Ta()+500,Fi(s,i)):Bi=Pl(s,i);e:do try{if(Ye!==0&&De!==null){i=De;var N=Ia;t:switch(Ye){case 1:Ye=0,Ia=null,qi(s,i,N,1);break;case 2:case 9:if(Eb(N)){Ye=0,Ia=null,j1(i);break}i=function(){Ye!==2&&Ye!==9||at!==s||(Ye=7),Rr(s)},N.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Eb(N)?(Ye=0,Ia=null,j1(i)):(Ye=0,Ia=null,qi(s,i,N,7));break;case 5:var A=null;switch(De.tag){case 26:A=De.memoizedState;case 5:case 27:var M=De;if(A?iN(A):M.stateNode.complete){Ye=0,Ia=null;var B=M.sibling;if(B!==null)De=B;else{var X=M.return;X!==null?(De=X,jd(X)):De=null}break t}}Ye=0,Ia=null,qi(s,i,N,5);break;case 6:Ye=0,Ia=null,qi(s,i,N,6);break;case 8:Yh(),jt=6;break e;default:throw Error(n(462))}}MO();break}catch(ae){p1(s,ae)}while(!0);return tn=As=null,H.H=m,H.A=b,He=o,De!==null?0:(at=null,Re=0,$o(),jt)}function MO(){for(;De!==null&&!tk();)b1(De)}function b1(s){var i=Hj(s.alternate,s,mn);s.memoizedProps=s.pendingProps,i===null?jd(s):De=i}function j1(s){var i=s,o=i.alternate;switch(i.tag){case 15:case 0:i=Ij(o,i,i.pendingProps,i.type,void 0,Re);break;case 11:i=Ij(o,i,i.pendingProps,i.type.render,i.ref,Re);break;case 5:dh(i);default:Gj(o,i),i=De=vb(i,mn),i=Hj(o,i,mn)}s.memoizedProps=s.pendingProps,i===null?jd(s):De=i}function qi(s,i,o,m){tn=As=null,dh(i),Mi=null,Zl=0;var b=i.return;try{if(bO(s,b,i,o,Re)){jt=1,cd(s,er(o,s.current)),De=null;return}}catch(N){if(b!==null)throw De=b,N;jt=1,cd(s,er(o,s.current)),De=null;return}i.flags&32768?(Ie||m===1?s=!0:Bi||(Re&536870912)!==0?s=!1:(Xn=s=!0,(m===2||m===9||m===3||m===6)&&(m=Ra.current,m!==null&&m.tag===13&&(m.flags|=16384))),N1(i,s)):jd(i)}function jd(s){var i=s;do{if((i.flags&32768)!==0){N1(i,Xn);return}s=i.return;var o=wO(i.alternate,i,mn);if(o!==null){De=o;return}if(i=i.sibling,i!==null){De=i;return}De=i=s}while(i!==null);jt===0&&(jt=5)}function N1(s,i){do{var o=SO(s.alternate,s);if(o!==null){o.flags&=32767,De=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(s=s.sibling,s!==null)){De=s;return}De=s=o}while(s!==null);jt=6,De=null}function w1(s,i,o,m,b,N,A,M,B){s.cancelPendingCommit=null;do Nd();while(Dt!==0);if((He&6)!==0)throw Error(n(327));if(i!==null){if(i===s.current)throw Error(n(177));if(N=i.lanes|i.childLanes,N|=Lx,uk(s,o,N,A,M,B),s===at&&(De=at=null,Re=0),Ui=i,Qn=s,xn=o,Vh=N,Gh=b,m1=m,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,RO(So,function(){return k1(),null})):(s.callbackNode=null,s.callbackPriority=0),m=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||m){m=H.T,H.T=null,b=z.p,z.p=2,A=He,He|=4;try{_O(s,i,o)}finally{He=A,z.p=b,H.T=m}}Dt=1,S1(),_1(),C1()}}function S1(){if(Dt===1){Dt=0;var s=Qn,i=Ui,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=H.T,H.T=null;var m=z.p;z.p=2;var b=He;He|=4;try{n1(i,s);var N=cf,A=db(s.containerInfo),M=N.focusedElem,B=N.selectionRange;if(A!==M&&M&&M.ownerDocument&&ob(M.ownerDocument.documentElement,M)){if(B!==null&&Mx(M)){var X=B.start,ae=B.end;if(ae===void 0&&(ae=X),"selectionStart"in M)M.selectionStart=X,M.selectionEnd=Math.min(ae,M.value.length);else{var le=M.ownerDocument||document,W=le&&le.defaultView||window;if(W.getSelection){var J=W.getSelection(),pe=M.textContent.length,_e=Math.min(B.start,pe),Je=B.end===void 0?_e:Math.min(B.end,pe);!J.extend&&_e>Je&&(A=Je,Je=_e,_e=A);var V=cb(M,_e),U=cb(M,Je);if(V&&U&&(J.rangeCount!==1||J.anchorNode!==V.node||J.anchorOffset!==V.offset||J.focusNode!==U.node||J.focusOffset!==U.offset)){var Y=le.createRange();Y.setStart(V.node,V.offset),J.removeAllRanges(),_e>Je?(J.addRange(Y),J.extend(U.node,U.offset)):(Y.setEnd(U.node,U.offset),J.addRange(Y))}}}}for(le=[],J=M;J=J.parentNode;)J.nodeType===1&&le.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<le.length;M++){var ie=le[M];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Pd=!!lf,cf=lf=null}finally{He=b,z.p=m,H.T=o}}s.current=i,Dt=2}}function _1(){if(Dt===2){Dt=0;var s=Qn,i=Ui,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=H.T,H.T=null;var m=z.p;z.p=2;var b=He;He|=4;try{Jj(s,i.alternate,i)}finally{He=b,z.p=m,H.T=o}}Dt=3}}function C1(){if(Dt===4||Dt===3){Dt=0,ak();var s=Qn,i=Ui,o=xn,m=m1;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Dt=5:(Dt=0,Ui=Qn=null,A1(s,s.pendingLanes));var b=s.pendingLanes;if(b===0&&(Zn=null),xx(o),i=i.stateNode,Ma&&typeof Ma.onCommitFiberRoot=="function")try{Ma.onCommitFiberRoot(Dl,i,void 0,(i.current.flags&128)===128)}catch{}if(m!==null){i=H.T,b=z.p,z.p=2,H.T=null;try{for(var N=s.onRecoverableError,A=0;A<m.length;A++){var M=m[A];N(M.value,{componentStack:M.stack})}}finally{H.T=i,z.p=b}}(xn&3)!==0&&Nd(),Rr(s),b=s.pendingLanes,(o&261930)!==0&&(b&42)!==0?s===Kh?hc++:(hc=0,Kh=s):hc=0,fc(0)}}function A1(s,i){(s.pooledCacheLanes&=i)===0&&(i=s.pooledCache,i!=null&&(s.pooledCache=null,Xl(i)))}function Nd(){return S1(),_1(),C1(),k1()}function k1(){if(Dt!==5)return!1;var s=Qn,i=Vh;Vh=0;var o=xx(xn),m=H.T,b=z.p;try{z.p=32>o?32:o,H.T=null,o=Gh,Gh=null;var N=Qn,A=xn;if(Dt=0,Ui=Qn=null,xn=0,(He&6)!==0)throw Error(n(331));var M=He;if(He|=4,o1(N.current),i1(N,N.current,A,o),He=M,fc(0,!1),Ma&&typeof Ma.onPostCommitFiberRoot=="function")try{Ma.onPostCommitFiberRoot(Dl,N)}catch{}return!0}finally{z.p=b,H.T=m,A1(s,i)}}function O1(s,i,o){i=er(o,i),i=_h(s.stateNode,i,2),s=Vn(s,i,2),s!==null&&(zl(s,2),Rr(s))}function Xe(s,i,o){if(s.tag===3)O1(s,s,o);else for(;i!==null;){if(i.tag===3){O1(i,s,o);break}else if(i.tag===1){var m=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Zn===null||!Zn.has(m))){s=er(o,s),o=Ej(2),m=Vn(i,o,2),m!==null&&(Tj(o,m,i,s),zl(m,2),Rr(m));break}}i=i.return}}function Wh(s,i,o){var m=s.pingCache;if(m===null){m=s.pingCache=new kO;var b=new Set;m.set(i,b)}else b=m.get(i),b===void 0&&(b=new Set,m.set(i,b));b.has(o)||(Fh=!0,b.add(o),s=DO.bind(null,s,i,o),i.then(s,s))}function DO(s,i,o){var m=s.pingCache;m!==null&&m.delete(i),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,at===s&&(Re&o)===o&&(jt===4||jt===3&&(Re&62914560)===Re&&300>Ta()-pd?(He&2)===0&&Fi(s,0):qh|=o,$i===Re&&($i=0)),Rr(s)}function E1(s,i){i===0&&(i=Sv()),s=Ss(s,i),s!==null&&(zl(s,i),Rr(s))}function PO(s){var i=s.memoizedState,o=0;i!==null&&(o=i.retryLane),E1(s,o)}function zO(s,i){var o=0;switch(s.tag){case 31:case 13:var m=s.stateNode,b=s.memoizedState;b!==null&&(o=b.retryLane);break;case 19:m=s.stateNode;break;case 22:m=s.stateNode._retryCache;break;default:throw Error(n(314))}m!==null&&m.delete(i),E1(s,o)}function RO(s,i){return ox(s,i)}var wd=null,Hi=null,Zh=!1,Sd=!1,Qh=!1,es=0;function Rr(s){s!==Hi&&s.next===null&&(Hi===null?wd=Hi=s:Hi=Hi.next=s),Sd=!0,Zh||(Zh=!0,IO())}function fc(s,i){if(!Qh&&Sd){Qh=!0;do for(var o=!1,m=wd;m!==null;){if(s!==0){var b=m.pendingLanes;if(b===0)var N=0;else{var A=m.suspendedLanes,M=m.pingedLanes;N=(1<<31-Da(42|s)+1)-1,N&=b&~(A&~M),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(o=!0,P1(m,N))}else N=Re,N=ko(m,m===at?N:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(N&3)===0||Pl(m,N)||(o=!0,P1(m,N));m=m.next}while(o);Qh=!1}}function LO(){T1()}function T1(){Sd=Zh=!1;var s=0;es!==0&&YO()&&(s=es);for(var i=Ta(),o=null,m=wd;m!==null;){var b=m.next,N=M1(m,i);N===0?(m.next=null,o===null?wd=b:o.next=b,b===null&&(Hi=o)):(o=m,(s!==0||(N&3)!==0)&&(Sd=!0)),m=b}Dt!==0&&Dt!==5||fc(s),es!==0&&(es=0)}function M1(s,i){for(var o=s.suspendedLanes,m=s.pingedLanes,b=s.expirationTimes,N=s.pendingLanes&-62914561;0<N;){var A=31-Da(N),M=1<<A,B=b[A];B===-1?((M&o)===0||(M&m)!==0)&&(b[A]=dk(M,i)):B<=i&&(s.expiredLanes|=M),N&=~M}if(i=at,o=Re,o=ko(s,s===i?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m=s.callbackNode,o===0||s===i&&(Ye===2||Ye===9)||s.cancelPendingCommit!==null)return m!==null&&m!==null&&dx(m),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||Pl(s,o)){if(i=o&-o,i===s.callbackPriority)return i;switch(m!==null&&dx(m),xx(o)){case 2:case 8:o=Nv;break;case 32:o=So;break;case 268435456:o=wv;break;default:o=So}return m=D1.bind(null,s),o=ox(o,m),s.callbackPriority=i,s.callbackNode=o,i}return m!==null&&m!==null&&dx(m),s.callbackPriority=2,s.callbackNode=null,2}function D1(s,i){if(Dt!==0&&Dt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(Nd()&&s.callbackNode!==o)return null;var m=Re;return m=ko(s,s===at?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m===0?null:(h1(s,m,i),M1(s,Ta()),s.callbackNode!=null&&s.callbackNode===o?D1.bind(null,s):null)}function P1(s,i){if(Nd())return null;h1(s,i,!0)}function IO(){WO(function(){(He&6)!==0?ox(jv,LO):T1()})}function Jh(){if(es===0){var s=Oi;s===0&&(s=_o,_o<<=1,(_o&261888)===0&&(_o=256)),es=s}return es}function z1(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Mo(""+s)}function R1(s,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,s.id&&o.setAttribute("form",s.id),i.parentNode.insertBefore(o,i),s=new FormData(s),o.parentNode.removeChild(o),s}function BO(s,i,o,m,b){if(i==="submit"&&o&&o.stateNode===b){var N=z1((b[pa]||null).action),A=m.submitter;A&&(i=(i=A[pa]||null)?z1(i.formAction):A.getAttribute("formAction"),i!==null&&(N=i,A=null));var M=new Ro("action","action",null,m,b);s.push({event:M,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(es!==0){var B=A?R1(b,A):new FormData(b);vh(o,{pending:!0,data:B,method:b.method,action:N},null,B)}}else typeof N=="function"&&(M.preventDefault(),B=A?R1(b,A):new FormData(b),vh(o,{pending:!0,data:B,method:b.method,action:N},N,B))},currentTarget:b}]})}}for(var ef=0;ef<Rx.length;ef++){var tf=Rx[ef],$O=tf.toLowerCase(),UO=tf[0].toUpperCase()+tf.slice(1);jr($O,"on"+UO)}jr(xb,"onAnimationEnd"),jr(hb,"onAnimationIteration"),jr(fb,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(rO,"onTransitionRun"),jr(nO,"onTransitionStart"),jr(sO,"onTransitionCancel"),jr(pb,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),bs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bs("onBeforeInput",["compositionend","keypress","textInput","paste"]),bs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pc));function L1(s,i){i=(i&4)!==0;for(var o=0;o<s.length;o++){var m=s[o],b=m.event;m=m.listeners;e:{var N=void 0;if(i)for(var A=m.length-1;0<=A;A--){var M=m[A],B=M.instance,X=M.currentTarget;if(M=M.listener,B!==N&&b.isPropagationStopped())break e;N=M,b.currentTarget=X;try{N(b)}catch(ae){Bo(ae)}b.currentTarget=null,N=B}else for(A=0;A<m.length;A++){if(M=m[A],B=M.instance,X=M.currentTarget,M=M.listener,B!==N&&b.isPropagationStopped())break e;N=M,b.currentTarget=X;try{N(b)}catch(ae){Bo(ae)}b.currentTarget=null,N=B}}}}function Pe(s,i){var o=i[hx];o===void 0&&(o=i[hx]=new Set);var m=s+"__bubble";o.has(m)||(I1(i,s,2,!1),o.add(m))}function af(s,i,o){var m=0;i&&(m|=4),I1(o,s,m,i)}var _d="_reactListening"+Math.random().toString(36).slice(2);function rf(s){if(!s[_d]){s[_d]=!0,Tv.forEach(function(o){o!=="selectionchange"&&(FO.has(o)||af(o,!1,s),af(o,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[_d]||(i[_d]=!0,af("selectionchange",!1,i))}}function I1(s,i,o,m){switch(xN(i)){case 2:var b=pE;break;case 8:b=gE;break;default:b=vf}o=b.bind(null,i,o,s),b=void 0,!wx||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(b=!0),m?b!==void 0?s.addEventListener(i,o,{capture:!0,passive:b}):s.addEventListener(i,o,!0):b!==void 0?s.addEventListener(i,o,{passive:b}):s.addEventListener(i,o,!1)}function nf(s,i,o,m,b){var N=m;if((i&1)===0&&(i&2)===0&&m!==null)e:for(;;){if(m===null)return;var A=m.tag;if(A===3||A===4){var M=m.stateNode.containerInfo;if(M===b)break;if(A===4)for(A=m.return;A!==null;){var B=A.tag;if((B===3||B===4)&&A.stateNode.containerInfo===b)return;A=A.return}for(;M!==null;){if(A=mi(M),A===null)return;if(B=A.tag,B===5||B===6||B===26||B===27){m=N=A;continue e}M=M.parentNode}}m=m.return}qv(function(){var X=N,ae=jx(o),le=[];e:{var W=gb.get(s);if(W!==void 0){var J=Ro,pe=s;switch(s){case"keypress":if(Po(o)===0)break e;case"keydown":case"keyup":J=zk;break;case"focusin":pe="focus",J=Ax;break;case"focusout":pe="blur",J=Ax;break;case"beforeblur":case"afterblur":J=Ax;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Gv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=wk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Ik;break;case xb:case hb:case fb:J=Ck;break;case pb:J=$k;break;case"scroll":case"scrollend":J=jk;break;case"wheel":J=Fk;break;case"copy":case"cut":case"paste":J=kk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Yv;break;case"toggle":case"beforetoggle":J=Hk}var _e=(i&4)!==0,Je=!_e&&(s==="scroll"||s==="scrollend"),V=_e?W!==null?W+"Capture":null:W;_e=[];for(var U=X,Y;U!==null;){var ie=U;if(Y=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||Y===null||V===null||(ie=Il(U,V),ie!=null&&_e.push(gc(U,ie,Y))),Je)break;U=U.return}0<_e.length&&(W=new J(W,pe,null,o,ae),le.push({event:W,listeners:_e}))}}if((i&7)===0){e:{if(W=s==="mouseover"||s==="pointerover",J=s==="mouseout"||s==="pointerout",W&&o!==bx&&(pe=o.relatedTarget||o.fromElement)&&(mi(pe)||pe[ui]))break e;if((J||W)&&(W=ae.window===ae?ae:(W=ae.ownerDocument)?W.defaultView||W.parentWindow:window,J?(pe=o.relatedTarget||o.toElement,J=X,pe=pe?mi(pe):null,pe!==null&&(Je=c(pe),_e=pe.tag,pe!==Je||_e!==5&&_e!==27&&_e!==6)&&(pe=null)):(J=null,pe=X),J!==pe)){if(_e=Gv,ie="onMouseLeave",V="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(_e=Yv,ie="onPointerLeave",V="onPointerEnter",U="pointer"),Je=J==null?W:Ll(J),Y=pe==null?W:Ll(pe),W=new _e(ie,U+"leave",J,o,ae),W.target=Je,W.relatedTarget=Y,ie=null,mi(ae)===X&&(_e=new _e(V,U+"enter",pe,o,ae),_e.target=Y,_e.relatedTarget=Je,ie=_e),Je=ie,J&&pe)t:{for(_e=qO,V=J,U=pe,Y=0,ie=V;ie;ie=_e(ie))Y++;ie=0;for(var Se=U;Se;Se=_e(Se))ie++;for(;0<Y-ie;)V=_e(V),Y--;for(;0<ie-Y;)U=_e(U),ie--;for(;Y--;){if(V===U||U!==null&&V===U.alternate){_e=V;break t}V=_e(V),U=_e(U)}_e=null}else _e=null;J!==null&&B1(le,W,J,_e,!1),pe!==null&&Je!==null&&B1(le,Je,pe,_e,!0)}}e:{if(W=X?Ll(X):window,J=W.nodeName&&W.nodeName.toLowerCase(),J==="select"||J==="input"&&W.type==="file")var Ue=ab;else if(eb(W))if(rb)Ue=eO;else{Ue=Qk;var ve=Zk}else J=W.nodeName,!J||J.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?X&&vx(X.elementType)&&(Ue=ab):Ue=Jk;if(Ue&&(Ue=Ue(s,X))){tb(le,Ue,o,ae);break e}ve&&ve(s,W,X),s==="focusout"&&X&&W.type==="number"&&X.memoizedProps.value!=null&&yx(W,"number",W.value)}switch(ve=X?Ll(X):window,s){case"focusin":(eb(ve)||ve.contentEditable==="true")&&(ji=ve,Dx=X,Gl=null);break;case"focusout":Gl=Dx=ji=null;break;case"mousedown":Px=!0;break;case"contextmenu":case"mouseup":case"dragend":Px=!1,ub(le,o,ae);break;case"selectionchange":if(aO)break;case"keydown":case"keyup":ub(le,o,ae)}var Ee;if(Ox)e:{switch(s){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else bi?Qv(s,o)&&(Le="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(Le="onCompositionStart");Le&&(Xv&&o.locale!=="ko"&&(bi||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&bi&&(Ee=Hv()):(In=ae,Sx="value"in In?In.value:In.textContent,bi=!0)),ve=Cd(X,Le),0<ve.length&&(Le=new Kv(Le,s,null,o,ae),le.push({event:Le,listeners:ve}),Ee?Le.data=Ee:(Ee=Jv(o),Ee!==null&&(Le.data=Ee)))),(Ee=Gk?Kk(s,o):Yk(s,o))&&(Le=Cd(X,"onBeforeInput"),0<Le.length&&(ve=new Kv("onBeforeInput","beforeinput",null,o,ae),le.push({event:ve,listeners:Le}),ve.data=Ee)),BO(le,s,X,o,ae)}L1(le,i)})}function gc(s,i,o){return{instance:s,listener:i,currentTarget:o}}function Cd(s,i){for(var o=i+"Capture",m=[];s!==null;){var b=s,N=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||N===null||(b=Il(s,o),b!=null&&m.unshift(gc(s,b,N)),b=Il(s,i),b!=null&&m.push(gc(s,b,N))),s.tag===3)return m;s=s.return}return[]}function qO(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function B1(s,i,o,m,b){for(var N=i._reactName,A=[];o!==null&&o!==m;){var M=o,B=M.alternate,X=M.stateNode;if(M=M.tag,B!==null&&B===m)break;M!==5&&M!==26&&M!==27||X===null||(B=X,b?(X=Il(o,N),X!=null&&A.unshift(gc(o,X,B))):b||(X=Il(o,N),X!=null&&A.push(gc(o,X,B)))),o=o.return}A.length!==0&&s.push({event:i,listeners:A})}var HO=/\r\n?/g,VO=/\u0000|\uFFFD/g;function $1(s){return(typeof s=="string"?s:""+s).replace(HO,`
`).replace(VO,"")}function U1(s,i){return i=$1(i),$1(s)===i}function Qe(s,i,o,m,b,N){switch(o){case"children":typeof m=="string"?i==="body"||i==="textarea"&&m===""||gi(s,m):(typeof m=="number"||typeof m=="bigint")&&i!=="body"&&gi(s,""+m);break;case"className":Eo(s,"class",m);break;case"tabIndex":Eo(s,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Eo(s,o,m);break;case"style":Uv(s,m,N);break;case"data":if(i!=="object"){Eo(s,"data",m);break}case"src":case"href":if(m===""&&(i!=="a"||o!=="href")){s.removeAttribute(o);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(o);break}m=Mo(""+m),s.setAttribute(o,m);break;case"action":case"formAction":if(typeof m=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(o==="formAction"?(i!=="input"&&Qe(s,i,"name",b.name,b,null),Qe(s,i,"formEncType",b.formEncType,b,null),Qe(s,i,"formMethod",b.formMethod,b,null),Qe(s,i,"formTarget",b.formTarget,b,null)):(Qe(s,i,"encType",b.encType,b,null),Qe(s,i,"method",b.method,b,null),Qe(s,i,"target",b.target,b,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(o);break}m=Mo(""+m),s.setAttribute(o,m);break;case"onClick":m!=null&&(s.onclick=Zr);break;case"onScroll":m!=null&&Pe("scroll",s);break;case"onScrollEnd":m!=null&&Pe("scrollend",s);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(o=m.__html,o!=null){if(b.children!=null)throw Error(n(60));s.innerHTML=o}}break;case"multiple":s.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":s.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){s.removeAttribute("xlink:href");break}o=Mo(""+m),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(o,""+m):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":m===!0?s.setAttribute(o,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(o,m):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?s.setAttribute(o,m):s.removeAttribute(o);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?s.removeAttribute(o):s.setAttribute(o,m);break;case"popover":Pe("beforetoggle",s),Pe("toggle",s),Oo(s,"popover",m);break;case"xlinkActuate":Wr(s,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Wr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Wr(s,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Wr(s,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Wr(s,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Wr(s,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Wr(s,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Wr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Wr(s,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Oo(s,"is",m);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=vk.get(o)||o,Oo(s,o,m))}}function sf(s,i,o,m,b,N){switch(o){case"style":Uv(s,m,N);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(o=m.__html,o!=null){if(b.children!=null)throw Error(n(60));s.innerHTML=o}}break;case"children":typeof m=="string"?gi(s,m):(typeof m=="number"||typeof m=="bigint")&&gi(s,""+m);break;case"onScroll":m!=null&&Pe("scroll",s);break;case"onScrollEnd":m!=null&&Pe("scrollend",s);break;case"onClick":m!=null&&(s.onclick=Zr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mv.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(b=o.endsWith("Capture"),i=o.slice(2,b?o.length-7:void 0),N=s[pa]||null,N=N!=null?N[o]:null,typeof N=="function"&&s.removeEventListener(i,N,b),typeof m=="function")){typeof N!="function"&&N!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(i,m,b);break e}o in s?s[o]=m:m===!0?s.setAttribute(o,""):Oo(s,o,m)}}}function ea(s,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",s),Pe("load",s);var m=!1,b=!1,N;for(N in o)if(o.hasOwnProperty(N)){var A=o[N];if(A!=null)switch(N){case"src":m=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:Qe(s,i,N,A,o,null)}}b&&Qe(s,i,"srcSet",o.srcSet,o,null),m&&Qe(s,i,"src",o.src,o,null);return;case"input":Pe("invalid",s);var M=N=A=b=null,B=null,X=null;for(m in o)if(o.hasOwnProperty(m)){var ae=o[m];if(ae!=null)switch(m){case"name":b=ae;break;case"type":A=ae;break;case"checked":B=ae;break;case"defaultChecked":X=ae;break;case"value":N=ae;break;case"defaultValue":M=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(n(137,i));break;default:Qe(s,i,m,ae,o,null)}}Lv(s,N,M,B,X,A,b,!1);return;case"select":Pe("invalid",s),m=A=N=null;for(b in o)if(o.hasOwnProperty(b)&&(M=o[b],M!=null))switch(b){case"value":N=M;break;case"defaultValue":A=M;break;case"multiple":m=M;default:Qe(s,i,b,M,o,null)}i=N,o=A,s.multiple=!!m,i!=null?pi(s,!!m,i,!1):o!=null&&pi(s,!!m,o,!0);return;case"textarea":Pe("invalid",s),N=b=m=null;for(A in o)if(o.hasOwnProperty(A)&&(M=o[A],M!=null))switch(A){case"value":m=M;break;case"defaultValue":b=M;break;case"children":N=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(n(91));break;default:Qe(s,i,A,M,o,null)}Bv(s,m,b,N);return;case"option":for(B in o)if(o.hasOwnProperty(B)&&(m=o[B],m!=null))switch(B){case"selected":s.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Qe(s,i,B,m,o,null)}return;case"dialog":Pe("beforetoggle",s),Pe("toggle",s),Pe("cancel",s),Pe("close",s);break;case"iframe":case"object":Pe("load",s);break;case"video":case"audio":for(m=0;m<pc.length;m++)Pe(pc[m],s);break;case"image":Pe("error",s),Pe("load",s);break;case"details":Pe("toggle",s);break;case"embed":case"source":case"link":Pe("error",s),Pe("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in o)if(o.hasOwnProperty(X)&&(m=o[X],m!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:Qe(s,i,X,m,o,null)}return;default:if(vx(i)){for(ae in o)o.hasOwnProperty(ae)&&(m=o[ae],m!==void 0&&sf(s,i,ae,m,o,void 0));return}}for(M in o)o.hasOwnProperty(M)&&(m=o[M],m!=null&&Qe(s,i,M,m,o,null))}function GO(s,i,o,m){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,N=null,A=null,M=null,B=null,X=null,ae=null;for(J in o){var le=o[J];if(o.hasOwnProperty(J)&&le!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":B=le;default:m.hasOwnProperty(J)||Qe(s,i,J,null,m,le)}}for(var W in m){var J=m[W];if(le=o[W],m.hasOwnProperty(W)&&(J!=null||le!=null))switch(W){case"type":N=J;break;case"name":b=J;break;case"checked":X=J;break;case"defaultChecked":ae=J;break;case"value":A=J;break;case"defaultValue":M=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(n(137,i));break;default:J!==le&&Qe(s,i,W,J,m,le)}}gx(s,A,M,B,X,ae,N,b);return;case"select":J=A=M=W=null;for(N in o)if(B=o[N],o.hasOwnProperty(N)&&B!=null)switch(N){case"value":break;case"multiple":J=B;default:m.hasOwnProperty(N)||Qe(s,i,N,null,m,B)}for(b in m)if(N=m[b],B=o[b],m.hasOwnProperty(b)&&(N!=null||B!=null))switch(b){case"value":W=N;break;case"defaultValue":M=N;break;case"multiple":A=N;default:N!==B&&Qe(s,i,b,N,m,B)}i=M,o=A,m=J,W!=null?pi(s,!!o,W,!1):!!m!=!!o&&(i!=null?pi(s,!!o,i,!0):pi(s,!!o,o?[]:"",!1));return;case"textarea":J=W=null;for(M in o)if(b=o[M],o.hasOwnProperty(M)&&b!=null&&!m.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Qe(s,i,M,null,m,b)}for(A in m)if(b=m[A],N=o[A],m.hasOwnProperty(A)&&(b!=null||N!=null))switch(A){case"value":W=b;break;case"defaultValue":J=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(n(91));break;default:b!==N&&Qe(s,i,A,b,m,N)}Iv(s,W,J);return;case"option":for(var pe in o)if(W=o[pe],o.hasOwnProperty(pe)&&W!=null&&!m.hasOwnProperty(pe))switch(pe){case"selected":s.selected=!1;break;default:Qe(s,i,pe,null,m,W)}for(B in m)if(W=m[B],J=o[B],m.hasOwnProperty(B)&&W!==J&&(W!=null||J!=null))switch(B){case"selected":s.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:Qe(s,i,B,W,m,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in o)W=o[_e],o.hasOwnProperty(_e)&&W!=null&&!m.hasOwnProperty(_e)&&Qe(s,i,_e,null,m,W);for(X in m)if(W=m[X],J=o[X],m.hasOwnProperty(X)&&W!==J&&(W!=null||J!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(n(137,i));break;default:Qe(s,i,X,W,m,J)}return;default:if(vx(i)){for(var Je in o)W=o[Je],o.hasOwnProperty(Je)&&W!==void 0&&!m.hasOwnProperty(Je)&&sf(s,i,Je,void 0,m,W);for(ae in m)W=m[ae],J=o[ae],!m.hasOwnProperty(ae)||W===J||W===void 0&&J===void 0||sf(s,i,ae,W,m,J);return}}for(var V in o)W=o[V],o.hasOwnProperty(V)&&W!=null&&!m.hasOwnProperty(V)&&Qe(s,i,V,null,m,W);for(le in m)W=m[le],J=o[le],!m.hasOwnProperty(le)||W===J||W==null&&J==null||Qe(s,i,le,W,m,J)}function F1(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function KO(){if(typeof performance.getEntriesByType=="function"){for(var s=0,i=0,o=performance.getEntriesByType("resource"),m=0;m<o.length;m++){var b=o[m],N=b.transferSize,A=b.initiatorType,M=b.duration;if(N&&M&&F1(A)){for(A=0,M=b.responseEnd,m+=1;m<o.length;m++){var B=o[m],X=B.startTime;if(X>M)break;var ae=B.transferSize,le=B.initiatorType;ae&&F1(le)&&(B=B.responseEnd,A+=ae*(B<M?1:(M-X)/(B-X)))}if(--m,i+=8*(N+A)/(b.duration/1e3),s++,10<s)break}}if(0<s)return i/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var lf=null,cf=null;function Ad(s){return s.nodeType===9?s:s.ownerDocument}function q1(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function H1(s,i){if(s===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&i==="foreignObject"?0:s}function of(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var df=null;function YO(){var s=window.event;return s&&s.type==="popstate"?s===df?!1:(df=s,!0):(df=null,!1)}var V1=typeof setTimeout=="function"?setTimeout:void 0,XO=typeof clearTimeout=="function"?clearTimeout:void 0,G1=typeof Promise=="function"?Promise:void 0,WO=typeof queueMicrotask=="function"?queueMicrotask:typeof G1<"u"?function(s){return G1.resolve(null).then(s).catch(ZO)}:V1;function ZO(s){setTimeout(function(){throw s})}function ts(s){return s==="head"}function K1(s,i){var o=i,m=0;do{var b=o.nextSibling;if(s.removeChild(o),b&&b.nodeType===8)if(o=b.data,o==="/$"||o==="/&"){if(m===0){s.removeChild(b),Yi(i);return}m--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")m++;else if(o==="html")yc(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,yc(o);for(var N=o.firstChild;N;){var A=N.nextSibling,M=N.nodeName;N[Rl]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&N.rel.toLowerCase()==="stylesheet"||o.removeChild(N),N=A}}else o==="body"&&yc(s.ownerDocument.body);o=b}while(o);Yi(i)}function Y1(s,i){var o=s;s=0;do{var m=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=m}while(o)}function uf(s){var i=s.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":uf(o),fx(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function QO(s,i,o,m){for(;s.nodeType===1;){var b=o;if(s.nodeName.toLowerCase()!==i.toLowerCase()){if(!m&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(m){if(!s[Rl])switch(i){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(N=s.getAttribute("rel"),N==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(N!==b.rel||s.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||s.getAttribute("title")!==(b.title==null?null:b.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(N=s.getAttribute("src"),(N!==(b.src==null?null:b.src)||s.getAttribute("type")!==(b.type==null?null:b.type)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&N&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(i==="input"&&s.type==="hidden"){var N=b.name==null?null:""+b.name;if(b.type==="hidden"&&s.getAttribute("name")===N)return s}else return s;if(s=sr(s.nextSibling),s===null)break}return null}function JO(s,i,o){if(i==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=sr(s.nextSibling),s===null))return null;return s}function X1(s,i){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!i||(s=sr(s.nextSibling),s===null))return null;return s}function mf(s){return s.data==="$?"||s.data==="$~"}function xf(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function eE(s,i){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=i;else if(s.data!=="$?"||o.readyState!=="loading")i();else{var m=function(){i(),o.removeEventListener("DOMContentLoaded",m)};o.addEventListener("DOMContentLoaded",m),s._reactRetry=m}}function sr(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return s}var hf=null;function W1(s){s=s.nextSibling;for(var i=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(i===0)return sr(s.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}s=s.nextSibling}return null}function Z1(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return s;i--}else o!=="/$"&&o!=="/&"||i++}s=s.previousSibling}return null}function Q1(s,i,o){switch(i=Ad(o),s){case"html":if(s=i.documentElement,!s)throw Error(n(452));return s;case"head":if(s=i.head,!s)throw Error(n(453));return s;case"body":if(s=i.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function yc(s){for(var i=s.attributes;i.length;)s.removeAttributeNode(i[0]);fx(s)}var ir=new Map,J1=new Set;function kd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var hn=z.d;z.d={f:tE,r:aE,D:rE,C:nE,L:sE,m:iE,X:cE,S:lE,M:oE};function tE(){var s=hn.f(),i=vd();return s||i}function aE(s){var i=xi(s);i!==null&&i.tag===5&&i.type==="form"?pj(i):hn.r(s)}var Vi=typeof document>"u"?null:document;function eN(s,i,o){var m=Vi;if(m&&typeof i=="string"&&i){var b=Qa(i);b='link[rel="'+s+'"][href="'+b+'"]',typeof o=="string"&&(b+='[crossorigin="'+o+'"]'),J1.has(b)||(J1.add(b),s={rel:s,crossOrigin:o,href:i},m.querySelector(b)===null&&(i=m.createElement("link"),ea(i,"link",s),$t(i),m.head.appendChild(i)))}}function rE(s){hn.D(s),eN("dns-prefetch",s,null)}function nE(s,i){hn.C(s,i),eN("preconnect",s,i)}function sE(s,i,o){hn.L(s,i,o);var m=Vi;if(m&&s&&i){var b='link[rel="preload"][as="'+Qa(i)+'"]';i==="image"&&o&&o.imageSrcSet?(b+='[imagesrcset="'+Qa(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(b+='[imagesizes="'+Qa(o.imageSizes)+'"]')):b+='[href="'+Qa(s)+'"]';var N=b;switch(i){case"style":N=Gi(s);break;case"script":N=Ki(s)}ir.has(N)||(s=p({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:s,as:i},o),ir.set(N,s),m.querySelector(b)!==null||i==="style"&&m.querySelector(vc(N))||i==="script"&&m.querySelector(bc(N))||(i=m.createElement("link"),ea(i,"link",s),$t(i),m.head.appendChild(i)))}}function iE(s,i){hn.m(s,i);var o=Vi;if(o&&s){var m=i&&typeof i.as=="string"?i.as:"script",b='link[rel="modulepreload"][as="'+Qa(m)+'"][href="'+Qa(s)+'"]',N=b;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Ki(s)}if(!ir.has(N)&&(s=p({rel:"modulepreload",href:s},i),ir.set(N,s),o.querySelector(b)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(bc(N)))return}m=o.createElement("link"),ea(m,"link",s),$t(m),o.head.appendChild(m)}}}function lE(s,i,o){hn.S(s,i,o);var m=Vi;if(m&&s){var b=hi(m).hoistableStyles,N=Gi(s);i=i||"default";var A=b.get(N);if(!A){var M={loading:0,preload:null};if(A=m.querySelector(vc(N)))M.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":i},o),(o=ir.get(N))&&ff(s,o);var B=A=m.createElement("link");$t(B),ea(B,"link",s),B._p=new Promise(function(X,ae){B.onload=X,B.onerror=ae}),B.addEventListener("load",function(){M.loading|=1}),B.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Od(A,i,m)}A={type:"stylesheet",instance:A,count:1,state:M},b.set(N,A)}}}function cE(s,i){hn.X(s,i);var o=Vi;if(o&&s){var m=hi(o).hoistableScripts,b=Ki(s),N=m.get(b);N||(N=o.querySelector(bc(b)),N||(s=p({src:s,async:!0},i),(i=ir.get(b))&&pf(s,i),N=o.createElement("script"),$t(N),ea(N,"link",s),o.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},m.set(b,N))}}function oE(s,i){hn.M(s,i);var o=Vi;if(o&&s){var m=hi(o).hoistableScripts,b=Ki(s),N=m.get(b);N||(N=o.querySelector(bc(b)),N||(s=p({src:s,async:!0,type:"module"},i),(i=ir.get(b))&&pf(s,i),N=o.createElement("script"),$t(N),ea(N,"link",s),o.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},m.set(b,N))}}function tN(s,i,o,m){var b=(b=me.current)?kd(b):null;if(!b)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Gi(o.href),o=hi(b).hoistableStyles,m=o.get(i),m||(m={type:"style",instance:null,count:0,state:null},o.set(i,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=Gi(o.href);var N=hi(b).hoistableStyles,A=N.get(s);if(A||(b=b.ownerDocument||b,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(s,A),(N=b.querySelector(vc(s)))&&!N._p&&(A.instance=N,A.state.loading=5),ir.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ir.set(s,o),N||dE(b,s,o,A.state))),i&&m===null)throw Error(n(528,""));return A}if(i&&m!==null)throw Error(n(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ki(o),o=hi(b).hoistableScripts,m=o.get(i),m||(m={type:"script",instance:null,count:0,state:null},o.set(i,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function Gi(s){return'href="'+Qa(s)+'"'}function vc(s){return'link[rel="stylesheet"]['+s+"]"}function aN(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function dE(s,i,o,m){s.querySelector('link[rel="preload"][as="style"]['+i+"]")?m.loading=1:(i=s.createElement("link"),m.preload=i,i.addEventListener("load",function(){return m.loading|=1}),i.addEventListener("error",function(){return m.loading|=2}),ea(i,"link",o),$t(i),s.head.appendChild(i))}function Ki(s){return'[src="'+Qa(s)+'"]'}function bc(s){return"script[async]"+s}function rN(s,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var m=s.querySelector('style[data-href~="'+Qa(o.href)+'"]');if(m)return i.instance=m,$t(m),m;var b=p({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return m=(s.ownerDocument||s).createElement("style"),$t(m),ea(m,"style",b),Od(m,o.precedence,s),i.instance=m;case"stylesheet":b=Gi(o.href);var N=s.querySelector(vc(b));if(N)return i.state.loading|=4,i.instance=N,$t(N),N;m=aN(o),(b=ir.get(b))&&ff(m,b),N=(s.ownerDocument||s).createElement("link"),$t(N);var A=N;return A._p=new Promise(function(M,B){A.onload=M,A.onerror=B}),ea(N,"link",m),i.state.loading|=4,Od(N,o.precedence,s),i.instance=N;case"script":return N=Ki(o.src),(b=s.querySelector(bc(N)))?(i.instance=b,$t(b),b):(m=o,(b=ir.get(N))&&(m=p({},o),pf(m,b)),s=s.ownerDocument||s,b=s.createElement("script"),$t(b),ea(b,"link",m),s.head.appendChild(b),i.instance=b);case"void":return null;default:throw Error(n(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(m=i.instance,i.state.loading|=4,Od(m,o.precedence,s));return i.instance}function Od(s,i,o){for(var m=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=m.length?m[m.length-1]:null,N=b,A=0;A<m.length;A++){var M=m[A];if(M.dataset.precedence===i)N=M;else if(N!==b)break}N?N.parentNode.insertBefore(s,N.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(s,i.firstChild))}function ff(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.title==null&&(s.title=i.title)}function pf(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.integrity==null&&(s.integrity=i.integrity)}var Ed=null;function nN(s,i,o){if(Ed===null){var m=new Map,b=Ed=new Map;b.set(o,m)}else b=Ed,m=b.get(o),m||(m=new Map,b.set(o,m));if(m.has(s))return m;for(m.set(s,null),o=o.getElementsByTagName(s),b=0;b<o.length;b++){var N=o[b];if(!(N[Rl]||N[Wt]||s==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var A=N.getAttribute(i)||"";A=s+A;var M=m.get(A);M?M.push(N):m.set(A,[N])}}return m}function sN(s,i,o){s=s.ownerDocument||s,s.head.insertBefore(o,i==="title"?s.querySelector("head > title"):null)}function uE(s,i,o){if(o===1||i.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return s=i.disabled,typeof i.precedence=="string"&&s==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function iN(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function mE(s,i,o,m){if(o.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var b=Gi(m.href),N=i.querySelector(vc(b));if(N){i=N._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(s.count++,s=Td.bind(s),i.then(s,s)),o.state.loading|=4,o.instance=N,$t(N);return}N=i.ownerDocument||i,m=aN(m),(b=ir.get(b))&&ff(m,b),N=N.createElement("link"),$t(N);var A=N;A._p=new Promise(function(M,B){A.onload=M,A.onerror=B}),ea(N,"link",m),o.instance=N}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=Td.bind(s),i.addEventListener("load",o),i.addEventListener("error",o))}}var gf=0;function xE(s,i){return s.stylesheets&&s.count===0&&Dd(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var m=setTimeout(function(){if(s.stylesheets&&Dd(s,s.stylesheets),s.unsuspend){var N=s.unsuspend;s.unsuspend=null,N()}},6e4+i);0<s.imgBytes&&gf===0&&(gf=62500*KO());var b=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Dd(s,s.stylesheets),s.unsuspend)){var N=s.unsuspend;s.unsuspend=null,N()}},(s.imgBytes>gf?50:800)+i);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(m),clearTimeout(b)}}:null}function Td(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Md=null;function Dd(s,i){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Md=new Map,i.forEach(hE,s),Md=null,Td.call(s))}function hE(s,i){if(!(i.state.loading&4)){var o=Md.get(s);if(o)var m=o.get(null);else{o=new Map,Md.set(s,o);for(var b=s.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<b.length;N++){var A=b[N];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(o.set(A.dataset.precedence,A),m=A)}m&&o.set(null,m)}b=i.instance,A=b.getAttribute("data-precedence"),N=o.get(A)||m,N===m&&o.set(null,b),o.set(A,b),this.count++,m=Td.bind(this),b.addEventListener("load",m),b.addEventListener("error",m),N?N.parentNode.insertBefore(b,N.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(b,s.firstChild)),i.state.loading|=4}}var jc={$$typeof:C,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function fE(s,i,o,m,b,N,A,M,B){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ux(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ux(0),this.hiddenUpdates=ux(null),this.identifierPrefix=m,this.onUncaughtError=b,this.onCaughtError=N,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function lN(s,i,o,m,b,N,A,M,B,X,ae,le){return s=new fE(s,i,o,A,B,X,ae,le,M),i=1,N===!0&&(i|=24),N=za(3,null,null,i),s.current=N,N.stateNode=s,i=Xx(),i.refCount++,s.pooledCache=i,i.refCount++,N.memoizedState={element:m,isDehydrated:o,cache:i},Jx(N),s}function cN(s){return s?(s=Si,s):Si}function oN(s,i,o,m,b,N){b=cN(b),m.context===null?m.context=b:m.pendingContext=b,m=Hn(i),m.payload={element:o},N=N===void 0?null:N,N!==null&&(m.callback=N),o=Vn(s,m,i),o!==null&&(Na(o,s,i),Jl(o,s,i))}function dN(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<i?o:i}}function yf(s,i){dN(s,i),(s=s.alternate)&&dN(s,i)}function uN(s){if(s.tag===13||s.tag===31){var i=Ss(s,67108864);i!==null&&Na(i,s,67108864),yf(s,67108864)}}function mN(s){if(s.tag===13||s.tag===31){var i=$a();i=mx(i);var o=Ss(s,i);o!==null&&Na(o,s,i),yf(s,i)}}var Pd=!0;function pE(s,i,o,m){var b=H.T;H.T=null;var N=z.p;try{z.p=2,vf(s,i,o,m)}finally{z.p=N,H.T=b}}function gE(s,i,o,m){var b=H.T;H.T=null;var N=z.p;try{z.p=8,vf(s,i,o,m)}finally{z.p=N,H.T=b}}function vf(s,i,o,m){if(Pd){var b=bf(m);if(b===null)nf(s,i,m,zd,o),hN(s,m);else if(vE(b,s,i,o,m))m.stopPropagation();else if(hN(s,m),i&4&&-1<yE.indexOf(s)){for(;b!==null;){var N=xi(b);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var A=vs(N.pendingLanes);if(A!==0){var M=N;for(M.pendingLanes|=2,M.entangledLanes|=2;A;){var B=1<<31-Da(A);M.entanglements[1]|=B,A&=~B}Rr(N),(He&6)===0&&(gd=Ta()+500,fc(0))}}break;case 31:case 13:M=Ss(N,2),M!==null&&Na(M,N,2),vd(),yf(N,2)}if(N=bf(m),N===null&&nf(s,i,m,zd,o),N===b)break;b=N}b!==null&&m.stopPropagation()}else nf(s,i,m,null,o)}}function bf(s){return s=jx(s),jf(s)}var zd=null;function jf(s){if(zd=null,s=mi(s),s!==null){var i=c(s);if(i===null)s=null;else{var o=i.tag;if(o===13){if(s=d(i),s!==null)return s;s=null}else if(o===31){if(s=u(i),s!==null)return s;s=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null)}}return zd=s,null}function xN(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rk()){case jv:return 2;case Nv:return 8;case So:case nk:return 32;case wv:return 268435456;default:return 32}default:return 32}}var Nf=!1,as=null,rs=null,ns=null,Nc=new Map,wc=new Map,ss=[],yE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hN(s,i){switch(s){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":Nc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":wc.delete(i.pointerId)}}function Sc(s,i,o,m,b,N){return s===null||s.nativeEvent!==N?(s={blockedOn:i,domEventName:o,eventSystemFlags:m,nativeEvent:N,targetContainers:[b]},i!==null&&(i=xi(i),i!==null&&uN(i)),s):(s.eventSystemFlags|=m,i=s.targetContainers,b!==null&&i.indexOf(b)===-1&&i.push(b),s)}function vE(s,i,o,m,b){switch(i){case"focusin":return as=Sc(as,s,i,o,m,b),!0;case"dragenter":return rs=Sc(rs,s,i,o,m,b),!0;case"mouseover":return ns=Sc(ns,s,i,o,m,b),!0;case"pointerover":var N=b.pointerId;return Nc.set(N,Sc(Nc.get(N)||null,s,i,o,m,b)),!0;case"gotpointercapture":return N=b.pointerId,wc.set(N,Sc(wc.get(N)||null,s,i,o,m,b)),!0}return!1}function fN(s){var i=mi(s.target);if(i!==null){var o=c(i);if(o!==null){if(i=o.tag,i===13){if(i=d(o),i!==null){s.blockedOn=i,Ov(s.priority,function(){mN(o)});return}}else if(i===31){if(i=u(o),i!==null){s.blockedOn=i,Ov(s.priority,function(){mN(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Rd(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var o=bf(s.nativeEvent);if(o===null){o=s.nativeEvent;var m=new o.constructor(o.type,o);bx=m,o.target.dispatchEvent(m),bx=null}else return i=xi(o),i!==null&&uN(i),s.blockedOn=o,!1;i.shift()}return!0}function pN(s,i,o){Rd(s)&&o.delete(i)}function bE(){Nf=!1,as!==null&&Rd(as)&&(as=null),rs!==null&&Rd(rs)&&(rs=null),ns!==null&&Rd(ns)&&(ns=null),Nc.forEach(pN),wc.forEach(pN)}function Ld(s,i){s.blockedOn===i&&(s.blockedOn=null,Nf||(Nf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,bE)))}var Id=null;function gN(s){Id!==s&&(Id=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Id===s&&(Id=null);for(var i=0;i<s.length;i+=3){var o=s[i],m=s[i+1],b=s[i+2];if(typeof m!="function"){if(jf(m||o)===null)continue;break}var N=xi(o);N!==null&&(s.splice(i,3),i-=3,vh(N,{pending:!0,data:b,method:o.method,action:m},m,b))}}))}function Yi(s){function i(B){return Ld(B,s)}as!==null&&Ld(as,s),rs!==null&&Ld(rs,s),ns!==null&&Ld(ns,s),Nc.forEach(i),wc.forEach(i);for(var o=0;o<ss.length;o++){var m=ss[o];m.blockedOn===s&&(m.blockedOn=null)}for(;0<ss.length&&(o=ss[0],o.blockedOn===null);)fN(o),o.blockedOn===null&&ss.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(m=0;m<o.length;m+=3){var b=o[m],N=o[m+1],A=b[pa]||null;if(typeof N=="function")A||gN(o);else if(A){var M=null;if(N&&N.hasAttribute("formAction")){if(b=N,A=N[pa]||null)M=A.formAction;else if(jf(b)!==null)continue}else M=A.action;typeof M=="function"?o[m+1]=M:(o.splice(m,3),m-=3),gN(o)}}}function yN(){function s(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(A){return b=A})},focusReset:"manual",scroll:"manual"})}function i(){b!==null&&(b(),b=null),m||setTimeout(o,20)}function o(){if(!m&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,b=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){m=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),b!==null&&(b(),b=null)}}}function wf(s){this._internalRoot=s}Bd.prototype.render=wf.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(n(409));var o=i.current,m=$a();oN(o,m,s,i,null,null)},Bd.prototype.unmount=wf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;oN(s.current,2,null,s,null,null),vd(),i[ui]=null}};function Bd(s){this._internalRoot=s}Bd.prototype.unstable_scheduleHydration=function(s){if(s){var i=kv();s={blockedOn:null,target:s,priority:i};for(var o=0;o<ss.length&&i!==0&&i<ss[o].priority;o++);ss.splice(o,0,s),o===0&&fN(s)}};var vN=a.version;if(vN!=="19.2.0")throw Error(n(527,vN,"19.2.0"));z.findDOMNode=function(s){var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=f(i),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var jE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$d.isDisabled&&$d.supportsFiber)try{Dl=$d.inject(jE),Ma=$d}catch{}}return Cc.createRoot=function(s,i){if(!l(s))throw Error(n(299));var o=!1,m="",b=Cj,N=Aj,A=kj;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(m=i.identifierPrefix),i.onUncaughtError!==void 0&&(b=i.onUncaughtError),i.onCaughtError!==void 0&&(N=i.onCaughtError),i.onRecoverableError!==void 0&&(A=i.onRecoverableError)),i=lN(s,1,!1,null,null,o,m,null,b,N,A,yN),s[ui]=i.current,rf(s),new wf(i)},Cc.hydrateRoot=function(s,i,o){if(!l(s))throw Error(n(299));var m=!1,b="",N=Cj,A=Aj,M=kj,B=null;return o!=null&&(o.unstable_strictMode===!0&&(m=!0),o.identifierPrefix!==void 0&&(b=o.identifierPrefix),o.onUncaughtError!==void 0&&(N=o.onUncaughtError),o.onCaughtError!==void 0&&(A=o.onCaughtError),o.onRecoverableError!==void 0&&(M=o.onRecoverableError),o.formState!==void 0&&(B=o.formState)),i=lN(s,1,!0,i,o??null,m,b,B,N,A,M,yN),i.context=cN(null),o=i.current,m=$a(),m=mx(m),b=Hn(m),b.callback=null,Vn(o,b,m),o=m,i.current.lanes=o,zl(i,o),Rr(i),s[ui]=i.current,rf(s),new Bd(i)},Cc.version="19.2.0",Cc}var ON;function ME(){if(ON)return Cf.exports;ON=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),Cf.exports=TE(),Cf.exports}var DE=ME();var EN="popstate";function PE(t={}){function a(n,l){let{pathname:c,search:d,hash:u}=n.location;return xp("",{pathname:c,search:d,hash:u},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(n,l){return typeof l=="string"?l:Fc(l)}return RE(a,r,null,t)}function ht(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function xr(t,a){if(!t){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function zE(){return Math.random().toString(36).substring(2,10)}function TN(t,a){return{usr:t.state,key:t.key,idx:a}}function xp(t,a,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof a=="string"?pl(a):a,state:r,key:a&&a.key||n||zE()}}function Fc({pathname:t="/",search:a="",hash:r=""}){return a&&a!=="?"&&(t+=a.charAt(0)==="?"?a:"?"+a),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function pl(t){let a={};if(t){let r=t.indexOf("#");r>=0&&(a.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(a.search=t.substring(n),t=t.substring(0,n)),t&&(a.pathname=t)}return a}function RE(t,a,r,n={}){let{window:l=document.defaultView,v5Compat:c=!1}=n,d=l.history,u="POP",x=null,f=h();f==null&&(f=0,d.replaceState({...d.state,idx:f},""));function h(){return(d.state||{idx:null}).idx}function p(){u="POP";let g=h(),_=g==null?null:g-f;f=g,x&&x({action:u,location:S.location,delta:_})}function y(g,_){u="PUSH";let O=xp(S.location,g,_);f=h()+1;let C=TN(O,f),k=S.createHref(O);try{d.pushState(C,"",k)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;l.location.assign(k)}c&&x&&x({action:u,location:S.location,delta:1})}function j(g,_){u="REPLACE";let O=xp(S.location,g,_);f=h();let C=TN(O,f),k=S.createHref(O);d.replaceState(C,"",k),c&&x&&x({action:u,location:S.location,delta:0})}function w(g){return LE(g)}let S={get action(){return u},get location(){return t(l,d)},listen(g){if(x)throw new Error("A history only accepts one active listener");return l.addEventListener(EN,p),x=g,()=>{l.removeEventListener(EN,p),x=null}},createHref(g){return a(l,g)},createURL:w,encodeLocation(g){let _=w(g);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:y,replace:j,go(g){return d.go(g)}};return S}function LE(t,a=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ht(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Fc(t);return n=n.replace(/ $/,"%20"),!a&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function uS(t,a,r="/"){return IE(t,a,r,!1)}function IE(t,a,r,n){let l=typeof a=="string"?pl(a):a,c=Nn(l.pathname||"/",r);if(c==null)return null;let d=mS(t);BE(d);let u=null;for(let x=0;u==null&&x<d.length;++x){let f=WE(c);u=YE(d[x],f,n)}return u}function mS(t,a=[],r=[],n="",l=!1){let c=(d,u,x=l,f)=>{let h={relativePath:f===void 0?d.path||"":f,caseSensitive:d.caseSensitive===!0,childrenIndex:u,route:d};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&x)return;ht(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let p=vn([n,h.relativePath]),y=r.concat(h);d.children&&d.children.length>0&&(ht(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),mS(d.children,a,y,p,x)),!(d.path==null&&!d.index)&&a.push({path:p,score:GE(p,d.index),routesMeta:y})};return t.forEach((d,u)=>{if(d.path===""||!d.path?.includes("?"))c(d,u);else for(let x of xS(d.path))c(d,u,!0,x)}),a}function xS(t){let a=t.split("/");if(a.length===0)return[];let[r,...n]=a,l=r.endsWith("?"),c=r.replace(/\?$/,"");if(n.length===0)return l?[c,""]:[c];let d=xS(n.join("/")),u=[];return u.push(...d.map(x=>x===""?c:[c,x].join("/"))),l&&u.push(...d),u.map(x=>t.startsWith("/")&&x===""?"/":x)}function BE(t){t.sort((a,r)=>a.score!==r.score?r.score-a.score:KE(a.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var $E=/^:[\w-]+$/,UE=3,FE=2,qE=1,HE=10,VE=-2,MN=t=>t==="*";function GE(t,a){let r=t.split("/"),n=r.length;return r.some(MN)&&(n+=VE),a&&(n+=FE),r.filter(l=>!MN(l)).reduce((l,c)=>l+($E.test(c)?UE:c===""?qE:HE),n)}function KE(t,a){return t.length===a.length&&t.slice(0,-1).every((n,l)=>n===a[l])?t[t.length-1]-a[a.length-1]:0}function YE(t,a,r=!1){let{routesMeta:n}=t,l={},c="/",d=[];for(let u=0;u<n.length;++u){let x=n[u],f=u===n.length-1,h=c==="/"?a:a.slice(c.length)||"/",p=yu({path:x.relativePath,caseSensitive:x.caseSensitive,end:f},h),y=x.route;if(!p&&f&&r&&!n[n.length-1].route.index&&(p=yu({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},h)),!p)return null;Object.assign(l,p.params),d.push({params:l,pathname:vn([c,p.pathname]),pathnameBase:e8(vn([c,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(c=vn([c,p.pathnameBase]))}return d}function yu(t,a){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=XE(t.path,t.caseSensitive,t.end),l=a.match(r);if(!l)return null;let c=l[0],d=c.replace(/(.)\/+$/,"$1"),u=l.slice(1);return{params:n.reduce((f,{paramName:h,isOptional:p},y)=>{if(h==="*"){let w=u[y]||"";d=c.slice(0,c.length-w.length).replace(/(.)\/+$/,"$1")}const j=u[y];return p&&!j?f[h]=void 0:f[h]=(j||"").replace(/%2F/g,"/"),f},{}),pathname:c,pathnameBase:d,pattern:t}}function XE(t,a=!1,r=!0){xr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],l="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,u,x)=>(n.push({paramName:u,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),l+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":t!==""&&t!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,a?void 0:"i"),n]}function WE(t){try{return t.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return xr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),t}}function Nn(t,a){if(a==="/")return t;if(!t.toLowerCase().startsWith(a.toLowerCase()))return null;let r=a.endsWith("/")?a.length-1:a.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function ZE(t,a="/"){let{pathname:r,search:n="",hash:l=""}=typeof t=="string"?pl(t):t;return{pathname:r?r.startsWith("/")?r:QE(r,a):a,search:t8(n),hash:a8(l)}}function QE(t,a){let r=a.replace(/\/+$/,"").split("/");return t.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function Ef(t,a,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${a}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JE(t){return t.filter((a,r)=>r===0||a.route.path&&a.route.path.length>0)}function vg(t){let a=JE(t);return a.map((r,n)=>n===a.length-1?r.pathname:r.pathnameBase)}function bg(t,a,r,n=!1){let l;typeof t=="string"?l=pl(t):(l={...t},ht(!l.pathname||!l.pathname.includes("?"),Ef("?","pathname","search",l)),ht(!l.pathname||!l.pathname.includes("#"),Ef("#","pathname","hash",l)),ht(!l.search||!l.search.includes("#"),Ef("#","search","hash",l)));let c=t===""||l.pathname==="",d=c?"/":l.pathname,u;if(d==null)u=r;else{let p=a.length-1;if(!n&&d.startsWith("..")){let y=d.split("/");for(;y[0]==="..";)y.shift(),p-=1;l.pathname=y.join("/")}u=p>=0?a[p]:"/"}let x=ZE(l,u),f=d&&d!=="/"&&d.endsWith("/"),h=(c||d===".")&&r.endsWith("/");return!x.pathname.endsWith("/")&&(f||h)&&(x.pathname+="/"),x}var vn=t=>t.join("/").replace(/\/\/+/g,"/"),e8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),t8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,a8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function r8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var hS=["POST","PUT","PATCH","DELETE"];new Set(hS);var n8=["GET",...hS];new Set(n8);var gl=v.createContext(null);gl.displayName="DataRouter";var xm=v.createContext(null);xm.displayName="DataRouterState";v.createContext(!1);var fS=v.createContext({isTransitioning:!1});fS.displayName="ViewTransition";var s8=v.createContext(new Map);s8.displayName="Fetchers";var i8=v.createContext(null);i8.displayName="Await";var kr=v.createContext(null);kr.displayName="Navigation";var to=v.createContext(null);to.displayName="Location";var Or=v.createContext({outlet:null,matches:[],isDataRoute:!1});Or.displayName="Route";var jg=v.createContext(null);jg.displayName="RouteError";function l8(t,{relative:a}={}){ht(yl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=v.useContext(kr),{hash:l,pathname:c,search:d}=ao(t,{relative:a}),u=c;return r!=="/"&&(u=c==="/"?r:vn([r,c])),n.createHref({pathname:u,search:d,hash:l})}function yl(){return v.useContext(to)!=null}function Kr(){return ht(yl(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(to).location}var pS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gS(t){v.useContext(kr).static||v.useLayoutEffect(t)}function nt(){let{isDataRoute:t}=v.useContext(Or);return t?b8():c8()}function c8(){ht(yl(),"useNavigate() may be used only in the context of a <Router> component.");let t=v.useContext(gl),{basename:a,navigator:r}=v.useContext(kr),{matches:n}=v.useContext(Or),{pathname:l}=Kr(),c=JSON.stringify(vg(n)),d=v.useRef(!1);return gS(()=>{d.current=!0}),v.useCallback((x,f={})=>{if(xr(d.current,pS),!d.current)return;if(typeof x=="number"){r.go(x);return}let h=bg(x,JSON.parse(c),l,f.relative==="path");t==null&&a!=="/"&&(h.pathname=h.pathname==="/"?a:vn([a,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[a,r,c,l,t])}v.createContext(null);function hs(){let{matches:t}=v.useContext(Or),a=t[t.length-1];return a?a.params:{}}function ao(t,{relative:a}={}){let{matches:r}=v.useContext(Or),{pathname:n}=Kr(),l=JSON.stringify(vg(r));return v.useMemo(()=>bg(t,JSON.parse(l),n,a==="path"),[t,l,n,a])}function o8(t,a){return yS(t,a)}function yS(t,a,r,n,l){ht(yl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=v.useContext(kr),{matches:d}=v.useContext(Or),u=d[d.length-1],x=u?u.params:{},f=u?u.pathname:"/",h=u?u.pathnameBase:"/",p=u&&u.route;{let O=p&&p.path||"";vS(f,!p||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let y=Kr(),j;if(a){let O=typeof a=="string"?pl(a):a;ht(h==="/"||O.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${O.pathname}" was given in the \`location\` prop.`),j=O}else j=y;let w=j.pathname||"/",S=w;if(h!=="/"){let O=h.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(O.length).join("/")}let g=uS(t,{pathname:S});xr(p||g!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),xr(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=h8(g&&g.map(O=>Object.assign({},O,{params:Object.assign({},x,O.params),pathname:vn([h,c.encodeLocation?c.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?h:vn([h,c.encodeLocation?c.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),d,r,n,l);return a&&_?v.createElement(to.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},_):_}function d8(){let t=v8(),a=r8(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:n},c={padding:"2px 4px",backgroundColor:n},d=null;return console.error("Error handled by React Router default ErrorBoundary:",t),d=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:c},"ErrorBoundary")," or"," ",v.createElement("code",{style:c},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},a),r?v.createElement("pre",{style:l},r):null,d)}var u8=v.createElement(d8,null),m8=class extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,a){return a.location!==t.location||a.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:a.error,location:a.location,revalidation:t.revalidation||a.revalidation}}componentDidCatch(t,a){this.props.unstable_onError?this.props.unstable_onError(t,a):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?v.createElement(Or.Provider,{value:this.props.routeContext},v.createElement(jg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function x8({routeContext:t,match:a,children:r}){let n=v.useContext(gl);return n&&n.static&&n.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=a.route.id),v.createElement(Or.Provider,{value:t},r)}function h8(t,a=[],r=null,n=null,l=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(a.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let c=t,d=r?.errors;if(d!=null){let f=c.findIndex(h=>h.route.id&&d?.[h.route.id]!==void 0);ht(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,f+1))}let u=!1,x=-1;if(r)for(let f=0;f<c.length;f++){let h=c[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(x=f),h.route.id){let{loaderData:p,errors:y}=r,j=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!y||y[h.route.id]===void 0);if(h.route.lazy||j){u=!0,x>=0?c=c.slice(0,x+1):c=[c[0]];break}}}return c.reduceRight((f,h,p)=>{let y,j=!1,w=null,S=null;r&&(y=d&&h.route.id?d[h.route.id]:void 0,w=h.route.errorElement||u8,u&&(x<0&&p===0?(vS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,S=null):x===p&&(j=!0,S=h.route.hydrateFallbackElement||null)));let g=a.concat(c.slice(0,p+1)),_=()=>{let O;return y?O=w:j?O=S:h.route.Component?O=v.createElement(h.route.Component,null):h.route.element?O=h.route.element:O=f,v.createElement(x8,{match:h,routeContext:{outlet:f,matches:g,isDataRoute:r!=null},children:O})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?v.createElement(m8,{location:r.location,revalidation:r.revalidation,component:w,error:y,children:_(),routeContext:{outlet:null,matches:g,isDataRoute:!0},unstable_onError:n}):_()},null)}function Ng(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f8(t){let a=v.useContext(gl);return ht(a,Ng(t)),a}function p8(t){let a=v.useContext(xm);return ht(a,Ng(t)),a}function g8(t){let a=v.useContext(Or);return ht(a,Ng(t)),a}function wg(t){let a=g8(t),r=a.matches[a.matches.length-1];return ht(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function y8(){return wg("useRouteId")}function v8(){let t=v.useContext(jg),a=p8("useRouteError"),r=wg("useRouteError");return t!==void 0?t:a.errors?.[r]}function b8(){let{router:t}=f8("useNavigate"),a=wg("useNavigate"),r=v.useRef(!1);return gS(()=>{r.current=!0}),v.useCallback(async(l,c={})=>{xr(r.current,pS),r.current&&(typeof l=="number"?t.navigate(l):await t.navigate(l,{fromRouteId:a,...c}))},[t,a])}var DN={};function vS(t,a,r){!a&&!DN[t]&&(DN[t]=!0,xr(!1,r))}v.memo(j8);function j8({routes:t,future:a,state:r,unstable_onError:n}){return yS(t,void 0,r,n,a)}function hm({to:t,replace:a,state:r,relative:n}){ht(yl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=v.useContext(kr);xr(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=v.useContext(Or),{pathname:d}=Kr(),u=nt(),x=bg(t,vg(c),d,n==="path"),f=JSON.stringify(x);return v.useEffect(()=>{u(JSON.parse(f),{replace:a,state:r,relative:n})},[u,f,n,a,r]),null}function xe(t){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function N8({basename:t="/",children:a=null,location:r,navigationType:n="POP",navigator:l,static:c=!1}){ht(!yl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:d,navigator:l,static:c,future:{}}),[d,l,c]);typeof r=="string"&&(r=pl(r));let{pathname:x="/",search:f="",hash:h="",state:p=null,key:y="default"}=r,j=v.useMemo(()=>{let w=Nn(x,d);return w==null?null:{location:{pathname:w,search:f,hash:h,state:p,key:y},navigationType:n}},[d,x,f,h,p,y,n]);return xr(j!=null,`<Router basename="${d}"> is not able to match the URL "${x}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:v.createElement(kr.Provider,{value:u},v.createElement(to.Provider,{children:a,value:j}))}function w8({children:t,location:a}){return o8(hp(t),a)}function hp(t,a=[]){let r=[];return v.Children.forEach(t,(n,l)=>{if(!v.isValidElement(n))return;let c=[...a,l];if(n.type===v.Fragment){r.push.apply(r,hp(n.props.children,c));return}ht(n.type===xe,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!n.props.index||!n.props.children,"An index route cannot have child routes.");let d={id:n.props.id||c.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(d.children=hp(n.props.children,c)),r.push(d)}),r}var su="get",iu="application/x-www-form-urlencoded";function fm(t){return t!=null&&typeof t.tagName=="string"}function S8(t){return fm(t)&&t.tagName.toLowerCase()==="button"}function _8(t){return fm(t)&&t.tagName.toLowerCase()==="form"}function C8(t){return fm(t)&&t.tagName.toLowerCase()==="input"}function A8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function k8(t,a){return t.button===0&&(!a||a==="_self")&&!A8(t)}function fp(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((a,r)=>{let n=t[r];return a.concat(Array.isArray(n)?n.map(l=>[r,l]):[[r,n]])},[]))}function O8(t,a){let r=fp(t);return a&&a.forEach((n,l)=>{r.has(l)||a.getAll(l).forEach(c=>{r.append(l,c)})}),r}var Ud=null;function E8(){if(Ud===null)try{new FormData(document.createElement("form"),0),Ud=!1}catch{Ud=!0}return Ud}var T8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tf(t){return t!=null&&!T8.has(t)?(xr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${iu}"`),null):t}function M8(t,a){let r,n,l,c,d;if(_8(t)){let u=t.getAttribute("action");n=u?Nn(u,a):null,r=t.getAttribute("method")||su,l=Tf(t.getAttribute("enctype"))||iu,c=new FormData(t)}else if(S8(t)||C8(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=t.getAttribute("formaction")||u.getAttribute("action");if(n=x?Nn(x,a):null,r=t.getAttribute("formmethod")||u.getAttribute("method")||su,l=Tf(t.getAttribute("formenctype"))||Tf(u.getAttribute("enctype"))||iu,c=new FormData(u,t),!E8()){let{name:f,type:h,value:p}=t;if(h==="image"){let y=f?`${f}.`:"";c.append(`${y}x`,"0"),c.append(`${y}y`,"0")}else f&&c.append(f,p)}}else{if(fm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=su,n=null,l=iu,d=t}return c&&l==="text/plain"&&(d=c,c=void 0),{action:n,method:r.toLowerCase(),encType:l,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Sg(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function D8(t,a,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:a&&Nn(n.pathname,a)==="/"?n.pathname=`${a.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function P8(t,a){if(t.id in a)return a[t.id];try{let r=await import(t.module);return a[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function z8(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function R8(t,a,r){let n=await Promise.all(t.map(async l=>{let c=a.routes[l.route.id];if(c){let d=await P8(c,r);return d.links?d.links():[]}return[]}));return $8(n.flat(1).filter(z8).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function PN(t,a,r,n,l,c){let d=(x,f)=>r[f]?x.route.id!==r[f].route.id:!0,u=(x,f)=>r[f].pathname!==x.pathname||r[f].route.path?.endsWith("*")&&r[f].params["*"]!==x.params["*"];return c==="assets"?a.filter((x,f)=>d(x,f)||u(x,f)):c==="data"?a.filter((x,f)=>{let h=n.routes[x.route.id];if(!h||!h.hasLoader)return!1;if(d(x,f)||u(x,f))return!0;if(x.route.shouldRevalidate){let p=x.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function L8(t,a,{includeHydrateFallback:r}={}){return I8(t.map(n=>{let l=a.routes[n.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),r&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function I8(t){return[...new Set(t)]}function B8(t){let a={},r=Object.keys(t).sort();for(let n of r)a[n]=t[n];return a}function $8(t,a){let r=new Set;return new Set(a),t.reduce((n,l)=>{let c=JSON.stringify(B8(l));return r.has(c)||(r.add(c),n.push({key:c,link:l})),n},[])}function bS(){let t=v.useContext(gl);return Sg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function U8(){let t=v.useContext(xm);return Sg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var _g=v.createContext(void 0);_g.displayName="FrameworkContext";function jS(){let t=v.useContext(_g);return Sg(t,"You must render this element inside a <HydratedRouter> element"),t}function F8(t,a){let r=v.useContext(_g),[n,l]=v.useState(!1),[c,d]=v.useState(!1),{onFocus:u,onBlur:x,onMouseEnter:f,onMouseLeave:h,onTouchStart:p}=a,y=v.useRef(null);v.useEffect(()=>{if(t==="render"&&d(!0),t==="viewport"){let S=_=>{_.forEach(O=>{d(O.isIntersecting)})},g=new IntersectionObserver(S,{threshold:.5});return y.current&&g.observe(y.current),()=>{g.disconnect()}}},[t]),v.useEffect(()=>{if(n){let S=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(S)}}},[n]);let j=()=>{l(!0)},w=()=>{l(!1),d(!1)};return r?t!=="intent"?[c,y,{}]:[c,y,{onFocus:Ac(u,j),onBlur:Ac(x,w),onMouseEnter:Ac(f,j),onMouseLeave:Ac(h,w),onTouchStart:Ac(p,j)}]:[!1,y,{}]}function Ac(t,a){return r=>{t&&t(r),r.defaultPrevented||a(r)}}function q8({page:t,...a}){let{router:r}=bS(),n=v.useMemo(()=>uS(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?v.createElement(V8,{page:t,matches:n,...a}):null}function H8(t){let{manifest:a,routeModules:r}=jS(),[n,l]=v.useState([]);return v.useEffect(()=>{let c=!1;return R8(t,a,r).then(d=>{c||l(d)}),()=>{c=!0}},[t,a,r]),n}function V8({page:t,matches:a,...r}){let n=Kr(),{manifest:l,routeModules:c}=jS(),{basename:d}=bS(),{loaderData:u,matches:x}=U8(),f=v.useMemo(()=>PN(t,a,x,l,n,"data"),[t,a,x,l,n]),h=v.useMemo(()=>PN(t,a,x,l,n,"assets"),[t,a,x,l,n]),p=v.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let w=new Set,S=!1;if(a.forEach(_=>{let O=l.routes[_.route.id];!O||!O.hasLoader||(!f.some(C=>C.route.id===_.route.id)&&_.route.id in u&&c[_.route.id]?.shouldRevalidate||O.hasClientLoader?S=!0:w.add(_.route.id))}),w.size===0)return[];let g=D8(t,d,"data");return S&&w.size>0&&g.searchParams.set("_routes",a.filter(_=>w.has(_.route.id)).map(_=>_.route.id).join(",")),[g.pathname+g.search]},[d,u,n,l,f,a,t,c]),y=v.useMemo(()=>L8(h,l),[h,l]),j=H8(h);return v.createElement(v.Fragment,null,p.map(w=>v.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),y.map(w=>v.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),j.map(({key:w,link:S})=>v.createElement("link",{key:w,nonce:r.nonce,...S})))}function G8(...t){return a=>{t.forEach(r=>{typeof r=="function"?r(a):r!=null&&(r.current=a)})}}var NS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{NS&&(window.__reactRouterVersion="7.9.5")}catch{}function K8({basename:t,children:a,window:r}){let n=v.useRef();n.current==null&&(n.current=PE({window:r,v5Compat:!0}));let l=n.current,[c,d]=v.useState({action:l.action,location:l.location}),u=v.useCallback(x=>{v.startTransition(()=>d(x))},[d]);return v.useLayoutEffect(()=>l.listen(u),[l,u]),v.createElement(N8,{basename:t,children:a,location:c.location,navigationType:c.action,navigator:l})}var wS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ge=v.forwardRef(function({onClick:a,discover:r="render",prefetch:n="none",relative:l,reloadDocument:c,replace:d,state:u,target:x,to:f,preventScrollReset:h,viewTransition:p,...y},j){let{basename:w}=v.useContext(kr),S=typeof f=="string"&&wS.test(f),g,_=!1;if(typeof f=="string"&&S&&(g=f,NS))try{let R=new URL(window.location.href),L=f.startsWith("//")?new URL(R.protocol+f):new URL(f),q=Nn(L.pathname,w);L.origin===R.origin&&q!=null?f=q+L.search+L.hash:_=!0}catch{xr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=l8(f,{relative:l}),[C,k,E]=F8(n,y),T=Z8(f,{replace:d,state:u,target:x,preventScrollReset:h,relative:l,viewTransition:p});function D(R){a&&a(R),R.defaultPrevented||T(R)}let P=v.createElement("a",{...y,...E,href:g||O,onClick:_||c?a:D,ref:G8(j,k),target:x,"data-discover":!S&&r==="render"?"true":void 0});return C&&!S?v.createElement(v.Fragment,null,P,v.createElement(q8,{page:O})):P});ge.displayName="Link";var Y8=v.forwardRef(function({"aria-current":a="page",caseSensitive:r=!1,className:n="",end:l=!1,style:c,to:d,viewTransition:u,children:x,...f},h){let p=ao(d,{relative:f.relative}),y=Kr(),j=v.useContext(xm),{navigator:w,basename:S}=v.useContext(kr),g=j!=null&&aT(p)&&u===!0,_=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,O=y.pathname,C=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;r||(O=O.toLowerCase(),C=C?C.toLowerCase():null,_=_.toLowerCase()),C&&S&&(C=Nn(C,S)||C);const k=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let E=O===_||!l&&O.startsWith(_)&&O.charAt(k)==="/",T=C!=null&&(C===_||!l&&C.startsWith(_)&&C.charAt(_.length)==="/"),D={isActive:E,isPending:T,isTransitioning:g},P=E?a:void 0,R;typeof n=="function"?R=n(D):R=[n,E?"active":null,T?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let L=typeof c=="function"?c(D):c;return v.createElement(ge,{...f,"aria-current":P,className:R,ref:h,style:L,to:d,viewTransition:u},typeof x=="function"?x(D):x)});Y8.displayName="NavLink";var X8=v.forwardRef(({discover:t="render",fetcherKey:a,navigate:r,reloadDocument:n,replace:l,state:c,method:d=su,action:u,onSubmit:x,relative:f,preventScrollReset:h,viewTransition:p,...y},j)=>{let w=eT(),S=tT(u,{relative:f}),g=d.toLowerCase()==="get"?"get":"post",_=typeof u=="string"&&wS.test(u),O=C=>{if(x&&x(C),C.defaultPrevented)return;C.preventDefault();let k=C.nativeEvent.submitter,E=k?.getAttribute("formmethod")||d;w(k||C.currentTarget,{fetcherKey:a,method:E,navigate:r,replace:l,state:c,relative:f,preventScrollReset:h,viewTransition:p})};return v.createElement("form",{ref:j,method:g,action:S,onSubmit:n?x:O,...y,"data-discover":!_&&t==="render"?"true":void 0})});X8.displayName="Form";function W8(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SS(t){let a=v.useContext(gl);return ht(a,W8(t)),a}function Z8(t,{target:a,replace:r,state:n,preventScrollReset:l,relative:c,viewTransition:d}={}){let u=nt(),x=Kr(),f=ao(t,{relative:c});return v.useCallback(h=>{if(k8(h,a)){h.preventDefault();let p=r!==void 0?r:Fc(x)===Fc(f);u(t,{replace:p,state:n,preventScrollReset:l,relative:c,viewTransition:d})}},[x,u,f,r,n,a,t,l,c,d])}function _S(t){xr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=v.useRef(fp(t)),r=v.useRef(!1),n=Kr(),l=v.useMemo(()=>O8(n.search,r.current?null:a.current),[n.search]),c=nt(),d=v.useCallback((u,x)=>{const f=fp(typeof u=="function"?u(new URLSearchParams(l)):u);r.current=!0,c("?"+f,x)},[c,l]);return[l,d]}var Q8=0,J8=()=>`__${String(++Q8)}__`;function eT(){let{router:t}=SS("useSubmit"),{basename:a}=v.useContext(kr),r=y8();return v.useCallback(async(n,l={})=>{let{action:c,method:d,encType:u,formData:x,body:f}=M8(n,a);if(l.navigate===!1){let h=l.fetcherKey||J8();await t.fetch(h,r,l.action||c,{preventScrollReset:l.preventScrollReset,formData:x,body:f,formMethod:l.method||d,formEncType:l.encType||u,flushSync:l.flushSync})}else await t.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:x,body:f,formMethod:l.method||d,formEncType:l.encType||u,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[t,a,r])}function tT(t,{relative:a}={}){let{basename:r}=v.useContext(kr),n=v.useContext(Or);ht(n,"useFormAction must be used inside a RouteContext");let[l]=n.matches.slice(-1),c={...ao(t||".",{relative:a})},d=Kr();if(t==null){c.search=d.search;let u=new URLSearchParams(c.search),x=u.getAll("index");if(x.some(h=>h==="")){u.delete("index"),x.filter(p=>p).forEach(p=>u.append("index",p));let h=u.toString();c.search=h?`?${h}`:""}}return(!t||t===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(c.pathname=c.pathname==="/"?r:vn([r,c.pathname])),Fc(c)}function aT(t,{relative:a}={}){let r=v.useContext(fS);ht(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=SS("useViewTransitionState"),l=ao(t,{relative:a});if(!r.isTransitioning)return!1;let c=Nn(r.currentLocation.pathname,n)||r.currentLocation.pathname,d=Nn(r.nextLocation.pathname,n)||r.nextLocation.pathname;return yu(l.pathname,d)!=null||yu(l.pathname,c)!=null}var CS=dS();function AS(t,a){return function(){return t.apply(a,arguments)}}const{toString:rT}=Object.prototype,{getPrototypeOf:Cg}=Object,{iterator:pm,toStringTag:kS}=Symbol,gm=(t=>a=>{const r=rT.call(a);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Er=t=>(t=t.toLowerCase(),a=>gm(a)===t),ym=t=>a=>typeof a===t,{isArray:vl}=Array,rl=ym("undefined");function ro(t){return t!==null&&!rl(t)&&t.constructor!==null&&!rl(t.constructor)&&Ca(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const OS=Er("ArrayBuffer");function nT(t){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(t):a=t&&t.buffer&&OS(t.buffer),a}const sT=ym("string"),Ca=ym("function"),ES=ym("number"),no=t=>t!==null&&typeof t=="object",iT=t=>t===!0||t===!1,lu=t=>{if(gm(t)!=="object")return!1;const a=Cg(t);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(kS in t)&&!(pm in t)},lT=t=>{if(!no(t)||ro(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},cT=Er("Date"),oT=Er("File"),dT=Er("Blob"),uT=Er("FileList"),mT=t=>no(t)&&Ca(t.pipe),xT=t=>{let a;return t&&(typeof FormData=="function"&&t instanceof FormData||Ca(t.append)&&((a=gm(t))==="formdata"||a==="object"&&Ca(t.toString)&&t.toString()==="[object FormData]"))},hT=Er("URLSearchParams"),[fT,pT,gT,yT]=["ReadableStream","Request","Response","Headers"].map(Er),vT=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function so(t,a,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,l;if(typeof t!="object"&&(t=[t]),vl(t))for(n=0,l=t.length;n<l;n++)a.call(null,t[n],n,t);else{if(ro(t))return;const c=r?Object.getOwnPropertyNames(t):Object.keys(t),d=c.length;let u;for(n=0;n<d;n++)u=c[n],a.call(null,t[u],u,t)}}function TS(t,a){if(ro(t))return null;a=a.toLowerCase();const r=Object.keys(t);let n=r.length,l;for(;n-- >0;)if(l=r[n],a===l.toLowerCase())return l;return null}const $s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,MS=t=>!rl(t)&&t!==$s;function pp(){const{caseless:t,skipUndefined:a}=MS(this)&&this||{},r={},n=(l,c)=>{const d=t&&TS(r,c)||c;lu(r[d])&&lu(l)?r[d]=pp(r[d],l):lu(l)?r[d]=pp({},l):vl(l)?r[d]=l.slice():(!a||!rl(l))&&(r[d]=l)};for(let l=0,c=arguments.length;l<c;l++)arguments[l]&&so(arguments[l],n);return r}const bT=(t,a,r,{allOwnKeys:n}={})=>(so(a,(l,c)=>{r&&Ca(l)?t[c]=AS(l,r):t[c]=l},{allOwnKeys:n}),t),jT=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),NT=(t,a,r,n)=>{t.prototype=Object.create(a.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:a.prototype}),r&&Object.assign(t.prototype,r)},wT=(t,a,r,n)=>{let l,c,d;const u={};if(a=a||{},t==null)return a;do{for(l=Object.getOwnPropertyNames(t),c=l.length;c-- >0;)d=l[c],(!n||n(d,t,a))&&!u[d]&&(a[d]=t[d],u[d]=!0);t=r!==!1&&Cg(t)}while(t&&(!r||r(t,a))&&t!==Object.prototype);return a},ST=(t,a,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=a.length;const n=t.indexOf(a,r);return n!==-1&&n===r},_T=t=>{if(!t)return null;if(vl(t))return t;let a=t.length;if(!ES(a))return null;const r=new Array(a);for(;a-- >0;)r[a]=t[a];return r},CT=(t=>a=>t&&a instanceof t)(typeof Uint8Array<"u"&&Cg(Uint8Array)),AT=(t,a)=>{const n=(t&&t[pm]).call(t);let l;for(;(l=n.next())&&!l.done;){const c=l.value;a.call(t,c[0],c[1])}},kT=(t,a)=>{let r;const n=[];for(;(r=t.exec(a))!==null;)n.push(r);return n},OT=Er("HTMLFormElement"),ET=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,l){return n.toUpperCase()+l}),zN=(({hasOwnProperty:t})=>(a,r)=>t.call(a,r))(Object.prototype),TT=Er("RegExp"),DS=(t,a)=>{const r=Object.getOwnPropertyDescriptors(t),n={};so(r,(l,c)=>{let d;(d=a(l,c,t))!==!1&&(n[c]=d||l)}),Object.defineProperties(t,n)},MT=t=>{DS(t,(a,r)=>{if(Ca(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Ca(n)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},DT=(t,a)=>{const r={},n=l=>{l.forEach(c=>{r[c]=!0})};return vl(t)?n(t):n(String(t).split(a)),r},PT=()=>{},zT=(t,a)=>t!=null&&Number.isFinite(t=+t)?t:a;function RT(t){return!!(t&&Ca(t.append)&&t[kS]==="FormData"&&t[pm])}const LT=t=>{const a=new Array(10),r=(n,l)=>{if(no(n)){if(a.indexOf(n)>=0)return;if(ro(n))return n;if(!("toJSON"in n)){a[l]=n;const c=vl(n)?[]:{};return so(n,(d,u)=>{const x=r(d,l+1);!rl(x)&&(c[u]=x)}),a[l]=void 0,c}}return n};return r(t,0)},IT=Er("AsyncFunction"),BT=t=>t&&(no(t)||Ca(t))&&Ca(t.then)&&Ca(t.catch),PS=((t,a)=>t?setImmediate:a?((r,n)=>($s.addEventListener("message",({source:l,data:c})=>{l===$s&&c===r&&n.length&&n.shift()()},!1),l=>{n.push(l),$s.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ca($s.postMessage)),$T=typeof queueMicrotask<"u"?queueMicrotask.bind($s):typeof process<"u"&&process.nextTick||PS,UT=t=>t!=null&&Ca(t[pm]),Q={isArray:vl,isArrayBuffer:OS,isBuffer:ro,isFormData:xT,isArrayBufferView:nT,isString:sT,isNumber:ES,isBoolean:iT,isObject:no,isPlainObject:lu,isEmptyObject:lT,isReadableStream:fT,isRequest:pT,isResponse:gT,isHeaders:yT,isUndefined:rl,isDate:cT,isFile:oT,isBlob:dT,isRegExp:TT,isFunction:Ca,isStream:mT,isURLSearchParams:hT,isTypedArray:CT,isFileList:uT,forEach:so,merge:pp,extend:bT,trim:vT,stripBOM:jT,inherits:NT,toFlatObject:wT,kindOf:gm,kindOfTest:Er,endsWith:ST,toArray:_T,forEachEntry:AT,matchAll:kT,isHTMLForm:OT,hasOwnProperty:zN,hasOwnProp:zN,reduceDescriptors:DS,freezeMethods:MT,toObjectSet:DT,toCamelCase:ET,noop:PT,toFiniteNumber:zT,findKey:TS,global:$s,isContextDefined:MS,isSpecCompliantForm:RT,toJSONObject:LT,isAsyncFn:IT,isThenable:BT,setImmediate:PS,asap:$T,isIterable:UT};function Oe(t,a,r,n,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",a&&(this.code=a),r&&(this.config=r),n&&(this.request=n),l&&(this.response=l,this.status=l.status?l.status:null)}Q.inherits(Oe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.status}}});const zS=Oe.prototype,RS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{RS[t]={value:t}});Object.defineProperties(Oe,RS);Object.defineProperty(zS,"isAxiosError",{value:!0});Oe.from=(t,a,r,n,l,c)=>{const d=Object.create(zS);Q.toFlatObject(t,d,function(h){return h!==Error.prototype},f=>f!=="isAxiosError");const u=t&&t.message?t.message:"Error",x=a==null&&t?t.code:a;return Oe.call(d,u,x,r,n,l),t&&d.cause==null&&Object.defineProperty(d,"cause",{value:t,configurable:!0}),d.name=t&&t.name||"Error",c&&Object.assign(d,c),d};const FT=null;function gp(t){return Q.isPlainObject(t)||Q.isArray(t)}function LS(t){return Q.endsWith(t,"[]")?t.slice(0,-2):t}function RN(t,a,r){return t?t.concat(a).map(function(l,c){return l=LS(l),!r&&c?"["+l+"]":l}).join(r?".":""):a}function qT(t){return Q.isArray(t)&&!t.some(gp)}const HT=Q.toFlatObject(Q,{},null,function(a){return/^is[A-Z]/.test(a)});function vm(t,a,r){if(!Q.isObject(t))throw new TypeError("target must be an object");a=a||new FormData,r=Q.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,g){return!Q.isUndefined(g[S])});const n=r.metaTokens,l=r.visitor||h,c=r.dots,d=r.indexes,x=(r.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(a);if(!Q.isFunction(l))throw new TypeError("visitor must be a function");function f(w){if(w===null)return"";if(Q.isDate(w))return w.toISOString();if(Q.isBoolean(w))return w.toString();if(!x&&Q.isBlob(w))throw new Oe("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(w)||Q.isTypedArray(w)?x&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function h(w,S,g){let _=w;if(w&&!g&&typeof w=="object"){if(Q.endsWith(S,"{}"))S=n?S:S.slice(0,-2),w=JSON.stringify(w);else if(Q.isArray(w)&&qT(w)||(Q.isFileList(w)||Q.endsWith(S,"[]"))&&(_=Q.toArray(w)))return S=LS(S),_.forEach(function(C,k){!(Q.isUndefined(C)||C===null)&&a.append(d===!0?RN([S],k,c):d===null?S:S+"[]",f(C))}),!1}return gp(w)?!0:(a.append(RN(g,S,c),f(w)),!1)}const p=[],y=Object.assign(HT,{defaultVisitor:h,convertValue:f,isVisitable:gp});function j(w,S){if(!Q.isUndefined(w)){if(p.indexOf(w)!==-1)throw Error("Circular reference detected in "+S.join("."));p.push(w),Q.forEach(w,function(_,O){(!(Q.isUndefined(_)||_===null)&&l.call(a,_,Q.isString(O)?O.trim():O,S,y))===!0&&j(_,S?S.concat(O):[O])}),p.pop()}}if(!Q.isObject(t))throw new TypeError("data must be an object");return j(t),a}function LN(t){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return a[n]})}function Ag(t,a){this._pairs=[],t&&vm(t,this,a)}const IS=Ag.prototype;IS.append=function(a,r){this._pairs.push([a,r])};IS.toString=function(a){const r=a?function(n){return a.call(this,n,LN)}:LN;return this._pairs.map(function(l){return r(l[0])+"="+r(l[1])},"").join("&")};function VT(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function BS(t,a,r){if(!a)return t;const n=r&&r.encode||VT;Q.isFunction(r)&&(r={serialize:r});const l=r&&r.serialize;let c;if(l?c=l(a,r):c=Q.isURLSearchParams(a)?a.toString():new Ag(a,r).toString(n),c){const d=t.indexOf("#");d!==-1&&(t=t.slice(0,d)),t+=(t.indexOf("?")===-1?"?":"&")+c}return t}class IN{constructor(){this.handlers=[]}use(a,r,n){return this.handlers.push({fulfilled:a,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){Q.forEach(this.handlers,function(n){n!==null&&a(n)})}}const $S={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},GT=typeof URLSearchParams<"u"?URLSearchParams:Ag,KT=typeof FormData<"u"?FormData:null,YT=typeof Blob<"u"?Blob:null,XT={isBrowser:!0,classes:{URLSearchParams:GT,FormData:KT,Blob:YT},protocols:["http","https","file","blob","url","data"]},kg=typeof window<"u"&&typeof document<"u",yp=typeof navigator=="object"&&navigator||void 0,WT=kg&&(!yp||["ReactNative","NativeScript","NS"].indexOf(yp.product)<0),ZT=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",QT=kg&&window.location.href||"http://localhost",JT=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:kg,hasStandardBrowserEnv:WT,hasStandardBrowserWebWorkerEnv:ZT,navigator:yp,origin:QT},Symbol.toStringTag,{value:"Module"})),la={...JT,...XT};function e9(t,a){return vm(t,new la.classes.URLSearchParams,{visitor:function(r,n,l,c){return la.isNode&&Q.isBuffer(r)?(this.append(n,r.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)},...a})}function t9(t){return Q.matchAll(/\w+|\[(\w*)]/g,t).map(a=>a[0]==="[]"?"":a[1]||a[0])}function a9(t){const a={},r=Object.keys(t);let n;const l=r.length;let c;for(n=0;n<l;n++)c=r[n],a[c]=t[c];return a}function US(t){function a(r,n,l,c){let d=r[c++];if(d==="__proto__")return!0;const u=Number.isFinite(+d),x=c>=r.length;return d=!d&&Q.isArray(l)?l.length:d,x?(Q.hasOwnProp(l,d)?l[d]=[l[d],n]:l[d]=n,!u):((!l[d]||!Q.isObject(l[d]))&&(l[d]=[]),a(r,n,l[d],c)&&Q.isArray(l[d])&&(l[d]=a9(l[d])),!u)}if(Q.isFormData(t)&&Q.isFunction(t.entries)){const r={};return Q.forEachEntry(t,(n,l)=>{a(t9(n),l,r,0)}),r}return null}function r9(t,a,r){if(Q.isString(t))try{return(a||JSON.parse)(t),Q.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const io={transitional:$S,adapter:["xhr","http","fetch"],transformRequest:[function(a,r){const n=r.getContentType()||"",l=n.indexOf("application/json")>-1,c=Q.isObject(a);if(c&&Q.isHTMLForm(a)&&(a=new FormData(a)),Q.isFormData(a))return l?JSON.stringify(US(a)):a;if(Q.isArrayBuffer(a)||Q.isBuffer(a)||Q.isStream(a)||Q.isFile(a)||Q.isBlob(a)||Q.isReadableStream(a))return a;if(Q.isArrayBufferView(a))return a.buffer;if(Q.isURLSearchParams(a))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let u;if(c){if(n.indexOf("application/x-www-form-urlencoded")>-1)return e9(a,this.formSerializer).toString();if((u=Q.isFileList(a))||n.indexOf("multipart/form-data")>-1){const x=this.env&&this.env.FormData;return vm(u?{"files[]":a}:a,x&&new x,this.formSerializer)}}return c||l?(r.setContentType("application/json",!1),r9(a)):a}],transformResponse:[function(a){const r=this.transitional||io.transitional,n=r&&r.forcedJSONParsing,l=this.responseType==="json";if(Q.isResponse(a)||Q.isReadableStream(a))return a;if(a&&Q.isString(a)&&(n&&!this.responseType||l)){const d=!(r&&r.silentJSONParsing)&&l;try{return JSON.parse(a,this.parseReviver)}catch(u){if(d)throw u.name==="SyntaxError"?Oe.from(u,Oe.ERR_BAD_RESPONSE,this,null,this.response):u}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:la.classes.FormData,Blob:la.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],t=>{io.headers[t]={}});const n9=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),s9=t=>{const a={};let r,n,l;return t&&t.split(`
`).forEach(function(d){l=d.indexOf(":"),r=d.substring(0,l).trim().toLowerCase(),n=d.substring(l+1).trim(),!(!r||a[r]&&n9[r])&&(r==="set-cookie"?a[r]?a[r].push(n):a[r]=[n]:a[r]=a[r]?a[r]+", "+n:n)}),a},BN=Symbol("internals");function kc(t){return t&&String(t).trim().toLowerCase()}function cu(t){return t===!1||t==null?t:Q.isArray(t)?t.map(cu):String(t)}function i9(t){const a=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)a[n[1]]=n[2];return a}const l9=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Mf(t,a,r,n,l){if(Q.isFunction(n))return n.call(this,a,r);if(l&&(a=r),!!Q.isString(a)){if(Q.isString(n))return a.indexOf(n)!==-1;if(Q.isRegExp(n))return n.test(a)}}function c9(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,r,n)=>r.toUpperCase()+n)}function o9(t,a){const r=Q.toCamelCase(" "+a);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(l,c,d){return this[n].call(this,a,l,c,d)},configurable:!0})})}let Aa=class{constructor(a){a&&this.set(a)}set(a,r,n){const l=this;function c(u,x,f){const h=kc(x);if(!h)throw new Error("header name must be a non-empty string");const p=Q.findKey(l,h);(!p||l[p]===void 0||f===!0||f===void 0&&l[p]!==!1)&&(l[p||x]=cu(u))}const d=(u,x)=>Q.forEach(u,(f,h)=>c(f,h,x));if(Q.isPlainObject(a)||a instanceof this.constructor)d(a,r);else if(Q.isString(a)&&(a=a.trim())&&!l9(a))d(s9(a),r);else if(Q.isObject(a)&&Q.isIterable(a)){let u={},x,f;for(const h of a){if(!Q.isArray(h))throw TypeError("Object iterator must return a key-value pair");u[f=h[0]]=(x=u[f])?Q.isArray(x)?[...x,h[1]]:[x,h[1]]:h[1]}d(u,r)}else a!=null&&c(r,a,n);return this}get(a,r){if(a=kc(a),a){const n=Q.findKey(this,a);if(n){const l=this[n];if(!r)return l;if(r===!0)return i9(l);if(Q.isFunction(r))return r.call(this,l,n);if(Q.isRegExp(r))return r.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,r){if(a=kc(a),a){const n=Q.findKey(this,a);return!!(n&&this[n]!==void 0&&(!r||Mf(this,this[n],n,r)))}return!1}delete(a,r){const n=this;let l=!1;function c(d){if(d=kc(d),d){const u=Q.findKey(n,d);u&&(!r||Mf(n,n[u],u,r))&&(delete n[u],l=!0)}}return Q.isArray(a)?a.forEach(c):c(a),l}clear(a){const r=Object.keys(this);let n=r.length,l=!1;for(;n--;){const c=r[n];(!a||Mf(this,this[c],c,a,!0))&&(delete this[c],l=!0)}return l}normalize(a){const r=this,n={};return Q.forEach(this,(l,c)=>{const d=Q.findKey(n,c);if(d){r[d]=cu(l),delete r[c];return}const u=a?c9(c):String(c).trim();u!==c&&delete r[c],r[u]=cu(l),n[u]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const r=Object.create(null);return Q.forEach(this,(n,l)=>{n!=null&&n!==!1&&(r[l]=a&&Q.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,r])=>a+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...r){const n=new this(a);return r.forEach(l=>n.set(l)),n}static accessor(a){const n=(this[BN]=this[BN]={accessors:{}}).accessors,l=this.prototype;function c(d){const u=kc(d);n[u]||(o9(l,d),n[u]=!0)}return Q.isArray(a)?a.forEach(c):c(a),this}};Aa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors(Aa.prototype,({value:t},a)=>{let r=a[0].toUpperCase()+a.slice(1);return{get:()=>t,set(n){this[r]=n}}});Q.freezeMethods(Aa);function Df(t,a){const r=this||io,n=a||r,l=Aa.from(n.headers);let c=n.data;return Q.forEach(t,function(u){c=u.call(r,c,l.normalize(),a?a.status:void 0)}),l.normalize(),c}function FS(t){return!!(t&&t.__CANCEL__)}function bl(t,a,r){Oe.call(this,t??"canceled",Oe.ERR_CANCELED,a,r),this.name="CanceledError"}Q.inherits(bl,Oe,{__CANCEL__:!0});function qS(t,a,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):a(new Oe("Request failed with status code "+r.status,[Oe.ERR_BAD_REQUEST,Oe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function d9(t){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return a&&a[1]||""}function u9(t,a){t=t||10;const r=new Array(t),n=new Array(t);let l=0,c=0,d;return a=a!==void 0?a:1e3,function(x){const f=Date.now(),h=n[c];d||(d=f),r[l]=x,n[l]=f;let p=c,y=0;for(;p!==l;)y+=r[p++],p=p%t;if(l=(l+1)%t,l===c&&(c=(c+1)%t),f-d<a)return;const j=h&&f-h;return j?Math.round(y*1e3/j):void 0}}function m9(t,a){let r=0,n=1e3/a,l,c;const d=(f,h=Date.now())=>{r=h,l=null,c&&(clearTimeout(c),c=null),t(...f)};return[(...f)=>{const h=Date.now(),p=h-r;p>=n?d(f,h):(l=f,c||(c=setTimeout(()=>{c=null,d(l)},n-p)))},()=>l&&d(l)]}const vu=(t,a,r=3)=>{let n=0;const l=u9(50,250);return m9(c=>{const d=c.loaded,u=c.lengthComputable?c.total:void 0,x=d-n,f=l(x),h=d<=u;n=d;const p={loaded:d,total:u,progress:u?d/u:void 0,bytes:x,rate:f||void 0,estimated:f&&u&&h?(u-d)/f:void 0,event:c,lengthComputable:u!=null,[a?"download":"upload"]:!0};t(p)},r)},$N=(t,a)=>{const r=t!=null;return[n=>a[0]({lengthComputable:r,total:t,loaded:n}),a[1]]},UN=t=>(...a)=>Q.asap(()=>t(...a)),x9=la.hasStandardBrowserEnv?((t,a)=>r=>(r=new URL(r,la.origin),t.protocol===r.protocol&&t.host===r.host&&(a||t.port===r.port)))(new URL(la.origin),la.navigator&&/(msie|trident)/i.test(la.navigator.userAgent)):()=>!0,h9=la.hasStandardBrowserEnv?{write(t,a,r,n,l,c,d){if(typeof document>"u")return;const u=[`${t}=${encodeURIComponent(a)}`];Q.isNumber(r)&&u.push(`expires=${new Date(r).toUTCString()}`),Q.isString(n)&&u.push(`path=${n}`),Q.isString(l)&&u.push(`domain=${l}`),c===!0&&u.push("secure"),Q.isString(d)&&u.push(`SameSite=${d}`),document.cookie=u.join("; ")},read(t){if(typeof document>"u")return null;const a=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return a?decodeURIComponent(a[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function f9(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function p9(t,a){return a?t.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):t}function HS(t,a,r){let n=!f9(a);return t&&(n||r==!1)?p9(t,a):a}const FN=t=>t instanceof Aa?{...t}:t;function Qs(t,a){a=a||{};const r={};function n(f,h,p,y){return Q.isPlainObject(f)&&Q.isPlainObject(h)?Q.merge.call({caseless:y},f,h):Q.isPlainObject(h)?Q.merge({},h):Q.isArray(h)?h.slice():h}function l(f,h,p,y){if(Q.isUndefined(h)){if(!Q.isUndefined(f))return n(void 0,f,p,y)}else return n(f,h,p,y)}function c(f,h){if(!Q.isUndefined(h))return n(void 0,h)}function d(f,h){if(Q.isUndefined(h)){if(!Q.isUndefined(f))return n(void 0,f)}else return n(void 0,h)}function u(f,h,p){if(p in a)return n(f,h);if(p in t)return n(void 0,f)}const x={url:c,method:c,data:c,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:u,headers:(f,h,p)=>l(FN(f),FN(h),p,!0)};return Q.forEach(Object.keys({...t,...a}),function(h){const p=x[h]||l,y=p(t[h],a[h],h);Q.isUndefined(y)&&p!==u||(r[h]=y)}),r}const VS=t=>{const a=Qs({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:l,xsrfCookieName:c,headers:d,auth:u}=a;if(a.headers=d=Aa.from(d),a.url=BS(HS(a.baseURL,a.url,a.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&d.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),Q.isFormData(r)){if(la.hasStandardBrowserEnv||la.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if(Q.isFunction(r.getHeaders)){const x=r.getHeaders(),f=["content-type","content-length"];Object.entries(x).forEach(([h,p])=>{f.includes(h.toLowerCase())&&d.set(h,p)})}}if(la.hasStandardBrowserEnv&&(n&&Q.isFunction(n)&&(n=n(a)),n||n!==!1&&x9(a.url))){const x=l&&c&&h9.read(c);x&&d.set(l,x)}return a},g9=typeof XMLHttpRequest<"u",y9=g9&&function(t){return new Promise(function(r,n){const l=VS(t);let c=l.data;const d=Aa.from(l.headers).normalize();let{responseType:u,onUploadProgress:x,onDownloadProgress:f}=l,h,p,y,j,w;function S(){j&&j(),w&&w(),l.cancelToken&&l.cancelToken.unsubscribe(h),l.signal&&l.signal.removeEventListener("abort",h)}let g=new XMLHttpRequest;g.open(l.method.toUpperCase(),l.url,!0),g.timeout=l.timeout;function _(){if(!g)return;const C=Aa.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),E={data:!u||u==="text"||u==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:C,config:t,request:g};qS(function(D){r(D),S()},function(D){n(D),S()},E),g=null}"onloadend"in g?g.onloadend=_:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(_)},g.onabort=function(){g&&(n(new Oe("Request aborted",Oe.ECONNABORTED,t,g)),g=null)},g.onerror=function(k){const E=k&&k.message?k.message:"Network Error",T=new Oe(E,Oe.ERR_NETWORK,t,g);T.event=k||null,n(T),g=null},g.ontimeout=function(){let k=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const E=l.transitional||$S;l.timeoutErrorMessage&&(k=l.timeoutErrorMessage),n(new Oe(k,E.clarifyTimeoutError?Oe.ETIMEDOUT:Oe.ECONNABORTED,t,g)),g=null},c===void 0&&d.setContentType(null),"setRequestHeader"in g&&Q.forEach(d.toJSON(),function(k,E){g.setRequestHeader(E,k)}),Q.isUndefined(l.withCredentials)||(g.withCredentials=!!l.withCredentials),u&&u!=="json"&&(g.responseType=l.responseType),f&&([y,w]=vu(f,!0),g.addEventListener("progress",y)),x&&g.upload&&([p,j]=vu(x),g.upload.addEventListener("progress",p),g.upload.addEventListener("loadend",j)),(l.cancelToken||l.signal)&&(h=C=>{g&&(n(!C||C.type?new bl(null,t,g):C),g.abort(),g=null)},l.cancelToken&&l.cancelToken.subscribe(h),l.signal&&(l.signal.aborted?h():l.signal.addEventListener("abort",h)));const O=d9(l.url);if(O&&la.protocols.indexOf(O)===-1){n(new Oe("Unsupported protocol "+O+":",Oe.ERR_BAD_REQUEST,t));return}g.send(c||null)})},v9=(t,a)=>{const{length:r}=t=t?t.filter(Boolean):[];if(a||r){let n=new AbortController,l;const c=function(f){if(!l){l=!0,u();const h=f instanceof Error?f:this.reason;n.abort(h instanceof Oe?h:new bl(h instanceof Error?h.message:h))}};let d=a&&setTimeout(()=>{d=null,c(new Oe(`timeout ${a} of ms exceeded`,Oe.ETIMEDOUT))},a);const u=()=>{t&&(d&&clearTimeout(d),d=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(c):f.removeEventListener("abort",c)}),t=null)};t.forEach(f=>f.addEventListener("abort",c));const{signal:x}=n;return x.unsubscribe=()=>Q.asap(u),x}},b9=function*(t,a){let r=t.byteLength;if(r<a){yield t;return}let n=0,l;for(;n<r;)l=n+a,yield t.slice(n,l),n=l},j9=async function*(t,a){for await(const r of N9(t))yield*b9(r,a)},N9=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const a=t.getReader();try{for(;;){const{done:r,value:n}=await a.read();if(r)break;yield n}}finally{await a.cancel()}},qN=(t,a,r,n)=>{const l=j9(t,a);let c=0,d,u=x=>{d||(d=!0,n&&n(x))};return new ReadableStream({async pull(x){try{const{done:f,value:h}=await l.next();if(f){u(),x.close();return}let p=h.byteLength;if(r){let y=c+=p;r(y)}x.enqueue(new Uint8Array(h))}catch(f){throw u(f),f}},cancel(x){return u(x),l.return()}},{highWaterMark:2})},HN=64*1024,{isFunction:Fd}=Q,w9=(({Request:t,Response:a})=>({Request:t,Response:a}))(Q.global),{ReadableStream:VN,TextEncoder:GN}=Q.global,KN=(t,...a)=>{try{return!!t(...a)}catch{return!1}},S9=t=>{t=Q.merge.call({skipUndefined:!0},w9,t);const{fetch:a,Request:r,Response:n}=t,l=a?Fd(a):typeof fetch=="function",c=Fd(r),d=Fd(n);if(!l)return!1;const u=l&&Fd(VN),x=l&&(typeof GN=="function"?(w=>S=>w.encode(S))(new GN):async w=>new Uint8Array(await new r(w).arrayBuffer())),f=c&&u&&KN(()=>{let w=!1;const S=new r(la.origin,{body:new VN,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!S}),h=d&&u&&KN(()=>Q.isReadableStream(new n("").body)),p={stream:h&&(w=>w.body)};l&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!p[w]&&(p[w]=(S,g)=>{let _=S&&S[w];if(_)return _.call(S);throw new Oe(`Response type '${w}' is not supported`,Oe.ERR_NOT_SUPPORT,g)})});const y=async w=>{if(w==null)return 0;if(Q.isBlob(w))return w.size;if(Q.isSpecCompliantForm(w))return(await new r(la.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(Q.isArrayBufferView(w)||Q.isArrayBuffer(w))return w.byteLength;if(Q.isURLSearchParams(w)&&(w=w+""),Q.isString(w))return(await x(w)).byteLength},j=async(w,S)=>{const g=Q.toFiniteNumber(w.getContentLength());return g??y(S)};return async w=>{let{url:S,method:g,data:_,signal:O,cancelToken:C,timeout:k,onDownloadProgress:E,onUploadProgress:T,responseType:D,headers:P,withCredentials:R="same-origin",fetchOptions:L}=VS(w),q=a||fetch;D=D?(D+"").toLowerCase():"text";let F=v9([O,C&&C.toAbortSignal()],k),se=null;const ce=F&&F.unsubscribe&&(()=>{F.unsubscribe()});let ue;try{if(T&&f&&g!=="get"&&g!=="head"&&(ue=await j(P,_))!==0){let I=new r(S,{method:"POST",body:_,duplex:"half"}),K;if(Q.isFormData(_)&&(K=I.headers.get("content-type"))&&P.setContentType(K),I.body){const[G,ne]=$N(ue,vu(UN(T)));_=qN(I.body,HN,G,ne)}}Q.isString(R)||(R=R?"include":"omit");const H=c&&"credentials"in r.prototype,z={...L,signal:F,method:g.toUpperCase(),headers:P.normalize().toJSON(),body:_,duplex:"half",credentials:H?R:void 0};se=c&&new r(S,z);let $=await(c?q(se,L):q(S,z));const re=h&&(D==="stream"||D==="response");if(h&&(E||re&&ce)){const I={};["status","statusText","headers"].forEach(he=>{I[he]=$[he]});const K=Q.toFiniteNumber($.headers.get("content-length")),[G,ne]=E&&$N(K,vu(UN(E),!0))||[];$=new n(qN($.body,HN,G,()=>{ne&&ne(),ce&&ce()}),I)}D=D||"text";let te=await p[Q.findKey(p,D)||"text"]($,w);return!re&&ce&&ce(),await new Promise((I,K)=>{qS(I,K,{data:te,headers:Aa.from($.headers),status:$.status,statusText:$.statusText,config:w,request:se})})}catch(H){throw ce&&ce(),H&&H.name==="TypeError"&&/Load failed|fetch/i.test(H.message)?Object.assign(new Oe("Network Error",Oe.ERR_NETWORK,w,se),{cause:H.cause||H}):Oe.from(H,H&&H.code,w,se)}}},_9=new Map,GS=t=>{let a=t&&t.env||{};const{fetch:r,Request:n,Response:l}=a,c=[n,l,r];let d=c.length,u=d,x,f,h=_9;for(;u--;)x=c[u],f=h.get(x),f===void 0&&h.set(x,f=u?new Map:S9(a)),h=f;return f};GS();const Og={http:FT,xhr:y9,fetch:{get:GS}};Q.forEach(Og,(t,a)=>{if(t){try{Object.defineProperty(t,"name",{value:a})}catch{}Object.defineProperty(t,"adapterName",{value:a})}});const YN=t=>`- ${t}`,C9=t=>Q.isFunction(t)||t===null||t===!1;function A9(t,a){t=Q.isArray(t)?t:[t];const{length:r}=t;let n,l;const c={};for(let d=0;d<r;d++){n=t[d];let u;if(l=n,!C9(n)&&(l=Og[(u=String(n)).toLowerCase()],l===void 0))throw new Oe(`Unknown adapter '${u}'`);if(l&&(Q.isFunction(l)||(l=l.get(a))))break;c[u||"#"+d]=l}if(!l){const d=Object.entries(c).map(([x,f])=>`adapter ${x} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=r?d.length>1?`since :
`+d.map(YN).join(`
`):" "+YN(d[0]):"as no adapter specified";throw new Oe("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return l}const KS={getAdapter:A9,adapters:Og};function Pf(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new bl(null,t)}function XN(t){return Pf(t),t.headers=Aa.from(t.headers),t.data=Df.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),KS.getAdapter(t.adapter||io.adapter,t)(t).then(function(n){return Pf(t),n.data=Df.call(t,t.transformResponse,n),n.headers=Aa.from(n.headers),n},function(n){return FS(n)||(Pf(t),n&&n.response&&(n.response.data=Df.call(t,t.transformResponse,n.response),n.response.headers=Aa.from(n.response.headers))),Promise.reject(n)})}const YS="1.13.2",bm={};["object","boolean","number","function","string","symbol"].forEach((t,a)=>{bm[t]=function(n){return typeof n===t||"a"+(a<1?"n ":" ")+t}});const WN={};bm.transitional=function(a,r,n){function l(c,d){return"[Axios v"+YS+"] Transitional option '"+c+"'"+d+(n?". "+n:"")}return(c,d,u)=>{if(a===!1)throw new Oe(l(d," has been removed"+(r?" in "+r:"")),Oe.ERR_DEPRECATED);return r&&!WN[d]&&(WN[d]=!0,console.warn(l(d," has been deprecated since v"+r+" and will be removed in the near future"))),a?a(c,d,u):!0}};bm.spelling=function(a){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${a}`),!0)};function k9(t,a,r){if(typeof t!="object")throw new Oe("options must be an object",Oe.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let l=n.length;for(;l-- >0;){const c=n[l],d=a[c];if(d){const u=t[c],x=u===void 0||d(u,c,t);if(x!==!0)throw new Oe("option "+c+" must be "+x,Oe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Oe("Unknown option "+c,Oe.ERR_BAD_OPTION)}}const ou={assertOptions:k9,validators:bm},Lr=ou.validators;let Hs=class{constructor(a){this.defaults=a||{},this.interceptors={request:new IN,response:new IN}}async request(a,r){try{return await this._request(a,r)}catch(n){if(n instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const c=l.stack?l.stack.replace(/^.+\n/,""):"";try{n.stack?c&&!String(n.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+c):n.stack=c}catch{}}throw n}}_request(a,r){typeof a=="string"?(r=r||{},r.url=a):r=a||{},r=Qs(this.defaults,r);const{transitional:n,paramsSerializer:l,headers:c}=r;n!==void 0&&ou.assertOptions(n,{silentJSONParsing:Lr.transitional(Lr.boolean),forcedJSONParsing:Lr.transitional(Lr.boolean),clarifyTimeoutError:Lr.transitional(Lr.boolean)},!1),l!=null&&(Q.isFunction(l)?r.paramsSerializer={serialize:l}:ou.assertOptions(l,{encode:Lr.function,serialize:Lr.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),ou.assertOptions(r,{baseUrl:Lr.spelling("baseURL"),withXsrfToken:Lr.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let d=c&&Q.merge(c.common,c[r.method]);c&&Q.forEach(["delete","get","head","post","put","patch","common"],w=>{delete c[w]}),r.headers=Aa.concat(d,c);const u=[];let x=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(r)===!1||(x=x&&S.synchronous,u.unshift(S.fulfilled,S.rejected))});const f=[];this.interceptors.response.forEach(function(S){f.push(S.fulfilled,S.rejected)});let h,p=0,y;if(!x){const w=[XN.bind(this),void 0];for(w.unshift(...u),w.push(...f),y=w.length,h=Promise.resolve(r);p<y;)h=h.then(w[p++],w[p++]);return h}y=u.length;let j=r;for(;p<y;){const w=u[p++],S=u[p++];try{j=w(j)}catch(g){S.call(this,g);break}}try{h=XN.call(this,j)}catch(w){return Promise.reject(w)}for(p=0,y=f.length;p<y;)h=h.then(f[p++],f[p++]);return h}getUri(a){a=Qs(this.defaults,a);const r=HS(a.baseURL,a.url,a.allowAbsoluteUrls);return BS(r,a.params,a.paramsSerializer)}};Q.forEach(["delete","get","head","options"],function(a){Hs.prototype[a]=function(r,n){return this.request(Qs(n||{},{method:a,url:r,data:(n||{}).data}))}});Q.forEach(["post","put","patch"],function(a){function r(n){return function(c,d,u){return this.request(Qs(u||{},{method:a,headers:n?{"Content-Type":"multipart/form-data"}:{},url:c,data:d}))}}Hs.prototype[a]=r(),Hs.prototype[a+"Form"]=r(!0)});let O9=class XS{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(c){r=c});const n=this;this.promise.then(l=>{if(!n._listeners)return;let c=n._listeners.length;for(;c-- >0;)n._listeners[c](l);n._listeners=null}),this.promise.then=l=>{let c;const d=new Promise(u=>{n.subscribe(u),c=u}).then(l);return d.cancel=function(){n.unsubscribe(c)},d},a(function(c,d,u){n.reason||(n.reason=new bl(c,d,u),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const r=this._listeners.indexOf(a);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const a=new AbortController,r=n=>{a.abort(n)};return this.subscribe(r),a.signal.unsubscribe=()=>this.unsubscribe(r),a.signal}static source(){let a;return{token:new XS(function(l){a=l}),cancel:a}}};function E9(t){return function(r){return t.apply(null,r)}}function T9(t){return Q.isObject(t)&&t.isAxiosError===!0}const vp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(vp).forEach(([t,a])=>{vp[a]=t});function WS(t){const a=new Hs(t),r=AS(Hs.prototype.request,a);return Q.extend(r,Hs.prototype,a,{allOwnKeys:!0}),Q.extend(r,a,null,{allOwnKeys:!0}),r.create=function(l){return WS(Qs(t,l))},r}const Te=WS(io);Te.Axios=Hs;Te.CanceledError=bl;Te.CancelToken=O9;Te.isCancel=FS;Te.VERSION=YS;Te.toFormData=vm;Te.AxiosError=Oe;Te.Cancel=Te.CanceledError;Te.all=function(a){return Promise.all(a)};Te.spread=E9;Te.isAxiosError=T9;Te.mergeConfig=Qs;Te.AxiosHeaders=Aa;Te.formToJSON=t=>US(Q.isHTMLForm(t)?new FormData(t):t);Te.getAdapter=KS.getAdapter;Te.HttpStatusCode=vp;Te.default=Te;const{Axios:IZ,AxiosError:BZ,CanceledError:$Z,isCancel:UZ,CancelToken:FZ,VERSION:qZ,all:HZ,Cancel:VZ,isAxiosError:GZ,spread:KZ,toFormData:YZ,AxiosHeaders:XZ,HttpStatusCode:WZ,formToJSON:ZZ,getAdapter:QZ,mergeConfig:JZ}=Te,M9="/api/v1",ye=Te.create({baseURL:M9,headers:{"Content-Type":"application/json"}});ye.interceptors.request.use(t=>{const a=localStorage.getItem("auth_token"),r=localStorage.getItem("company_id");return a&&(t.headers.Authorization=`Bearer ${a}`),r&&(t.headers["X-Company-ID"]=r),t});ye.interceptors.response.use(t=>t,t=>(t.response?.status===401&&(localStorage.removeItem("auth_token"),localStorage.removeItem("company_id"),window.location.href="/login"),Promise.reject(t)));const zf={login:async(t,a)=>(await ye.post("/auth/login.php",{email:t,password:a})).data,register:async(t,a,r)=>(await ye.post("/auth/register.php",{email:t,password:a,name:r})).data,getCurrentUser:async()=>(await ye.get("/auth/me.php")).data},Vs={list:async()=>(await ye.get("/invoices/list")).data.data||[],create:async t=>(await ye.post("/invoices/create",t)).data.invoice,update:async(t,a)=>(await ye.put(`/invoices/${t}`,a)).data.invoice,delete:async t=>{await ye.delete(`/invoices/${t}`)},sendEmail:async t=>{await ye.post(`/invoices/${t}/send`)}},bu={list:async t=>{const a=t?{type:t}:{};return(await ye.get("/contacts/list",{params:a})).data.data?.contacts||[]},create:async t=>(await ye.post("/contacts/create",t)).data.contact,update:async(t,a)=>(await ye.put(`/contacts/${t}`,a)).data.contact,delete:async t=>{await ye.delete(`/contacts/${t}`)}},ZN={list:async()=>(await ye.get("/bills/list")).data.data||[],create:async t=>(await ye.post("/bills/create",t)).data.bill,update:async(t,a)=>(await ye.put("/bills/update",{...a,id:t})).data.bill,delete:async t=>{await ye.delete("/bills/delete",{data:{id:t}})}},Rc={list:async()=>(await ye.get("/expenses/list")).data.data?.expenses||[],create:async t=>(await ye.post("/expenses/create",t,{headers:{"Content-Type":"multipart/form-data"}})).data.expense,update:async(t,a)=>(await ye.put(`/expenses/${t}`,a)).data.expense,delete:async t=>{await ye.delete(`/expenses/${t}`)}},du={list:async()=>(await ye.get("/insights/list")).data.insights||[],generate:async()=>(await ye.post("/insights/generate")).data.insights||[],dismiss:async t=>{await ye.post("/insights/dismiss",{insight_id:t})}},bp={getCashFlow:async()=>(await ye.get("/forecasting/cash-flow")).data.forecast||[],generate:async()=>(await ye.post("/forecasting/generate")).data.forecast||[],getRunway:async()=>(await ye.get("/forecasting/runway")).data},D9={getStats:async()=>(await ye.get("/dashboard/stats")).data.data},QN={getExpenseSuggestions:async(t,a)=>{const r=a?{vendor_id:t,amount:a}:{vendor_id:t};return(await ye.get("/expenses/smart-suggestions.php",{params:r})).data},listAccounts:async(t=!1)=>(await ye.get("/accounting/custom-accounts.php",{params:{custom_only:t}})).data,createCustomAccount:async t=>(await ye.post("/accounting/custom-accounts.php",t)).data,updateCustomAccount:async(t,a)=>(await ye.put("/accounting/custom-accounts.php",{id:t,...a})).data,deleteCustomAccount:async t=>(await ye.delete(`/accounting/custom-accounts.php?id=${t}`)).data,listCategories:async(t=!1,a=!1)=>(await ye.get("/expenses/custom-categories.php",{params:{custom_only:t,hierarchy:a}})).data,createCustomCategory:async t=>(await ye.post("/expenses/custom-categories.php",t)).data,updateCustomCategory:async(t,a)=>(await ye.put("/expenses/custom-categories.php",{id:t,...a})).data,deleteCustomCategory:async t=>(await ye.delete(`/expenses/custom-categories.php?id=${t}`)).data},ZS=v.createContext(void 0),P9=({children:t})=>{const[a,r]=v.useState(null),[n,l]=v.useState(!0),[c,d]=v.useState(localStorage.getItem("auth_token")),[u,x]=v.useState(localStorage.getItem("company_id"));v.useEffect(()=>{localStorage.getItem("auth_token")?zf.getCurrentUser().then(j=>{r(j.user),!localStorage.getItem("company_id")&&j.companies&&j.companies.length>0&&localStorage.setItem("company_id",j.companies[0].id)}).catch(()=>{localStorage.removeItem("auth_token"),localStorage.removeItem("company_id")}).finally(()=>{l(!1)}):l(!1)},[]);const f=async(y,j)=>{try{const w=await zf.login(y,j);if(w.success&&w.data?.token&&w.data?.user){if(localStorage.setItem("auth_token",w.data.token),d(w.data.token),w.data.companies&&w.data.companies.length>0){const S=w.data.companies[0].id;localStorage.setItem("company_id",S),x(S)}r(w.data.user)}else throw new Error(w.message||"Login failed")}catch(w){throw new Error(w.response?.data?.message||"Login failed")}},h=async(y,j,w)=>{try{const S=await zf.register(y,j,w);if(S.success&&S.data?.token&&S.data?.user){if(localStorage.setItem("auth_token",S.data.token),d(S.data.token),S.data.companies&&S.data.companies.length>0){const g=S.data.companies[0].id;localStorage.setItem("company_id",g),x(g)}r(S.data.user)}else throw new Error(S.message||"Registration failed")}catch(S){throw new Error(S.response?.data?.message||"Registration failed")}},p=()=>{localStorage.removeItem("auth_token"),localStorage.removeItem("company_id"),r(null),d(null),x(null)};return e.jsx(ZS.Provider,{value:{user:a,loading:n,login:f,register:h,logout:p,isAuthenticated:!!a,token:c,companyId:u},children:t})},Mt=()=>{const t=v.useContext(ZS);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t};const z9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),R9=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,r,n)=>n?n.toUpperCase():r.toLowerCase()),JN=t=>{const a=R9(t);return a.charAt(0).toUpperCase()+a.slice(1)},QS=(...t)=>t.filter((a,r,n)=>!!a&&a.trim()!==""&&n.indexOf(a)===r).join(" ").trim(),L9=t=>{for(const a in t)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};var I9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const B9=v.forwardRef(({color:t="currentColor",size:a=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:l="",children:c,iconNode:d,...u},x)=>v.createElement("svg",{ref:x,...I9,width:a,height:a,stroke:t,strokeWidth:n?Number(r)*24/Number(a):r,className:QS("lucide",l),...!c&&!L9(u)&&{"aria-hidden":"true"},...u},[...d.map(([f,h])=>v.createElement(f,h)),...Array.isArray(c)?c:[c]]));const de=(t,a)=>{const r=v.forwardRef(({className:n,...l},c)=>v.createElement(B9,{ref:c,iconNode:a,className:QS(`lucide-${z9(JN(t))}`,`lucide-${t}`,n),...l}));return r.displayName=JN(t),r};const $9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],lo=de("arrow-left",$9);const U9=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],Lc=de("arrow-right-left",U9);const F9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],xa=de("arrow-right",F9);const q9=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],H9=de("award",q9);const V9=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],G9=de("bell",V9);const K9=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],dr=de("book-open",K9);const Y9=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Sa=de("brain",Y9);const X9=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],e2=de("briefcase",X9);const W9=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],uu=de("building-2",W9);const Z9=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Q9=de("building",Z9);const J9=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Ic=de("calculator",J9);const e7=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],mt=de("calendar",e7);const t7=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],a7=de("camera",t7);const r7=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],mr=de("chart-column",r7);const n7=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ju=de("check",n7);const s7=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],jm=de("chevron-down",s7);const i7=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],JS=de("chevron-left",i7);const l7=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],jl=de("chevron-right",l7);const c7=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],o7=de("chevron-up",c7);const d7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],qt=de("circle-alert",d7);const u7=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ze=de("circle-check-big",u7);const m7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],jp=de("circle-user",m7);const x7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],nl=de("circle-x",x7);const h7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],f7=de("circle",h7);const p7=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],hr=de("clock",p7);const g7=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],e_=de("credit-card",g7);const y7=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],da=de("dollar-sign",y7);const v7=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Xa=de("download",v7);const b7=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],t_=de("ellipsis-vertical",b7);const j7=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],us=de("eye",j7);const N7=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ot=de("file-text",N7);const w7=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]],S7=de("folder-kanban",w7);const _7=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],sl=de("funnel",_7);const C7=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],t2=de("git-branch",C7);const A7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],k7=de("info",A7);const O7=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],a_=de("layout-dashboard",O7);const E7=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],mu=de("lightbulb",E7);const T7=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Np=de("lock",T7);const M7=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],a2=de("log-in",M7);const D7=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],P7=de("log-out",D7);const z7=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],il=de("mail",z7);const R7=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],r_=de("map-pin",R7);const L7=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],I7=de("maximize",L7);const B7=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],$7=de("menu",B7);const U7=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],F7=de("message-circle",U7);const q7=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],r2=de("message-square",q7);const H7=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],gt=de("package",H7);const V7=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],G7=de("pause",V7);const K7=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Eg=de("pen",K7);const Y7=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Nu=de("phone",Y7);const X7=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],n_=de("play",X7);const W7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ua=de("plus",W7);const Z7=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Q7=de("printer",Z7);const J7=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],wp=de("receipt",J7);const eM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],wu=de("refresh-cw",eM);const tM=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Qi=de("save",tM);const aM=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],Sp=de("scale",aM);const rM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Yr=de("search",rM);const nM=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Nm=de("send",nM);const sM=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Js=de("settings",sM);const iM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Tg=de("shield",iM);const lM=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],xu=de("shopping-cart",lM);const cM=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],oM=de("skip-forward",cM);const dM=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ll=de("sparkles",dM);const uM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ar=de("square-pen",uM);const mM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],xM=de("square",mM);const hM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Fr=de("target",hM);const fM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],vr=de("trash-2",fM);const pM=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Gs=de("trending-down",pM);const gM=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],$e=de("trending-up",gM);const yM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ga=de("triangle-alert",yM);const vM=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Mg=de("upload",vM);const bM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],n2=de("user-plus",bM);const jM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Cr=de("user",jM);const NM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Va=de("users",NM);const wM=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],SM=de("volume-2",wM);const _M=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],CM=de("volume-x",_M);const AM=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],ms=de("warehouse",AM);const kM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fr=de("x",kM);const OM=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],EM=de("zap",OM),TM=()=>e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-primary-100",children:[e.jsx("nav",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-600 to-primary-700 rounded-lg flex items-center justify-center",children:e.jsx(Sa,{className:"w-6 h-6 text-white"})}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:"DocumentIulia"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(ge,{to:"/courses",className:"text-gray-700 hover:text-primary-600 font-medium",children:" Cursuri"}),e.jsx(ge,{to:"/forum",className:"text-gray-700 hover:text-primary-600 font-medium",children:" Forum"}),e.jsx(ge,{to:"/fiscal-law",className:"text-gray-700 hover:text-primary-600 font-medium",children:" Legislaie Fiscal"}),e.jsx(ge,{to:"/login",className:"text-gray-700 hover:text-primary-600 font-medium",children:"Conectare"}),e.jsx(ge,{to:"/register",className:"btn-primary",children:"ncepe Gratuit"})]})]})})}),e.jsx("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-100 rounded-full mb-6",children:[e.jsx(ll,{className:"w-4 h-4 text-primary-600"}),e.jsx("span",{className:"text-sm font-medium text-primary-700",children:"AI-Powered Financial Intelligence"})]}),e.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-gray-900 mb-6",children:["Contabilitatea Ta,",e.jsx("br",{}),e.jsx("span",{className:"bg-gradient-to-r from-primary-600 to-primary-700 bg-clip-text text-transparent",children:"Automatizat cu AI"})]}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-10",children:"Uit de foi de calcul nesfrite. DocumentIulia automatizeaz contabilitatea, prezice fluxul de numerar i ofer sfaturi fiscale AI bazate pe legislaia romneasc. Economisete 15 ore pe sptmn."}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsxs(ge,{to:"/register",className:"btn-primary px-8 py-4 text-lg flex items-center gap-2",children:["ncepe Gratuit",e.jsx(xa,{className:"w-5 h-5"})]}),e.jsx(ge,{to:"/login",className:"btn-secondary px-8 py-4 text-lg",children:"Vezi Demo"})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-6",children:"Fr card bancar  Gratuit 14 zile  Anulezi oricnd"})]})}),e.jsx("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 text-center",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsx("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:"2,500+"}),e.jsx("div",{className:"text-gray-600",children:"Afaceri din Romnia"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsx("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:"15 ore"}),e.jsx("div",{className:"text-gray-600",children:"Economisite/Sptmn"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsx("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:"98.5%"}),e.jsx("div",{className:"text-gray-600",children:"Acuratee AI"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsx("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:"24/7"}),e.jsx("div",{className:"text-gray-600",children:"Monitorizare Automat"})]})]})}),e.jsxs("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Tot ce ai nevoie pentru contabilitate inteligent"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Funcionaliti puternice adaptate legislaiei romneti - economiseti timp i bani"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx(Sa,{className:"w-6 h-6 text-primary-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Consultant AI de Business"}),e.jsx("p",{className:"text-gray-600",children:"Primete recomandri personalizate bazate pe contextul afacerii tale. Decizii mai inteligente, rezultate mai bune - cu puterea AI."})]}),e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx($e,{className:"w-6 h-6 text-primary-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Predicie Flux de Numerar"}),e.jsx("p",{className:"text-gray-600",children:"Previziuni cu acuratee de 98%. tii exact cnd ai nevoie de finanare sau cnd poi investi surplusul. Zero surprize neplcute."})]}),e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx(EM,{className:"w-6 h-6 text-primary-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Facturare Automat"}),e.jsx("p",{className:"text-gray-600",children:"Creeaz, trimite i urmrete facturi automat. ncaseaz mai repede cu reminder-e inteligente i pli online integrate."})]}),e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx(mr,{className:"w-6 h-6 text-primary-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Rapoarte n Timp Real"}),e.jsx("p",{className:"text-gray-600",children:"Dashboard-uri interactive actualizate instant. nelegi performana afacerii tale dintr-o privire - fr Excel complicat."})]}),e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx(da,{className:"w-6 h-6 text-primary-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Gestionare Cheltuieli"}),e.jsx("p",{className:"text-gray-600",children:"Scaneaz bonuri cu telefonul. AI categorizeaz automat cheltuielile i genereaz rapoarte pentru contabil - economiseti ore ntregi."})]}),e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx(Tg,{className:"w-6 h-6 text-primary-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Securitate Bancar + GDPR"}),e.jsx("p",{className:"text-gray-600",children:"Datele tale criptate 256-bit end-to-end. Conformitate total GDPR i legislaie fiscal romneasc. Datele tale sunt n siguran."})]}),e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm hover:shadow-md transition-shadow border-2 border-primary-200",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx("svg",{className:"w-6 h-6 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})})}),e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:["Forum Comunitate",e.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-primary-100 text-primary-700 rounded-full",children:"NOU"})]}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Pune ntrebri, primete rspunsuri de la experi, mprtete cunotine. Sistem de reputaie, badge-uri i leaderboard - nva mpreun!"}),e.jsxs(ge,{to:"/forum",className:"inline-flex items-center text-primary-600 hover:text-primary-700 font-medium",children:["Exploreaz forumul",e.jsx(xa,{className:"w-4 h-4 ml-1"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm hover:shadow-md transition-shadow border-2 border-primary-200",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx("svg",{className:"w-6 h-6 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:["Cursuri Finance",e.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-primary-100 text-primary-700 rounded-full",children:"NOU"})]}),e.jsx("p",{className:"text-gray-600 mb-4",children:"40 de lecii interactive despre contabilitate i fiscalitate romneasc. nva cu flashcard-uri, quizuri i aplicaii practice."}),e.jsxs(ge,{to:"/courses",className:"inline-flex items-center text-primary-600 hover:text-primary-700 font-medium",children:["Vezi cursurile",e.jsx(xa,{className:"w-4 h-4 ml-1"})]})]})]})]}),e.jsx("section",{className:"bg-gray-50 py-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Simple, transparent pricing"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Choose the plan that fits your business"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Starter"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Perfect for freelancers"}),e.jsxs("div",{className:"text-4xl font-bold text-gray-900 mb-6",children:["$29",e.jsx("span",{className:"text-lg font-normal text-gray-600",children:"/month"})]}),e.jsxs("ul",{className:"space-y-3 mb-8",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ze,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700",children:"Up to 50 invoices/month"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ze,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700",children:"Basic AI insights"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ze,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700",children:"Expense tracking"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ze,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700",children:"Email support"})]})]}),e.jsx(ge,{to:"/register",className:"btn-secondary w-full text-center",children:"Start Free Trial"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg border-2 border-primary-600 relative",children:[e.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:e.jsx("span",{className:"bg-primary-600 text-white px-4 py-1 rounded-full text-sm font-medium",children:"Most Popular"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Professional"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"For growing businesses"}),e.jsxs("div",{className:"text-4xl font-bold text-gray-900 mb-6",children:["$79",e.jsx("span",{className:"text-lg font-normal text-gray-600",children:"/month"})]}),e.jsxs("ul",{className:"space-y-3 mb-8",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ze,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700",children:"Unlimited invoices"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ze,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700",children:"Advanced AI insights"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ze,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700",children:"Cash flow forecasting"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ze,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700",children:"Priority support"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ze,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700",children:"Custom reports"})]})]}),e.jsx(ge,{to:"/register",className:"btn-primary w-full text-center",children:"Start Free Trial"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Enterprise"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"For large organizations"}),e.jsxs("div",{className:"text-4xl font-bold text-gray-900 mb-6",children:["Custom",e.jsx("span",{className:"text-lg font-normal text-gray-600"})]}),e.jsxs("ul",{className:"space-y-3 mb-8",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ze,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700",children:"Everything in Pro"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ze,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700",children:"Dedicated account manager"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ze,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700",children:"Custom integrations"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ze,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700",children:"On-premise deployment"})]})]}),e.jsx(ge,{to:"/register",className:"btn-secondary w-full text-center",children:"Contact Sales"})]})]})]})}),e.jsx("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:e.jsxs("div",{className:"bg-gradient-to-br from-primary-600 to-primary-700 rounded-2xl p-12 text-center text-white",children:[e.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Gata s-i automatizezi contabilitatea?"}),e.jsx("p",{className:"text-xl mb-8 text-primary-100",children:"Altur-te la mii de antreprenori romni care folosesc deja DocumentIulia"}),e.jsx("div",{className:"flex gap-4 justify-center",children:e.jsxs(ge,{to:"/register",className:"bg-white text-primary-600 hover:bg-gray-100 px-8 py-4 rounded-lg font-semibold inline-flex items-center gap-2",children:["ncepe Acum Gratuit",e.jsx(xa,{className:"w-5 h-5"})]})})]})}),e.jsx("footer",{className:"bg-gray-900 text-gray-400 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:e.jsx(Sa,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"text-white font-bold",children:"DocumentIulia"})]}),e.jsx("p",{className:"text-sm",children:"Platform de contabilitate inteligent pentru afaceri moderne din Romnia."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-semibold mb-4",children:"Product"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white",children:"Features"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white",children:"Pricing"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white",children:"Security"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-semibold mb-4",children:"Company"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white",children:"About"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white",children:"Blog"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white",children:"Careers"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-semibold mb-4",children:"Support"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white",children:"Help Center"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white",children:"Contact"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white",children:"Privacy"})})]})]})]}),e.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-sm",children:e.jsx("p",{children:" 2025 DocumentIulia. Toate drepturile rezervate."})})]})})]}),MM=()=>{const[t,a]=v.useState(""),[r,n]=v.useState(""),[l,c]=v.useState(""),[d,u]=v.useState(!1),{login:x}=Mt(),f=nt(),h=async p=>{p.preventDefault(),c(""),u(!0);try{await x(t,r),f("/dashboard")}catch(y){c(y.message||"Failed to login")}finally{u(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-600 rounded-full mb-4",children:e.jsx(a2,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"DocumentIulia"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Conecteaz-te la contul tu"})]}),e.jsxs("div",{className:"card",children:[e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[l&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(qt,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-red-800",children:l})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Adres Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(il,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{id:"email",type:"email",value:t,onChange:p=>a(p.target.value),className:"input pl-10",placeholder:"you@company.com",required:!0,disabled:d})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Parol"}),e.jsxs("div",{className:"relative",children:[e.jsx(Np,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{id:"password",type:"password",value:r,onChange:p=>n(p.target.value),className:"input pl-10",placeholder:"",required:!0,disabled:d})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"ine-m minte"})]}),e.jsx(ge,{to:"/forgot-password",className:"text-sm text-primary-600 hover:text-primary-700",children:"Ai uitat parola?"})]}),e.jsx("button",{type:"submit",disabled:d,className:"btn-primary w-full flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Se conecteaz..."]}):e.jsxs(e.Fragment,{children:[e.jsx(a2,{className:"w-5 h-5"}),"Conectare"]})})]}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("p",{className:"text-sm text-blue-800 font-medium mb-2",children:"Cont Test (Admin):"}),e.jsxs("p",{className:"text-xs text-blue-700",children:["Email: test_admin@accountech.com",e.jsx("br",{}),"Parol: Test123!"]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Nu ai cont?"," ",e.jsx(ge,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-700",children:"nregistreaz-te"})]})})]}),e.jsx("p",{className:"text-center text-sm text-gray-600 mt-8",children:" 2025 DocumentIulia. Toate drepturile rezervate."})]})})},DM=()=>{const[t,a]=v.useState(""),[r,n]=v.useState(""),[l,c]=v.useState(""),[d,u]=v.useState(""),[x,f]=v.useState(""),[h,p]=v.useState(!1),{register:y}=Mt(),j=nt(),w=async S=>{if(S.preventDefault(),f(""),l!==d){f("Passwords do not match");return}if(l.length<6){f("Password must be at least 6 characters");return}p(!0);try{await y(r,l,t),j("/dashboard")}catch(g){f(g.message||"Failed to register")}finally{p(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-600 rounded-full mb-4",children:e.jsx(n2,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Create Account"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Start your 14-day free trial"})]}),e.jsxs("div",{className:"card",children:[e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[x&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(qt,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-red-800",children:x})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(Cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{id:"name",type:"text",value:t,onChange:S=>a(S.target.value),className:"input pl-10",placeholder:"John Doe",required:!0,disabled:h})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(il,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{id:"email",type:"email",value:r,onChange:S=>n(S.target.value),className:"input pl-10",placeholder:"you@company.com",required:!0,disabled:h})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Np,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{id:"password",type:"password",value:l,onChange:S=>c(S.target.value),className:"input pl-10",placeholder:"",required:!0,disabled:h,minLength:6})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Np,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{id:"confirmPassword",type:"password",value:d,onChange:S=>u(S.target.value),className:"input pl-10",placeholder:"",required:!0,disabled:h})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",required:!0,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500 mt-1"}),e.jsxs("label",{className:"ml-2 text-sm text-gray-600",children:["I agree to the"," ",e.jsx("a",{href:"#",className:"text-primary-600 hover:text-primary-700",children:"Terms of Service"})," ","and"," ",e.jsx("a",{href:"#",className:"text-primary-600 hover:text-primary-700",children:"Privacy Policy"})]})]}),e.jsx("button",{type:"submit",disabled:h,className:"btn-primary w-full flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:h?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating account..."]}):e.jsxs(e.Fragment,{children:[e.jsx(n2,{className:"w-5 h-5"}),"Create Account"]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",e.jsx(ge,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-700",children:"Sign in"})]})})]}),e.jsx("p",{className:"text-center text-sm text-gray-600 mt-8",children:" 2025 AccounTech AI. All rights reserved."})]})})};function s_(t){var a,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var l=t.length;for(a=0;a<l;a++)t[a]&&(r=s_(t[a]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Ke(){for(var t,a,r=0,n="",l=arguments.length;r<l;r++)(t=arguments[r])&&(a=s_(t))&&(n&&(n+=" "),n+=a);return n}var PM=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Dg(t){if(typeof t!="string")return!1;var a=PM;return a.includes(t)}var zM=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function i_(t){if(typeof t!="string")return!1;var a=zM;return a.includes(t)}function l_(t){return typeof t=="string"&&t.startsWith("data-")}function pr(t){var a=Object.entries(t).filter(r=>{var[n]=r;return i_(n)||l_(n)});return Object.fromEntries(a)}function cl(t){if(t==null)return null;if(v.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var a=t.props;return pr(a)}return typeof t=="object"&&!Array.isArray(t)?pr(t):null}function fa(t){var a=Object.entries(t).filter(r=>{var[n]=r;return i_(n)||l_(n)||Dg(n)});return Object.fromEntries(a)}function RM(t){return t==null?null:v.isValidElement(t)?fa(t.props):typeof t=="object"&&!Array.isArray(t)?fa(t):null}var LM=["children","width","height","viewBox","className","style","title","desc"];function _p(){return _p=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_p.apply(null,arguments)}function IM(t,a){if(t==null)return{};var r,n,l=BM(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(n=0;n<c.length;n++)r=c[n],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(l[r]=t[r])}return l}function BM(t,a){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(a.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var c_=v.forwardRef((t,a)=>{var{children:r,width:n,height:l,viewBox:c,className:d,style:u,title:x,desc:f}=t,h=IM(t,LM),p=c||{width:n,height:l,x:0,y:0},y=Ke("recharts-surface",d);return v.createElement("svg",_p({},fa(h),{className:y,width:n,height:l,style:u,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:a}),v.createElement("title",null,x),v.createElement("desc",null,f),r)}),$M=["children","className"];function Cp(){return Cp=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cp.apply(null,arguments)}function UM(t,a){if(t==null)return{};var r,n,l=FM(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(n=0;n<c.length;n++)r=c[n],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(l[r]=t[r])}return l}function FM(t,a){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(a.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var ka=v.forwardRef((t,a)=>{var{children:r,className:n}=t,l=UM(t,$M),c=Ke("recharts-layer",n);return v.createElement("g",Cp({className:c},fa(l),{ref:a}),r)}),qM=v.createContext(null);function st(t){return function(){return t}}const o_=Math.cos,Su=Math.sin,Tr=Math.sqrt,_u=Math.PI,wm=2*_u,Ap=Math.PI,kp=2*Ap,Ls=1e-6,HM=kp-Ls;function d_(t){this._+=t[0];for(let a=1,r=t.length;a<r;++a)this._+=arguments[a]+t[a]}function VM(t){let a=Math.floor(t);if(!(a>=0))throw new Error(`invalid digits: ${t}`);if(a>15)return d_;const r=10**a;return function(n){this._+=n[0];for(let l=1,c=n.length;l<c;++l)this._+=Math.round(arguments[l]*r)/r+n[l]}}class GM{constructor(a){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=a==null?d_:VM(a)}moveTo(a,r){this._append`M${this._x0=this._x1=+a},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(a,r){this._append`L${this._x1=+a},${this._y1=+r}`}quadraticCurveTo(a,r,n,l){this._append`Q${+a},${+r},${this._x1=+n},${this._y1=+l}`}bezierCurveTo(a,r,n,l,c,d){this._append`C${+a},${+r},${+n},${+l},${this._x1=+c},${this._y1=+d}`}arcTo(a,r,n,l,c){if(a=+a,r=+r,n=+n,l=+l,c=+c,c<0)throw new Error(`negative radius: ${c}`);let d=this._x1,u=this._y1,x=n-a,f=l-r,h=d-a,p=u-r,y=h*h+p*p;if(this._x1===null)this._append`M${this._x1=a},${this._y1=r}`;else if(y>Ls)if(!(Math.abs(p*x-f*h)>Ls)||!c)this._append`L${this._x1=a},${this._y1=r}`;else{let j=n-d,w=l-u,S=x*x+f*f,g=j*j+w*w,_=Math.sqrt(S),O=Math.sqrt(y),C=c*Math.tan((Ap-Math.acos((S+y-g)/(2*_*O)))/2),k=C/O,E=C/_;Math.abs(k-1)>Ls&&this._append`L${a+k*h},${r+k*p}`,this._append`A${c},${c},0,0,${+(p*j>h*w)},${this._x1=a+E*x},${this._y1=r+E*f}`}}arc(a,r,n,l,c,d){if(a=+a,r=+r,n=+n,d=!!d,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(l),x=n*Math.sin(l),f=a+u,h=r+x,p=1^d,y=d?l-c:c-l;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Ls||Math.abs(this._y1-h)>Ls)&&this._append`L${f},${h}`,n&&(y<0&&(y=y%kp+kp),y>HM?this._append`A${n},${n},0,1,${p},${a-u},${r-x}A${n},${n},0,1,${p},${this._x1=f},${this._y1=h}`:y>Ls&&this._append`A${n},${n},0,${+(y>=Ap)},${p},${this._x1=a+n*Math.cos(c)},${this._y1=r+n*Math.sin(c)}`)}rect(a,r,n,l){this._append`M${this._x0=this._x1=+a},${this._y0=this._y1=+r}h${n=+n}v${+l}h${-n}Z`}toString(){return this._}}function Pg(t){let a=3;return t.digits=function(r){if(!arguments.length)return a;if(r==null)a=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);a=n}return t},()=>new GM(a)}function zg(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function u_(t){this._context=t}u_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,a){switch(t=+t,a=+a,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,a):this._context.moveTo(t,a);break;case 1:this._point=2;default:this._context.lineTo(t,a);break}}};function Sm(t){return new u_(t)}function m_(t){return t[0]}function x_(t){return t[1]}function h_(t,a){var r=st(!0),n=null,l=Sm,c=null,d=Pg(u);t=typeof t=="function"?t:t===void 0?m_:st(t),a=typeof a=="function"?a:a===void 0?x_:st(a);function u(x){var f,h=(x=zg(x)).length,p,y=!1,j;for(n==null&&(c=l(j=d())),f=0;f<=h;++f)!(f<h&&r(p=x[f],f,x))===y&&((y=!y)?c.lineStart():c.lineEnd()),y&&c.point(+t(p,f,x),+a(p,f,x));if(j)return c=null,j+""||null}return u.x=function(x){return arguments.length?(t=typeof x=="function"?x:st(+x),u):t},u.y=function(x){return arguments.length?(a=typeof x=="function"?x:st(+x),u):a},u.defined=function(x){return arguments.length?(r=typeof x=="function"?x:st(!!x),u):r},u.curve=function(x){return arguments.length?(l=x,n!=null&&(c=l(n)),u):l},u.context=function(x){return arguments.length?(x==null?n=c=null:c=l(n=x),u):n},u}function qd(t,a,r){var n=null,l=st(!0),c=null,d=Sm,u=null,x=Pg(f);t=typeof t=="function"?t:t===void 0?m_:st(+t),a=typeof a=="function"?a:st(a===void 0?0:+a),r=typeof r=="function"?r:r===void 0?x_:st(+r);function f(p){var y,j,w,S=(p=zg(p)).length,g,_=!1,O,C=new Array(S),k=new Array(S);for(c==null&&(u=d(O=x())),y=0;y<=S;++y){if(!(y<S&&l(g=p[y],y,p))===_)if(_=!_)j=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),w=y-1;w>=j;--w)u.point(C[w],k[w]);u.lineEnd(),u.areaEnd()}_&&(C[y]=+t(g,y,p),k[y]=+a(g,y,p),u.point(n?+n(g,y,p):C[y],r?+r(g,y,p):k[y]))}if(O)return u=null,O+""||null}function h(){return h_().defined(l).curve(d).context(c)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:st(+p),n=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:st(+p),f):t},f.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:st(+p),f):n},f.y=function(p){return arguments.length?(a=typeof p=="function"?p:st(+p),r=null,f):a},f.y0=function(p){return arguments.length?(a=typeof p=="function"?p:st(+p),f):a},f.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:st(+p),f):r},f.lineX0=f.lineY0=function(){return h().x(t).y(a)},f.lineY1=function(){return h().x(t).y(r)},f.lineX1=function(){return h().x(n).y(a)},f.defined=function(p){return arguments.length?(l=typeof p=="function"?p:st(!!p),f):l},f.curve=function(p){return arguments.length?(d=p,c!=null&&(u=d(c)),f):d},f.context=function(p){return arguments.length?(p==null?c=u=null:u=d(c=p),f):c},f}class f_{constructor(a,r){this._context=a,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(a,r){switch(a=+a,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(a,r):this._context.moveTo(a,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+a)/2,this._y0,this._x0,r,a,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,a,this._y0,a,r);break}}this._x0=a,this._y0=r}}function KM(t){return new f_(t,!0)}function YM(t){return new f_(t,!1)}const Rg={draw(t,a){const r=Tr(a/_u);t.moveTo(r,0),t.arc(0,0,r,0,wm)}},XM={draw(t,a){const r=Tr(a/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},p_=Tr(1/3),WM=p_*2,ZM={draw(t,a){const r=Tr(a/WM),n=r*p_;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},QM={draw(t,a){const r=Tr(a),n=-r/2;t.rect(n,n,r,r)}},JM=.8908130915292852,g_=Su(_u/10)/Su(7*_u/10),eD=Su(wm/10)*g_,tD=-o_(wm/10)*g_,aD={draw(t,a){const r=Tr(a*JM),n=eD*r,l=tD*r;t.moveTo(0,-r),t.lineTo(n,l);for(let c=1;c<5;++c){const d=wm*c/5,u=o_(d),x=Su(d);t.lineTo(x*r,-u*r),t.lineTo(u*n-x*l,x*n+u*l)}t.closePath()}},Rf=Tr(3),rD={draw(t,a){const r=-Tr(a/(Rf*3));t.moveTo(0,r*2),t.lineTo(-Rf*r,-r),t.lineTo(Rf*r,-r),t.closePath()}},lr=-.5,cr=Tr(3)/2,Op=1/Tr(12),nD=(Op/2+1)*3,sD={draw(t,a){const r=Tr(a/nD),n=r/2,l=r*Op,c=n,d=r*Op+r,u=-c,x=d;t.moveTo(n,l),t.lineTo(c,d),t.lineTo(u,x),t.lineTo(lr*n-cr*l,cr*n+lr*l),t.lineTo(lr*c-cr*d,cr*c+lr*d),t.lineTo(lr*u-cr*x,cr*u+lr*x),t.lineTo(lr*n+cr*l,lr*l-cr*n),t.lineTo(lr*c+cr*d,lr*d-cr*c),t.lineTo(lr*u+cr*x,lr*x-cr*u),t.closePath()}};function iD(t,a){let r=null,n=Pg(l);t=typeof t=="function"?t:st(t||Rg),a=typeof a=="function"?a:st(a===void 0?64:+a);function l(){let c;if(r||(r=c=n()),t.apply(this,arguments).draw(r,+a.apply(this,arguments)),c)return r=null,c+""||null}return l.type=function(c){return arguments.length?(t=typeof c=="function"?c:st(c),l):t},l.size=function(c){return arguments.length?(a=typeof c=="function"?c:st(+c),l):a},l.context=function(c){return arguments.length?(r=c??null,l):r},l}function Cu(){}function Au(t,a,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+a)/6,(t._y0+4*t._y1+r)/6)}function y_(t){this._context=t}y_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Au(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,a){switch(t=+t,a=+a,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,a):this._context.moveTo(t,a);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Au(this,t,a);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=a}};function lD(t){return new y_(t)}function v_(t){this._context=t}v_.prototype={areaStart:Cu,areaEnd:Cu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,a){switch(t=+t,a=+a,this._point){case 0:this._point=1,this._x2=t,this._y2=a;break;case 1:this._point=2,this._x3=t,this._y3=a;break;case 2:this._point=3,this._x4=t,this._y4=a,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+a)/6);break;default:Au(this,t,a);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=a}};function cD(t){return new v_(t)}function b_(t){this._context=t}b_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,a){switch(t=+t,a=+a,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+a)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Au(this,t,a);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=a}};function oD(t){return new b_(t)}function j_(t){this._context=t}j_.prototype={areaStart:Cu,areaEnd:Cu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,a){t=+t,a=+a,this._point?this._context.lineTo(t,a):(this._point=1,this._context.moveTo(t,a))}};function dD(t){return new j_(t)}function s2(t){return t<0?-1:1}function i2(t,a,r){var n=t._x1-t._x0,l=a-t._x1,c=(t._y1-t._y0)/(n||l<0&&-0),d=(r-t._y1)/(l||n<0&&-0),u=(c*l+d*n)/(n+l);return(s2(c)+s2(d))*Math.min(Math.abs(c),Math.abs(d),.5*Math.abs(u))||0}function l2(t,a){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-a)/2:a}function Lf(t,a,r){var n=t._x0,l=t._y0,c=t._x1,d=t._y1,u=(c-n)/3;t._context.bezierCurveTo(n+u,l+u*a,c-u,d-u*r,c,d)}function ku(t){this._context=t}ku.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Lf(this,this._t0,l2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,a){var r=NaN;if(t=+t,a=+a,!(t===this._x1&&a===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,a):this._context.moveTo(t,a);break;case 1:this._point=2;break;case 2:this._point=3,Lf(this,l2(this,r=i2(this,t,a)),r);break;default:Lf(this,this._t0,r=i2(this,t,a));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=a,this._t0=r}}};function N_(t){this._context=new w_(t)}(N_.prototype=Object.create(ku.prototype)).point=function(t,a){ku.prototype.point.call(this,a,t)};function w_(t){this._context=t}w_.prototype={moveTo:function(t,a){this._context.moveTo(a,t)},closePath:function(){this._context.closePath()},lineTo:function(t,a){this._context.lineTo(a,t)},bezierCurveTo:function(t,a,r,n,l,c){this._context.bezierCurveTo(a,t,n,r,c,l)}};function uD(t){return new ku(t)}function mD(t){return new N_(t)}function S_(t){this._context=t}S_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,a=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],a[0]):this._context.moveTo(t[0],a[0]),r===2)this._context.lineTo(t[1],a[1]);else for(var n=c2(t),l=c2(a),c=0,d=1;d<r;++c,++d)this._context.bezierCurveTo(n[0][c],l[0][c],n[1][c],l[1][c],t[d],a[d]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,a){this._x.push(+t),this._y.push(+a)}};function c2(t){var a,r=t.length-1,n,l=new Array(r),c=new Array(r),d=new Array(r);for(l[0]=0,c[0]=2,d[0]=t[0]+2*t[1],a=1;a<r-1;++a)l[a]=1,c[a]=4,d[a]=4*t[a]+2*t[a+1];for(l[r-1]=2,c[r-1]=7,d[r-1]=8*t[r-1]+t[r],a=1;a<r;++a)n=l[a]/c[a-1],c[a]-=n,d[a]-=n*d[a-1];for(l[r-1]=d[r-1]/c[r-1],a=r-2;a>=0;--a)l[a]=(d[a]-l[a+1])/c[a];for(c[r-1]=(t[r]+l[r-1])/2,a=0;a<r-1;++a)c[a]=2*t[a+1]-l[a+1];return[l,c]}function xD(t){return new S_(t)}function _m(t,a){this._context=t,this._t=a}_m.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,a){switch(t=+t,a=+a,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,a):this._context.moveTo(t,a);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,a),this._context.lineTo(t,a);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,a)}break}}this._x=t,this._y=a}};function hD(t){return new _m(t,.5)}function fD(t){return new _m(t,0)}function pD(t){return new _m(t,1)}function ol(t,a){if((d=t.length)>1)for(var r=1,n,l,c=t[a[0]],d,u=c.length;r<d;++r)for(l=c,c=t[a[r]],n=0;n<u;++n)c[n][1]+=c[n][0]=isNaN(l[n][1])?l[n][0]:l[n][1]}function Ep(t){for(var a=t.length,r=new Array(a);--a>=0;)r[a]=a;return r}function gD(t,a){return t[a]}function yD(t){const a=[];return a.key=t,a}function vD(){var t=st([]),a=Ep,r=ol,n=gD;function l(c){var d=Array.from(t.apply(this,arguments),yD),u,x=d.length,f=-1,h;for(const p of c)for(u=0,++f;u<x;++u)(d[u][f]=[0,+n(p,d[u].key,f,c)]).data=p;for(u=0,h=zg(a(d));u<x;++u)d[h[u]].index=u;return r(d,h),d}return l.keys=function(c){return arguments.length?(t=typeof c=="function"?c:st(Array.from(c)),l):t},l.value=function(c){return arguments.length?(n=typeof c=="function"?c:st(+c),l):n},l.order=function(c){return arguments.length?(a=c==null?Ep:typeof c=="function"?c:st(Array.from(c)),l):a},l.offset=function(c){return arguments.length?(r=c??ol,l):r},l}function bD(t,a){if((n=t.length)>0){for(var r,n,l=0,c=t[0].length,d;l<c;++l){for(d=r=0;r<n;++r)d+=t[r][l][1]||0;if(d)for(r=0;r<n;++r)t[r][l][1]/=d}ol(t,a)}}function jD(t,a){if((l=t.length)>0){for(var r=0,n=t[a[0]],l,c=n.length;r<c;++r){for(var d=0,u=0;d<l;++d)u+=t[d][r][1]||0;n[r][1]+=n[r][0]=-u/2}ol(t,a)}}function ND(t,a){if(!(!((d=t.length)>0)||!((c=(l=t[a[0]]).length)>0))){for(var r=0,n=1,l,c,d;n<c;++n){for(var u=0,x=0,f=0;u<d;++u){for(var h=t[a[u]],p=h[n][1]||0,y=h[n-1][1]||0,j=(p-y)/2,w=0;w<u;++w){var S=t[a[w]],g=S[n][1]||0,_=S[n-1][1]||0;j+=g-_}x+=p,f+=j*p}l[n-1][1]+=l[n-1][0]=r,x&&(r-=f/x)}l[n-1][1]+=l[n-1][0]=r,ol(t,a)}}var If={},Bf={},o2;function wD(){return o2||(o2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r){return r==="__proto__"}t.isUnsafeProperty=a})(Bf)),Bf}var $f={},d2;function __(){return d2||(d2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=a})($f)),$f}var Uf={},u2;function Lg(){return u2||(u2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}t.toKey=a})(Uf)),Uf}var Ff={},qf={},m2;function SD(){return m2||(m2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(a).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}t.toString=a})(qf)),qf}var x2;function Ig(){return x2||(x2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=SD(),r=Lg();function n(l){if(Array.isArray(l))return l.map(r.toKey);if(typeof l=="symbol")return[l];l=a.toString(l);const c=[],d=l.length;if(d===0)return c;let u=0,x="",f="",h=!1;for(l.charCodeAt(0)===46&&(c.push(""),u++);u<d;){const p=l[u];f?p==="\\"&&u+1<d?(u++,x+=l[u]):p===f?f="":x+=p:h?p==='"'||p==="'"?f=p:p==="]"?(h=!1,c.push(x),x=""):x+=p:p==="["?(h=!0,x&&(c.push(x),x="")):p==="."?x&&(c.push(x),x=""):x+=p,u++}return x&&c.push(x),c}t.toPath=n})(Ff)),Ff}var h2;function Bg(){return h2||(h2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=wD(),r=__(),n=Lg(),l=Ig();function c(u,x,f){if(u==null)return f;switch(typeof x){case"string":{if(a.isUnsafeProperty(x))return f;const h=u[x];return h===void 0?r.isDeepKey(x)?c(u,l.toPath(x),f):f:h}case"number":case"symbol":{typeof x=="number"&&(x=n.toKey(x));const h=u[x];return h===void 0?f:h}default:{if(Array.isArray(x))return d(u,x,f);if(Object.is(x?.valueOf(),-0)?x="-0":x=String(x),a.isUnsafeProperty(x))return f;const h=u[x];return h===void 0?f:h}}}function d(u,x,f){if(x.length===0)return f;let h=u;for(let p=0;p<x.length;p++){if(h==null||a.isUnsafeProperty(x[p]))return f;h=h[x[p]]}return h===void 0?f:h}t.get=c})(If)),If}var Hf,f2;function _D(){return f2||(f2=1,Hf=Bg().get),Hf}var CD=_D();const ei=On(CD);var oa=t=>t===0?0:t>0?1:-1,qr=t=>typeof t=="number"&&t!=+t,wn=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,we=t=>(typeof t=="number"||t instanceof Number)&&!qr(t),Hr=t=>we(t)||typeof t=="string",AD=0,qc=t=>{var a=++AD;return"".concat(t||"").concat(a)},Ka=function(a,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!we(a)&&typeof a!="string")return n;var c;if(wn(a)){if(r==null)return n;var d=a.indexOf("%");c=r*parseFloat(a.slice(0,d))/100}else c=+a;return qr(c)&&(c=n),l&&r!=null&&c>r&&(c=r),c},C_=t=>{if(!Array.isArray(t))return!1;for(var a=t.length,r={},n=0;n<a;n++)if(!r[t[n]])r[t[n]]=!0;else return!0;return!1};function ca(t,a,r){return we(t)&&we(a)?t+r*(a-t):a}function A_(t,a,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof a=="function"?a(n):ei(n,a))===r)}var Rt=t=>t===null||typeof t>"u",co=t=>Rt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function kD(t){return t!=null}function li(){}var OD=["type","size","sizeType"];function Tp(){return Tp=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tp.apply(null,arguments)}function p2(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,n)}return r}function g2(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?p2(Object(r),!0).forEach(function(n){ED(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ED(t,a,r){return(a=TD(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function TD(t){var a=MD(t,"string");return typeof a=="symbol"?a:a+""}function MD(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function DD(t,a){if(t==null)return{};var r,n,l=PD(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(n=0;n<c.length;n++)r=c[n],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(l[r]=t[r])}return l}function PD(t,a){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(a.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var k_={symbolCircle:Rg,symbolCross:XM,symbolDiamond:ZM,symbolSquare:QM,symbolStar:aD,symbolTriangle:rD,symbolWye:sD},zD=Math.PI/180,RD=t=>{var a="symbol".concat(co(t));return k_[a]||Rg},LD=(t,a,r)=>{if(a==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*zD;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},ID=(t,a)=>{k_["symbol".concat(co(t))]=a},O_=t=>{var{type:a="circle",size:r=64,sizeType:n="area"}=t,l=DD(t,OD),c=g2(g2({},l),{},{type:a,size:r,sizeType:n}),d="circle";typeof a=="string"&&(d=a);var u=()=>{var y=RD(d),j=iD().type(y).size(LD(r,n,d)),w=j();if(w!==null)return w},{className:x,cx:f,cy:h}=c,p=fa(c);return we(f)&&we(h)&&we(r)?v.createElement("path",Tp({},p,{className:Ke("recharts-symbols",x),transform:"translate(".concat(f,", ").concat(h,")"),d:u()})):null};O_.registerSymbol=ID;var E_=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,$g=(t,a)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(v.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(l=>{Dg(l)&&(n[l]=(c=>r[l](r,c)))}),n},BD=(t,a,r)=>n=>(t(a,r,n),null),T_=(t,a,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(l=>{var c=t[l];Dg(l)&&typeof c=="function"&&(n||(n={}),n[l]=BD(c,a,r))}),n};function y2(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,n)}return r}function $D(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?y2(Object(r),!0).forEach(function(n){UD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UD(t,a,r){return(a=FD(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function FD(t){var a=qD(t,"string");return typeof a=="symbol"?a:a+""}function qD(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function ra(t,a){var r=$D({},t),n=a,l=Object.keys(a),c=l.reduce((d,u)=>(d[u]===void 0&&n[u]!==void 0&&(d[u]=n[u]),d),r);return c}var Vf={},Gf={},v2;function HD(){return v2||(v2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r,n){const l=new Map;for(let c=0;c<r.length;c++){const d=r[c],u=n(d);l.has(u)||l.set(u,d)}return Array.from(l.values())}t.uniqBy=a})(Gf)),Gf}var Kf={},b2;function M_(){return b2||(b2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r){return r}t.identity=a})(Kf)),Kf}var Yf={},Xf={},Wf={},j2;function VD(){return j2||(j2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=a})(Wf)),Wf}var N2;function Ug(){return N2||(N2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=VD();function r(n){return n!=null&&typeof n!="function"&&a.isLength(n.length)}t.isArrayLike=r})(Xf)),Xf}var Zf={},w2;function GD(){return w2||(w2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r){return typeof r=="object"&&r!==null}t.isObjectLike=a})(Zf)),Zf}var S2;function KD(){return S2||(S2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=Ug(),r=GD();function n(l){return r.isObjectLike(l)&&a.isArrayLike(l)}t.isArrayLikeObject=n})(Yf)),Yf}var Qf={},Jf={},_2;function YD(){return _2||(_2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=Bg();function r(n){return function(l){return a.get(l,n)}}t.property=r})(Jf)),Jf}var e0={},t0={},a0={},r0={},C2;function D_(){return C2||(C2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=a})(r0)),r0}var n0={},A2;function P_(){return A2||(A2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=a})(n0)),n0}var s0={},k2;function z_(){return k2||(k2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.eq=a})(s0)),s0}var O2;function XD(){return O2||(O2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=D_(),r=P_(),n=z_();function l(h,p,y){return typeof y!="function"?l(h,p,()=>{}):c(h,p,function j(w,S,g,_,O,C){const k=y(w,S,g,_,O,C);return k!==void 0?!!k:c(w,S,j,C)},new Map)}function c(h,p,y,j){if(p===h)return!0;switch(typeof p){case"object":return d(h,p,y,j);case"function":return Object.keys(p).length>0?c(h,{...p},y,j):n.eq(h,p);default:return a.isObject(h)?typeof p=="string"?p==="":!0:n.eq(h,p)}}function d(h,p,y,j){if(p==null)return!0;if(Array.isArray(p))return x(h,p,y,j);if(p instanceof Map)return u(h,p,y,j);if(p instanceof Set)return f(h,p,y,j);const w=Object.keys(p);if(h==null)return w.length===0;if(w.length===0)return!0;if(j?.has(p))return j.get(p)===h;j?.set(p,h);try{for(let S=0;S<w.length;S++){const g=w[S];if(!r.isPrimitive(h)&&!(g in h)||p[g]===void 0&&h[g]!==void 0||p[g]===null&&h[g]!==null||!y(h[g],p[g],g,h,p,j))return!1}return!0}finally{j?.delete(p)}}function u(h,p,y,j){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[w,S]of p.entries()){const g=h.get(w);if(y(g,S,w,h,p,j)===!1)return!1}return!0}function x(h,p,y,j){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const w=new Set;for(let S=0;S<p.length;S++){const g=p[S];let _=!1;for(let O=0;O<h.length;O++){if(w.has(O))continue;const C=h[O];let k=!1;if(y(C,g,S,h,p,j)&&(k=!0),k){w.add(O),_=!0;break}}if(!_)return!1}return!0}function f(h,p,y,j){return p.size===0?!0:h instanceof Set?x([...h],[...p],y,j):!1}t.isMatchWith=l,t.isSetMatch=f})(a0)),a0}var E2;function R_(){return E2||(E2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=XD();function r(n,l){return a.isMatchWith(n,l,()=>{})}t.isMatch=r})(t0)),t0}var i0={},l0={},c0={},T2;function WD(){return T2||(T2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=a})(c0)),c0}var o0={},M2;function L_(){return M2||(M2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=a})(o0)),o0}var d0={},D2;function I_(){return D2||(D2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a="[object RegExp]",r="[object String]",n="[object Number]",l="[object Boolean]",c="[object Arguments]",d="[object Symbol]",u="[object Date]",x="[object Map]",f="[object Set]",h="[object Array]",p="[object Function]",y="[object ArrayBuffer]",j="[object Object]",w="[object Error]",S="[object DataView]",g="[object Uint8Array]",_="[object Uint8ClampedArray]",O="[object Uint16Array]",C="[object Uint32Array]",k="[object BigUint64Array]",E="[object Int8Array]",T="[object Int16Array]",D="[object Int32Array]",P="[object BigInt64Array]",R="[object Float32Array]",L="[object Float64Array]";t.argumentsTag=c,t.arrayBufferTag=y,t.arrayTag=h,t.bigInt64ArrayTag=P,t.bigUint64ArrayTag=k,t.booleanTag=l,t.dataViewTag=S,t.dateTag=u,t.errorTag=w,t.float32ArrayTag=R,t.float64ArrayTag=L,t.functionTag=p,t.int16ArrayTag=T,t.int32ArrayTag=D,t.int8ArrayTag=E,t.mapTag=x,t.numberTag=n,t.objectTag=j,t.regexpTag=a,t.setTag=f,t.stringTag=r,t.symbolTag=d,t.uint16ArrayTag=O,t.uint32ArrayTag=C,t.uint8ArrayTag=g,t.uint8ClampedArrayTag=_})(d0)),d0}var u0={},P2;function ZD(){return P2||(P2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=a})(u0)),u0}var z2;function B_(){return z2||(z2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=WD(),r=L_(),n=I_(),l=P_(),c=ZD();function d(h,p){return u(h,void 0,h,new Map,p)}function u(h,p,y,j=new Map,w=void 0){const S=w?.(h,p,y,j);if(S!==void 0)return S;if(l.isPrimitive(h))return h;if(j.has(h))return j.get(h);if(Array.isArray(h)){const g=new Array(h.length);j.set(h,g);for(let _=0;_<h.length;_++)g[_]=u(h[_],_,y,j,w);return Object.hasOwn(h,"index")&&(g.index=h.index),Object.hasOwn(h,"input")&&(g.input=h.input),g}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const g=new RegExp(h.source,h.flags);return g.lastIndex=h.lastIndex,g}if(h instanceof Map){const g=new Map;j.set(h,g);for(const[_,O]of h)g.set(_,u(O,_,y,j,w));return g}if(h instanceof Set){const g=new Set;j.set(h,g);for(const _ of h)g.add(u(_,void 0,y,j,w));return g}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(c.isTypedArray(h)){const g=new(Object.getPrototypeOf(h)).constructor(h.length);j.set(h,g);for(let _=0;_<h.length;_++)g[_]=u(h[_],_,y,j,w);return g}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const g=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return j.set(h,g),x(g,h,y,j,w),g}if(typeof File<"u"&&h instanceof File){const g=new File([h],h.name,{type:h.type});return j.set(h,g),x(g,h,y,j,w),g}if(typeof Blob<"u"&&h instanceof Blob){const g=new Blob([h],{type:h.type});return j.set(h,g),x(g,h,y,j,w),g}if(h instanceof Error){const g=new h.constructor;return j.set(h,g),g.message=h.message,g.name=h.name,g.stack=h.stack,g.cause=h.cause,x(g,h,y,j,w),g}if(h instanceof Boolean){const g=new Boolean(h.valueOf());return j.set(h,g),x(g,h,y,j,w),g}if(h instanceof Number){const g=new Number(h.valueOf());return j.set(h,g),x(g,h,y,j,w),g}if(h instanceof String){const g=new String(h.valueOf());return j.set(h,g),x(g,h,y,j,w),g}if(typeof h=="object"&&f(h)){const g=Object.create(Object.getPrototypeOf(h));return j.set(h,g),x(g,h,y,j,w),g}return h}function x(h,p,y=h,j,w){const S=[...Object.keys(p),...a.getSymbols(p)];for(let g=0;g<S.length;g++){const _=S[g],O=Object.getOwnPropertyDescriptor(h,_);(O==null||O.writable)&&(h[_]=u(p[_],_,y,j,w))}}function f(h){switch(r.getTag(h)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=d,t.cloneDeepWithImpl=u,t.copyProperties=x})(l0)),l0}var R2;function QD(){return R2||(R2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=B_();function r(n){return a.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(i0)),i0}var L2;function JD(){return L2||(L2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=R_(),r=QD();function n(l){return l=r.cloneDeep(l),c=>a.isMatch(c,l)}t.matches=n})(e0)),e0}var m0={},x0={},h0={},I2;function eP(){return I2||(I2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=B_(),r=I_();function n(l,c){return a.cloneDeepWith(l,(d,u,x,f)=>{const h=c?.(d,u,x,f);if(h!==void 0)return h;if(typeof l=="object")switch(Object.prototype.toString.call(l)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new l.constructor(l?.valueOf());return a.copyProperties(p,l),p}case r.argumentsTag:{const p={};return a.copyProperties(p,l),p.length=l.length,p[Symbol.iterator]=l[Symbol.iterator],p}default:return}})}t.cloneDeepWith=n})(h0)),h0}var B2;function tP(){return B2||(B2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=eP();function r(n){return a.cloneDeepWith(n)}t.cloneDeep=r})(x0)),x0}var f0={},p0={},$2;function $_(){return $2||($2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=/^(?:0|[1-9]\d*)$/;function r(n,l=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<l;case"symbol":return!1;case"string":return a.test(n)}}t.isIndex=r})(p0)),p0}var g0={},U2;function aP(){return U2||(U2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=L_();function r(n){return n!==null&&typeof n=="object"&&a.getTag(n)==="[object Arguments]"}t.isArguments=r})(g0)),g0}var F2;function rP(){return F2||(F2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=__(),r=$_(),n=aP(),l=Ig();function c(d,u){let x;if(Array.isArray(u)?x=u:typeof u=="string"&&a.isDeepKey(u)&&d?.[u]==null?x=l.toPath(u):x=[u],x.length===0)return!1;let f=d;for(let h=0;h<x.length;h++){const p=x[h];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||n.isArguments(f))&&r.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}t.has=c})(f0)),f0}var q2;function nP(){return q2||(q2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=R_(),r=Lg(),n=tP(),l=Bg(),c=rP();function d(u,x){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=r.toKey(u);break}}return x=n.cloneDeep(x),function(f){const h=l.get(f,u);return h===void 0?c.has(f,u):x===void 0?h===void 0:a.isMatch(h,x)}}t.matchesProperty=d})(m0)),m0}var H2;function sP(){return H2||(H2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=M_(),r=YD(),n=JD(),l=nP();function c(d){if(d==null)return a.identity;switch(typeof d){case"function":return d;case"object":return Array.isArray(d)&&d.length===2?l.matchesProperty(d[0],d[1]):n.matches(d);case"string":case"symbol":case"number":return r.property(d)}}t.iteratee=c})(Qf)),Qf}var V2;function iP(){return V2||(V2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=HD(),r=M_(),n=KD(),l=sP();function c(d,u=r.identity){return n.isArrayLikeObject(d)?a.uniqBy(Array.from(d),l.iteratee(u)):[]}t.uniqBy=c})(Vf)),Vf}var y0,G2;function lP(){return G2||(G2=1,y0=iP().uniqBy),y0}var cP=lP();const K2=On(cP);function oP(t,a,r){return a===!0?K2(t,r):typeof a=="function"?K2(t,a):t}var v0={exports:{}},b0={},j0={exports:{}},N0={};var Y2;function dP(){if(Y2)return N0;Y2=1;var t=fl();function a(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var r=typeof Object.is=="function"?Object.is:a,n=t.useState,l=t.useEffect,c=t.useLayoutEffect,d=t.useDebugValue;function u(p,y){var j=y(),w=n({inst:{value:j,getSnapshot:y}}),S=w[0].inst,g=w[1];return c(function(){S.value=j,S.getSnapshot=y,x(S)&&g({inst:S})},[p,j,y]),l(function(){return x(S)&&g({inst:S}),p(function(){x(S)&&g({inst:S})})},[p]),d(j),j}function x(p){var y=p.getSnapshot;p=p.value;try{var j=y();return!r(p,j)}catch{return!0}}function f(p,y){return y()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return N0.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,N0}var X2;function uP(){return X2||(X2=1,j0.exports=dP()),j0.exports}var W2;function mP(){if(W2)return b0;W2=1;var t=fl(),a=uP();function r(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:r,l=a.useSyncExternalStore,c=t.useRef,d=t.useEffect,u=t.useMemo,x=t.useDebugValue;return b0.useSyncExternalStoreWithSelector=function(f,h,p,y,j){var w=c(null);if(w.current===null){var S={hasValue:!1,value:null};w.current=S}else S=w.current;w=u(function(){function _(T){if(!O){if(O=!0,C=T,T=y(T),j!==void 0&&S.hasValue){var D=S.value;if(j(D,T))return k=D}return k=T}if(D=k,n(C,T))return D;var P=y(T);return j!==void 0&&j(D,P)?(C=T,D):(C=T,k=P)}var O=!1,C,k,E=p===void 0?null:p;return[function(){return _(h())},E===null?void 0:function(){return _(E())}]},[h,p,y,j]);var g=l(f,w[0],w[1]);return d(function(){S.hasValue=!0,S.value=g},[g]),x(g),g},b0}var Z2;function xP(){return Z2||(Z2=1,v0.exports=mP()),v0.exports}var hP=xP(),Fg=v.createContext(null),fP=t=>t,ft=()=>{var t=v.useContext(Fg);return t?t.store.dispatch:fP},hu=()=>{},pP=()=>hu,gP=(t,a)=>t===a;function Ne(t){var a=v.useContext(Fg);return hP.useSyncExternalStoreWithSelector(a?a.subscription.addNestedSub:pP,a?a.store.getState:hu,a?a.store.getState:hu,a?t:hu,gP)}function yP(t,a=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(a)}function vP(t,a=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(a)}function bP(t,a="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${a}[${r}]`)}}var Q2=t=>Array.isArray(t)?t:[t];function jP(t){const a=Array.isArray(t[0])?t[0]:t;return bP(a,"createSelector expects all input-selectors to be functions, but received the following types: "),a}function NP(t,a){const r=[],{length:n}=t;for(let l=0;l<n;l++)r.push(t[l].apply(null,a));return r}var wP=class{constructor(t){this.value=t}deref(){return this.value}},SP=typeof WeakRef<"u"?WeakRef:wP,_P=0,J2=1;function Hd(){return{s:_P,v:void 0,o:null,p:null}}function U_(t,a={}){let r=Hd();const{resultEqualityCheck:n}=a;let l,c=0;function d(){let u=r;const{length:x}=arguments;for(let p=0,y=x;p<y;p++){const j=arguments[p];if(typeof j=="function"||typeof j=="object"&&j!==null){let w=u.o;w===null&&(u.o=w=new WeakMap);const S=w.get(j);S===void 0?(u=Hd(),w.set(j,u)):u=S}else{let w=u.p;w===null&&(u.p=w=new Map);const S=w.get(j);S===void 0?(u=Hd(),w.set(j,u)):u=S}}const f=u;let h;if(u.s===J2)h=u.v;else if(h=t.apply(null,arguments),c++,n){const p=l?.deref?.()??l;p!=null&&n(p,h)&&(h=p,c!==0&&c--),l=typeof h=="object"&&h!==null||typeof h=="function"?new SP(h):h}return f.s=J2,f.v=h,h}return d.clearCache=()=>{r=Hd(),d.resetResultsCount()},d.resultsCount=()=>c,d.resetResultsCount=()=>{c=0},d}function CP(t,...a){const r=typeof t=="function"?{memoize:t,memoizeOptions:a}:t,n=(...l)=>{let c=0,d=0,u,x={},f=l.pop();typeof f=="object"&&(x=f,f=l.pop()),yP(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...r,...x},{memoize:p,memoizeOptions:y=[],argsMemoize:j=U_,argsMemoizeOptions:w=[]}=h,S=Q2(y),g=Q2(w),_=jP(l),O=p(function(){return c++,f.apply(null,arguments)},...S),C=j(function(){d++;const E=NP(_,arguments);return u=O.apply(null,E),u},...g);return Object.assign(C,{resultFunc:f,memoizedResultFunc:O,dependencies:_,dependencyRecomputations:()=>d,resetDependencyRecomputations:()=>{d=0},lastResult:()=>u,recomputations:()=>c,resetRecomputations:()=>{c=0},memoize:p,argsMemoize:j})};return Object.assign(n,{withTypes:()=>n}),n}var Z=CP(U_),AP=Object.assign((t,a=Z)=>{vP(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(c=>t[c]);return a(n,(...c)=>c.reduce((d,u,x)=>(d[r[x]]=u,d),{}))},{withTypes:()=>AP}),w0={},S0={},_0={},ew;function kP(){return ew||(ew=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,l,c)=>{if(n!==l){const d=a(n),u=a(l);if(d===u&&d===0){if(n<l)return c==="desc"?1:-1;if(n>l)return c==="desc"?-1:1}return c==="desc"?u-d:d-u}return 0};t.compareValues=r})(_0)),_0}var C0={},A0={},tw;function F_(){return tw||(tw=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=a})(A0)),A0}var aw;function OP(){return aw||(aw=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=F_(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function l(c,d){return Array.isArray(c)?!1:typeof c=="number"||typeof c=="boolean"||c==null||a.isSymbol(c)?!0:typeof c=="string"&&(n.test(c)||!r.test(c))||d!=null&&Object.hasOwn(d,c)}t.isKey=l})(C0)),C0}var rw;function EP(){return rw||(rw=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=kP(),r=OP(),n=Ig();function l(c,d,u,x){if(c==null)return[];u=x?void 0:u,Array.isArray(c)||(c=Object.values(c)),Array.isArray(d)||(d=d==null?[null]:[d]),d.length===0&&(d=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(j=>String(j));const f=(j,w)=>{let S=j;for(let g=0;g<w.length&&S!=null;++g)S=S[w[g]];return S},h=(j,w)=>w==null||j==null?w:typeof j=="object"&&"key"in j?Object.hasOwn(w,j.key)?w[j.key]:f(w,j.path):typeof j=="function"?j(w):Array.isArray(j)?f(w,j):typeof w=="object"?w[j]:w,p=d.map(j=>(Array.isArray(j)&&j.length===1&&(j=j[0]),j==null||typeof j=="function"||Array.isArray(j)||r.isKey(j)?j:{key:j,path:n.toPath(j)}));return c.map(j=>({original:j,criteria:p.map(w=>h(w,j))})).slice().sort((j,w)=>{for(let S=0;S<p.length;S++){const g=a.compareValues(j.criteria[S],w.criteria[S],u[S]);if(g!==0)return g}return 0}).map(j=>j.original)}t.orderBy=l})(S0)),S0}var k0={},nw;function TP(){return nw||(nw=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r,n=1){const l=[],c=Math.floor(n),d=(u,x)=>{for(let f=0;f<u.length;f++){const h=u[f];Array.isArray(h)&&x<c?d(h,x+1):l.push(h)}};return d(r,0),l}t.flatten=a})(k0)),k0}var O0={},sw;function q_(){return sw||(sw=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=$_(),r=Ug(),n=D_(),l=z_();function c(d,u,x){return n.isObject(x)&&(typeof u=="number"&&r.isArrayLike(x)&&a.isIndex(u)&&u<x.length||typeof u=="string"&&u in x)?l.eq(x[u],d):!1}t.isIterateeCall=c})(O0)),O0}var iw;function MP(){return iw||(iw=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=EP(),r=TP(),n=q_();function l(c,...d){const u=d.length;return u>1&&n.isIterateeCall(c,d[0],d[1])?d=[]:u>2&&n.isIterateeCall(d[0],d[1],d[2])&&(d=[d[0]]),a.orderBy(c,r.flatten(d),["asc"])}t.sortBy=l})(w0)),w0}var E0,lw;function DP(){return lw||(lw=1,E0=MP().sortBy),E0}var PP=DP();const Cm=On(PP);var H_=t=>t.legend.settings,zP=t=>t.legend.size,RP=t=>t.legend.payload;Z([RP,H_],(t,a)=>{var{itemSorter:r}=a,n=t.flat(1);return r?Cm(n,r):n});var Vd=1;function LP(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[a,r]=v.useState({height:0,left:0,top:0,width:0}),n=v.useCallback(l=>{if(l!=null){var c=l.getBoundingClientRect(),d={height:c.height,left:c.left,top:c.top,width:c.width};(Math.abs(d.height-a.height)>Vd||Math.abs(d.left-a.left)>Vd||Math.abs(d.top-a.top)>Vd||Math.abs(d.width-a.width)>Vd)&&r({height:d.height,left:d.left,top:d.top,width:d.width})}},[a.width,a.height,a.top,a.left,...t]);return[a,n]}function ta(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var IP=typeof Symbol=="function"&&Symbol.observable||"@@observable",cw=IP,T0=()=>Math.random().toString(36).substring(7).split("").join("."),BP={INIT:`@@redux/INIT${T0()}`,REPLACE:`@@redux/REPLACE${T0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${T0()}`},Ou=BP;function qg(t){if(typeof t!="object"||t===null)return!1;let a=t;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(t)===a||Object.getPrototypeOf(t)===null}function V_(t,a,r){if(typeof t!="function")throw new Error(ta(2));if(typeof a=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ta(0));if(typeof a=="function"&&typeof r>"u"&&(r=a,a=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ta(1));return r(V_)(t,a)}let n=t,l=a,c=new Map,d=c,u=0,x=!1;function f(){d===c&&(d=new Map,c.forEach((g,_)=>{d.set(_,g)}))}function h(){if(x)throw new Error(ta(3));return l}function p(g){if(typeof g!="function")throw new Error(ta(4));if(x)throw new Error(ta(5));let _=!0;f();const O=u++;return d.set(O,g),function(){if(_){if(x)throw new Error(ta(6));_=!1,f(),d.delete(O),c=null}}}function y(g){if(!qg(g))throw new Error(ta(7));if(typeof g.type>"u")throw new Error(ta(8));if(typeof g.type!="string")throw new Error(ta(17));if(x)throw new Error(ta(9));try{x=!0,l=n(l,g)}finally{x=!1}return(c=d).forEach(O=>{O()}),g}function j(g){if(typeof g!="function")throw new Error(ta(10));n=g,y({type:Ou.REPLACE})}function w(){const g=p;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(ta(11));function O(){const k=_;k.next&&k.next(h())}return O(),{unsubscribe:g(O)}},[cw](){return this}}}return y({type:Ou.INIT}),{dispatch:y,subscribe:p,getState:h,replaceReducer:j,[cw]:w}}function $P(t){Object.keys(t).forEach(a=>{const r=t[a];if(typeof r(void 0,{type:Ou.INIT})>"u")throw new Error(ta(12));if(typeof r(void 0,{type:Ou.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ta(13))})}function G_(t){const a=Object.keys(t),r={};for(let c=0;c<a.length;c++){const d=a[c];typeof t[d]=="function"&&(r[d]=t[d])}const n=Object.keys(r);let l;try{$P(r)}catch(c){l=c}return function(d={},u){if(l)throw l;let x=!1;const f={};for(let h=0;h<n.length;h++){const p=n[h],y=r[p],j=d[p],w=y(j,u);if(typeof w>"u")throw u&&u.type,new Error(ta(14));f[p]=w,x=x||w!==j}return x=x||n.length!==Object.keys(d).length,x?f:d}}function Eu(...t){return t.length===0?a=>a:t.length===1?t[0]:t.reduce((a,r)=>(...n)=>a(r(...n)))}function UP(...t){return a=>(r,n)=>{const l=a(r,n);let c=()=>{throw new Error(ta(15))};const d={getState:l.getState,dispatch:(x,...f)=>c(x,...f)},u=t.map(x=>x(d));return c=Eu(...u)(l.dispatch),{...l,dispatch:c}}}function K_(t){return qg(t)&&"type"in t&&typeof t.type=="string"}var Y_=Symbol.for("immer-nothing"),ow=Symbol.for("immer-draftable"),Wa=Symbol.for("immer-state");function Sr(t,...a){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Hc=Object.getPrototypeOf;function ti(t){return!!t&&!!t[Wa]}function Sn(t){return t?X_(t)||Array.isArray(t)||!!t[ow]||!!t.constructor?.[ow]||oo(t)||km(t):!1}var FP=Object.prototype.constructor.toString(),dw=new WeakMap;function X_(t){if(!t||typeof t!="object")return!1;const a=Object.getPrototypeOf(t);if(a===null||a===Object.prototype)return!0;const r=Object.hasOwnProperty.call(a,"constructor")&&a.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=dw.get(r);return n===void 0&&(n=Function.toString.call(r),dw.set(r,n)),n===FP}function Tu(t,a,r=!0){Am(t)===0?(r?Reflect.ownKeys(t):Object.keys(t)).forEach(l=>{a(l,t[l],t)}):t.forEach((n,l)=>a(l,n,t))}function Am(t){const a=t[Wa];return a?a.type_:Array.isArray(t)?1:oo(t)?2:km(t)?3:0}function Mp(t,a){return Am(t)===2?t.has(a):Object.prototype.hasOwnProperty.call(t,a)}function W_(t,a,r){const n=Am(t);n===2?t.set(a,r):n===3?t.add(r):t[a]=r}function qP(t,a){return t===a?t!==0||1/t===1/a:t!==t&&a!==a}function oo(t){return t instanceof Map}function km(t){return t instanceof Set}function Is(t){return t.copy_||t.base_}function Dp(t,a){if(oo(t))return new Map(t);if(km(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=X_(t);if(a===!0||a==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Wa];let l=Reflect.ownKeys(n);for(let c=0;c<l.length;c++){const d=l[c],u=n[d];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[d]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[d]})}return Object.create(Hc(t),n)}else{const n=Hc(t);if(n!==null&&r)return{...t};const l=Object.create(n);return Object.assign(l,t)}}function Hg(t,a=!1){return Om(t)||ti(t)||!Sn(t)||(Am(t)>1&&Object.defineProperties(t,{set:Gd,add:Gd,clear:Gd,delete:Gd}),Object.freeze(t),a&&Object.values(t).forEach(r=>Hg(r,!0))),t}function HP(){Sr(2)}var Gd={value:HP};function Om(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var VP={};function ai(t){const a=VP[t];return a||Sr(0,t),a}var Vc;function Z_(){return Vc}function GP(t,a){return{drafts_:[],parent_:t,immer_:a,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function uw(t,a){a&&(ai("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=a)}function Pp(t){zp(t),t.drafts_.forEach(KP),t.drafts_=null}function zp(t){t===Vc&&(Vc=t.parent_)}function mw(t){return Vc=GP(Vc,t)}function KP(t){const a=t[Wa];a.type_===0||a.type_===1?a.revoke_():a.revoked_=!0}function xw(t,a){a.unfinalizedDrafts_=a.drafts_.length;const r=a.drafts_[0];return t!==void 0&&t!==r?(r[Wa].modified_&&(Pp(a),Sr(4)),Sn(t)&&(t=Mu(a,t),a.parent_||Du(a,t)),a.patches_&&ai("Patches").generateReplacementPatches_(r[Wa].base_,t,a.patches_,a.inversePatches_)):t=Mu(a,r,[]),Pp(a),a.patches_&&a.patchListener_(a.patches_,a.inversePatches_),t!==Y_?t:void 0}function Mu(t,a,r){if(Om(a))return a;const n=t.immer_.shouldUseStrictIteration(),l=a[Wa];if(!l)return Tu(a,(c,d)=>hw(t,l,a,c,d,r),n),a;if(l.scope_!==t)return a;if(!l.modified_)return Du(t,l.base_,!0),l.base_;if(!l.finalized_){l.finalized_=!0,l.scope_.unfinalizedDrafts_--;const c=l.copy_;let d=c,u=!1;l.type_===3&&(d=new Set(c),c.clear(),u=!0),Tu(d,(x,f)=>hw(t,l,c,x,f,r,u),n),Du(t,c,!1),r&&t.patches_&&ai("Patches").generatePatches_(l,r,t.patches_,t.inversePatches_)}return l.copy_}function hw(t,a,r,n,l,c,d){if(l==null||typeof l!="object"&&!d)return;const u=Om(l);if(!(u&&!d)){if(ti(l)){const x=c&&a&&a.type_!==3&&!Mp(a.assigned_,n)?c.concat(n):void 0,f=Mu(t,l,x);if(W_(r,n,f),ti(f))t.canAutoFreeze_=!1;else return}else d&&r.add(l);if(Sn(l)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||a&&a.base_&&a.base_[n]===l&&u)return;Mu(t,l),(!a||!a.scope_.parent_)&&typeof n!="symbol"&&(oo(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Du(t,l)}}}function Du(t,a,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Hg(a,r)}function YP(t,a){const r=Array.isArray(t),n={type_:r?1:0,scope_:a?a.scope_:Z_(),modified_:!1,finalized_:!1,assigned_:{},parent_:a,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let l=n,c=Vg;r&&(l=[n],c=Gc);const{revoke:d,proxy:u}=Proxy.revocable(l,c);return n.draft_=u,n.revoke_=d,u}var Vg={get(t,a){if(a===Wa)return t;const r=Is(t);if(!Mp(r,a))return XP(t,r,a);const n=r[a];return t.finalized_||!Sn(n)?n:n===M0(t.base_,a)?(D0(t),t.copy_[a]=Lp(n,t)):n},has(t,a){return a in Is(t)},ownKeys(t){return Reflect.ownKeys(Is(t))},set(t,a,r){const n=Q_(Is(t),a);if(n?.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const l=M0(Is(t),a),c=l?.[Wa];if(c&&c.base_===r)return t.copy_[a]=r,t.assigned_[a]=!1,!0;if(qP(r,l)&&(r!==void 0||Mp(t.base_,a)))return!0;D0(t),Rp(t)}return t.copy_[a]===r&&(r!==void 0||a in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[a])||(t.copy_[a]=r,t.assigned_[a]=!0),!0},deleteProperty(t,a){return M0(t.base_,a)!==void 0||a in t.base_?(t.assigned_[a]=!1,D0(t),Rp(t)):delete t.assigned_[a],t.copy_&&delete t.copy_[a],!0},getOwnPropertyDescriptor(t,a){const r=Is(t),n=Reflect.getOwnPropertyDescriptor(r,a);return n&&{writable:!0,configurable:t.type_!==1||a!=="length",enumerable:n.enumerable,value:r[a]}},defineProperty(){Sr(11)},getPrototypeOf(t){return Hc(t.base_)},setPrototypeOf(){Sr(12)}},Gc={};Tu(Vg,(t,a)=>{Gc[t]=function(){return arguments[0]=arguments[0][0],a.apply(this,arguments)}});Gc.deleteProperty=function(t,a){return Gc.set.call(this,t,a,void 0)};Gc.set=function(t,a,r){return Vg.set.call(this,t[0],a,r,t[0])};function M0(t,a){const r=t[Wa];return(r?Is(r):t)[a]}function XP(t,a,r){const n=Q_(a,r);return n?"value"in n?n.value:n.get?.call(t.draft_):void 0}function Q_(t,a){if(!(a in t))return;let r=Hc(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,a);if(n)return n;r=Hc(r)}}function Rp(t){t.modified_||(t.modified_=!0,t.parent_&&Rp(t.parent_))}function D0(t){t.copy_||(t.copy_=Dp(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var WP=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(a,r,n)=>{if(typeof a=="function"&&typeof r!="function"){const c=r;r=a;const d=this;return function(x=c,...f){return d.produce(x,h=>r.call(this,h,...f))}}typeof r!="function"&&Sr(6),n!==void 0&&typeof n!="function"&&Sr(7);let l;if(Sn(a)){const c=mw(this),d=Lp(a,void 0);let u=!0;try{l=r(d),u=!1}finally{u?Pp(c):zp(c)}return uw(c,n),xw(l,c)}else if(!a||typeof a!="object"){if(l=r(a),l===void 0&&(l=a),l===Y_&&(l=void 0),this.autoFreeze_&&Hg(l,!0),n){const c=[],d=[];ai("Patches").generateReplacementPatches_(a,l,c,d),n(c,d)}return l}else Sr(1,a)},this.produceWithPatches=(a,r)=>{if(typeof a=="function")return(d,...u)=>this.produceWithPatches(d,x=>a(x,...u));let n,l;return[this.produce(a,r,(d,u)=>{n=d,l=u}),n,l]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Sn(t)||Sr(8),ti(t)&&(t=bn(t));const a=mw(this),r=Lp(t,void 0);return r[Wa].isManual_=!0,zp(a),r}finishDraft(t,a){const r=t&&t[Wa];(!r||!r.isManual_)&&Sr(9);const{scope_:n}=r;return uw(n,a),xw(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,a){let r;for(r=a.length-1;r>=0;r--){const l=a[r];if(l.path.length===0&&l.op==="replace"){t=l.value;break}}r>-1&&(a=a.slice(r+1));const n=ai("Patches").applyPatches_;return ti(t)?n(t,a):this.produce(t,l=>n(l,a))}};function Lp(t,a){const r=oo(t)?ai("MapSet").proxyMap_(t,a):km(t)?ai("MapSet").proxySet_(t,a):YP(t,a);return(a?a.scope_:Z_()).drafts_.push(r),r}function bn(t){return ti(t)||Sr(10,t),J_(t)}function J_(t){if(!Sn(t)||Om(t))return t;const a=t[Wa];let r,n=!0;if(a){if(!a.modified_)return a.base_;a.finalized_=!0,r=Dp(t,a.scope_.immer_.useStrictShallowCopy_),n=a.scope_.immer_.shouldUseStrictIteration()}else r=Dp(t,!0);return Tu(r,(l,c)=>{W_(r,l,J_(c))},n),a&&(a.finalized_=!1),r}var Ip=new WP,e3=Ip.produce,ZP=Ip.setUseStrictIteration.bind(Ip);function t3(t){return({dispatch:r,getState:n})=>l=>c=>typeof c=="function"?c(r,n,t):l(c)}var QP=t3(),JP=t3,ez=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Eu:Eu.apply(null,arguments)};function gr(t,a){function r(...n){if(a){let l=a(...n);if(!l)throw new Error(Ya(0));return{type:t,payload:l.payload,..."meta"in l&&{meta:l.meta},..."error"in l&&{error:l.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>K_(n)&&n.type===t,r}var a3=class Bc extends Array{constructor(...a){super(...a),Object.setPrototypeOf(this,Bc.prototype)}static get[Symbol.species](){return Bc}concat(...a){return super.concat.apply(this,a)}prepend(...a){return a.length===1&&Array.isArray(a[0])?new Bc(...a[0].concat(this)):new Bc(...a.concat(this))}};function fw(t){return Sn(t)?e3(t,()=>{}):t}function Kd(t,a,r){return t.has(a)?t.get(a):t.set(a,r(a)).get(a)}function tz(t){return typeof t=="boolean"}var az=()=>function(a){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:l=!0,actionCreatorCheck:c=!0}=a??{};let d=new a3;return r&&(tz(r)?d.push(QP):d.push(JP(r.extraArgument))),d},r3="RTK_autoBatch",zt=()=>t=>({payload:t,meta:{[r3]:!0}}),pw=t=>a=>{setTimeout(a,t)},n3=(t={type:"raf"})=>a=>(...r)=>{const n=a(...r);let l=!0,c=!1,d=!1;const u=new Set,x=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:pw(10):t.type==="callback"?t.queueNotification:pw(t.timeout),f=()=>{d=!1,c&&(c=!1,u.forEach(h=>h()))};return Object.assign({},n,{subscribe(h){const p=()=>l&&h(),y=n.subscribe(p);return u.add(h),()=>{y(),u.delete(h)}},dispatch(h){try{return l=!h?.meta?.[r3],c=!l,c&&(d||(d=!0,x(f))),n.dispatch(h)}finally{l=!0}}})},rz=t=>function(r){const{autoBatch:n=!0}=r??{};let l=new a3(t);return n&&l.push(n3(typeof n=="object"?n:void 0)),l};function nz(t){const a=az(),{reducer:r=void 0,middleware:n,devTools:l=!0,preloadedState:c=void 0,enhancers:d=void 0}=t||{};let u;if(typeof r=="function")u=r;else if(qg(r))u=G_(r);else throw new Error(Ya(1));let x;typeof n=="function"?x=n(a):x=a();let f=Eu;l&&(f=ez({trace:!1,...typeof l=="object"&&l}));const h=UP(...x),p=rz(h);let y=typeof d=="function"?d(p):p();const j=f(...y);return V_(u,c,j)}function s3(t){const a={},r=[];let n;const l={addCase(c,d){const u=typeof c=="string"?c:c.type;if(!u)throw new Error(Ya(28));if(u in a)throw new Error(Ya(29));return a[u]=d,l},addAsyncThunk(c,d){return d.pending&&(a[c.pending.type]=d.pending),d.rejected&&(a[c.rejected.type]=d.rejected),d.fulfilled&&(a[c.fulfilled.type]=d.fulfilled),d.settled&&r.push({matcher:c.settled,reducer:d.settled}),l},addMatcher(c,d){return r.push({matcher:c,reducer:d}),l},addDefaultCase(c){return n=c,l}};return t(l),[a,r,n]}ZP(!1);function sz(t){return typeof t=="function"}function iz(t,a){let[r,n,l]=s3(a),c;if(sz(t))c=()=>fw(t());else{const u=fw(t);c=()=>u}function d(u=c(),x){let f=[r[x.type],...n.filter(({matcher:h})=>h(x)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[l]),f.reduce((h,p)=>{if(p)if(ti(h)){const j=p(h,x);return j===void 0?h:j}else{if(Sn(h))return e3(h,y=>p(y,x));{const y=p(h,x);if(y===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return h},u)}return d.getInitialState=c,d}var lz="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",cz=(t=21)=>{let a="",r=t;for(;r--;)a+=lz[Math.random()*64|0];return a},oz=Symbol.for("rtk-slice-createasyncthunk");function dz(t,a){return`${t}/${a}`}function uz({creators:t}={}){const a=t?.asyncThunk?.[oz];return function(n){const{name:l,reducerPath:c=l}=n;if(!l)throw new Error(Ya(11));const d=(typeof n.reducers=="function"?n.reducers(xz()):n.reducers)||{},u=Object.keys(d),x={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(C,k){const E=typeof C=="string"?C:C.type;if(!E)throw new Error(Ya(12));if(E in x.sliceCaseReducersByType)throw new Error(Ya(13));return x.sliceCaseReducersByType[E]=k,f},addMatcher(C,k){return x.sliceMatchers.push({matcher:C,reducer:k}),f},exposeAction(C,k){return x.actionCreators[C]=k,f},exposeCaseReducer(C,k){return x.sliceCaseReducersByName[C]=k,f}};u.forEach(C=>{const k=d[C],E={reducerName:C,type:dz(l,C),createNotation:typeof n.reducers=="function"};fz(k)?gz(E,k,f,a):hz(E,k,f)});function h(){const[C={},k=[],E=void 0]=typeof n.extraReducers=="function"?s3(n.extraReducers):[n.extraReducers],T={...C,...x.sliceCaseReducersByType};return iz(n.initialState,D=>{for(let P in T)D.addCase(P,T[P]);for(let P of x.sliceMatchers)D.addMatcher(P.matcher,P.reducer);for(let P of k)D.addMatcher(P.matcher,P.reducer);E&&D.addDefaultCase(E)})}const p=C=>C,y=new Map,j=new WeakMap;let w;function S(C,k){return w||(w=h()),w(C,k)}function g(){return w||(w=h()),w.getInitialState()}function _(C,k=!1){function E(D){let P=D[C];return typeof P>"u"&&k&&(P=Kd(j,E,g)),P}function T(D=p){const P=Kd(y,k,()=>new WeakMap);return Kd(P,D,()=>{const R={};for(const[L,q]of Object.entries(n.selectors??{}))R[L]=mz(q,D,()=>Kd(j,D,g),k);return R})}return{reducerPath:C,getSelectors:T,get selectors(){return T(E)},selectSlice:E}}const O={name:l,reducer:S,actions:x.actionCreators,caseReducers:x.sliceCaseReducersByName,getInitialState:g,..._(c),injectInto(C,{reducerPath:k,...E}={}){const T=k??c;return C.inject({reducerPath:T,reducer:S},E),{...O,..._(T,!0)}}};return O}}function mz(t,a,r,n){function l(c,...d){let u=a(c);return typeof u>"u"&&n&&(u=r()),t(u,...d)}return l.unwrapped=t,l}var Oa=uz();function xz(){function t(a,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:a,...r}}return t.withTypes=()=>t,{reducer(a){return Object.assign({[a.name](...r){return a(...r)}}[a.name],{_reducerDefinitionType:"reducer"})},preparedReducer(a,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:a,reducer:r}},asyncThunk:t}}function hz({type:t,reducerName:a,createNotation:r},n,l){let c,d;if("reducer"in n){if(r&&!pz(n))throw new Error(Ya(17));c=n.reducer,d=n.prepare}else c=n;l.addCase(t,c).exposeCaseReducer(a,c).exposeAction(a,d?gr(t,d):gr(t))}function fz(t){return t._reducerDefinitionType==="asyncThunk"}function pz(t){return t._reducerDefinitionType==="reducerWithPrepare"}function gz({type:t,reducerName:a},r,n,l){if(!l)throw new Error(Ya(18));const{payloadCreator:c,fulfilled:d,pending:u,rejected:x,settled:f,options:h}=r,p=l(t,c,h);n.exposeAction(a,p),d&&n.addCase(p.fulfilled,d),u&&n.addCase(p.pending,u),x&&n.addCase(p.rejected,x),f&&n.addMatcher(p.settled,f),n.exposeCaseReducer(a,{fulfilled:d||Yd,pending:u||Yd,rejected:x||Yd,settled:f||Yd})}function Yd(){}var yz="task",i3="listener",l3="completed",Gg="cancelled",vz=`task-${Gg}`,bz=`task-${l3}`,Bp=`${i3}-${Gg}`,jz=`${i3}-${l3}`,Em=class{constructor(t){this.code=t,this.message=`${yz} ${Gg} (reason: ${t})`}name="TaskAbortError";message},Kg=(t,a)=>{if(typeof t!="function")throw new TypeError(Ya(32))},Pu=()=>{},c3=(t,a=Pu)=>(t.catch(a),t),o3=(t,a)=>(t.addEventListener("abort",a,{once:!0}),()=>t.removeEventListener("abort",a)),Ks=(t,a)=>{const r=t.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:a,configurable:!0,writable:!0}),t.abort(a))},Ys=t=>{if(t.aborted){const{reason:a}=t;throw new Em(a)}};function d3(t,a){let r=Pu;return new Promise((n,l)=>{const c=()=>l(new Em(t.reason));if(t.aborted){c();return}r=o3(t,c),a.finally(()=>r()).then(n,l)}).finally(()=>{r=Pu})}var Nz=async(t,a)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof Em?"cancelled":"rejected",error:r}}finally{a?.()}},zu=t=>a=>c3(d3(t,a).then(r=>(Ys(t),r))),u3=t=>{const a=zu(t);return r=>a(new Promise(n=>setTimeout(n,r)))},{assign:tl}=Object,gw={},Tm="listenerMiddleware",wz=(t,a)=>{const r=n=>o3(t,()=>Ks(n,t.reason));return(n,l)=>{Kg(n);const c=new AbortController;r(c);const d=Nz(async()=>{Ys(t),Ys(c.signal);const u=await n({pause:zu(c.signal),delay:u3(c.signal),signal:c.signal});return Ys(c.signal),u},()=>Ks(c,bz));return l?.autoJoin&&a.push(d.catch(Pu)),{result:zu(t)(d),cancel(){Ks(c,vz)}}}},Sz=(t,a)=>{const r=async(n,l)=>{Ys(a);let c=()=>{};const u=[new Promise((x,f)=>{let h=t({predicate:n,effect:(p,y)=>{y.unsubscribe(),x([p,y.getState(),y.getOriginalState()])}});c=()=>{h(),f()}})];l!=null&&u.push(new Promise(x=>setTimeout(x,l,null)));try{const x=await d3(a,Promise.race(u));return Ys(a),x}finally{c()}};return(n,l)=>c3(r(n,l))},m3=t=>{let{type:a,actionCreator:r,matcher:n,predicate:l,effect:c}=t;if(a)l=gr(a).match;else if(r)a=r.type,l=r.match;else if(n)l=n;else if(!l)throw new Error(Ya(21));return Kg(c),{predicate:l,type:a,effect:c}},x3=tl(t=>{const{type:a,predicate:r,effect:n}=m3(t);return{id:cz(),effect:n,type:a,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Ya(22))}}},{withTypes:()=>x3}),yw=(t,a)=>{const{type:r,effect:n,predicate:l}=m3(a);return Array.from(t.values()).find(c=>(typeof r=="string"?c.type===r:c.predicate===l)&&c.effect===n)},$p=t=>{t.pending.forEach(a=>{Ks(a,Bp)})},_z=(t,a)=>()=>{for(const r of a.keys())$p(r);t.clear()},vw=(t,a,r)=>{try{t(a,r)}catch(n){setTimeout(()=>{throw n},0)}},h3=tl(gr(`${Tm}/add`),{withTypes:()=>h3}),Cz=gr(`${Tm}/removeAll`),f3=tl(gr(`${Tm}/remove`),{withTypes:()=>f3}),Az=(...t)=>{console.error(`${Tm}/error`,...t)},uo=(t={})=>{const a=new Map,r=new Map,n=j=>{const w=r.get(j)??0;r.set(j,w+1)},l=j=>{const w=r.get(j)??1;w===1?r.delete(j):r.set(j,w-1)},{extra:c,onError:d=Az}=t;Kg(d);const u=j=>(j.unsubscribe=()=>a.delete(j.id),a.set(j.id,j),w=>{j.unsubscribe(),w?.cancelActive&&$p(j)}),x=j=>{const w=yw(a,j)??x3(j);return u(w)};tl(x,{withTypes:()=>x});const f=j=>{const w=yw(a,j);return w&&(w.unsubscribe(),j.cancelActive&&$p(w)),!!w};tl(f,{withTypes:()=>f});const h=async(j,w,S,g)=>{const _=new AbortController,O=Sz(x,_.signal),C=[];try{j.pending.add(_),n(j),await Promise.resolve(j.effect(w,tl({},S,{getOriginalState:g,condition:(k,E)=>O(k,E).then(Boolean),take:O,delay:u3(_.signal),pause:zu(_.signal),extra:c,signal:_.signal,fork:wz(_.signal,C),unsubscribe:j.unsubscribe,subscribe:()=>{a.set(j.id,j)},cancelActiveListeners:()=>{j.pending.forEach((k,E,T)=>{k!==_&&(Ks(k,Bp),T.delete(k))})},cancel:()=>{Ks(_,Bp),j.pending.delete(_)},throwIfCancelled:()=>{Ys(_.signal)}})))}catch(k){k instanceof Em||vw(d,k,{raisedBy:"effect"})}finally{await Promise.all(C),Ks(_,jz),l(j),j.pending.delete(_)}},p=_z(a,r);return{middleware:j=>w=>S=>{if(!K_(S))return w(S);if(h3.match(S))return x(S.payload);if(Cz.match(S)){p();return}if(f3.match(S))return f(S.payload);let g=j.getState();const _=()=>{if(g===gw)throw new Error(Ya(23));return g};let O;try{if(O=w(S),a.size>0){const C=j.getState(),k=Array.from(a.values());for(const E of k){let T=!1;try{T=E.predicate(S,C,g)}catch(D){T=!1,vw(d,D,{raisedBy:"predicate"})}T&&h(E,S,j,_)}}}finally{g=gw}return O},startListening:x,stopListening:f,clearListeners:p}};function Ya(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var kz={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},p3=Oa({name:"chartLayout",initialState:kz,reducers:{setLayout(t,a){t.layoutType=a.payload},setChartSize(t,a){t.width=a.payload.width,t.height=a.payload.height},setMargin(t,a){var r,n,l,c;t.margin.top=(r=a.payload.top)!==null&&r!==void 0?r:0,t.margin.right=(n=a.payload.right)!==null&&n!==void 0?n:0,t.margin.bottom=(l=a.payload.bottom)!==null&&l!==void 0?l:0,t.margin.left=(c=a.payload.left)!==null&&c!==void 0?c:0},setScale(t,a){t.scale=a.payload}}}),{setMargin:Oz,setLayout:Ez,setChartSize:Tz,setScale:Mz}=p3.actions,Dz=p3.reducer;function g3(t,a,r){return Array.isArray(t)&&t&&a+r!==0?t.slice(a,r+1):t}function bw(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,n)}return r}function Ji(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?bw(Object(r),!0).forEach(function(n){Pz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pz(t,a,r){return(a=zz(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function zz(t){var a=Rz(t,"string");return typeof a=="symbol"?a:a+""}function Rz(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function yt(t,a,r){return Rt(t)||Rt(a)?r:Hr(a)?ei(t,a,r):typeof a=="function"?a(t):r}var Lz=(t,a,r)=>{if(a&&r){var{width:n,height:l}=r,{align:c,verticalAlign:d,layout:u}=a;if((u==="vertical"||u==="horizontal"&&d==="middle")&&c!=="center"&&we(t[c]))return Ji(Ji({},t),{},{[c]:t[c]+(n||0)});if((u==="horizontal"||u==="vertical"&&c==="center")&&d!=="middle"&&we(t[d]))return Ji(Ji({},t),{},{[d]:t[d]+(l||0)})}return t},fs=(t,a)=>t==="horizontal"&&a==="xAxis"||t==="vertical"&&a==="yAxis"||t==="centric"&&a==="angleAxis"||t==="radial"&&a==="radiusAxis",y3=(t,a,r,n)=>{if(n)return t.map(u=>u.coordinate);var l,c,d=t.map(u=>(u.coordinate===a&&(l=!0),u.coordinate===r&&(c=!0),u.coordinate));return l||d.push(a),c||d.push(r),d},v3=(t,a,r)=>{if(!t)return null;var{duplicateDomain:n,type:l,range:c,scale:d,realScaleType:u,isCategorical:x,categoricalDomain:f,tickCount:h,ticks:p,niceTicks:y,axisType:j}=t;if(!d)return null;var w=u==="scaleBand"&&d.bandwidth?d.bandwidth()/2:2,S=l==="category"&&d.bandwidth?d.bandwidth()/w:0;if(S=j==="angleAxis"&&c&&c.length>=2?oa(c[0]-c[1])*2*S:S,p||y){var g=(p||y||[]).map((_,O)=>{var C=n?n.indexOf(_):_;return{coordinate:d(C)+S,value:_,offset:S,index:O}});return g.filter(_=>!qr(_.coordinate))}return x&&f?f.map((_,O)=>({coordinate:d(_)+S,value:_,index:O,offset:S})):d.ticks&&h!=null?d.ticks(h).map((_,O)=>({coordinate:d(_)+S,value:_,offset:S,index:O})):d.domain().map((_,O)=>({coordinate:d(_)+S,value:n?n[_]:_,index:O,offset:S}))},jw=1e-4,Iz=t=>{var a=t.domain();if(!(!a||a.length<=2)){var r=a.length,n=t.range(),l=Math.min(n[0],n[1])-jw,c=Math.max(n[0],n[1])+jw,d=t(a[0]),u=t(a[r-1]);(d<l||d>c||u<l||u>c)&&t.domain([a[0],a[r-1]])}},Bz=t=>{var a=t.length;if(!(a<=0))for(var r=0,n=t[0].length;r<n;++r)for(var l=0,c=0,d=0;d<a;++d){var u=qr(t[d][r][1])?t[d][r][0]:t[d][r][1];u>=0?(t[d][r][0]=l,t[d][r][1]=l+u,l=t[d][r][1]):(t[d][r][0]=c,t[d][r][1]=c+u,c=t[d][r][1])}},$z=t=>{var a=t.length;if(!(a<=0))for(var r=0,n=t[0].length;r<n;++r)for(var l=0,c=0;c<a;++c){var d=qr(t[c][r][1])?t[c][r][0]:t[c][r][1];d>=0?(t[c][r][0]=l,t[c][r][1]=l+d,l=t[c][r][1]):(t[c][r][0]=0,t[c][r][1]=0)}},Uz={sign:Bz,expand:bD,none:ol,silhouette:jD,wiggle:ND,positive:$z},Fz=(t,a,r)=>{var n=Uz[r],l=vD().keys(a).value((c,d)=>Number(yt(c,d,0))).order(Ep).offset(n);return l(t)};function Nw(t){var{axis:a,ticks:r,bandSize:n,entry:l,index:c,dataKey:d}=t;if(a.type==="category"){if(!a.allowDuplicatedCategory&&a.dataKey&&!Rt(l[a.dataKey])){var u=A_(r,"value",l[a.dataKey]);if(u)return u.coordinate+n/2}return r[c]?r[c].coordinate+n/2:null}var x=yt(l,Rt(d)?a.dataKey:d);return Rt(x)?null:a.scale(x)}var qz=t=>{var a=t.flat(2).filter(we);return[Math.min(...a),Math.max(...a)]},Hz=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Vz=(t,a,r)=>{if(t!=null)return Hz(Object.keys(t).reduce((n,l)=>{var c=t[l],{stackedData:d}=c,u=d.reduce((x,f)=>{var h=g3(f,a,r),p=qz(h);return[Math.min(x[0],p[0]),Math.max(x[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],n[0]),Math.max(u[1],n[1])]},[1/0,-1/0]))},ww=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Sw=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ru=(t,a,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&a&&a.length>=2){for(var l=Cm(a,h=>h.coordinate),c=1/0,d=1,u=l.length;d<u;d++){var x=l[d],f=l[d-1];c=Math.min((x.coordinate||0)-(f.coordinate||0),c)}return c===1/0?0:c}return r?void 0:0};function _w(t){var{tooltipEntrySettings:a,dataKey:r,payload:n,value:l,name:c}=t;return Ji(Ji({},a),{},{dataKey:r,payload:n,value:l,name:c})}function Mm(t,a){if(t)return String(t);if(typeof a=="string")return a}var Gz=(t,a)=>{if(a==="horizontal")return t.chartX;if(a==="vertical")return t.chartY},Kz=(t,a)=>a==="centric"?t.angle:t.radius,En=t=>t.layout.width,Tn=t=>t.layout.height,Yz=t=>t.layout.scale,b3=t=>t.layout.margin,Dm=Z(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Pm=Z(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),j3="data-recharts-item-index",N3="data-recharts-item-data-key",mo=60;function Cw(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,n)}return r}function Xd(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Cw(Object(r),!0).forEach(function(n){Xz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Cw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xz(t,a,r){return(a=Wz(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function Wz(t){var a=Zz(t,"string");return typeof a=="symbol"?a:a+""}function Zz(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}var Qz=t=>t.brush.height;function Jz(t){var a=Pm(t);return a.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var l=typeof n.width=="number"?n.width:mo;return r+l}return r},0)}function eR(t){var a=Pm(t);return a.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var l=typeof n.width=="number"?n.width:mo;return r+l}return r},0)}function tR(t){var a=Dm(t);return a.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function aR(t){var a=Dm(t);return a.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Vt=Z([En,Tn,b3,Qz,Jz,eR,tR,aR,H_,zP],(t,a,r,n,l,c,d,u,x,f)=>{var h={left:(r.left||0)+l,right:(r.right||0)+c},p={top:(r.top||0)+d,bottom:(r.bottom||0)+u},y=Xd(Xd({},p),h),j=y.bottom;y.bottom+=n,y=Lz(y,x,f);var w=t-y.left-y.right,S=a-y.top-y.bottom;return Xd(Xd({brushBottom:j},y),{},{width:Math.max(w,0),height:Math.max(S,0)})}),rR=Z(Vt,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),w3=Z(En,Tn,(t,a)=>({x:0,y:0,width:t,height:a})),nR=v.createContext(null),Ea=()=>v.useContext(nR)!=null,zm=t=>t.brush,Rm=Z([zm,Vt,b3],(t,a,r)=>({height:t.height,x:we(t.x)?t.x:a.left,y:we(t.y)?t.y:a.top+a.height+a.brushBottom-(r?.bottom||0),width:we(t.width)?t.width:a.width})),P0={},z0={},R0={},Aw;function sR(){return Aw||(Aw=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r,n,{signal:l,edges:c}={}){let d,u=null;const x=c!=null&&c.includes("leading"),f=c==null||c.includes("trailing"),h=()=>{u!==null&&(r.apply(d,u),d=void 0,u=null)},p=()=>{f&&h(),S()};let y=null;const j=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,p()},n)},w=()=>{y!==null&&(clearTimeout(y),y=null)},S=()=>{w(),d=void 0,u=null},g=()=>{h()},_=function(...O){if(l?.aborted)return;d=this,u=O;const C=y==null;j(),x&&C&&h()};return _.schedule=j,_.cancel=S,_.flush=g,l?.addEventListener("abort",S,{once:!0}),_}t.debounce=a})(R0)),R0}var kw;function iR(){return kw||(kw=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=sR();function r(n,l=0,c={}){typeof c!="object"&&(c={});const{leading:d=!1,trailing:u=!0,maxWait:x}=c,f=Array(2);d&&(f[0]="leading"),u&&(f[1]="trailing");let h,p=null;const y=a.debounce(function(...S){h=n.apply(this,S),p=null},l,{edges:f}),j=function(...S){return x!=null&&(p===null&&(p=Date.now()),Date.now()-p>=x)?(h=n.apply(this,S),p=Date.now(),y.cancel(),y.schedule(),h):(y.apply(this,S),h)},w=()=>(y.flush(),h);return j.cancel=y.cancel,j.flush=w,j}t.debounce=r})(z0)),z0}var Ow;function lR(){return Ow||(Ow=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=iR();function r(n,l=0,c={}){const{leading:d=!0,trailing:u=!0}=c;return a.debounce(n,l,{leading:d,maxWait:l,trailing:u})}t.throttle=r})(P0)),P0}var L0,Ew;function cR(){return Ew||(Ew=1,L0=lR().throttle),L0}var oR=cR();const dR=On(oR);var Lu=function(a,r){for(var n=arguments.length,l=new Array(n>2?n-2:0),c=2;c<n;c++)l[c-2]=arguments[c]},S3=(t,a,r)=>{var{width:n="100%",height:l="100%",aspect:c,maxHeight:d}=r,u=wn(n)?t:Number(n),x=wn(l)?a:Number(l);return c&&c>0&&(u?x=u/c:x&&(u=x*c),d&&x!=null&&x>d&&(x=d)),{calculatedWidth:u,calculatedHeight:x}},uR={width:0,height:0,overflow:"visible"},mR={width:0,overflowX:"visible"},xR={height:0,overflowY:"visible"},hR={},fR=t=>{var{width:a,height:r}=t,n=wn(a),l=wn(r);return n&&l?uR:n?mR:l?xR:hR};function pR(t){var{width:a,height:r,aspect:n}=t,l=a,c=r;return l===void 0&&c===void 0?(l="100%",c="100%"):l===void 0?l=n&&n>0?void 0:"100%":c===void 0&&(c=n&&n>0?void 0:"100%"),{width:l,height:c}}function Ht(t){return Number.isFinite(t)}function Vr(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function Up(){return Up=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Up.apply(null,arguments)}function Tw(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,n)}return r}function Mw(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Tw(Object(r),!0).forEach(function(n){gR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gR(t,a,r){return(a=yR(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function yR(t){var a=vR(t,"string");return typeof a=="symbol"?a:a+""}function vR(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}var _3=v.createContext({width:-1,height:-1});function bR(t){return Vr(t.width)&&Vr(t.height)}function C3(t){var{children:a,width:r,height:n}=t,l=v.useMemo(()=>({width:r,height:n}),[r,n]);return bR(l)?v.createElement(_3.Provider,{value:l},a):null}var Yg=()=>v.useContext(_3),jR=v.forwardRef((t,a)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:l,height:c,minWidth:d=0,minHeight:u,maxHeight:x,children:f,debounce:h=0,id:p,className:y,onResize:j,style:w={}}=t,S=v.useRef(null),g=v.useRef();g.current=j,v.useImperativeHandle(a,()=>S.current);var[_,O]=v.useState({containerWidth:n.width,containerHeight:n.height}),C=v.useCallback((P,R)=>{O(L=>{var q=Math.round(P),F=Math.round(R);return L.containerWidth===q&&L.containerHeight===F?L:{containerWidth:q,containerHeight:F}})},[]);v.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return li;var P=F=>{var se,{width:ce,height:ue}=F[0].contentRect;C(ce,ue),(se=g.current)===null||se===void 0||se.call(g,ce,ue)};h>0&&(P=dR(P,h,{trailing:!0,leading:!1}));var R=new ResizeObserver(P),{width:L,height:q}=S.current.getBoundingClientRect();return C(L,q),R.observe(S.current),()=>{R.disconnect()}},[C,h]);var{containerWidth:k,containerHeight:E}=_;Lu(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:T,calculatedHeight:D}=S3(k,E,{width:l,height:c,aspect:r,maxHeight:x});return Lu(T!=null&&T>0||D!=null&&D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,D,l,c,d,u,r),v.createElement("div",{id:p?"".concat(p):void 0,className:Ke("recharts-responsive-container",y),style:Mw(Mw({},w),{},{width:l,height:c,minWidth:d,minHeight:u,maxHeight:x}),ref:S},v.createElement("div",{style:fR({width:l,height:c})},v.createElement(C3,{width:T,height:D},f)))}),Fp=v.forwardRef((t,a)=>{var r=Yg();if(Vr(r.width)&&Vr(r.height))return t.children;var{width:n,height:l}=pR({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:c,calculatedHeight:d}=S3(void 0,void 0,{width:n,height:l,aspect:t.aspect,maxHeight:t.maxHeight});return we(c)&&we(d)?v.createElement(C3,{width:c,height:d},t.children):v.createElement(jR,Up({},t,{width:n,height:l,ref:a}))});function A3(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Lm=()=>{var t,a=Ea(),r=Ne(rR),n=Ne(Rm),l=(t=Ne(zm))===null||t===void 0?void 0:t.padding;return!a||!n||!l?r:{width:n.width-l.left-l.right,height:n.height-l.top-l.bottom,x:l.left,y:l.top}},NR={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},k3=()=>{var t;return(t=Ne(Vt))!==null&&t!==void 0?t:NR},O3=()=>Ne(En),E3=()=>Ne(Tn),tt=t=>t.layout.layoutType,Im=()=>Ne(tt),wR=()=>{var t=Im();return t!==void 0},Bm=t=>{var a=ft(),r=Ea(),{width:n,height:l}=t,c=Yg(),d=n,u=l;return c&&(d=c.width>0?c.width:n,u=c.height>0?c.height:l),v.useEffect(()=>{!r&&Vr(d)&&Vr(u)&&a(Tz({width:d,height:u}))},[a,r,d,u]),null},SR={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},T3=Oa({name:"legend",initialState:SR,reducers:{setLegendSize(t,a){t.size.width=a.payload.width,t.size.height=a.payload.height},setLegendSettings(t,a){t.settings.align=a.payload.align,t.settings.layout=a.payload.layout,t.settings.verticalAlign=a.payload.verticalAlign,t.settings.itemSorter=a.payload.itemSorter},addLegendPayload:{reducer(t,a){t.payload.push(a.payload)},prepare:zt()},removeLegendPayload:{reducer(t,a){var r=bn(t).payload.indexOf(a.payload);r>-1&&t.payload.splice(r,1)},prepare:zt()}}}),{setLegendSize:eQ,setLegendSettings:tQ,addLegendPayload:M3,removeLegendPayload:D3}=T3.actions,_R=T3.reducer;function qp(){return qp=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qp.apply(null,arguments)}function Dw(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,n)}return r}function I0(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Dw(Object(r),!0).forEach(function(n){CR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CR(t,a,r){return(a=AR(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function AR(t){var a=kR(t,"string");return typeof a=="symbol"?a:a+""}function kR(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function OR(t){return Array.isArray(t)&&Hr(t[0])&&Hr(t[1])?t.join(" ~ "):t}var ER=t=>{var{separator:a=" : ",contentStyle:r={},itemStyle:n={},labelStyle:l={},payload:c,formatter:d,itemSorter:u,wrapperClassName:x,labelClassName:f,label:h,labelFormatter:p,accessibilityLayer:y=!1}=t,j=()=>{if(c&&c.length){var E={padding:0,margin:0},T=(u?Cm(c,u):c).map((D,P)=>{if(D.type==="none")return null;var R=D.formatter||d||OR,{value:L,name:q}=D,F=L,se=q;if(R){var ce=R(L,q,D,P,c);if(Array.isArray(ce))[F,se]=ce;else if(ce!=null)F=ce;else return null}var ue=I0({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},n);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:ue},Hr(se)?v.createElement("span",{className:"recharts-tooltip-item-name"},se):null,Hr(se)?v.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,v.createElement("span",{className:"recharts-tooltip-item-value"},F),v.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:E},T)}return null},w=I0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),S=I0({margin:0},l),g=!Rt(h),_=g?h:"",O=Ke("recharts-default-tooltip",x),C=Ke("recharts-tooltip-label",f);g&&p&&c!==void 0&&c!==null&&(_=p(h,c));var k=y?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",qp({className:O,style:w},k),v.createElement("p",{className:C,style:S},v.isValidElement(_)?_:"".concat(_)),j())},Oc="recharts-tooltip-wrapper",TR={visibility:"hidden"};function MR(t){var{coordinate:a,translateX:r,translateY:n}=t;return Ke(Oc,{["".concat(Oc,"-right")]:we(r)&&a&&we(a.x)&&r>=a.x,["".concat(Oc,"-left")]:we(r)&&a&&we(a.x)&&r<a.x,["".concat(Oc,"-bottom")]:we(n)&&a&&we(a.y)&&n>=a.y,["".concat(Oc,"-top")]:we(n)&&a&&we(a.y)&&n<a.y})}function Pw(t){var{allowEscapeViewBox:a,coordinate:r,key:n,offsetTopLeft:l,position:c,reverseDirection:d,tooltipDimension:u,viewBox:x,viewBoxDimension:f}=t;if(c&&we(c[n]))return c[n];var h=r[n]-u-(l>0?l:0),p=r[n]+l;if(a[n])return d[n]?h:p;var y=x[n];if(y==null)return 0;if(d[n]){var j=h,w=y;return j<w?Math.max(p,y):Math.max(h,y)}if(f==null)return 0;var S=p+u,g=y+f;return S>g?Math.max(h,y):Math.max(p,y)}function DR(t){var{translateX:a,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(a,"px, ").concat(r,"px, 0)"):"translate(".concat(a,"px, ").concat(r,"px)")}}function PR(t){var{allowEscapeViewBox:a,coordinate:r,offsetTopLeft:n,position:l,reverseDirection:c,tooltipBox:d,useTranslate3d:u,viewBox:x}=t,f,h,p;return d.height>0&&d.width>0&&r?(h=Pw({allowEscapeViewBox:a,coordinate:r,key:"x",offsetTopLeft:n,position:l,reverseDirection:c,tooltipDimension:d.width,viewBox:x,viewBoxDimension:x.width}),p=Pw({allowEscapeViewBox:a,coordinate:r,key:"y",offsetTopLeft:n,position:l,reverseDirection:c,tooltipDimension:d.height,viewBox:x,viewBoxDimension:x.height}),f=DR({translateX:h,translateY:p,useTranslate3d:u})):f=TR,{cssProperties:f,cssClasses:MR({translateX:h,translateY:p,coordinate:r})}}function zw(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,n)}return r}function Wd(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?zw(Object(r),!0).forEach(function(n){Hp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hp(t,a,r){return(a=zR(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function zR(t){var a=RR(t,"string");return typeof a=="symbol"?a:a+""}function RR(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}class LR extends v.PureComponent{constructor(){super(...arguments),Hp(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Hp(this,"handleKeyDown",a=>{if(a.key==="Escape"){var r,n,l,c;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(l=(c=this.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&l!==void 0?l:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var a,r;this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:a,allowEscapeViewBox:r,animationDuration:n,animationEasing:l,children:c,coordinate:d,hasPayload:u,isAnimationActive:x,offset:f,position:h,reverseDirection:p,useTranslate3d:y,viewBox:j,wrapperStyle:w,lastBoundingBox:S,innerRef:g,hasPortalFromProps:_}=this.props,{cssClasses:O,cssProperties:C}=PR({allowEscapeViewBox:r,coordinate:d,offsetTopLeft:f,position:h,reverseDirection:p,tooltipBox:{height:S.height,width:S.width},useTranslate3d:y,viewBox:j}),k=_?{}:Wd(Wd({transition:x&&a?"transform ".concat(n,"ms ").concat(l):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&u?"visible":"hidden",position:"absolute",top:0,left:0}),E=Wd(Wd({},k),{},{visibility:!this.state.dismissed&&a&&u?"visible":"hidden"},w);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:E,ref:g},c)}}var IR=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ci={devToolsEnabled:!1,isSsr:IR()},P3=()=>{var t;return(t=Ne(a=>a.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function Vp(){return Vp=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vp.apply(null,arguments)}function Rw(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,n)}return r}function Lw(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Rw(Object(r),!0).forEach(function(n){BR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BR(t,a,r){return(a=$R(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function $R(t){var a=UR(t,"string");return typeof a=="symbol"?a:a+""}function UR(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}var Iw={curveBasisClosed:cD,curveBasisOpen:oD,curveBasis:lD,curveBumpX:KM,curveBumpY:YM,curveLinearClosed:dD,curveLinear:Sm,curveMonotoneX:uD,curveMonotoneY:mD,curveNatural:xD,curveStep:hD,curveStepAfter:pD,curveStepBefore:fD},Iu=t=>Ht(t.x)&&Ht(t.y),Bw=t=>t.base!=null&&Iu(t.base)&&Iu(t),Ec=t=>t.x,Tc=t=>t.y,FR=(t,a)=>{if(typeof t=="function")return t;var r="curve".concat(co(t));return(r==="curveMonotone"||r==="curveBump")&&a?Iw["".concat(r).concat(a==="vertical"?"Y":"X")]:Iw[r]||Sm},qR=t=>{var{type:a="linear",points:r=[],baseLine:n,layout:l,connectNulls:c=!1}=t,d=FR(a,l),u=c?r.filter(Iu):r,x;if(Array.isArray(n)){var f=r.map((j,w)=>Lw(Lw({},j),{},{base:n[w]}));l==="vertical"?x=qd().y(Tc).x1(Ec).x0(j=>j.base.x):x=qd().x(Ec).y1(Tc).y0(j=>j.base.y);var h=x.defined(Bw).curve(d),p=c?f.filter(Bw):f;return h(p)}l==="vertical"&&we(n)?x=qd().y(Tc).x1(Ec).x0(n):we(n)?x=qd().x(Ec).y1(Tc).y0(n):x=h_().x(Ec).y(Tc);var y=x.defined(Iu).curve(d);return y(u)},Xg=t=>{var{className:a,points:r,path:n,pathRef:l}=t;if((!r||!r.length)&&!n)return null;var c=r&&r.length?qR(t):n;return v.createElement("path",Vp({},pr(t),$g(t),{className:Ke("recharts-curve",a),d:c===null?void 0:c,ref:l}))},HR=["x","y","top","left","width","height","className"];function Gp(){return Gp=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gp.apply(null,arguments)}function $w(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,n)}return r}function VR(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?$w(Object(r),!0).forEach(function(n){GR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$w(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GR(t,a,r){return(a=KR(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function KR(t){var a=YR(t,"string");return typeof a=="symbol"?a:a+""}function YR(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function XR(t,a){if(t==null)return{};var r,n,l=WR(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(n=0;n<c.length;n++)r=c[n],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(l[r]=t[r])}return l}function WR(t,a){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(a.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var ZR=(t,a,r,n,l,c)=>"M".concat(t,",").concat(l,"v").concat(n,"M").concat(c,",").concat(a,"h").concat(r),QR=t=>{var{x:a=0,y:r=0,top:n=0,left:l=0,width:c=0,height:d=0,className:u}=t,x=XR(t,HR),f=VR({x:a,y:r,top:n,left:l,width:c,height:d},x);return!we(a)||!we(r)||!we(c)||!we(d)||!we(n)||!we(l)?null:v.createElement("path",Gp({},fa(f),{className:Ke("recharts-cross",u),d:ZR(a,r,c,d,n,l)}))};function JR(t,a,r,n){var l=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?a.x-l:r.left+.5,y:t==="horizontal"?r.top+.5:a.y-l,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function Uw(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,n)}return r}function Fw(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Uw(Object(r),!0).forEach(function(n){eL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Uw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eL(t,a,r){return(a=tL(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function tL(t){var a=aL(t,"string");return typeof a=="symbol"?a:a+""}function aL(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}var rL=t=>t.replace(/([A-Z])/g,a=>"-".concat(a.toLowerCase())),z3=(t,a,r)=>t.map(n=>"".concat(rL(n)," ").concat(a,"ms ").concat(r)).join(","),nL=(t,a)=>[Object.keys(t),Object.keys(a)].reduce((r,n)=>r.filter(l=>n.includes(l))),Kc=(t,a)=>Object.keys(a).reduce((r,n)=>Fw(Fw({},r),{},{[n]:t(n,a[n])}),{});function qw(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,n)}return r}function Pt(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?qw(Object(r),!0).forEach(function(n){sL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sL(t,a,r){return(a=iL(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function iL(t){var a=lL(t,"string");return typeof a=="symbol"?a:a+""}function lL(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}var Bu=(t,a,r)=>t+(a-t)*r,Kp=t=>{var{from:a,to:r}=t;return a!==r},R3=(t,a,r)=>{var n=Kc((l,c)=>{if(Kp(c)){var[d,u]=t(c.from,c.to,c.velocity);return Pt(Pt({},c),{},{from:d,velocity:u})}return c},a);return r<1?Kc((l,c)=>Kp(c)?Pt(Pt({},c),{},{velocity:Bu(c.velocity,n[l].velocity,r),from:Bu(c.from,n[l].from,r)}):c,a):R3(t,n,r-1)};function cL(t,a,r,n,l,c){var d,u=n.reduce((y,j)=>Pt(Pt({},y),{},{[j]:{from:t[j],velocity:0,to:a[j]}}),{}),x=()=>Kc((y,j)=>j.from,u),f=()=>!Object.values(u).filter(Kp).length,h=null,p=y=>{d||(d=y);var j=y-d,w=j/r.dt;u=R3(r,u,w),l(Pt(Pt(Pt({},t),a),x())),d=y,f()||(h=c.setTimeout(p))};return()=>(h=c.setTimeout(p),()=>{var y;(y=h)===null||y===void 0||y()})}function oL(t,a,r,n,l,c,d){var u=null,x=l.reduce((p,y)=>Pt(Pt({},p),{},{[y]:[t[y],a[y]]}),{}),f,h=p=>{f||(f=p);var y=(p-f)/n,j=Kc((S,g)=>Bu(...g,r(y)),x);if(c(Pt(Pt(Pt({},t),a),j)),y<1)u=d.setTimeout(h);else{var w=Kc((S,g)=>Bu(...g,r(1)),x);c(Pt(Pt(Pt({},t),a),w))}};return()=>(u=d.setTimeout(h),()=>{var p;(p=u)===null||p===void 0||p()})}const dL=(t,a,r,n,l,c)=>{var d=nL(t,a);return r==null?()=>(l(Pt(Pt({},t),a)),()=>{}):r.isStepper===!0?cL(t,a,r,d,l,c):oL(t,a,r,n,d,l,c)};var $u=1e-4,L3=(t,a)=>[0,3*t,3*a-6*t,3*t-3*a+1],I3=(t,a)=>t.map((r,n)=>r*a**n).reduce((r,n)=>r+n),Hw=(t,a)=>r=>{var n=L3(t,a);return I3(n,r)},uL=(t,a)=>r=>{var n=L3(t,a),l=[...n.map((c,d)=>c*d).slice(1),0];return I3(l,r)},mL=function(){for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var l,c=r[0].split("(");if(c[0]==="cubic-bezier"&&((l=c[1])===null||l===void 0?void 0:l.split(")")[0].split(",").length)===4){var d=c[1].split(")")[0].split(",").map(u=>parseFloat(u));return[d[0],d[1],d[2],d[3]]}}}return r.length===4?r:[0,0,1,1]},xL=(t,a,r,n)=>{var l=Hw(t,r),c=Hw(a,n),d=uL(t,r),u=f=>f>1?1:f<0?0:f,x=f=>{for(var h=f>1?1:f,p=h,y=0;y<8;++y){var j=l(p)-h,w=d(p);if(Math.abs(j-h)<$u||w<$u)return c(p);p=u(p-j/w)}return c(p)};return x.isStepper=!1,x},Vw=function(){return xL(...mL(...arguments))},hL=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:l=17}=a,c=(d,u,x)=>{var f=-(d-u)*r,h=x*n,p=x+(f-h)*l/1e3,y=x*l/1e3+d;return Math.abs(y-u)<$u&&Math.abs(p)<$u?[u,0]:[y,p]};return c.isStepper=!0,c.dt=l,c},fL=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Vw(t);case"spring":return hL();default:if(t.split("(")[0]==="cubic-bezier")return Vw(t)}return typeof t=="function"?t:null};function pL(t){var a,r=()=>null,n=!1,l=null,c=d=>{if(!n){if(Array.isArray(d)){if(!d.length)return;var u=d,[x,...f]=u;if(typeof x=="number"){l=t.setTimeout(c.bind(null,f),x);return}c(x),l=t.setTimeout(c.bind(null,f));return}typeof d=="string"&&(a=d,r(a)),typeof d=="object"&&(a=d,r(a)),typeof d=="function"&&d()}};return{stop:()=>{n=!0},start:d=>{n=!1,l&&(l(),l=null),c(d)},subscribe:d=>(r=d,()=>{r=()=>null}),getTimeoutController:()=>t}}class gL{setTimeout(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),l=null,c=d=>{d-n>=r?a(d):typeof requestAnimationFrame=="function"&&(l=requestAnimationFrame(c))};return l=requestAnimationFrame(c),()=>{l!=null&&cancelAnimationFrame(l)}}}function yL(){return pL(new gL)}var vL=v.createContext(yL);function bL(t,a){var r=v.useContext(vL);return v.useMemo(()=>a??r(t),[t,a,r])}var jL={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Gw={t:0},B0={t:1};function $m(t){var a=ra(t,jL),{isActive:r,canBegin:n,duration:l,easing:c,begin:d,onAnimationEnd:u,onAnimationStart:x,children:f}=a,h=bL(a.animationId,a.animationManager),[p,y]=v.useState(r?Gw:B0),j=v.useRef(null);return v.useEffect(()=>{r||y(B0)},[r]),v.useEffect(()=>{if(!r||!n)return li;var w=dL(Gw,B0,fL(c),l,y,h.getTimeoutController()),S=()=>{j.current=w()};return h.start([x,d,S,l,u]),()=>{h.stop(),j.current&&j.current(),u()}},[r,n,l,c,d,x,u,h]),f(p.t)}function Um(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=v.useRef(qc(a)),n=v.useRef(t);return n.current!==t&&(r.current=qc(a),n.current=t),r.current}var NL=["radius"],wL=["radius"];function Kw(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,n)}return r}function Yw(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Kw(Object(r),!0).forEach(function(n){SL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SL(t,a,r){return(a=_L(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function _L(t){var a=CL(t,"string");return typeof a=="symbol"?a:a+""}function CL(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function Uu(){return Uu=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uu.apply(null,arguments)}function Xw(t,a){if(t==null)return{};var r,n,l=AL(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(n=0;n<c.length;n++)r=c[n],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(l[r]=t[r])}return l}function AL(t,a){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(a.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Ww=(t,a,r,n,l)=>{var c=Math.min(Math.abs(r)/2,Math.abs(n)/2),d=n>=0?1:-1,u=r>=0?1:-1,x=n>=0&&r>=0||n<0&&r<0?1:0,f;if(c>0&&l instanceof Array){for(var h=[0,0,0,0],p=0,y=4;p<y;p++)h[p]=l[p]>c?c:l[p];f="M".concat(t,",").concat(a+d*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(x,",").concat(t+u*h[0],",").concat(a)),f+="L ".concat(t+r-u*h[1],",").concat(a),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(x,`,
        `).concat(t+r,",").concat(a+d*h[1])),f+="L ".concat(t+r,",").concat(a+n-d*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(x,`,
        `).concat(t+r-u*h[2],",").concat(a+n)),f+="L ".concat(t+u*h[3],",").concat(a+n),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(x,`,
        `).concat(t,",").concat(a+n-d*h[3])),f+="Z"}else if(c>0&&l===+l&&l>0){var j=Math.min(c,l);f="M ".concat(t,",").concat(a+d*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(x,",").concat(t+u*j,",").concat(a,`
            L `).concat(t+r-u*j,",").concat(a,`
            A `).concat(j,",").concat(j,",0,0,").concat(x,",").concat(t+r,",").concat(a+d*j,`
            L `).concat(t+r,",").concat(a+n-d*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(x,",").concat(t+r-u*j,",").concat(a+n,`
            L `).concat(t+u*j,",").concat(a+n,`
            A `).concat(j,",").concat(j,",0,0,").concat(x,",").concat(t,",").concat(a+n-d*j," Z")}else f="M ".concat(t,",").concat(a," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return f},Zw={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},B3=t=>{var a=ra(t,Zw),r=v.useRef(null),[n,l]=v.useState(-1);v.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var z=r.current.getTotalLength();z&&l(z)}catch{}},[]);var{x:c,y:d,width:u,height:x,radius:f,className:h}=a,{animationEasing:p,animationDuration:y,animationBegin:j,isAnimationActive:w,isUpdateAnimationActive:S}=a,g=v.useRef(u),_=v.useRef(x),O=v.useRef(c),C=v.useRef(d),k=v.useMemo(()=>({x:c,y:d,width:u,height:x,radius:f}),[c,d,u,x,f]),E=Um(k,"rectangle-");if(c!==+c||d!==+d||u!==+u||x!==+x||u===0||x===0)return null;var T=Ke("recharts-rectangle",h);if(!S){var D=fa(a),{radius:P}=D,R=Xw(D,NL);return v.createElement("path",Uu({},R,{radius:typeof f=="number"?f:void 0,className:T,d:Ww(c,d,u,x,f)}))}var L=g.current,q=_.current,F=O.current,se=C.current,ce="0px ".concat(n===-1?1:n,"px"),ue="".concat(n,"px 0px"),H=z3(["strokeDasharray"],y,typeof p=="string"?p:Zw.animationEasing);return v.createElement($m,{animationId:E,key:E,canBegin:n>0,duration:y,easing:p,isActive:S,begin:j},z=>{var $=ca(L,u,z),re=ca(q,x,z),te=ca(F,c,z),I=ca(se,d,z);r.current&&(g.current=$,_.current=re,O.current=te,C.current=I);var K;w?z>0?K={transition:H,strokeDasharray:ue}:K={strokeDasharray:ce}:K={strokeDasharray:ue};var G=fa(a),{radius:ne}=G,he=Xw(G,wL);return v.createElement("path",Uu({},he,{radius:typeof f=="number"?f:void 0,className:T,d:Ww(te,I,$,re,f),ref:r,style:Yw(Yw({},K),a.style)}))})};function Qw(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,n)}return r}function Jw(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Qw(Object(r),!0).forEach(function(n){kL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kL(t,a,r){return(a=OL(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function OL(t){var a=EL(t,"string");return typeof a=="symbol"?a:a+""}function EL(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}var Fu=Math.PI/180,TL=t=>t*180/Math.PI,Et=(t,a,r,n)=>({x:t+Math.cos(-Fu*n)*r,y:a+Math.sin(-Fu*n)*r}),$3=function(a,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(a-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},ML=(t,a)=>{var{x:r,y:n}=t,{x:l,y:c}=a;return Math.sqrt((r-l)**2+(n-c)**2)},DL=(t,a)=>{var{x:r,y:n}=t,{cx:l,cy:c}=a,d=ML({x:r,y:n},{x:l,y:c});if(d<=0)return{radius:d,angle:0};var u=(r-l)/d,x=Math.acos(u);return n>c&&(x=2*Math.PI-x),{radius:d,angle:TL(x),angleInRadian:x}},PL=t=>{var{startAngle:a,endAngle:r}=t,n=Math.floor(a/360),l=Math.floor(r/360),c=Math.min(n,l);return{startAngle:a-c*360,endAngle:r-c*360}},zL=(t,a)=>{var{startAngle:r,endAngle:n}=a,l=Math.floor(r/360),c=Math.floor(n/360),d=Math.min(l,c);return t+d*360},RL=(t,a)=>{var{chartX:r,chartY:n}=t,{radius:l,angle:c}=DL({x:r,y:n},a),{innerRadius:d,outerRadius:u}=a;if(l<d||l>u||l===0)return null;var{startAngle:x,endAngle:f}=PL(a),h=c,p;if(x<=f){for(;h>f;)h-=360;for(;h<x;)h+=360;p=h>=x&&h<=f}else{for(;h>x;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=x}return p?Jw(Jw({},a),{},{radius:l,angle:zL(h,a)}):null};function U3(t){var{cx:a,cy:r,radius:n,startAngle:l,endAngle:c}=t,d=Et(a,r,n,l),u=Et(a,r,n,c);return{points:[d,u],cx:a,cy:r,radius:n,startAngle:l,endAngle:c}}function Yp(){return Yp=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yp.apply(null,arguments)}var LL=(t,a)=>{var r=oa(a-t),n=Math.min(Math.abs(a-t),359.999);return r*n},Zd=t=>{var{cx:a,cy:r,radius:n,angle:l,sign:c,isExternal:d,cornerRadius:u,cornerIsExternal:x}=t,f=u*(d?1:-1)+n,h=Math.asin(u/f)/Fu,p=x?l:l+c*h,y=Et(a,r,f,p),j=Et(a,r,n,p),w=x?l-c*h:l,S=Et(a,r,f*Math.cos(h*Fu),w);return{center:y,circleTangency:j,lineTangency:S,theta:h}},F3=t=>{var{cx:a,cy:r,innerRadius:n,outerRadius:l,startAngle:c,endAngle:d}=t,u=LL(c,d),x=c+u,f=Et(a,r,l,c),h=Et(a,r,l,x),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(l,",").concat(l,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(c>x),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(n>0){var y=Et(a,r,n,c),j=Et(a,r,n,x);p+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(c<=x),`,
            `).concat(y.x,",").concat(y.y," Z")}else p+="L ".concat(a,",").concat(r," Z");return p},IL=t=>{var{cx:a,cy:r,innerRadius:n,outerRadius:l,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:u,startAngle:x,endAngle:f}=t,h=oa(f-x),{circleTangency:p,lineTangency:y,theta:j}=Zd({cx:a,cy:r,radius:l,angle:x,sign:h,cornerRadius:c,cornerIsExternal:u}),{circleTangency:w,lineTangency:S,theta:g}=Zd({cx:a,cy:r,radius:l,angle:f,sign:-h,cornerRadius:c,cornerIsExternal:u}),_=u?Math.abs(x-f):Math.abs(x-f)-j-g;if(_<0)return d?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(c,",").concat(c,",0,0,1,").concat(c*2,`,0
        a`).concat(c,",").concat(c,",0,0,1,").concat(-c*2,`,0
      `):F3({cx:a,cy:r,innerRadius:n,outerRadius:l,startAngle:x,endAngle:f});var O="M ".concat(y.x,",").concat(y.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(l,",").concat(l,",0,").concat(+(_>180),",").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
  `);if(n>0){var{circleTangency:C,lineTangency:k,theta:E}=Zd({cx:a,cy:r,radius:n,angle:x,sign:h,isExternal:!0,cornerRadius:c,cornerIsExternal:u}),{circleTangency:T,lineTangency:D,theta:P}=Zd({cx:a,cy:r,radius:n,angle:f,sign:-h,isExternal:!0,cornerRadius:c,cornerIsExternal:u}),R=u?Math.abs(x-f):Math.abs(x-f)-E-P;if(R<0&&c===0)return"".concat(O,"L").concat(a,",").concat(r,"Z");O+="L".concat(D.x,",").concat(D.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(R>180),",").concat(+(h>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,"Z")}else O+="L".concat(a,",").concat(r,"Z");return O},BL={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},q3=t=>{var a=ra(t,BL),{cx:r,cy:n,innerRadius:l,outerRadius:c,cornerRadius:d,forceCornerRadius:u,cornerIsExternal:x,startAngle:f,endAngle:h,className:p}=a;if(c<l||f===h)return null;var y=Ke("recharts-sector",p),j=c-l,w=Ka(d,j,0,!0),S;return w>0&&Math.abs(f-h)<360?S=IL({cx:r,cy:n,innerRadius:l,outerRadius:c,cornerRadius:Math.min(w,j/2),forceCornerRadius:u,cornerIsExternal:x,startAngle:f,endAngle:h}):S=F3({cx:r,cy:n,innerRadius:l,outerRadius:c,startAngle:f,endAngle:h}),v.createElement("path",Yp({},fa(a),{className:y,d:S}))};function $L(t,a,r){if(t==="horizontal")return[{x:a.x,y:r.top},{x:a.x,y:r.top+r.height}];if(t==="vertical")return[{x:r.left,y:a.y},{x:r.left+r.width,y:a.y}];if(E_(a)){if(t==="centric"){var{cx:n,cy:l,innerRadius:c,outerRadius:d,angle:u}=a,x=Et(n,l,c,u),f=Et(n,l,d,u);return[{x:x.x,y:x.y},{x:f.x,y:f.y}]}return U3(a)}}var $0={},U0={},F0={},e4;function UL(){return e4||(e4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=F_();function r(n){return a.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(F0)),F0}var t4;function FL(){return t4||(t4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=UL();function r(n){return n?(n=a.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(U0)),U0}var a4;function qL(){return a4||(a4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=q_(),r=FL();function n(l,c,d){d&&typeof d!="number"&&a.isIterateeCall(l,c,d)&&(c=d=void 0),l=r.toFinite(l),c===void 0?(c=l,l=0):c=r.toFinite(c),d=d===void 0?l<c?1:-1:r.toFinite(d);const u=Math.max(Math.ceil((c-l)/(d||1)),0),x=new Array(u);for(let f=0;f<u;f++)x[f]=l,l+=d;return x}t.range=n})($0)),$0}var q0,r4;function HL(){return r4||(r4=1,q0=qL().range),q0}var VL=HL();const H3=On(VL);function ds(t,a){return t==null||a==null?NaN:t<a?-1:t>a?1:t>=a?0:NaN}function GL(t,a){return t==null||a==null?NaN:a<t?-1:a>t?1:a>=t?0:NaN}function Wg(t){let a,r,n;t.length!==2?(a=ds,r=(u,x)=>ds(t(u),x),n=(u,x)=>t(u)-x):(a=t===ds||t===GL?t:KL,r=t,n=t);function l(u,x,f=0,h=u.length){if(f<h){if(a(x,x)!==0)return h;do{const p=f+h>>>1;r(u[p],x)<0?f=p+1:h=p}while(f<h)}return f}function c(u,x,f=0,h=u.length){if(f<h){if(a(x,x)!==0)return h;do{const p=f+h>>>1;r(u[p],x)<=0?f=p+1:h=p}while(f<h)}return f}function d(u,x,f=0,h=u.length){const p=l(u,x,f,h-1);return p>f&&n(u[p-1],x)>-n(u[p],x)?p-1:p}return{left:l,center:d,right:c}}function KL(){return 0}function V3(t){return t===null?NaN:+t}function*YL(t,a){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const XL=Wg(ds),xo=XL.right;Wg(V3).center;class n4 extends Map{constructor(a,r=QL){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),a!=null)for(const[n,l]of a)this.set(n,l)}get(a){return super.get(s4(this,a))}has(a){return super.has(s4(this,a))}set(a,r){return super.set(WL(this,a),r)}delete(a){return super.delete(ZL(this,a))}}function s4({_intern:t,_key:a},r){const n=a(r);return t.has(n)?t.get(n):r}function WL({_intern:t,_key:a},r){const n=a(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function ZL({_intern:t,_key:a},r){const n=a(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function QL(t){return t!==null&&typeof t=="object"?t.valueOf():t}function JL(t=ds){if(t===ds)return G3;if(typeof t!="function")throw new TypeError("compare is not a function");return(a,r)=>{const n=t(a,r);return n||n===0?n:(t(r,r)===0)-(t(a,a)===0)}}function G3(t,a){return(t==null||!(t>=t))-(a==null||!(a>=a))||(t<a?-1:t>a?1:0)}const eI=Math.sqrt(50),tI=Math.sqrt(10),aI=Math.sqrt(2);function qu(t,a,r){const n=(a-t)/Math.max(0,r),l=Math.floor(Math.log10(n)),c=n/Math.pow(10,l),d=c>=eI?10:c>=tI?5:c>=aI?2:1;let u,x,f;return l<0?(f=Math.pow(10,-l)/d,u=Math.round(t*f),x=Math.round(a*f),u/f<t&&++u,x/f>a&&--x,f=-f):(f=Math.pow(10,l)*d,u=Math.round(t/f),x=Math.round(a/f),u*f<t&&++u,x*f>a&&--x),x<u&&.5<=r&&r<2?qu(t,a,r*2):[u,x,f]}function Xp(t,a,r){if(a=+a,t=+t,r=+r,!(r>0))return[];if(t===a)return[t];const n=a<t,[l,c,d]=n?qu(a,t,r):qu(t,a,r);if(!(c>=l))return[];const u=c-l+1,x=new Array(u);if(n)if(d<0)for(let f=0;f<u;++f)x[f]=(c-f)/-d;else for(let f=0;f<u;++f)x[f]=(c-f)*d;else if(d<0)for(let f=0;f<u;++f)x[f]=(l+f)/-d;else for(let f=0;f<u;++f)x[f]=(l+f)*d;return x}function Wp(t,a,r){return a=+a,t=+t,r=+r,qu(t,a,r)[2]}function Zp(t,a,r){a=+a,t=+t,r=+r;const n=a<t,l=n?Wp(a,t,r):Wp(t,a,r);return(n?-1:1)*(l<0?1/-l:l)}function i4(t,a){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function l4(t,a){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function K3(t,a,r=0,n=1/0,l){if(a=Math.floor(a),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=a&&a<=n))return t;for(l=l===void 0?G3:JL(l);n>r;){if(n-r>600){const x=n-r+1,f=a-r+1,h=Math.log(x),p=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*p*(x-p)/x)*(f-x/2<0?-1:1),j=Math.max(r,Math.floor(a-f*p/x+y)),w=Math.min(n,Math.floor(a+(x-f)*p/x+y));K3(t,a,j,w,l)}const c=t[a];let d=r,u=n;for(Mc(t,r,a),l(t[n],c)>0&&Mc(t,r,n);d<u;){for(Mc(t,d,u),++d,--u;l(t[d],c)<0;)++d;for(;l(t[u],c)>0;)--u}l(t[r],c)===0?Mc(t,r,u):(++u,Mc(t,u,n)),u<=a&&(r=u+1),a<=u&&(n=u-1)}return t}function Mc(t,a,r){const n=t[a];t[a]=t[r],t[r]=n}function rI(t,a,r){if(t=Float64Array.from(YL(t)),!(!(n=t.length)||isNaN(a=+a))){if(a<=0||n<2)return l4(t);if(a>=1)return i4(t);var n,l=(n-1)*a,c=Math.floor(l),d=i4(K3(t,c).subarray(0,c+1)),u=l4(t.subarray(c+1));return d+(u-d)*(l-c)}}function nI(t,a,r=V3){if(!(!(n=t.length)||isNaN(a=+a))){if(a<=0||n<2)return+r(t[0],0,t);if(a>=1)return+r(t[n-1],n-1,t);var n,l=(n-1)*a,c=Math.floor(l),d=+r(t[c],c,t),u=+r(t[c+1],c+1,t);return d+(u-d)*(l-c)}}function sI(t,a,r){t=+t,a=+a,r=(l=arguments.length)<2?(a=t,t=0,1):l<3?1:+r;for(var n=-1,l=Math.max(0,Math.ceil((a-t)/r))|0,c=new Array(l);++n<l;)c[n]=t+n*r;return c}function br(t,a){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(a).domain(t);break}return this}function Mn(t,a){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof a=="function"?this.interpolator(a):this.range(a);break}}return this}const Qp=Symbol("implicit");function Zg(){var t=new n4,a=[],r=[],n=Qp;function l(c){let d=t.get(c);if(d===void 0){if(n!==Qp)return n;t.set(c,d=a.push(c)-1)}return r[d%r.length]}return l.domain=function(c){if(!arguments.length)return a.slice();a=[],t=new n4;for(const d of c)t.has(d)||t.set(d,a.push(d)-1);return l},l.range=function(c){return arguments.length?(r=Array.from(c),l):r.slice()},l.unknown=function(c){return arguments.length?(n=c,l):n},l.copy=function(){return Zg(a,r).unknown(n)},br.apply(l,arguments),l}function Qg(){var t=Zg().unknown(void 0),a=t.domain,r=t.range,n=0,l=1,c,d,u=!1,x=0,f=0,h=.5;delete t.unknown;function p(){var y=a().length,j=l<n,w=j?l:n,S=j?n:l;c=(S-w)/Math.max(1,y-x+f*2),u&&(c=Math.floor(c)),w+=(S-w-c*(y-x))*h,d=c*(1-x),u&&(w=Math.round(w),d=Math.round(d));var g=sI(y).map(function(_){return w+c*_});return r(j?g.reverse():g)}return t.domain=function(y){return arguments.length?(a(y),p()):a()},t.range=function(y){return arguments.length?([n,l]=y,n=+n,l=+l,p()):[n,l]},t.rangeRound=function(y){return[n,l]=y,n=+n,l=+l,u=!0,p()},t.bandwidth=function(){return d},t.step=function(){return c},t.round=function(y){return arguments.length?(u=!!y,p()):u},t.padding=function(y){return arguments.length?(x=Math.min(1,f=+y),p()):x},t.paddingInner=function(y){return arguments.length?(x=Math.min(1,y),p()):x},t.paddingOuter=function(y){return arguments.length?(f=+y,p()):f},t.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),p()):h},t.copy=function(){return Qg(a(),[n,l]).round(u).paddingInner(x).paddingOuter(f).align(h)},br.apply(p(),arguments)}function Y3(t){var a=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Y3(a())},t}function iI(){return Y3(Qg.apply(null,arguments).paddingInner(1))}function Jg(t,a,r){t.prototype=a.prototype=r,r.constructor=t}function X3(t,a){var r=Object.create(t.prototype);for(var n in a)r[n]=a[n];return r}function ho(){}var Yc=.7,Hu=1/Yc,al="\\s*([+-]?\\d+)\\s*",Xc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ur="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lI=/^#([0-9a-f]{3,8})$/,cI=new RegExp(`^rgb\\(${al},${al},${al}\\)$`),oI=new RegExp(`^rgb\\(${Ur},${Ur},${Ur}\\)$`),dI=new RegExp(`^rgba\\(${al},${al},${al},${Xc}\\)$`),uI=new RegExp(`^rgba\\(${Ur},${Ur},${Ur},${Xc}\\)$`),mI=new RegExp(`^hsl\\(${Xc},${Ur},${Ur}\\)$`),xI=new RegExp(`^hsla\\(${Xc},${Ur},${Ur},${Xc}\\)$`),c4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Jg(ho,Wc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:o4,formatHex:o4,formatHex8:hI,formatHsl:fI,formatRgb:d4,toString:d4});function o4(){return this.rgb().formatHex()}function hI(){return this.rgb().formatHex8()}function fI(){return W3(this).formatHsl()}function d4(){return this.rgb().formatRgb()}function Wc(t){var a,r;return t=(t+"").trim().toLowerCase(),(a=lI.exec(t))?(r=a[1].length,a=parseInt(a[1],16),r===6?u4(a):r===3?new _a(a>>8&15|a>>4&240,a>>4&15|a&240,(a&15)<<4|a&15,1):r===8?Qd(a>>24&255,a>>16&255,a>>8&255,(a&255)/255):r===4?Qd(a>>12&15|a>>8&240,a>>8&15|a>>4&240,a>>4&15|a&240,((a&15)<<4|a&15)/255):null):(a=cI.exec(t))?new _a(a[1],a[2],a[3],1):(a=oI.exec(t))?new _a(a[1]*255/100,a[2]*255/100,a[3]*255/100,1):(a=dI.exec(t))?Qd(a[1],a[2],a[3],a[4]):(a=uI.exec(t))?Qd(a[1]*255/100,a[2]*255/100,a[3]*255/100,a[4]):(a=mI.exec(t))?h4(a[1],a[2]/100,a[3]/100,1):(a=xI.exec(t))?h4(a[1],a[2]/100,a[3]/100,a[4]):c4.hasOwnProperty(t)?u4(c4[t]):t==="transparent"?new _a(NaN,NaN,NaN,0):null}function u4(t){return new _a(t>>16&255,t>>8&255,t&255,1)}function Qd(t,a,r,n){return n<=0&&(t=a=r=NaN),new _a(t,a,r,n)}function pI(t){return t instanceof ho||(t=Wc(t)),t?(t=t.rgb(),new _a(t.r,t.g,t.b,t.opacity)):new _a}function Jp(t,a,r,n){return arguments.length===1?pI(t):new _a(t,a,r,n??1)}function _a(t,a,r,n){this.r=+t,this.g=+a,this.b=+r,this.opacity=+n}Jg(_a,Jp,X3(ho,{brighter(t){return t=t==null?Hu:Math.pow(Hu,t),new _a(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Yc:Math.pow(Yc,t),new _a(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new _a(Xs(this.r),Xs(this.g),Xs(this.b),Vu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:m4,formatHex:m4,formatHex8:gI,formatRgb:x4,toString:x4}));function m4(){return`#${Us(this.r)}${Us(this.g)}${Us(this.b)}`}function gI(){return`#${Us(this.r)}${Us(this.g)}${Us(this.b)}${Us((isNaN(this.opacity)?1:this.opacity)*255)}`}function x4(){const t=Vu(this.opacity);return`${t===1?"rgb(":"rgba("}${Xs(this.r)}, ${Xs(this.g)}, ${Xs(this.b)}${t===1?")":`, ${t})`}`}function Vu(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Xs(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Us(t){return t=Xs(t),(t<16?"0":"")+t.toString(16)}function h4(t,a,r,n){return n<=0?t=a=r=NaN:r<=0||r>=1?t=a=NaN:a<=0&&(t=NaN),new _r(t,a,r,n)}function W3(t){if(t instanceof _r)return new _r(t.h,t.s,t.l,t.opacity);if(t instanceof ho||(t=Wc(t)),!t)return new _r;if(t instanceof _r)return t;t=t.rgb();var a=t.r/255,r=t.g/255,n=t.b/255,l=Math.min(a,r,n),c=Math.max(a,r,n),d=NaN,u=c-l,x=(c+l)/2;return u?(a===c?d=(r-n)/u+(r<n)*6:r===c?d=(n-a)/u+2:d=(a-r)/u+4,u/=x<.5?c+l:2-c-l,d*=60):u=x>0&&x<1?0:d,new _r(d,u,x,t.opacity)}function yI(t,a,r,n){return arguments.length===1?W3(t):new _r(t,a,r,n??1)}function _r(t,a,r,n){this.h=+t,this.s=+a,this.l=+r,this.opacity=+n}Jg(_r,yI,X3(ho,{brighter(t){return t=t==null?Hu:Math.pow(Hu,t),new _r(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Yc:Math.pow(Yc,t),new _r(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,a=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*a,l=2*r-n;return new _a(H0(t>=240?t-240:t+120,l,n),H0(t,l,n),H0(t<120?t+240:t-120,l,n),this.opacity)},clamp(){return new _r(f4(this.h),Jd(this.s),Jd(this.l),Vu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Vu(this.opacity);return`${t===1?"hsl(":"hsla("}${f4(this.h)}, ${Jd(this.s)*100}%, ${Jd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function f4(t){return t=(t||0)%360,t<0?t+360:t}function Jd(t){return Math.max(0,Math.min(1,t||0))}function H0(t,a,r){return(t<60?a+(r-a)*t/60:t<180?r:t<240?a+(r-a)*(240-t)/60:a)*255}const ey=t=>()=>t;function vI(t,a){return function(r){return t+r*a}}function bI(t,a,r){return t=Math.pow(t,r),a=Math.pow(a,r)-t,r=1/r,function(n){return Math.pow(t+n*a,r)}}function jI(t){return(t=+t)==1?Z3:function(a,r){return r-a?bI(a,r,t):ey(isNaN(a)?r:a)}}function Z3(t,a){var r=a-t;return r?vI(t,r):ey(isNaN(t)?a:t)}const p4=(function t(a){var r=jI(a);function n(l,c){var d=r((l=Jp(l)).r,(c=Jp(c)).r),u=r(l.g,c.g),x=r(l.b,c.b),f=Z3(l.opacity,c.opacity);return function(h){return l.r=d(h),l.g=u(h),l.b=x(h),l.opacity=f(h),l+""}}return n.gamma=t,n})(1);function NI(t,a){a||(a=[]);var r=t?Math.min(a.length,t.length):0,n=a.slice(),l;return function(c){for(l=0;l<r;++l)n[l]=t[l]*(1-c)+a[l]*c;return n}}function wI(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function SI(t,a){var r=a?a.length:0,n=t?Math.min(r,t.length):0,l=new Array(n),c=new Array(r),d;for(d=0;d<n;++d)l[d]=Nl(t[d],a[d]);for(;d<r;++d)c[d]=a[d];return function(u){for(d=0;d<n;++d)c[d]=l[d](u);return c}}function _I(t,a){var r=new Date;return t=+t,a=+a,function(n){return r.setTime(t*(1-n)+a*n),r}}function Gu(t,a){return t=+t,a=+a,function(r){return t*(1-r)+a*r}}function CI(t,a){var r={},n={},l;(t===null||typeof t!="object")&&(t={}),(a===null||typeof a!="object")&&(a={});for(l in a)l in t?r[l]=Nl(t[l],a[l]):n[l]=a[l];return function(c){for(l in r)n[l]=r[l](c);return n}}var eg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,V0=new RegExp(eg.source,"g");function AI(t){return function(){return t}}function kI(t){return function(a){return t(a)+""}}function OI(t,a){var r=eg.lastIndex=V0.lastIndex=0,n,l,c,d=-1,u=[],x=[];for(t=t+"",a=a+"";(n=eg.exec(t))&&(l=V0.exec(a));)(c=l.index)>r&&(c=a.slice(r,c),u[d]?u[d]+=c:u[++d]=c),(n=n[0])===(l=l[0])?u[d]?u[d]+=l:u[++d]=l:(u[++d]=null,x.push({i:d,x:Gu(n,l)})),r=V0.lastIndex;return r<a.length&&(c=a.slice(r),u[d]?u[d]+=c:u[++d]=c),u.length<2?x[0]?kI(x[0].x):AI(a):(a=x.length,function(f){for(var h=0,p;h<a;++h)u[(p=x[h]).i]=p.x(f);return u.join("")})}function Nl(t,a){var r=typeof a,n;return a==null||r==="boolean"?ey(a):(r==="number"?Gu:r==="string"?(n=Wc(a))?(a=n,p4):OI:a instanceof Wc?p4:a instanceof Date?_I:wI(a)?NI:Array.isArray(a)?SI:typeof a.valueOf!="function"&&typeof a.toString!="function"||isNaN(a)?CI:Gu)(t,a)}function ty(t,a){return t=+t,a=+a,function(r){return Math.round(t*(1-r)+a*r)}}function EI(t,a){a===void 0&&(a=t,t=Nl);for(var r=0,n=a.length-1,l=a[0],c=new Array(n<0?0:n);r<n;)c[r]=t(l,l=a[++r]);return function(d){var u=Math.max(0,Math.min(n-1,Math.floor(d*=n)));return c[u](d-u)}}function TI(t){return function(){return t}}function Ku(t){return+t}var g4=[0,1];function ha(t){return t}function tg(t,a){return(a-=t=+t)?function(r){return(r-t)/a}:TI(isNaN(a)?NaN:.5)}function MI(t,a){var r;return t>a&&(r=t,t=a,a=r),function(n){return Math.max(t,Math.min(a,n))}}function DI(t,a,r){var n=t[0],l=t[1],c=a[0],d=a[1];return l<n?(n=tg(l,n),c=r(d,c)):(n=tg(n,l),c=r(c,d)),function(u){return c(n(u))}}function PI(t,a,r){var n=Math.min(t.length,a.length)-1,l=new Array(n),c=new Array(n),d=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),a=a.slice().reverse());++d<n;)l[d]=tg(t[d],t[d+1]),c[d]=r(a[d],a[d+1]);return function(u){var x=xo(t,u,1,n)-1;return c[x](l[x](u))}}function fo(t,a){return a.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Fm(){var t=g4,a=g4,r=Nl,n,l,c,d=ha,u,x,f;function h(){var y=Math.min(t.length,a.length);return d!==ha&&(d=MI(t[0],t[y-1])),u=y>2?PI:DI,x=f=null,p}function p(y){return y==null||isNaN(y=+y)?c:(x||(x=u(t.map(n),a,r)))(n(d(y)))}return p.invert=function(y){return d(l((f||(f=u(a,t.map(n),Gu)))(y)))},p.domain=function(y){return arguments.length?(t=Array.from(y,Ku),h()):t.slice()},p.range=function(y){return arguments.length?(a=Array.from(y),h()):a.slice()},p.rangeRound=function(y){return a=Array.from(y),r=ty,h()},p.clamp=function(y){return arguments.length?(d=y?!0:ha,h()):d!==ha},p.interpolate=function(y){return arguments.length?(r=y,h()):r},p.unknown=function(y){return arguments.length?(c=y,p):c},function(y,j){return n=y,l=j,h()}}function ay(){return Fm()(ha,ha)}function zI(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Yu(t,a){if((r=(t=a?t.toExponential(a-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function dl(t){return t=Yu(Math.abs(t)),t?t[1]:NaN}function RI(t,a){return function(r,n){for(var l=r.length,c=[],d=0,u=t[0],x=0;l>0&&u>0&&(x+u+1>n&&(u=Math.max(1,n-x)),c.push(r.substring(l-=u,l+u)),!((x+=u+1)>n));)u=t[d=(d+1)%t.length];return c.reverse().join(a)}}function LI(t){return function(a){return a.replace(/[0-9]/g,function(r){return t[+r]})}}var II=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zc(t){if(!(a=II.exec(t)))throw new Error("invalid format: "+t);var a;return new ry({fill:a[1],align:a[2],sign:a[3],symbol:a[4],zero:a[5],width:a[6],comma:a[7],precision:a[8]&&a[8].slice(1),trim:a[9],type:a[10]})}Zc.prototype=ry.prototype;function ry(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ry.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function BI(t){e:for(var a=t.length,r=1,n=-1,l;r<a;++r)switch(t[r]){case".":n=l=r;break;case"0":n===0&&(n=r),l=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(l+1):t}var Q3;function $I(t,a){var r=Yu(t,a);if(!r)return t+"";var n=r[0],l=r[1],c=l-(Q3=Math.max(-8,Math.min(8,Math.floor(l/3)))*3)+1,d=n.length;return c===d?n:c>d?n+new Array(c-d+1).join("0"):c>0?n.slice(0,c)+"."+n.slice(c):"0."+new Array(1-c).join("0")+Yu(t,Math.max(0,a+c-1))[0]}function y4(t,a){var r=Yu(t,a);if(!r)return t+"";var n=r[0],l=r[1];return l<0?"0."+new Array(-l).join("0")+n:n.length>l+1?n.slice(0,l+1)+"."+n.slice(l+1):n+new Array(l-n.length+2).join("0")}const v4={"%":(t,a)=>(t*100).toFixed(a),b:t=>Math.round(t).toString(2),c:t=>t+"",d:zI,e:(t,a)=>t.toExponential(a),f:(t,a)=>t.toFixed(a),g:(t,a)=>t.toPrecision(a),o:t=>Math.round(t).toString(8),p:(t,a)=>y4(t*100,a),r:y4,s:$I,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function b4(t){return t}var j4=Array.prototype.map,N4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function UI(t){var a=t.grouping===void 0||t.thousands===void 0?b4:RI(j4.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",l=t.decimal===void 0?".":t.decimal+"",c=t.numerals===void 0?b4:LI(j4.call(t.numerals,String)),d=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",x=t.nan===void 0?"NaN":t.nan+"";function f(p){p=Zc(p);var y=p.fill,j=p.align,w=p.sign,S=p.symbol,g=p.zero,_=p.width,O=p.comma,C=p.precision,k=p.trim,E=p.type;E==="n"?(O=!0,E="g"):v4[E]||(C===void 0&&(C=12),k=!0,E="g"),(g||y==="0"&&j==="=")&&(g=!0,y="0",j="=");var T=S==="$"?r:S==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",D=S==="$"?n:/[%p]/.test(E)?d:"",P=v4[E],R=/[defgprs%]/.test(E);C=C===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function L(q){var F=T,se=D,ce,ue,H;if(E==="c")se=P(q)+se,q="";else{q=+q;var z=q<0||1/q<0;if(q=isNaN(q)?x:P(Math.abs(q),C),k&&(q=BI(q)),z&&+q==0&&w!=="+"&&(z=!1),F=(z?w==="("?w:u:w==="-"||w==="("?"":w)+F,se=(E==="s"?N4[8+Q3/3]:"")+se+(z&&w==="("?")":""),R){for(ce=-1,ue=q.length;++ce<ue;)if(H=q.charCodeAt(ce),48>H||H>57){se=(H===46?l+q.slice(ce+1):q.slice(ce))+se,q=q.slice(0,ce);break}}}O&&!g&&(q=a(q,1/0));var $=F.length+q.length+se.length,re=$<_?new Array(_-$+1).join(y):"";switch(O&&g&&(q=a(re+q,re.length?_-se.length:1/0),re=""),j){case"<":q=F+q+se+re;break;case"=":q=F+re+q+se;break;case"^":q=re.slice(0,$=re.length>>1)+F+q+se+re.slice($);break;default:q=re+F+q+se;break}return c(q)}return L.toString=function(){return p+""},L}function h(p,y){var j=f((p=Zc(p),p.type="f",p)),w=Math.max(-8,Math.min(8,Math.floor(dl(y)/3)))*3,S=Math.pow(10,-w),g=N4[8+w/3];return function(_){return j(S*_)+g}}return{format:f,formatPrefix:h}}var eu,ny,J3;FI({thousands:",",grouping:[3],currency:["$",""]});function FI(t){return eu=UI(t),ny=eu.format,J3=eu.formatPrefix,eu}function qI(t){return Math.max(0,-dl(Math.abs(t)))}function HI(t,a){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(dl(a)/3)))*3-dl(Math.abs(t)))}function VI(t,a){return t=Math.abs(t),a=Math.abs(a)-t,Math.max(0,dl(a)-dl(t))+1}function e5(t,a,r,n){var l=Zp(t,a,r),c;switch(n=Zc(n??",f"),n.type){case"s":{var d=Math.max(Math.abs(t),Math.abs(a));return n.precision==null&&!isNaN(c=HI(l,d))&&(n.precision=c),J3(n,d)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(c=VI(l,Math.max(Math.abs(t),Math.abs(a))))&&(n.precision=c-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(c=qI(l))&&(n.precision=c-(n.type==="%")*2);break}}return ny(n)}function ps(t){var a=t.domain;return t.ticks=function(r){var n=a();return Xp(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var l=a();return e5(l[0],l[l.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=a(),l=0,c=n.length-1,d=n[l],u=n[c],x,f,h=10;for(u<d&&(f=d,d=u,u=f,f=l,l=c,c=f);h-- >0;){if(f=Wp(d,u,r),f===x)return n[l]=d,n[c]=u,a(n);if(f>0)d=Math.floor(d/f)*f,u=Math.ceil(u/f)*f;else if(f<0)d=Math.ceil(d*f)/f,u=Math.floor(u*f)/f;else break;x=f}return t},t}function t5(){var t=ay();return t.copy=function(){return fo(t,t5())},br.apply(t,arguments),ps(t)}function a5(t){var a;function r(n){return n==null||isNaN(n=+n)?a:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Ku),r):t.slice()},r.unknown=function(n){return arguments.length?(a=n,r):a},r.copy=function(){return a5(t).unknown(a)},t=arguments.length?Array.from(t,Ku):[0,1],ps(r)}function r5(t,a){t=t.slice();var r=0,n=t.length-1,l=t[r],c=t[n],d;return c<l&&(d=r,r=n,n=d,d=l,l=c,c=d),t[r]=a.floor(l),t[n]=a.ceil(c),t}function w4(t){return Math.log(t)}function S4(t){return Math.exp(t)}function GI(t){return-Math.log(-t)}function KI(t){return-Math.exp(-t)}function YI(t){return isFinite(t)?+("1e"+t):t<0?0:t}function XI(t){return t===10?YI:t===Math.E?Math.exp:a=>Math.pow(t,a)}function WI(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),a=>Math.log(a)/t)}function _4(t){return(a,r)=>-t(-a,r)}function sy(t){const a=t(w4,S4),r=a.domain;let n=10,l,c;function d(){return l=WI(n),c=XI(n),r()[0]<0?(l=_4(l),c=_4(c),t(GI,KI)):t(w4,S4),a}return a.base=function(u){return arguments.length?(n=+u,d()):n},a.domain=function(u){return arguments.length?(r(u),d()):r()},a.ticks=u=>{const x=r();let f=x[0],h=x[x.length-1];const p=h<f;p&&([f,h]=[h,f]);let y=l(f),j=l(h),w,S;const g=u==null?10:+u;let _=[];if(!(n%1)&&j-y<g){if(y=Math.floor(y),j=Math.ceil(j),f>0){for(;y<=j;++y)for(w=1;w<n;++w)if(S=y<0?w/c(-y):w*c(y),!(S<f)){if(S>h)break;_.push(S)}}else for(;y<=j;++y)for(w=n-1;w>=1;--w)if(S=y>0?w/c(-y):w*c(y),!(S<f)){if(S>h)break;_.push(S)}_.length*2<g&&(_=Xp(f,h,g))}else _=Xp(y,j,Math.min(j-y,g)).map(c);return p?_.reverse():_},a.tickFormat=(u,x)=>{if(u==null&&(u=10),x==null&&(x=n===10?"s":","),typeof x!="function"&&(!(n%1)&&(x=Zc(x)).precision==null&&(x.trim=!0),x=ny(x)),u===1/0)return x;const f=Math.max(1,n*u/a.ticks().length);return h=>{let p=h/c(Math.round(l(h)));return p*n<n-.5&&(p*=n),p<=f?x(h):""}},a.nice=()=>r(r5(r(),{floor:u=>c(Math.floor(l(u))),ceil:u=>c(Math.ceil(l(u)))})),a}function n5(){const t=sy(Fm()).domain([1,10]);return t.copy=()=>fo(t,n5()).base(t.base()),br.apply(t,arguments),t}function C4(t){return function(a){return Math.sign(a)*Math.log1p(Math.abs(a/t))}}function A4(t){return function(a){return Math.sign(a)*Math.expm1(Math.abs(a))*t}}function iy(t){var a=1,r=t(C4(a),A4(a));return r.constant=function(n){return arguments.length?t(C4(a=+n),A4(a)):a},ps(r)}function s5(){var t=iy(Fm());return t.copy=function(){return fo(t,s5()).constant(t.constant())},br.apply(t,arguments)}function k4(t){return function(a){return a<0?-Math.pow(-a,t):Math.pow(a,t)}}function ZI(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function QI(t){return t<0?-t*t:t*t}function ly(t){var a=t(ha,ha),r=1;function n(){return r===1?t(ha,ha):r===.5?t(ZI,QI):t(k4(r),k4(1/r))}return a.exponent=function(l){return arguments.length?(r=+l,n()):r},ps(a)}function cy(){var t=ly(Fm());return t.copy=function(){return fo(t,cy()).exponent(t.exponent())},br.apply(t,arguments),t}function JI(){return cy.apply(null,arguments).exponent(.5)}function O4(t){return Math.sign(t)*t*t}function eB(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function i5(){var t=ay(),a=[0,1],r=!1,n;function l(c){var d=eB(t(c));return isNaN(d)?n:r?Math.round(d):d}return l.invert=function(c){return t.invert(O4(c))},l.domain=function(c){return arguments.length?(t.domain(c),l):t.domain()},l.range=function(c){return arguments.length?(t.range((a=Array.from(c,Ku)).map(O4)),l):a.slice()},l.rangeRound=function(c){return l.range(c).round(!0)},l.round=function(c){return arguments.length?(r=!!c,l):r},l.clamp=function(c){return arguments.length?(t.clamp(c),l):t.clamp()},l.unknown=function(c){return arguments.length?(n=c,l):n},l.copy=function(){return i5(t.domain(),a).round(r).clamp(t.clamp()).unknown(n)},br.apply(l,arguments),ps(l)}function l5(){var t=[],a=[],r=[],n;function l(){var d=0,u=Math.max(1,a.length);for(r=new Array(u-1);++d<u;)r[d-1]=nI(t,d/u);return c}function c(d){return d==null||isNaN(d=+d)?n:a[xo(r,d)]}return c.invertExtent=function(d){var u=a.indexOf(d);return u<0?[NaN,NaN]:[u>0?r[u-1]:t[0],u<r.length?r[u]:t[t.length-1]]},c.domain=function(d){if(!arguments.length)return t.slice();t=[];for(let u of d)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(ds),l()},c.range=function(d){return arguments.length?(a=Array.from(d),l()):a.slice()},c.unknown=function(d){return arguments.length?(n=d,c):n},c.quantiles=function(){return r.slice()},c.copy=function(){return l5().domain(t).range(a).unknown(n)},br.apply(c,arguments)}function c5(){var t=0,a=1,r=1,n=[.5],l=[0,1],c;function d(x){return x!=null&&x<=x?l[xo(n,x,0,r)]:c}function u(){var x=-1;for(n=new Array(r);++x<r;)n[x]=((x+1)*a-(x-r)*t)/(r+1);return d}return d.domain=function(x){return arguments.length?([t,a]=x,t=+t,a=+a,u()):[t,a]},d.range=function(x){return arguments.length?(r=(l=Array.from(x)).length-1,u()):l.slice()},d.invertExtent=function(x){var f=l.indexOf(x);return f<0?[NaN,NaN]:f<1?[t,n[0]]:f>=r?[n[r-1],a]:[n[f-1],n[f]]},d.unknown=function(x){return arguments.length&&(c=x),d},d.thresholds=function(){return n.slice()},d.copy=function(){return c5().domain([t,a]).range(l).unknown(c)},br.apply(ps(d),arguments)}function o5(){var t=[.5],a=[0,1],r,n=1;function l(c){return c!=null&&c<=c?a[xo(t,c,0,n)]:r}return l.domain=function(c){return arguments.length?(t=Array.from(c),n=Math.min(t.length,a.length-1),l):t.slice()},l.range=function(c){return arguments.length?(a=Array.from(c),n=Math.min(t.length,a.length-1),l):a.slice()},l.invertExtent=function(c){var d=a.indexOf(c);return[t[d-1],t[d]]},l.unknown=function(c){return arguments.length?(r=c,l):r},l.copy=function(){return o5().domain(t).range(a).unknown(r)},br.apply(l,arguments)}const G0=new Date,K0=new Date;function Lt(t,a,r,n){function l(c){return t(c=arguments.length===0?new Date:new Date(+c)),c}return l.floor=c=>(t(c=new Date(+c)),c),l.ceil=c=>(t(c=new Date(c-1)),a(c,1),t(c),c),l.round=c=>{const d=l(c),u=l.ceil(c);return c-d<u-c?d:u},l.offset=(c,d)=>(a(c=new Date(+c),d==null?1:Math.floor(d)),c),l.range=(c,d,u)=>{const x=[];if(c=l.ceil(c),u=u==null?1:Math.floor(u),!(c<d)||!(u>0))return x;let f;do x.push(f=new Date(+c)),a(c,u),t(c);while(f<c&&c<d);return x},l.filter=c=>Lt(d=>{if(d>=d)for(;t(d),!c(d);)d.setTime(d-1)},(d,u)=>{if(d>=d)if(u<0)for(;++u<=0;)for(;a(d,-1),!c(d););else for(;--u>=0;)for(;a(d,1),!c(d););}),r&&(l.count=(c,d)=>(G0.setTime(+c),K0.setTime(+d),t(G0),t(K0),Math.floor(r(G0,K0))),l.every=c=>(c=Math.floor(c),!isFinite(c)||!(c>0)?null:c>1?l.filter(n?d=>n(d)%c===0:d=>l.count(0,d)%c===0):l)),l}const Xu=Lt(()=>{},(t,a)=>{t.setTime(+t+a)},(t,a)=>a-t);Xu.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Lt(a=>{a.setTime(Math.floor(a/t)*t)},(a,r)=>{a.setTime(+a+r*t)},(a,r)=>(r-a)/t):Xu);Xu.range;const gn=1e3,ur=gn*60,yn=ur*60,_n=yn*24,oy=_n*7,E4=_n*30,Y0=_n*365,Fs=Lt(t=>{t.setTime(t-t.getMilliseconds())},(t,a)=>{t.setTime(+t+a*gn)},(t,a)=>(a-t)/gn,t=>t.getUTCSeconds());Fs.range;const dy=Lt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gn)},(t,a)=>{t.setTime(+t+a*ur)},(t,a)=>(a-t)/ur,t=>t.getMinutes());dy.range;const uy=Lt(t=>{t.setUTCSeconds(0,0)},(t,a)=>{t.setTime(+t+a*ur)},(t,a)=>(a-t)/ur,t=>t.getUTCMinutes());uy.range;const my=Lt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gn-t.getMinutes()*ur)},(t,a)=>{t.setTime(+t+a*yn)},(t,a)=>(a-t)/yn,t=>t.getHours());my.range;const xy=Lt(t=>{t.setUTCMinutes(0,0,0)},(t,a)=>{t.setTime(+t+a*yn)},(t,a)=>(a-t)/yn,t=>t.getUTCHours());xy.range;const po=Lt(t=>t.setHours(0,0,0,0),(t,a)=>t.setDate(t.getDate()+a),(t,a)=>(a-t-(a.getTimezoneOffset()-t.getTimezoneOffset())*ur)/_n,t=>t.getDate()-1);po.range;const qm=Lt(t=>{t.setUTCHours(0,0,0,0)},(t,a)=>{t.setUTCDate(t.getUTCDate()+a)},(t,a)=>(a-t)/_n,t=>t.getUTCDate()-1);qm.range;const d5=Lt(t=>{t.setUTCHours(0,0,0,0)},(t,a)=>{t.setUTCDate(t.getUTCDate()+a)},(t,a)=>(a-t)/_n,t=>Math.floor(t/_n));d5.range;function oi(t){return Lt(a=>{a.setDate(a.getDate()-(a.getDay()+7-t)%7),a.setHours(0,0,0,0)},(a,r)=>{a.setDate(a.getDate()+r*7)},(a,r)=>(r-a-(r.getTimezoneOffset()-a.getTimezoneOffset())*ur)/oy)}const Hm=oi(0),Wu=oi(1),tB=oi(2),aB=oi(3),ul=oi(4),rB=oi(5),nB=oi(6);Hm.range;Wu.range;tB.range;aB.range;ul.range;rB.range;nB.range;function di(t){return Lt(a=>{a.setUTCDate(a.getUTCDate()-(a.getUTCDay()+7-t)%7),a.setUTCHours(0,0,0,0)},(a,r)=>{a.setUTCDate(a.getUTCDate()+r*7)},(a,r)=>(r-a)/oy)}const Vm=di(0),Zu=di(1),sB=di(2),iB=di(3),ml=di(4),lB=di(5),cB=di(6);Vm.range;Zu.range;sB.range;iB.range;ml.range;lB.range;cB.range;const hy=Lt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,a)=>{t.setMonth(t.getMonth()+a)},(t,a)=>a.getMonth()-t.getMonth()+(a.getFullYear()-t.getFullYear())*12,t=>t.getMonth());hy.range;const fy=Lt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,a)=>{t.setUTCMonth(t.getUTCMonth()+a)},(t,a)=>a.getUTCMonth()-t.getUTCMonth()+(a.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());fy.range;const Cn=Lt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,a)=>{t.setFullYear(t.getFullYear()+a)},(t,a)=>a.getFullYear()-t.getFullYear(),t=>t.getFullYear());Cn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Lt(a=>{a.setFullYear(Math.floor(a.getFullYear()/t)*t),a.setMonth(0,1),a.setHours(0,0,0,0)},(a,r)=>{a.setFullYear(a.getFullYear()+r*t)});Cn.range;const An=Lt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,a)=>{t.setUTCFullYear(t.getUTCFullYear()+a)},(t,a)=>a.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());An.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Lt(a=>{a.setUTCFullYear(Math.floor(a.getUTCFullYear()/t)*t),a.setUTCMonth(0,1),a.setUTCHours(0,0,0,0)},(a,r)=>{a.setUTCFullYear(a.getUTCFullYear()+r*t)});An.range;function u5(t,a,r,n,l,c){const d=[[Fs,1,gn],[Fs,5,5*gn],[Fs,15,15*gn],[Fs,30,30*gn],[c,1,ur],[c,5,5*ur],[c,15,15*ur],[c,30,30*ur],[l,1,yn],[l,3,3*yn],[l,6,6*yn],[l,12,12*yn],[n,1,_n],[n,2,2*_n],[r,1,oy],[a,1,E4],[a,3,3*E4],[t,1,Y0]];function u(f,h,p){const y=h<f;y&&([f,h]=[h,f]);const j=p&&typeof p.range=="function"?p:x(f,h,p),w=j?j.range(f,+h+1):[];return y?w.reverse():w}function x(f,h,p){const y=Math.abs(h-f)/p,j=Wg(([,,g])=>g).right(d,y);if(j===d.length)return t.every(Zp(f/Y0,h/Y0,p));if(j===0)return Xu.every(Math.max(Zp(f,h,p),1));const[w,S]=d[y/d[j-1][2]<d[j][2]/y?j-1:j];return w.every(S)}return[u,x]}const[oB,dB]=u5(An,fy,Vm,d5,xy,uy),[uB,mB]=u5(Cn,hy,Hm,po,my,dy);function X0(t){if(0<=t.y&&t.y<100){var a=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return a.setFullYear(t.y),a}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function W0(t){if(0<=t.y&&t.y<100){var a=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return a.setUTCFullYear(t.y),a}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Dc(t,a,r){return{y:t,m:a,d:r,H:0,M:0,S:0,L:0}}function xB(t){var a=t.dateTime,r=t.date,n=t.time,l=t.periods,c=t.days,d=t.shortDays,u=t.months,x=t.shortMonths,f=Pc(l),h=zc(l),p=Pc(c),y=zc(c),j=Pc(d),w=zc(d),S=Pc(u),g=zc(u),_=Pc(x),O=zc(x),C={a:z,A:$,b:re,B:te,c:null,d:R4,e:R4,f:RB,g:GB,G:YB,H:DB,I:PB,j:zB,L:m5,m:LB,M:IB,p:I,q:K,Q:B4,s:$4,S:BB,u:$B,U:UB,V:FB,w:qB,W:HB,x:null,X:null,y:VB,Y:KB,Z:XB,"%":I4},k={a:G,A:ne,b:he,B:me,c:null,d:L4,e:L4,f:JB,g:o$,G:u$,H:WB,I:ZB,j:QB,L:h5,m:e$,M:t$,p:be,q:Ge,Q:B4,s:$4,S:a$,u:r$,U:n$,V:s$,w:i$,W:l$,x:null,X:null,y:c$,Y:d$,Z:m$,"%":I4},E={a:L,A:q,b:F,B:se,c:ce,d:P4,e:P4,f:OB,g:D4,G:M4,H:z4,I:z4,j:_B,L:kB,m:SB,M:CB,p:R,q:wB,Q:TB,s:MB,S:AB,u:yB,U:vB,V:bB,w:gB,W:jB,x:ue,X:H,y:D4,Y:M4,Z:NB,"%":EB};C.x=T(r,C),C.X=T(n,C),C.c=T(a,C),k.x=T(r,k),k.X=T(n,k),k.c=T(a,k);function T(ee,Ae){return function(Me){var oe=[],Kt=-1,Be=0,Yt=ee.length,Xt,Xr,Ml;for(Me instanceof Date||(Me=new Date(+Me));++Kt<Yt;)ee.charCodeAt(Kt)===37&&(oe.push(ee.slice(Be,Kt)),(Xr=T4[Xt=ee.charAt(++Kt)])!=null?Xt=ee.charAt(++Kt):Xr=Xt==="e"?" ":"0",(Ml=Ae[Xt])&&(Xt=Ml(Me,Xr)),oe.push(Xt),Be=Kt+1);return oe.push(ee.slice(Be,Kt)),oe.join("")}}function D(ee,Ae){return function(Me){var oe=Dc(1900,void 0,1),Kt=P(oe,ee,Me+="",0),Be,Yt;if(Kt!=Me.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(Ae&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(Be=W0(Dc(oe.y,0,1)),Yt=Be.getUTCDay(),Be=Yt>4||Yt===0?Zu.ceil(Be):Zu(Be),Be=qm.offset(Be,(oe.V-1)*7),oe.y=Be.getUTCFullYear(),oe.m=Be.getUTCMonth(),oe.d=Be.getUTCDate()+(oe.w+6)%7):(Be=X0(Dc(oe.y,0,1)),Yt=Be.getDay(),Be=Yt>4||Yt===0?Wu.ceil(Be):Wu(Be),Be=po.offset(Be,(oe.V-1)*7),oe.y=Be.getFullYear(),oe.m=Be.getMonth(),oe.d=Be.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),Yt="Z"in oe?W0(Dc(oe.y,0,1)).getUTCDay():X0(Dc(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-(Yt+5)%7:oe.w+oe.U*7-(Yt+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,W0(oe)):X0(oe)}}function P(ee,Ae,Me,oe){for(var Kt=0,Be=Ae.length,Yt=Me.length,Xt,Xr;Kt<Be;){if(oe>=Yt)return-1;if(Xt=Ae.charCodeAt(Kt++),Xt===37){if(Xt=Ae.charAt(Kt++),Xr=E[Xt in T4?Ae.charAt(Kt++):Xt],!Xr||(oe=Xr(ee,Me,oe))<0)return-1}else if(Xt!=Me.charCodeAt(oe++))return-1}return oe}function R(ee,Ae,Me){var oe=f.exec(Ae.slice(Me));return oe?(ee.p=h.get(oe[0].toLowerCase()),Me+oe[0].length):-1}function L(ee,Ae,Me){var oe=j.exec(Ae.slice(Me));return oe?(ee.w=w.get(oe[0].toLowerCase()),Me+oe[0].length):-1}function q(ee,Ae,Me){var oe=p.exec(Ae.slice(Me));return oe?(ee.w=y.get(oe[0].toLowerCase()),Me+oe[0].length):-1}function F(ee,Ae,Me){var oe=_.exec(Ae.slice(Me));return oe?(ee.m=O.get(oe[0].toLowerCase()),Me+oe[0].length):-1}function se(ee,Ae,Me){var oe=S.exec(Ae.slice(Me));return oe?(ee.m=g.get(oe[0].toLowerCase()),Me+oe[0].length):-1}function ce(ee,Ae,Me){return P(ee,a,Ae,Me)}function ue(ee,Ae,Me){return P(ee,r,Ae,Me)}function H(ee,Ae,Me){return P(ee,n,Ae,Me)}function z(ee){return d[ee.getDay()]}function $(ee){return c[ee.getDay()]}function re(ee){return x[ee.getMonth()]}function te(ee){return u[ee.getMonth()]}function I(ee){return l[+(ee.getHours()>=12)]}function K(ee){return 1+~~(ee.getMonth()/3)}function G(ee){return d[ee.getUTCDay()]}function ne(ee){return c[ee.getUTCDay()]}function he(ee){return x[ee.getUTCMonth()]}function me(ee){return u[ee.getUTCMonth()]}function be(ee){return l[+(ee.getUTCHours()>=12)]}function Ge(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var Ae=T(ee+="",C);return Ae.toString=function(){return ee},Ae},parse:function(ee){var Ae=D(ee+="",!1);return Ae.toString=function(){return ee},Ae},utcFormat:function(ee){var Ae=T(ee+="",k);return Ae.toString=function(){return ee},Ae},utcParse:function(ee){var Ae=D(ee+="",!0);return Ae.toString=function(){return ee},Ae}}}var T4={"-":"",_:" ",0:"0"},Gt=/^\s*\d+/,hB=/^%/,fB=/[\\^$*+?|[\]().{}]/g;function qe(t,a,r){var n=t<0?"-":"",l=(n?-t:t)+"",c=l.length;return n+(c<r?new Array(r-c+1).join(a)+l:l)}function pB(t){return t.replace(fB,"\\$&")}function Pc(t){return new RegExp("^(?:"+t.map(pB).join("|")+")","i")}function zc(t){return new Map(t.map((a,r)=>[a.toLowerCase(),r]))}function gB(t,a,r){var n=Gt.exec(a.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function yB(t,a,r){var n=Gt.exec(a.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function vB(t,a,r){var n=Gt.exec(a.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function bB(t,a,r){var n=Gt.exec(a.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function jB(t,a,r){var n=Gt.exec(a.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function M4(t,a,r){var n=Gt.exec(a.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function D4(t,a,r){var n=Gt.exec(a.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function NB(t,a,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(a.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function wB(t,a,r){var n=Gt.exec(a.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function SB(t,a,r){var n=Gt.exec(a.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function P4(t,a,r){var n=Gt.exec(a.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function _B(t,a,r){var n=Gt.exec(a.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function z4(t,a,r){var n=Gt.exec(a.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function CB(t,a,r){var n=Gt.exec(a.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function AB(t,a,r){var n=Gt.exec(a.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function kB(t,a,r){var n=Gt.exec(a.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function OB(t,a,r){var n=Gt.exec(a.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function EB(t,a,r){var n=hB.exec(a.slice(r,r+1));return n?r+n[0].length:-1}function TB(t,a,r){var n=Gt.exec(a.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function MB(t,a,r){var n=Gt.exec(a.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function R4(t,a){return qe(t.getDate(),a,2)}function DB(t,a){return qe(t.getHours(),a,2)}function PB(t,a){return qe(t.getHours()%12||12,a,2)}function zB(t,a){return qe(1+po.count(Cn(t),t),a,3)}function m5(t,a){return qe(t.getMilliseconds(),a,3)}function RB(t,a){return m5(t,a)+"000"}function LB(t,a){return qe(t.getMonth()+1,a,2)}function IB(t,a){return qe(t.getMinutes(),a,2)}function BB(t,a){return qe(t.getSeconds(),a,2)}function $B(t){var a=t.getDay();return a===0?7:a}function UB(t,a){return qe(Hm.count(Cn(t)-1,t),a,2)}function x5(t){var a=t.getDay();return a>=4||a===0?ul(t):ul.ceil(t)}function FB(t,a){return t=x5(t),qe(ul.count(Cn(t),t)+(Cn(t).getDay()===4),a,2)}function qB(t){return t.getDay()}function HB(t,a){return qe(Wu.count(Cn(t)-1,t),a,2)}function VB(t,a){return qe(t.getFullYear()%100,a,2)}function GB(t,a){return t=x5(t),qe(t.getFullYear()%100,a,2)}function KB(t,a){return qe(t.getFullYear()%1e4,a,4)}function YB(t,a){var r=t.getDay();return t=r>=4||r===0?ul(t):ul.ceil(t),qe(t.getFullYear()%1e4,a,4)}function XB(t){var a=t.getTimezoneOffset();return(a>0?"-":(a*=-1,"+"))+qe(a/60|0,"0",2)+qe(a%60,"0",2)}function L4(t,a){return qe(t.getUTCDate(),a,2)}function WB(t,a){return qe(t.getUTCHours(),a,2)}function ZB(t,a){return qe(t.getUTCHours()%12||12,a,2)}function QB(t,a){return qe(1+qm.count(An(t),t),a,3)}function h5(t,a){return qe(t.getUTCMilliseconds(),a,3)}function JB(t,a){return h5(t,a)+"000"}function e$(t,a){return qe(t.getUTCMonth()+1,a,2)}function t$(t,a){return qe(t.getUTCMinutes(),a,2)}function a$(t,a){return qe(t.getUTCSeconds(),a,2)}function r$(t){var a=t.getUTCDay();return a===0?7:a}function n$(t,a){return qe(Vm.count(An(t)-1,t),a,2)}function f5(t){var a=t.getUTCDay();return a>=4||a===0?ml(t):ml.ceil(t)}function s$(t,a){return t=f5(t),qe(ml.count(An(t),t)+(An(t).getUTCDay()===4),a,2)}function i$(t){return t.getUTCDay()}function l$(t,a){return qe(Zu.count(An(t)-1,t),a,2)}function c$(t,a){return qe(t.getUTCFullYear()%100,a,2)}function o$(t,a){return t=f5(t),qe(t.getUTCFullYear()%100,a,2)}function d$(t,a){return qe(t.getUTCFullYear()%1e4,a,4)}function u$(t,a){var r=t.getUTCDay();return t=r>=4||r===0?ml(t):ml.ceil(t),qe(t.getUTCFullYear()%1e4,a,4)}function m$(){return"+0000"}function I4(){return"%"}function B4(t){return+t}function $4(t){return Math.floor(+t/1e3)}var Xi,p5,g5;x$({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function x$(t){return Xi=xB(t),p5=Xi.format,Xi.parse,g5=Xi.utcFormat,Xi.utcParse,Xi}function h$(t){return new Date(t)}function f$(t){return t instanceof Date?+t:+new Date(+t)}function py(t,a,r,n,l,c,d,u,x,f){var h=ay(),p=h.invert,y=h.domain,j=f(".%L"),w=f(":%S"),S=f("%I:%M"),g=f("%I %p"),_=f("%a %d"),O=f("%b %d"),C=f("%B"),k=f("%Y");function E(T){return(x(T)<T?j:u(T)<T?w:d(T)<T?S:c(T)<T?g:n(T)<T?l(T)<T?_:O:r(T)<T?C:k)(T)}return h.invert=function(T){return new Date(p(T))},h.domain=function(T){return arguments.length?y(Array.from(T,f$)):y().map(h$)},h.ticks=function(T){var D=y();return t(D[0],D[D.length-1],T??10)},h.tickFormat=function(T,D){return D==null?E:f(D)},h.nice=function(T){var D=y();return(!T||typeof T.range!="function")&&(T=a(D[0],D[D.length-1],T??10)),T?y(r5(D,T)):h},h.copy=function(){return fo(h,py(t,a,r,n,l,c,d,u,x,f))},h}function p$(){return br.apply(py(uB,mB,Cn,hy,Hm,po,my,dy,Fs,p5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function g$(){return br.apply(py(oB,dB,An,fy,Vm,qm,xy,uy,Fs,g5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Gm(){var t=0,a=1,r,n,l,c,d=ha,u=!1,x;function f(p){return p==null||isNaN(p=+p)?x:d(l===0?.5:(p=(c(p)-r)*l,u?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,a]=p,r=c(t=+t),n=c(a=+a),l=r===n?0:1/(n-r),f):[t,a]},f.clamp=function(p){return arguments.length?(u=!!p,f):u},f.interpolator=function(p){return arguments.length?(d=p,f):d};function h(p){return function(y){var j,w;return arguments.length?([j,w]=y,d=p(j,w),f):[d(0),d(1)]}}return f.range=h(Nl),f.rangeRound=h(ty),f.unknown=function(p){return arguments.length?(x=p,f):x},function(p){return c=p,r=p(t),n=p(a),l=r===n?0:1/(n-r),f}}function gs(t,a){return a.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function y5(){var t=ps(Gm()(ha));return t.copy=function(){return gs(t,y5())},Mn.apply(t,arguments)}function v5(){var t=sy(Gm()).domain([1,10]);return t.copy=function(){return gs(t,v5()).base(t.base())},Mn.apply(t,arguments)}function b5(){var t=iy(Gm());return t.copy=function(){return gs(t,b5()).constant(t.constant())},Mn.apply(t,arguments)}function gy(){var t=ly(Gm());return t.copy=function(){return gs(t,gy()).exponent(t.exponent())},Mn.apply(t,arguments)}function y$(){return gy.apply(null,arguments).exponent(.5)}function j5(){var t=[],a=ha;function r(n){if(n!=null&&!isNaN(n=+n))return a((xo(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let l of n)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(ds),r},r.interpolator=function(n){return arguments.length?(a=n,r):a},r.range=function(){return t.map((n,l)=>a(l/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(l,c)=>rI(t,c/n))},r.copy=function(){return j5(a).domain(t)},Mn.apply(r,arguments)}function Km(){var t=0,a=.5,r=1,n=1,l,c,d,u,x,f=ha,h,p=!1,y;function j(S){return isNaN(S=+S)?y:(S=.5+((S=+h(S))-c)*(n*S<n*c?u:x),f(p?Math.max(0,Math.min(1,S)):S))}j.domain=function(S){return arguments.length?([t,a,r]=S,l=h(t=+t),c=h(a=+a),d=h(r=+r),u=l===c?0:.5/(c-l),x=c===d?0:.5/(d-c),n=c<l?-1:1,j):[t,a,r]},j.clamp=function(S){return arguments.length?(p=!!S,j):p},j.interpolator=function(S){return arguments.length?(f=S,j):f};function w(S){return function(g){var _,O,C;return arguments.length?([_,O,C]=g,f=EI(S,[_,O,C]),j):[f(0),f(.5),f(1)]}}return j.range=w(Nl),j.rangeRound=w(ty),j.unknown=function(S){return arguments.length?(y=S,j):y},function(S){return h=S,l=S(t),c=S(a),d=S(r),u=l===c?0:.5/(c-l),x=c===d?0:.5/(d-c),n=c<l?-1:1,j}}function N5(){var t=ps(Km()(ha));return t.copy=function(){return gs(t,N5())},Mn.apply(t,arguments)}function w5(){var t=sy(Km()).domain([.1,1,10]);return t.copy=function(){return gs(t,w5()).base(t.base())},Mn.apply(t,arguments)}function S5(){var t=iy(Km());return t.copy=function(){return gs(t,S5()).constant(t.constant())},Mn.apply(t,arguments)}function yy(){var t=ly(Km());return t.copy=function(){return gs(t,yy()).exponent(t.exponent())},Mn.apply(t,arguments)}function v$(){return yy.apply(null,arguments).exponent(.5)}const $c=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Qg,scaleDiverging:N5,scaleDivergingLog:w5,scaleDivergingPow:yy,scaleDivergingSqrt:v$,scaleDivergingSymlog:S5,scaleIdentity:a5,scaleImplicit:Qp,scaleLinear:t5,scaleLog:n5,scaleOrdinal:Zg,scalePoint:iI,scalePow:cy,scaleQuantile:l5,scaleQuantize:c5,scaleRadial:i5,scaleSequential:y5,scaleSequentialLog:v5,scaleSequentialPow:gy,scaleSequentialQuantile:j5,scaleSequentialSqrt:y$,scaleSequentialSymlog:b5,scaleSqrt:JI,scaleSymlog:s5,scaleThreshold:o5,scaleTime:p$,scaleUtc:g$,tickFormat:e5},Symbol.toStringTag,{value:"Module"}));var ys=t=>t.chartData,vy=Z([ys],t=>{var a=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:a,dataStartIndex:0}}),by=(t,a,r,n)=>n?vy(t):ys(t);function ri(t){if(Array.isArray(t)&&t.length===2){var[a,r]=t;if(Ht(a)&&Ht(r))return!0}return!1}function U4(t,a,r){return r?t:[Math.min(t[0],a[0]),Math.max(t[1],a[1])]}function _5(t,a){if(a&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,l,c;if(Ht(r))l=r;else if(typeof r=="function")return;if(Ht(n))c=n;else if(typeof n=="function")return;var d=[l,c];if(ri(d))return d}}function b$(t,a,r){if(!(!r&&a==null)){if(typeof t=="function"&&a!=null)try{var n=t(a,r);if(ri(n))return U4(n,a,r)}catch{}if(Array.isArray(t)&&t.length===2){var[l,c]=t,d,u;if(l==="auto")a!=null&&(d=Math.min(...a));else if(we(l))d=l;else if(typeof l=="function")try{a!=null&&(d=l(a?.[0]))}catch{}else if(typeof l=="string"&&ww.test(l)){var x=ww.exec(l);if(x==null||a==null)d=void 0;else{var f=+x[1];d=a[0]-f}}else d=a?.[0];if(c==="auto")a!=null&&(u=Math.max(...a));else if(we(c))u=c;else if(typeof c=="function")try{a!=null&&(u=c(a?.[1]))}catch{}else if(typeof c=="string"&&Sw.test(c)){var h=Sw.exec(c);if(h==null||a==null)u=void 0;else{var p=+h[1];u=a[1]+p}}else u=a?.[1];var y=[d,u];if(ri(y))return a==null?y:U4(y,a,r)}}}var wl=1e9,j$={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ny,xt=!0,yr="[DecimalError] ",Ws=yr+"Invalid argument: ",jy=yr+"Exponent out of range: ",Sl=Math.floor,Bs=Math.pow,N$=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ha,Ft=1e7,ct=7,C5=9007199254740991,Qu=Sl(C5/ct),fe={};fe.absoluteValue=fe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};fe.comparedTo=fe.cmp=function(t){var a,r,n,l,c=this;if(t=new c.constructor(t),c.s!==t.s)return c.s||-t.s;if(c.e!==t.e)return c.e>t.e^c.s<0?1:-1;for(n=c.d.length,l=t.d.length,a=0,r=n<l?n:l;a<r;++a)if(c.d[a]!==t.d[a])return c.d[a]>t.d[a]^c.s<0?1:-1;return n===l?0:n>l^c.s<0?1:-1};fe.decimalPlaces=fe.dp=function(){var t=this,a=t.d.length-1,r=(a-t.e)*ct;if(a=t.d[a],a)for(;a%10==0;a/=10)r--;return r<0?0:r};fe.dividedBy=fe.div=function(t){return jn(this,new this.constructor(t))};fe.dividedToIntegerBy=fe.idiv=function(t){var a=this,r=a.constructor;return rt(jn(a,new r(t),0,1),r.precision)};fe.equals=fe.eq=function(t){return!this.cmp(t)};fe.exponent=function(){return Tt(this)};fe.greaterThan=fe.gt=function(t){return this.cmp(t)>0};fe.greaterThanOrEqualTo=fe.gte=function(t){return this.cmp(t)>=0};fe.isInteger=fe.isint=function(){return this.e>this.d.length-2};fe.isNegative=fe.isneg=function(){return this.s<0};fe.isPositive=fe.ispos=function(){return this.s>0};fe.isZero=function(){return this.s===0};fe.lessThan=fe.lt=function(t){return this.cmp(t)<0};fe.lessThanOrEqualTo=fe.lte=function(t){return this.cmp(t)<1};fe.logarithm=fe.log=function(t){var a,r=this,n=r.constructor,l=n.precision,c=l+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Ha))throw Error(yr+"NaN");if(r.s<1)throw Error(yr+(r.s?"NaN":"-Infinity"));return r.eq(Ha)?new n(0):(xt=!1,a=jn(Qc(r,c),Qc(t,c),c),xt=!0,rt(a,l))};fe.minus=fe.sub=function(t){var a=this;return t=new a.constructor(t),a.s==t.s?O5(a,t):A5(a,(t.s=-t.s,t))};fe.modulo=fe.mod=function(t){var a,r=this,n=r.constructor,l=n.precision;if(t=new n(t),!t.s)throw Error(yr+"NaN");return r.s?(xt=!1,a=jn(r,t,0,1).times(t),xt=!0,r.minus(a)):rt(new n(r),l)};fe.naturalExponential=fe.exp=function(){return k5(this)};fe.naturalLogarithm=fe.ln=function(){return Qc(this)};fe.negated=fe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};fe.plus=fe.add=function(t){var a=this;return t=new a.constructor(t),a.s==t.s?A5(a,t):O5(a,(t.s=-t.s,t))};fe.precision=fe.sd=function(t){var a,r,n,l=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ws+t);if(a=Tt(l)+1,n=l.d.length-1,r=n*ct+1,n=l.d[n],n){for(;n%10==0;n/=10)r--;for(n=l.d[0];n>=10;n/=10)r++}return t&&a>r?a:r};fe.squareRoot=fe.sqrt=function(){var t,a,r,n,l,c,d,u=this,x=u.constructor;if(u.s<1){if(!u.s)return new x(0);throw Error(yr+"NaN")}for(t=Tt(u),xt=!1,l=Math.sqrt(+u),l==0||l==1/0?(a=Br(u.d),(a.length+t)%2==0&&(a+="0"),l=Math.sqrt(a),t=Sl((t+1)/2)-(t<0||t%2),l==1/0?a="5e"+t:(a=l.toExponential(),a=a.slice(0,a.indexOf("e")+1)+t),n=new x(a)):n=new x(l.toString()),r=x.precision,l=d=r+3;;)if(c=n,n=c.plus(jn(u,c,d+2)).times(.5),Br(c.d).slice(0,d)===(a=Br(n.d)).slice(0,d)){if(a=a.slice(d-3,d+1),l==d&&a=="4999"){if(rt(c,r+1,0),c.times(c).eq(u)){n=c;break}}else if(a!="9999")break;d+=4}return xt=!0,rt(n,r)};fe.times=fe.mul=function(t){var a,r,n,l,c,d,u,x,f,h=this,p=h.constructor,y=h.d,j=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,r=h.e+t.e,x=y.length,f=j.length,x<f&&(c=y,y=j,j=c,d=x,x=f,f=d),c=[],d=x+f,n=d;n--;)c.push(0);for(n=f;--n>=0;){for(a=0,l=x+n;l>n;)u=c[l]+j[n]*y[l-n-1]+a,c[l--]=u%Ft|0,a=u/Ft|0;c[l]=(c[l]+a)%Ft|0}for(;!c[--d];)c.pop();return a?++r:c.shift(),t.d=c,t.e=r,xt?rt(t,p.precision):t};fe.toDecimalPlaces=fe.todp=function(t,a){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Gr(t,0,wl),a===void 0?a=n.rounding:Gr(a,0,8),rt(r,t+Tt(r)+1,a))};fe.toExponential=function(t,a){var r,n=this,l=n.constructor;return t===void 0?r=ni(n,!0):(Gr(t,0,wl),a===void 0?a=l.rounding:Gr(a,0,8),n=rt(new l(n),t+1,a),r=ni(n,!0,t+1)),r};fe.toFixed=function(t,a){var r,n,l=this,c=l.constructor;return t===void 0?ni(l):(Gr(t,0,wl),a===void 0?a=c.rounding:Gr(a,0,8),n=rt(new c(l),t+Tt(l)+1,a),r=ni(n.abs(),!1,t+Tt(n)+1),l.isneg()&&!l.isZero()?"-"+r:r)};fe.toInteger=fe.toint=function(){var t=this,a=t.constructor;return rt(new a(t),Tt(t)+1,a.rounding)};fe.toNumber=function(){return+this};fe.toPower=fe.pow=function(t){var a,r,n,l,c,d,u=this,x=u.constructor,f=12,h=+(t=new x(t));if(!t.s)return new x(Ha);if(u=new x(u),!u.s){if(t.s<1)throw Error(yr+"Infinity");return u}if(u.eq(Ha))return u;if(n=x.precision,t.eq(Ha))return rt(u,n);if(a=t.e,r=t.d.length-1,d=a>=r,c=u.s,d){if((r=h<0?-h:h)<=C5){for(l=new x(Ha),a=Math.ceil(n/ct+4),xt=!1;r%2&&(l=l.times(u),q4(l.d,a)),r=Sl(r/2),r!==0;)u=u.times(u),q4(u.d,a);return xt=!0,t.s<0?new x(Ha).div(l):rt(l,n)}}else if(c<0)throw Error(yr+"NaN");return c=c<0&&t.d[Math.max(a,r)]&1?-1:1,u.s=1,xt=!1,l=t.times(Qc(u,n+f)),xt=!0,l=k5(l),l.s=c,l};fe.toPrecision=function(t,a){var r,n,l=this,c=l.constructor;return t===void 0?(r=Tt(l),n=ni(l,r<=c.toExpNeg||r>=c.toExpPos)):(Gr(t,1,wl),a===void 0?a=c.rounding:Gr(a,0,8),l=rt(new c(l),t,a),r=Tt(l),n=ni(l,t<=r||r<=c.toExpNeg,t)),n};fe.toSignificantDigits=fe.tosd=function(t,a){var r=this,n=r.constructor;return t===void 0?(t=n.precision,a=n.rounding):(Gr(t,1,wl),a===void 0?a=n.rounding:Gr(a,0,8)),rt(new n(r),t,a)};fe.toString=fe.valueOf=fe.val=fe.toJSON=fe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,a=Tt(t),r=t.constructor;return ni(t,a<=r.toExpNeg||a>=r.toExpPos)};function A5(t,a){var r,n,l,c,d,u,x,f,h=t.constructor,p=h.precision;if(!t.s||!a.s)return a.s||(a=new h(t)),xt?rt(a,p):a;if(x=t.d,f=a.d,d=t.e,l=a.e,x=x.slice(),c=d-l,c){for(c<0?(n=x,c=-c,u=f.length):(n=f,l=d,u=x.length),d=Math.ceil(p/ct),u=d>u?d+1:u+1,c>u&&(c=u,n.length=1),n.reverse();c--;)n.push(0);n.reverse()}for(u=x.length,c=f.length,u-c<0&&(c=u,n=f,f=x,x=n),r=0;c;)r=(x[--c]=x[c]+f[c]+r)/Ft|0,x[c]%=Ft;for(r&&(x.unshift(r),++l),u=x.length;x[--u]==0;)x.pop();return a.d=x,a.e=l,xt?rt(a,p):a}function Gr(t,a,r){if(t!==~~t||t<a||t>r)throw Error(Ws+t)}function Br(t){var a,r,n,l=t.length-1,c="",d=t[0];if(l>0){for(c+=d,a=1;a<l;a++)n=t[a]+"",r=ct-n.length,r&&(c+=ls(r)),c+=n;d=t[a],n=d+"",r=ct-n.length,r&&(c+=ls(r))}else if(d===0)return"0";for(;d%10===0;)d/=10;return c+d}var jn=(function(){function t(n,l){var c,d=0,u=n.length;for(n=n.slice();u--;)c=n[u]*l+d,n[u]=c%Ft|0,d=c/Ft|0;return d&&n.unshift(d),n}function a(n,l,c,d){var u,x;if(c!=d)x=c>d?1:-1;else for(u=x=0;u<c;u++)if(n[u]!=l[u]){x=n[u]>l[u]?1:-1;break}return x}function r(n,l,c){for(var d=0;c--;)n[c]-=d,d=n[c]<l[c]?1:0,n[c]=d*Ft+n[c]-l[c];for(;!n[0]&&n.length>1;)n.shift()}return function(n,l,c,d){var u,x,f,h,p,y,j,w,S,g,_,O,C,k,E,T,D,P,R=n.constructor,L=n.s==l.s?1:-1,q=n.d,F=l.d;if(!n.s)return new R(n);if(!l.s)throw Error(yr+"Division by zero");for(x=n.e-l.e,D=F.length,E=q.length,j=new R(L),w=j.d=[],f=0;F[f]==(q[f]||0);)++f;if(F[f]>(q[f]||0)&&--x,c==null?O=c=R.precision:d?O=c+(Tt(n)-Tt(l))+1:O=c,O<0)return new R(0);if(O=O/ct+2|0,f=0,D==1)for(h=0,F=F[0],O++;(f<E||h)&&O--;f++)C=h*Ft+(q[f]||0),w[f]=C/F|0,h=C%F|0;else{for(h=Ft/(F[0]+1)|0,h>1&&(F=t(F,h),q=t(q,h),D=F.length,E=q.length),k=D,S=q.slice(0,D),g=S.length;g<D;)S[g++]=0;P=F.slice(),P.unshift(0),T=F[0],F[1]>=Ft/2&&++T;do h=0,u=a(F,S,D,g),u<0?(_=S[0],D!=g&&(_=_*Ft+(S[1]||0)),h=_/T|0,h>1?(h>=Ft&&(h=Ft-1),p=t(F,h),y=p.length,g=S.length,u=a(p,S,y,g),u==1&&(h--,r(p,D<y?P:F,y))):(h==0&&(u=h=1),p=F.slice()),y=p.length,y<g&&p.unshift(0),r(S,p,g),u==-1&&(g=S.length,u=a(F,S,D,g),u<1&&(h++,r(S,D<g?P:F,g))),g=S.length):u===0&&(h++,S=[0]),w[f++]=h,u&&S[0]?S[g++]=q[k]||0:(S=[q[k]],g=1);while((k++<E||S[0]!==void 0)&&O--)}return w[0]||w.shift(),j.e=x,rt(j,d?c+Tt(j)+1:c)}})();function k5(t,a){var r,n,l,c,d,u,x=0,f=0,h=t.constructor,p=h.precision;if(Tt(t)>16)throw Error(jy+Tt(t));if(!t.s)return new h(Ha);for(xt=!1,u=p,d=new h(.03125);t.abs().gte(.1);)t=t.times(d),f+=5;for(n=Math.log(Bs(2,f))/Math.LN10*2+5|0,u+=n,r=l=c=new h(Ha),h.precision=u;;){if(l=rt(l.times(t),u),r=r.times(++x),d=c.plus(jn(l,r,u)),Br(d.d).slice(0,u)===Br(c.d).slice(0,u)){for(;f--;)c=rt(c.times(c),u);return h.precision=p,a==null?(xt=!0,rt(c,p)):c}c=d}}function Tt(t){for(var a=t.e*ct,r=t.d[0];r>=10;r/=10)a++;return a}function Z0(t,a,r){if(a>t.LN10.sd())throw xt=!0,r&&(t.precision=r),Error(yr+"LN10 precision limit exceeded");return rt(new t(t.LN10),a)}function ls(t){for(var a="";t--;)a+="0";return a}function Qc(t,a){var r,n,l,c,d,u,x,f,h,p=1,y=10,j=t,w=j.d,S=j.constructor,g=S.precision;if(j.s<1)throw Error(yr+(j.s?"NaN":"-Infinity"));if(j.eq(Ha))return new S(0);if(a==null?(xt=!1,f=g):f=a,j.eq(10))return a==null&&(xt=!0),Z0(S,f);if(f+=y,S.precision=f,r=Br(w),n=r.charAt(0),c=Tt(j),Math.abs(c)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)j=j.times(t),r=Br(j.d),n=r.charAt(0),p++;c=Tt(j),n>1?(j=new S("0."+r),c++):j=new S(n+"."+r.slice(1))}else return x=Z0(S,f+2,g).times(c+""),j=Qc(new S(n+"."+r.slice(1)),f-y).plus(x),S.precision=g,a==null?(xt=!0,rt(j,g)):j;for(u=d=j=jn(j.minus(Ha),j.plus(Ha),f),h=rt(j.times(j),f),l=3;;){if(d=rt(d.times(h),f),x=u.plus(jn(d,new S(l),f)),Br(x.d).slice(0,f)===Br(u.d).slice(0,f))return u=u.times(2),c!==0&&(u=u.plus(Z0(S,f+2,g).times(c+""))),u=jn(u,new S(p),f),S.precision=g,a==null?(xt=!0,rt(u,g)):u;u=x,l+=2}}function F4(t,a){var r,n,l;for((r=a.indexOf("."))>-1&&(a=a.replace(".","")),(n=a.search(/e/i))>0?(r<0&&(r=n),r+=+a.slice(n+1),a=a.substring(0,n)):r<0&&(r=a.length),n=0;a.charCodeAt(n)===48;)++n;for(l=a.length;a.charCodeAt(l-1)===48;)--l;if(a=a.slice(n,l),a){if(l-=n,r=r-n-1,t.e=Sl(r/ct),t.d=[],n=(r+1)%ct,r<0&&(n+=ct),n<l){for(n&&t.d.push(+a.slice(0,n)),l-=ct;n<l;)t.d.push(+a.slice(n,n+=ct));a=a.slice(n),n=ct-a.length}else n-=l;for(;n--;)a+="0";if(t.d.push(+a),xt&&(t.e>Qu||t.e<-Qu))throw Error(jy+r)}else t.s=0,t.e=0,t.d=[0];return t}function rt(t,a,r){var n,l,c,d,u,x,f,h,p=t.d;for(d=1,c=p[0];c>=10;c/=10)d++;if(n=a-d,n<0)n+=ct,l=a,f=p[h=0];else{if(h=Math.ceil((n+1)/ct),c=p.length,h>=c)return t;for(f=c=p[h],d=1;c>=10;c/=10)d++;n%=ct,l=n-ct+d}if(r!==void 0&&(c=Bs(10,d-l-1),u=f/c%10|0,x=a<0||p[h+1]!==void 0||f%c,x=r<4?(u||x)&&(r==0||r==(t.s<0?3:2)):u>5||u==5&&(r==4||x||r==6&&(n>0?l>0?f/Bs(10,d-l):0:p[h-1])%10&1||r==(t.s<0?8:7))),a<1||!p[0])return x?(c=Tt(t),p.length=1,a=a-c-1,p[0]=Bs(10,(ct-a%ct)%ct),t.e=Sl(-a/ct)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(n==0?(p.length=h,c=1,h--):(p.length=h+1,c=Bs(10,ct-n),p[h]=l>0?(f/Bs(10,d-l)%Bs(10,l)|0)*c:0),x)for(;;)if(h==0){(p[0]+=c)==Ft&&(p[0]=1,++t.e);break}else{if(p[h]+=c,p[h]!=Ft)break;p[h--]=0,c=1}for(n=p.length;p[--n]===0;)p.pop();if(xt&&(t.e>Qu||t.e<-Qu))throw Error(jy+Tt(t));return t}function O5(t,a){var r,n,l,c,d,u,x,f,h,p,y=t.constructor,j=y.precision;if(!t.s||!a.s)return a.s?a.s=-a.s:a=new y(t),xt?rt(a,j):a;if(x=t.d,p=a.d,n=a.e,f=t.e,x=x.slice(),d=f-n,d){for(h=d<0,h?(r=x,d=-d,u=p.length):(r=p,n=f,u=x.length),l=Math.max(Math.ceil(j/ct),u)+2,d>l&&(d=l,r.length=1),r.reverse(),l=d;l--;)r.push(0);r.reverse()}else{for(l=x.length,u=p.length,h=l<u,h&&(u=l),l=0;l<u;l++)if(x[l]!=p[l]){h=x[l]<p[l];break}d=0}for(h&&(r=x,x=p,p=r,a.s=-a.s),u=x.length,l=p.length-u;l>0;--l)x[u++]=0;for(l=p.length;l>d;){if(x[--l]<p[l]){for(c=l;c&&x[--c]===0;)x[c]=Ft-1;--x[c],x[l]+=Ft}x[l]-=p[l]}for(;x[--u]===0;)x.pop();for(;x[0]===0;x.shift())--n;return x[0]?(a.d=x,a.e=n,xt?rt(a,j):a):new y(0)}function ni(t,a,r){var n,l=Tt(t),c=Br(t.d),d=c.length;return a?(r&&(n=r-d)>0?c=c.charAt(0)+"."+c.slice(1)+ls(n):d>1&&(c=c.charAt(0)+"."+c.slice(1)),c=c+(l<0?"e":"e+")+l):l<0?(c="0."+ls(-l-1)+c,r&&(n=r-d)>0&&(c+=ls(n))):l>=d?(c+=ls(l+1-d),r&&(n=r-l-1)>0&&(c=c+"."+ls(n))):((n=l+1)<d&&(c=c.slice(0,n)+"."+c.slice(n)),r&&(n=r-d)>0&&(l+1===d&&(c+="."),c+=ls(n))),t.s<0?"-"+c:c}function q4(t,a){if(t.length>a)return t.length=a,!0}function E5(t){var a,r,n;function l(c){var d=this;if(!(d instanceof l))return new l(c);if(d.constructor=l,c instanceof l){d.s=c.s,d.e=c.e,d.d=(c=c.d)?c.slice():c;return}if(typeof c=="number"){if(c*0!==0)throw Error(Ws+c);if(c>0)d.s=1;else if(c<0)c=-c,d.s=-1;else{d.s=0,d.e=0,d.d=[0];return}if(c===~~c&&c<1e7){d.e=0,d.d=[c];return}return F4(d,c.toString())}else if(typeof c!="string")throw Error(Ws+c);if(c.charCodeAt(0)===45?(c=c.slice(1),d.s=-1):d.s=1,N$.test(c))F4(d,c);else throw Error(Ws+c)}if(l.prototype=fe,l.ROUND_UP=0,l.ROUND_DOWN=1,l.ROUND_CEIL=2,l.ROUND_FLOOR=3,l.ROUND_HALF_UP=4,l.ROUND_HALF_DOWN=5,l.ROUND_HALF_EVEN=6,l.ROUND_HALF_CEIL=7,l.ROUND_HALF_FLOOR=8,l.clone=E5,l.config=l.set=w$,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],a=0;a<n.length;)t.hasOwnProperty(r=n[a++])||(t[r]=this[r]);return l.config(t),l}function w$(t){if(!t||typeof t!="object")throw Error(yr+"Object expected");var a,r,n,l=["precision",1,wl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(a=0;a<l.length;a+=3)if((n=t[r=l[a]])!==void 0)if(Sl(n)===n&&n>=l[a+1]&&n<=l[a+2])this[r]=n;else throw Error(Ws+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ws+r+": "+n);return this}var Ny=E5(j$);Ha=new Ny(1);const We=Ny;var S$=t=>t,T5={},M5=t=>t===T5,H4=t=>function a(){return arguments.length===0||arguments.length===1&&M5(arguments.length<=0?void 0:arguments[0])?a:t(...arguments)},D5=(t,a)=>t===1?a:H4(function(){for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];var c=n.filter(d=>d!==T5).length;return c>=t?a(...n):D5(t-c,H4(function(){for(var d=arguments.length,u=new Array(d),x=0;x<d;x++)u[x]=arguments[x];var f=n.map(h=>M5(h)?u.shift():h);return a(...f,...u)}))}),Ym=t=>D5(t.length,t),ag=(t,a)=>{for(var r=[],n=t;n<a;++n)r[n-t]=n;return r},_$=Ym((t,a)=>Array.isArray(a)?a.map(t):Object.keys(a).map(r=>a[r]).map(t)),C$=function(){for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];if(!r.length)return S$;var l=r.reverse(),c=l[0],d=l.slice(1);return function(){return d.reduce((u,x)=>x(u),c(...arguments))}},rg=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),P5=t=>{var a=null,r=null;return function(){for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return a&&l.every((d,u)=>{var x;return d===((x=a)===null||x===void 0?void 0:x[u])})||(a=l,r=t(...l)),r}};function z5(t){var a;return t===0?a=1:a=Math.floor(new We(t).abs().log(10).toNumber())+1,a}function R5(t,a,r){for(var n=new We(t),l=0,c=[];n.lt(a)&&l<1e5;)c.push(n.toNumber()),n=n.add(r),l++;return c}Ym((t,a,r)=>{var n=+t,l=+a;return n+r*(l-n)});Ym((t,a,r)=>{var n=a-+t;return n=n||1/0,(r-t)/n});Ym((t,a,r)=>{var n=a-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});var L5=t=>{var[a,r]=t,[n,l]=[a,r];return a>r&&([n,l]=[r,a]),[n,l]},I5=(t,a,r)=>{if(t.lte(0))return new We(0);var n=z5(t.toNumber()),l=new We(10).pow(n),c=t.div(l),d=n!==1?.05:.1,u=new We(Math.ceil(c.div(d).toNumber())).add(r).mul(d),x=u.mul(l);return a?new We(x.toNumber()):new We(Math.ceil(x.toNumber()))},A$=(t,a,r)=>{var n=new We(1),l=new We(t);if(!l.isint()&&r){var c=Math.abs(t);c<1?(n=new We(10).pow(z5(t)-1),l=new We(Math.floor(l.div(n).toNumber())).mul(n)):c>1&&(l=new We(Math.floor(t)))}else t===0?l=new We(Math.floor((a-1)/2)):r||(l=new We(Math.floor(t)));var d=Math.floor((a-1)/2),u=C$(_$(x=>l.add(new We(x-d).mul(n)).toNumber()),ag);return u(0,a)},B5=function(a,r,n,l){var c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-a)/(n-1)))return{step:new We(0),tickMin:new We(0),tickMax:new We(0)};var d=I5(new We(r).sub(a).div(n-1),l,c),u;a<=0&&r>=0?u=new We(0):(u=new We(a).add(r).div(2),u=u.sub(new We(u).mod(d)));var x=Math.ceil(u.sub(a).div(d).toNumber()),f=Math.ceil(new We(r).sub(u).div(d).toNumber()),h=x+f+1;return h>n?B5(a,r,n,l,c+1):(h<n&&(f=r>0?f+(n-h):f,x=r>0?x:x+(n-h)),{step:d,tickMin:u.sub(new We(x).mul(d)),tickMax:u.add(new We(f).mul(d))})};function k$(t){var[a,r]=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(n,2),[d,u]=L5([a,r]);if(d===-1/0||u===1/0){var x=u===1/0?[d,...ag(0,n-1).map(()=>1/0)]:[...ag(0,n-1).map(()=>-1/0),u];return a>r?rg(x):x}if(d===u)return A$(d,n,l);var{step:f,tickMin:h,tickMax:p}=B5(d,u,c,l,0),y=R5(h,p.add(new We(.1).mul(f)),f);return a>r?rg(y):y}function O$(t,a){var[r,n]=t,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,d]=L5([r,n]);if(c===-1/0||d===1/0)return[r,n];if(c===d)return[c];var u=Math.max(a,2),x=I5(new We(d).sub(c).div(u-1),l,0),f=[...R5(new We(c),new We(d),x),d];return l===!1&&(f=f.map(h=>Math.round(h))),r>n?rg(f):f}var E$=P5(k$),T$=P5(O$),M$=t=>t.rootProps.barCategoryGap,go=t=>t.rootProps.stackOffset,wy=t=>t.options.chartName,Sy=t=>t.rootProps.syncId,$5=t=>t.rootProps.syncMethod,_y=t=>t.options.eventEmitter,aa={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},fn={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},qa={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Xm=(t,a)=>{if(!(!t||!a))return t!=null&&t.reversed?[a[1],a[0]]:a},D$={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:fn.angleAxisId,includeHidden:!1,name:void 0,reversed:fn.reversed,scale:fn.scale,tick:fn.tick,tickCount:void 0,ticks:void 0,type:fn.type,unit:void 0},P$={allowDataOverflow:qa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:qa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:qa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:qa.scale,tick:qa.tick,tickCount:qa.tickCount,ticks:void 0,type:qa.type,unit:void 0},z$={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:fn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:fn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:fn.scale,tick:fn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},R$={allowDataOverflow:qa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:qa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:qa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:qa.scale,tick:qa.tick,tickCount:qa.tickCount,ticks:void 0,type:"category",unit:void 0},Cy=(t,a)=>t.polarAxis.angleAxis[a]!=null?t.polarAxis.angleAxis[a]:t.layout.layoutType==="radial"?z$:D$,Ay=(t,a)=>t.polarAxis.radiusAxis[a]!=null?t.polarAxis.radiusAxis[a]:t.layout.layoutType==="radial"?R$:P$,Wm=t=>t.polarOptions,ky=Z([En,Tn,Vt],$3),U5=Z([Wm,ky],(t,a)=>{if(t!=null)return Ka(t.innerRadius,a,0)}),F5=Z([Wm,ky],(t,a)=>{if(t!=null)return Ka(t.outerRadius,a,a*.8)}),L$=t=>{if(t==null)return[0,0];var{startAngle:a,endAngle:r}=t;return[a,r]},q5=Z([Wm],L$);Z([Cy,q5],Xm);var H5=Z([ky,U5,F5],(t,a,r)=>{if(!(t==null||a==null||r==null))return[a,r]});Z([Ay,H5],Xm);var V5=Z([tt,Wm,U5,F5,En,Tn],(t,a,r,n,l,c)=>{if(!(t!=="centric"&&t!=="radial"||a==null||r==null||n==null)){var{cx:d,cy:u,startAngle:x,endAngle:f}=a;return{cx:Ka(d,l,l/2),cy:Ka(u,c,c/2),innerRadius:r,outerRadius:n,startAngle:x,endAngle:f,clockWise:!1}}}),pt=(t,a)=>a,yo=(t,a,r)=>r;function G5(t){return t?.id}function K5(t,a,r){var{chartData:n=[]}=a,{allowDuplicatedCategory:l,dataKey:c}=r,d=new Map;return t.forEach(u=>{var x,f=(x=u.data)!==null&&x!==void 0?x:n;if(!(f==null||f.length===0)){var h=G5(u);f.forEach((p,y)=>{var j=c==null||l?y:String(yt(p,c,null)),w=yt(p,u.dataKey,0),S;d.has(j)?S=d.get(j):S={},Object.assign(S,{[h]:w}),d.set(j,S)})}}),Array.from(d.values())}function Oy(t){return t.stackId!=null&&t.dataKey!=null}var Zm=(t,a)=>t===a?!0:t==null||a==null?!1:t[0]===a[0]&&t[1]===a[1];function Qm(t,a){return Array.isArray(t)&&Array.isArray(a)&&t.length===0&&a.length===0?!0:t===a}function I$(t,a){if(t.length===a.length){for(var r=0;r<t.length;r++)if(t[r]!==a[r])return!1;return!0}return!1}var It=t=>{var a=tt(t);return a==="horizontal"?"xAxis":a==="vertical"?"yAxis":a==="centric"?"angleAxis":"radiusAxis"},_l=t=>t.tooltip.settings.axisId;function V4(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,n)}return r}function Ju(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?V4(Object(r),!0).forEach(function(n){B$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function B$(t,a,r){return(a=$$(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function $$(t){var a=U$(t,"string");return typeof a=="symbol"?a:a+""}function U$(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}var ng=[0,"auto"],Ua={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Y5=(t,a)=>t.cartesianAxis.xAxis[a],Dn=(t,a)=>{var r=Y5(t,a);return r??Ua},Fa={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:ng,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:mo},X5=(t,a)=>t.cartesianAxis.yAxis[a],Pn=(t,a)=>{var r=X5(t,a);return r??Fa},F$={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Ey=(t,a)=>{var r=t.cartesianAxis.zAxis[a];return r??F$},vt=(t,a,r)=>{switch(a){case"xAxis":return Dn(t,r);case"yAxis":return Pn(t,r);case"zAxis":return Ey(t,r);case"angleAxis":return Cy(t,r);case"radiusAxis":return Ay(t,r);default:throw new Error("Unexpected axis type: ".concat(a))}},q$=(t,a,r)=>{switch(a){case"xAxis":return Dn(t,r);case"yAxis":return Pn(t,r);default:throw new Error("Unexpected axis type: ".concat(a))}},vo=(t,a,r)=>{switch(a){case"xAxis":return Dn(t,r);case"yAxis":return Pn(t,r);case"angleAxis":return Cy(t,r);case"radiusAxis":return Ay(t,r);default:throw new Error("Unexpected axis type: ".concat(a))}},W5=t=>t.graphicalItems.cartesianItems.some(a=>a.type==="bar")||t.graphicalItems.polarItems.some(a=>a.type==="radialBar");function Ty(t,a){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===a;case"yAxis":return"yAxisId"in r&&r.yAxisId===a;case"zAxis":return"zAxisId"in r&&r.zAxisId===a;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===a;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===a;default:return!1}}}var Z5=t=>t.graphicalItems.cartesianItems,H$=Z([pt,yo],Ty),My=(t,a,r)=>t.filter(r).filter(n=>a?.includeHidden===!0?!0:!n.hide),bo=Z([Z5,vt,H$],My,{memoizeOptions:{resultEqualityCheck:Qm}}),Q5=Z([bo],t=>t.filter(a=>a.type==="area"||a.type==="bar").filter(Oy)),J5=t=>t.filter(a=>!("stackId"in a)||a.stackId===void 0),V$=Z([bo],J5),Dy=t=>t.map(a=>a.data).filter(Boolean).flat(1),G$=Z([bo],Dy,{memoizeOptions:{resultEqualityCheck:Qm}}),Py=(t,a)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:l}=a;return t.length>0?t:r.slice(n,l+1)},zy=Z([G$,by],Py),Ry=(t,a,r)=>a?.dataKey!=null?t.map(n=>({value:yt(n,a.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(l=>({value:yt(l,n)}))):t.map(n=>({value:n})),Jm=Z([zy,vt,bo],Ry);function eC(t,a){switch(t){case"xAxis":return a.direction==="x";case"yAxis":return a.direction==="y";default:return!1}}function fu(t){if(Hr(t)||t instanceof Date){var a=Number(t);if(Ht(a))return a}}function G4(t){if(Array.isArray(t)){var a=[fu(t[0]),fu(t[1])];return ri(a)?a:void 0}var r=fu(t);if(r!=null)return[r,r]}function kn(t){return t.map(fu).filter(kD)}function K$(t,a,r){return!r||typeof a!="number"||qr(a)?[]:r.length?kn(r.flatMap(n=>{var l=yt(t,n.dataKey),c,d;if(Array.isArray(l)?[c,d]=l:c=d=l,!(!Ht(c)||!Ht(d)))return[a-c,a+d]})):[]}var Bt=t=>{var a=It(t),r=_l(t);return vo(t,a,r)},tC=Z([Bt],t=>t?.dataKey),Y$=Z([Q5,by,Bt],K5),aC=(t,a,r)=>{var n={},l=a.reduce((c,d)=>(d.stackId==null||(c[d.stackId]==null&&(c[d.stackId]=[]),c[d.stackId].push(d)),c),n);return Object.fromEntries(Object.entries(l).map(c=>{var[d,u]=c,x=u.map(G5);return[d,{stackedData:Fz(t,x,r),graphicalItems:u}]}))},X$=Z([Y$,Q5,go],aC),rC=(t,a,r,n)=>{var{dataStartIndex:l,dataEndIndex:c}=a;if(n==null&&r!=="zAxis"){var d=Vz(t,l,c);if(!(d!=null&&d[0]===0&&d[1]===0))return d}},W$=Z([vt],t=>t.allowDataOverflow),Ly=t=>{var a;if(t==null||!("domain"in t))return ng;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var r=kn(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(a=t?.domain)!==null&&a!==void 0?a:ng},Iy=Z([vt],Ly),By=Z([Iy,W$],_5),Z$=Z([X$,ys,pt,By],rC,{memoizeOptions:{resultEqualityCheck:Zm}}),ex=t=>t.errorBars,Q$=(t,a,r)=>t.flatMap(n=>a[n.id]).filter(Boolean).filter(n=>eC(r,n)),em=function(){for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];var l=r.filter(Boolean);if(l.length!==0){var c=l.flat(),d=Math.min(...c),u=Math.max(...c);return[d,u]}},$y=(t,a,r,n,l)=>{var c,d;if(r.length>0&&t.forEach(u=>{r.forEach(x=>{var f,h,p=(f=n[x.id])===null||f===void 0?void 0:f.filter(_=>eC(l,_)),y=yt(u,(h=a.dataKey)!==null&&h!==void 0?h:x.dataKey),j=K$(u,y,p);if(j.length>=2){var w=Math.min(...j),S=Math.max(...j);(c==null||w<c)&&(c=w),(d==null||S>d)&&(d=S)}var g=G4(y);g!=null&&(c=c==null?g[0]:Math.min(c,g[0]),d=d==null?g[1]:Math.max(d,g[1]))})}),a?.dataKey!=null&&t.forEach(u=>{var x=G4(yt(u,a.dataKey));x!=null&&(c=c==null?x[0]:Math.min(c,x[0]),d=d==null?x[1]:Math.max(d,x[1]))}),Ht(c)&&Ht(d))return[c,d]},J$=Z([zy,vt,V$,ex,pt],$y,{memoizeOptions:{resultEqualityCheck:Zm}});function eU(t){var{value:a}=t;if(Hr(a)||a instanceof Date)return a}var tU=(t,a,r)=>{var n=t.map(eU).filter(l=>l!=null);return r&&(a.dataKey==null||a.allowDuplicatedCategory&&C_(n))?H3(0,t.length):a.allowDuplicatedCategory?n:Array.from(new Set(n))},nC=t=>t.referenceElements.dots,Cl=(t,a,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>a==="xAxis"?n.xAxisId===r:n.yAxisId===r),aU=Z([nC,pt,yo],Cl),sC=t=>t.referenceElements.areas,rU=Z([sC,pt,yo],Cl),iC=t=>t.referenceElements.lines,nU=Z([iC,pt,yo],Cl),lC=(t,a)=>{var r=kn(t.map(n=>a==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},sU=Z(aU,pt,lC),cC=(t,a)=>{var r=kn(t.flatMap(n=>[a==="xAxis"?n.x1:n.y1,a==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},iU=Z([rU,pt],cC);function lU(t){var a;if(t.x!=null)return kn([t.x]);var r=(a=t.segment)===null||a===void 0?void 0:a.map(n=>n.x);return r==null||r.length===0?[]:kn(r)}function cU(t){var a;if(t.y!=null)return kn([t.y]);var r=(a=t.segment)===null||a===void 0?void 0:a.map(n=>n.y);return r==null||r.length===0?[]:kn(r)}var oC=(t,a)=>{var r=t.flatMap(n=>a==="xAxis"?lU(n):cU(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},oU=Z([nU,pt],oC),dU=Z(sU,oU,iU,(t,a,r)=>em(t,r,a)),Uy=(t,a,r,n,l,c,d,u)=>{if(r!=null)return r;var x=d==="vertical"&&u==="xAxis"||d==="horizontal"&&u==="yAxis",f=x?em(n,c,l):em(c,l);return b$(a,f,t.allowDataOverflow)},uU=Z([vt,Iy,By,Z$,J$,dU,tt,pt],Uy,{memoizeOptions:{resultEqualityCheck:Zm}}),mU=[0,1],Fy=(t,a,r,n,l,c,d)=>{if(!((t==null||r==null||r.length===0)&&d===void 0)){var{dataKey:u,type:x}=t,f=fs(a,c);if(f&&u==null){var h;return H3(0,(h=r?.length)!==null&&h!==void 0?h:0)}return x==="category"?tU(n,t,f):l==="expand"?mU:d}},qy=Z([vt,tt,zy,Jm,go,pt,uU],Fy),dC=(t,a,r,n,l)=>{if(t!=null){var{scale:c,type:d}=t;if(c==="auto")return a==="radial"&&l==="radiusAxis"?"band":a==="radial"&&l==="angleAxis"?"linear":d==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":d==="category"?"band":"linear";if(typeof c=="string"){var u="scale".concat(co(c));return u in $c?u:"point"}}},Al=Z([vt,tt,W5,wy,pt],dC);function xU(t){if(t!=null){if(t in $c)return $c[t]();var a="scale".concat(co(t));if(a in $c)return $c[a]()}}function Hy(t,a,r,n){if(!(r==null||n==null)){if(typeof t.scale=="function")return t.scale.copy().domain(r).range(n);var l=xU(a);if(l!=null){var c=l.domain(r).range(n);return Iz(c),c}}}var Vy=(t,a,r)=>{var n=Ly(a);if(!(r!=="auto"&&r!=="linear")){if(a!=null&&a.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&ri(t))return E$(t,a.tickCount,a.allowDecimals);if(a!=null&&a.tickCount&&a.type==="number"&&ri(t))return T$(t,a.tickCount,a.allowDecimals)}},Gy=Z([qy,vo,Al],Vy),Ky=(t,a,r,n)=>{if(n!=="angleAxis"&&t?.type==="number"&&ri(a)&&Array.isArray(r)&&r.length>0){var l=a[0],c=r[0],d=a[1],u=r[r.length-1];return[Math.min(l,c),Math.max(d,u)]}return a},hU=Z([vt,qy,Gy,pt],Ky),fU=Z(Jm,vt,(t,a)=>{if(!(!a||a.type!=="number")){var r=1/0,n=Array.from(kn(t.map(u=>u.value))).sort((u,x)=>u-x);if(n.length<2)return 1/0;var l=n[n.length-1]-n[0];if(l===0)return 1/0;for(var c=0;c<n.length-1;c++){var d=n[c+1]-n[c];r=Math.min(r,d)}return r/l}}),uC=Z(fU,tt,M$,Vt,(t,a,r,n)=>n,(t,a,r,n,l)=>{if(!Ht(t))return 0;var c=a==="vertical"?n.height:n.width;if(l==="gap")return t*c/2;if(l==="no-gap"){var d=Ka(r,t*c),u=t*c/2;return u-d-(u-d)/c*d}return 0}),pU=(t,a)=>{var r=Dn(t,a);return r==null||typeof r.padding!="string"?0:uC(t,"xAxis",a,r.padding)},gU=(t,a)=>{var r=Pn(t,a);return r==null||typeof r.padding!="string"?0:uC(t,"yAxis",a,r.padding)},yU=Z(Dn,pU,(t,a)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:l}=t;return typeof l=="string"?{left:a,right:a}:{left:((r=l.left)!==null&&r!==void 0?r:0)+a,right:((n=l.right)!==null&&n!==void 0?n:0)+a}}),vU=Z(Pn,gU,(t,a)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:l}=t;return typeof l=="string"?{top:a,bottom:a}:{top:((r=l.top)!==null&&r!==void 0?r:0)+a,bottom:((n=l.bottom)!==null&&n!==void 0?n:0)+a}}),bU=Z([Vt,yU,Rm,zm,(t,a,r)=>r],(t,a,r,n,l)=>{var{padding:c}=n;return l?[c.left,r.width-c.right]:[t.left+a.left,t.left+t.width-a.right]}),jU=Z([Vt,tt,vU,Rm,zm,(t,a,r)=>r],(t,a,r,n,l,c)=>{var{padding:d}=l;return c?[n.height-d.bottom,d.top]:a==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),jo=(t,a,r,n)=>{var l;switch(a){case"xAxis":return bU(t,r,n);case"yAxis":return jU(t,r,n);case"zAxis":return(l=Ey(t,r))===null||l===void 0?void 0:l.range;case"angleAxis":return q5(t);case"radiusAxis":return H5(t,r);default:return}},mC=Z([vt,jo],Xm),kl=Z([vt,Al,hU,mC],Hy);Z([bo,ex,pt],Q$);function xC(t,a){return t.id<a.id?-1:t.id>a.id?1:0}var tx=(t,a)=>a,ax=(t,a,r)=>r,NU=Z(Dm,tx,ax,(t,a,r)=>t.filter(n=>n.orientation===a).filter(n=>n.mirror===r).sort(xC)),wU=Z(Pm,tx,ax,(t,a,r)=>t.filter(n=>n.orientation===a).filter(n=>n.mirror===r).sort(xC)),hC=(t,a)=>({width:t.width,height:a.height}),SU=(t,a)=>{var r=typeof a.width=="number"?a.width:mo;return{width:r,height:t.height}},_U=Z(Vt,Dn,hC),CU=(t,a,r)=>{switch(a){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},AU=(t,a,r)=>{switch(a){case"left":return t.left;case"right":return r-t.right;default:return 0}},kU=Z(Tn,Vt,NU,tx,ax,(t,a,r,n,l)=>{var c={},d;return r.forEach(u=>{var x=hC(a,u);d==null&&(d=CU(a,n,t));var f=n==="top"&&!l||n==="bottom"&&l;c[u.id]=d-Number(f)*x.height,d+=(f?-1:1)*x.height}),c}),OU=Z(En,Vt,wU,tx,ax,(t,a,r,n,l)=>{var c={},d;return r.forEach(u=>{var x=SU(a,u);d==null&&(d=AU(a,n,t));var f=n==="left"&&!l||n==="right"&&l;c[u.id]=d-Number(f)*x.width,d+=(f?-1:1)*x.width}),c}),EU=(t,a)=>{var r=Dn(t,a);if(r!=null)return kU(t,r.orientation,r.mirror)},TU=Z([Vt,Dn,EU,(t,a)=>a],(t,a,r,n)=>{if(a!=null){var l=r?.[n];return l==null?{x:t.left,y:0}:{x:t.left,y:l}}}),MU=(t,a)=>{var r=Pn(t,a);if(r!=null)return OU(t,r.orientation,r.mirror)},DU=Z([Vt,Pn,MU,(t,a)=>a],(t,a,r,n)=>{if(a!=null){var l=r?.[n];return l==null?{x:0,y:t.top}:{x:l,y:t.top}}}),PU=Z(Vt,Pn,(t,a)=>{var r=typeof a.width=="number"?a.width:mo;return{width:r,height:t.height}}),fC=(t,a,r,n)=>{if(r!=null){var{allowDuplicatedCategory:l,type:c,dataKey:d}=r,u=fs(t,n),x=a.map(f=>f.value);if(d&&u&&c==="category"&&l&&C_(x))return x}},Yy=Z([tt,Jm,vt,pt],fC),pC=(t,a,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:l,scale:c}=r,d=fs(t,n);if(d&&(l==="number"||c!=="auto"))return a.map(u=>u.value)}},Xy=Z([tt,Jm,vo,pt],pC),K4=Z([tt,q$,Al,kl,Yy,Xy,jo,Gy,pt],(t,a,r,n,l,c,d,u,x)=>{if(a!=null){var f=fs(t,x);return{angle:a.angle,interval:a.interval,minTickGap:a.minTickGap,orientation:a.orientation,tick:a.tick,tickCount:a.tickCount,tickFormatter:a.tickFormatter,ticks:a.ticks,type:a.type,unit:a.unit,axisType:x,categoricalDomain:c,duplicateDomain:l,isCategorical:f,niceTicks:u,range:d,realScaleType:r,scale:n}}}),zU=(t,a,r,n,l,c,d,u,x)=>{if(!(a==null||n==null)){var f=fs(t,x),{type:h,ticks:p,tickCount:y}=a,j=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,w=h==="category"&&n.bandwidth?n.bandwidth()/j:0;w=x==="angleAxis"&&c!=null&&c.length>=2?oa(c[0]-c[1])*2*w:w;var S=p||l;if(S){var g=S.map((_,O)=>{var C=d?d.indexOf(_):_;return{index:O,coordinate:n(C)+w,value:_,offset:w}});return g.filter(_=>Ht(_.coordinate))}return f&&u?u.map((_,O)=>({coordinate:n(_)+w,value:_,index:O,offset:w})).filter(_=>Ht(_.coordinate)):n.ticks?n.ticks(y).map(_=>({coordinate:n(_)+w,value:_,offset:w})):n.domain().map((_,O)=>({coordinate:n(_)+w,value:d?d[_]:_,index:O,offset:w}))}},gC=Z([tt,vo,Al,kl,Gy,jo,Yy,Xy,pt],zU),RU=(t,a,r,n,l,c,d)=>{if(!(a==null||r==null||n==null||n[0]===n[1])){var u=fs(t,d),{tickCount:x}=a,f=0;return f=d==="angleAxis"&&n?.length>=2?oa(n[0]-n[1])*2*f:f,u&&c?c.map((h,p)=>({coordinate:r(h)+f,value:h,index:p,offset:f})):r.ticks?r.ticks(x).map(h=>({coordinate:r(h)+f,value:h,offset:f})):r.domain().map((h,p)=>({coordinate:r(h)+f,value:l?l[h]:h,index:p,offset:f}))}},yC=Z([tt,vo,kl,jo,Yy,Xy,pt],RU),vC=Z(vt,kl,(t,a)=>{if(!(t==null||a==null))return Ju(Ju({},t),{},{scale:a})}),LU=Z([vt,Al,qy,mC],Hy);Z((t,a,r)=>Ey(t,r),LU,(t,a)=>{if(!(t==null||a==null))return Ju(Ju({},t),{},{scale:a})});var IU=Z([tt,Dm,Pm],(t,a,r)=>{switch(t){case"horizontal":return a.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),bC=t=>t.options.defaultTooltipEventType,jC=t=>t.options.validateTooltipEventTypes;function NC(t,a,r){if(t==null)return a;var n=t?"axis":"item";return r==null?a:r.includes(n)?n:a}function Wy(t,a){var r=bC(t),n=jC(t);return NC(a,r,n)}function BU(t){return Ne(a=>Wy(a,t))}var wC=(t,a)=>{var r,n=Number(a);if(!(qr(n)||a==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},$U=t=>t.tooltip.settings,os={active:!1,index:null,dataKey:void 0,coordinate:void 0},UU={itemInteraction:{click:os,hover:os},axisInteraction:{click:os,hover:os},keyboardInteraction:os,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},SC=Oa({name:"tooltip",initialState:UU,reducers:{addTooltipEntrySettings:{reducer(t,a){t.tooltipItemPayloads.push(a.payload)},prepare:zt()},removeTooltipEntrySettings:{reducer(t,a){var r=bn(t).tooltipItemPayloads.indexOf(a.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},prepare:zt()},setTooltipSettingsState(t,a){t.settings=a.payload},setActiveMouseOverItemIndex(t,a){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=a.payload.activeIndex,t.itemInteraction.hover.dataKey=a.payload.activeDataKey,t.itemInteraction.hover.coordinate=a.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,a){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=a.payload.activeIndex,t.itemInteraction.click.dataKey=a.payload.activeDataKey,t.itemInteraction.click.coordinate=a.payload.activeCoordinate},setMouseOverAxisIndex(t,a){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=a.payload.activeIndex,t.axisInteraction.hover.dataKey=a.payload.activeDataKey,t.axisInteraction.hover.coordinate=a.payload.activeCoordinate},setMouseClickAxisIndex(t,a){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=a.payload.activeIndex,t.axisInteraction.click.dataKey=a.payload.activeDataKey,t.axisInteraction.click.coordinate=a.payload.activeCoordinate},setSyncInteraction(t,a){t.syncInteraction=a.payload},setKeyboardInteraction(t,a){t.keyboardInteraction.active=a.payload.active,t.keyboardInteraction.index=a.payload.activeIndex,t.keyboardInteraction.coordinate=a.payload.activeCoordinate,t.keyboardInteraction.dataKey=a.payload.activeDataKey}}}),{addTooltipEntrySettings:FU,removeTooltipEntrySettings:qU,setTooltipSettingsState:HU,setActiveMouseOverItemIndex:_C,mouseLeaveItem:VU,mouseLeaveChart:CC,setActiveClickItemIndex:GU,setMouseOverAxisIndex:AC,setMouseClickAxisIndex:KU,setSyncInteraction:sg,setKeyboardInteraction:ig}=SC.actions,YU=SC.reducer;function Y4(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,n)}return r}function tu(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Y4(Object(r),!0).forEach(function(n){XU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XU(t,a,r){return(a=WU(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function WU(t){var a=ZU(t,"string");return typeof a=="symbol"?a:a+""}function ZU(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function QU(t,a,r){return a==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function JU(t){return t.index!=null}var kC=(t,a,r,n)=>{if(a==null)return os;var l=QU(t,a,r);if(l==null)return os;if(l.active)return l;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var c=t.settings.active===!0;if(JU(l)){if(c)return tu(tu({},l),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return tu(tu({},os),{},{coordinate:l.coordinate})},Zy=(t,a)=>{var r=t?.index;if(r==null)return null;var n=Number(r);if(!Ht(n))return r;var l=0,c=1/0;return a.length>0&&(c=a.length-1),String(Math.max(l,Math.min(n,c)))},OC=(t,a,r,n,l,c,d,u)=>{if(!(c==null||u==null)){var x=d[0],f=x==null?void 0:u(x.positions,c);if(f!=null)return f;var h=l?.[Number(c)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(n.top+a)/2};default:return{x:(n.left+t)/2,y:h.coordinate}}}},EC=(t,a,r,n)=>{if(a==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var l;return r==="hover"?l=t.itemInteraction.hover.dataKey:l=t.itemInteraction.click.dataKey,l==null&&n!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(c=>{var d;return((d=c.settings)===null||d===void 0?void 0:d.dataKey)===l})},No=t=>t.options.tooltipPayloadSearcher,Ol=t=>t.tooltip;function X4(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,n)}return r}function W4(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?X4(Object(r),!0).forEach(function(n){eF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eF(t,a,r){return(a=tF(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function tF(t){var a=aF(t,"string");return typeof a=="symbol"?a:a+""}function aF(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function rF(t,a){return t??a}var TC=(t,a,r,n,l,c,d)=>{if(!(a==null||c==null)){var{chartData:u,computedData:x,dataStartIndex:f,dataEndIndex:h}=r,p=[];return t.reduce((y,j)=>{var w,{dataDefinedOnItem:S,settings:g}=j,_=rF(S,u),O=Array.isArray(_)?g3(_,f,h):_,C=(w=g?.dataKey)!==null&&w!==void 0?w:n,k=g?.nameKey,E;if(n&&Array.isArray(O)&&!Array.isArray(O[0])&&d==="axis"?E=A_(O,n,l):E=c(O,a,x,k),Array.isArray(E))E.forEach(D=>{var P=W4(W4({},g),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});y.push(_w({tooltipEntrySettings:P,dataKey:D.dataKey,payload:D.payload,value:yt(D.payload,D.dataKey),name:D.name}))});else{var T;y.push(_w({tooltipEntrySettings:g,dataKey:C,payload:E,value:yt(E,C),name:(T=yt(E,k))!==null&&T!==void 0?T:g?.name}))}return y},p)}},Qy=Z([Bt,tt,W5,wy,It],dC),nF=Z([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,a)=>[...t,...a]),sF=Z([It,_l],Ty),wo=Z([nF,Bt,sF],My,{memoizeOptions:{resultEqualityCheck:Qm}}),iF=Z([wo],t=>t.filter(Oy)),lF=Z([wo],Dy,{memoizeOptions:{resultEqualityCheck:Qm}}),El=Z([lF,ys],Py),cF=Z([iF,ys,Bt],K5),Jy=Z([El,Bt,wo],Ry),MC=Z([Bt],Ly),oF=Z([Bt],t=>t.allowDataOverflow),DC=Z([MC,oF],_5),dF=Z([wo],t=>t.filter(Oy)),uF=Z([cF,dF,go],aC),mF=Z([uF,ys,It,DC],rC),xF=Z([wo],J5),hF=Z([El,Bt,xF,ex,It],$y,{memoizeOptions:{resultEqualityCheck:Zm}}),fF=Z([nC,It,_l],Cl),pF=Z([fF,It],lC),gF=Z([sC,It,_l],Cl),yF=Z([gF,It],cC),vF=Z([iC,It,_l],Cl),bF=Z([vF,It],oC),jF=Z([pF,bF,yF],em),NF=Z([Bt,MC,DC,mF,hF,jF,tt,It],Uy),PC=Z([Bt,tt,El,Jy,go,It,NF],Fy),wF=Z([PC,Bt,Qy],Vy),SF=Z([Bt,PC,wF,It],Ky),zC=t=>{var a=It(t),r=_l(t),n=!1;return jo(t,a,r,n)},RC=Z([Bt,zC],Xm),LC=Z([Bt,Qy,SF,RC],Hy),_F=Z([tt,Jy,Bt,It],fC),CF=Z([tt,Jy,Bt,It],pC),AF=(t,a,r,n,l,c,d,u)=>{if(a){var{type:x}=a,f=fs(t,u);if(n){var h=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,p=x==="category"&&n.bandwidth?n.bandwidth()/h:0;return p=u==="angleAxis"&&l!=null&&l?.length>=2?oa(l[0]-l[1])*2*p:p,f&&d?d.map((y,j)=>({coordinate:n(y)+p,value:y,index:j,offset:p})):n.domain().map((y,j)=>({coordinate:n(y)+p,value:c?c[y]:y,index:j,offset:p}))}}},zn=Z([tt,Bt,Qy,LC,zC,_F,CF,It],AF),ev=Z([bC,jC,$U],(t,a,r)=>NC(r.shared,t,a)),IC=t=>t.tooltip.settings.trigger,tv=t=>t.tooltip.settings.defaultIndex,rx=Z([Ol,ev,IC,tv],kC),xl=Z([rx,El],Zy),BC=Z([zn,xl],wC),kF=Z([rx],t=>{if(t)return t.dataKey}),$C=Z([Ol,ev,IC,tv],EC),OF=Z([En,Tn,tt,Vt,zn,tv,$C,No],OC),EF=Z([rx,OF],(t,a)=>t!=null&&t.coordinate?t.coordinate:a),TF=Z([rx],t=>t.active),MF=Z([$C,xl,ys,tC,BC,No,ev],TC),DF=Z([MF],t=>{if(t!=null){var a=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(a))}});function Z4(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,n)}return r}function Q4(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Z4(Object(r),!0).forEach(function(n){PF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PF(t,a,r){return(a=zF(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function zF(t){var a=RF(t,"string");return typeof a=="symbol"?a:a+""}function RF(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}var LF=()=>Ne(Bt),IF=()=>{var t=LF(),a=Ne(zn),r=Ne(LC);return Ru(!t||!r?void 0:Q4(Q4({},t),{},{scale:r}),a)};function J4(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,n)}return r}function Wi(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?J4(Object(r),!0).forEach(function(n){BF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BF(t,a,r){return(a=$F(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function $F(t){var a=UF(t,"string");return typeof a=="symbol"?a:a+""}function UF(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}var FF=(t,a,r,n)=>{var l=a.find(c=>c&&c.index===r);if(l){if(t==="horizontal")return{x:l.coordinate,y:n.chartY};if(t==="vertical")return{x:n.chartX,y:l.coordinate}}return{x:0,y:0}},qF=(t,a,r,n)=>{var l=a.find(f=>f&&f.index===r);if(l){if(t==="centric"){var c=l.coordinate,{radius:d}=n;return Wi(Wi(Wi({},n),Et(n.cx,n.cy,d,c)),{},{angle:c,radius:d})}var u=l.coordinate,{angle:x}=n;return Wi(Wi(Wi({},n),Et(n.cx,n.cy,u,x)),{},{angle:x,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function HF(t,a){var{chartX:r,chartY:n}=t;return r>=a.left&&r<=a.left+a.width&&n>=a.top&&n<=a.top+a.height}var UC=(t,a,r,n,l)=>{var c,d=-1,u=(c=a?.length)!==null&&c!==void 0?c:0;if(u<=1||t==null)return 0;if(n==="angleAxis"&&l!=null&&Math.abs(Math.abs(l[1]-l[0])-360)<=1e-6)for(var x=0;x<u;x++){var f=x>0?r[x-1].coordinate:r[u-1].coordinate,h=r[x].coordinate,p=x>=u-1?r[0].coordinate:r[x+1].coordinate,y=void 0;if(oa(h-f)!==oa(p-h)){var j=[];if(oa(p-h)===oa(l[1]-l[0])){y=p;var w=h+l[1]-l[0];j[0]=Math.min(w,(w+f)/2),j[1]=Math.max(w,(w+f)/2)}else{y=f;var S=p+l[1]-l[0];j[0]=Math.min(h,(S+h)/2),j[1]=Math.max(h,(S+h)/2)}var g=[Math.min(h,(y+h)/2),Math.max(h,(y+h)/2)];if(t>g[0]&&t<=g[1]||t>=j[0]&&t<=j[1]){({index:d}=r[x]);break}}else{var _=Math.min(f,p),O=Math.max(f,p);if(t>(_+h)/2&&t<=(O+h)/2){({index:d}=r[x]);break}}}else if(a){for(var C=0;C<u;C++)if(C===0&&t<=(a[C].coordinate+a[C+1].coordinate)/2||C>0&&C<u-1&&t>(a[C].coordinate+a[C-1].coordinate)/2&&t<=(a[C].coordinate+a[C+1].coordinate)/2||C===u-1&&t>(a[C].coordinate+a[C-1].coordinate)/2){({index:d}=a[C]);break}}return d},VF=()=>Ne(wy),av=(t,a)=>a,FC=(t,a,r)=>r,rv=(t,a,r,n)=>n,GF=Z(zn,t=>Cm(t,a=>a.coordinate)),nv=Z([Ol,av,FC,rv],kC),qC=Z([nv,El],Zy),KF=(t,a,r)=>{if(a!=null){var n=Ol(t);return a==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},HC=Z([Ol,av,FC,rv],EC),tm=Z([En,Tn,tt,Vt,zn,rv,HC,No],OC),YF=Z([nv,tm],(t,a)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:a}),VC=Z([zn,qC],wC),XF=Z([HC,qC,ys,tC,VC,No,av],TC),WF=Z([nv],t=>({isActive:t.active,activeIndex:t.index})),ZF=(t,a,r,n,l,c,d)=>{if(!(!t||!r||!n||!l)&&HF(t,d)){var u=Gz(t,a),x=UC(u,c,l,r,n),f=FF(a,l,x,t);return{activeIndex:String(x),activeCoordinate:f}}},QF=(t,a,r,n,l,c,d)=>{if(!(!t||!n||!l||!c||!r)){var u=RL(t,r);if(u){var x=Kz(u,a),f=UC(x,d,c,n,l),h=qF(a,c,f,u);return{activeIndex:String(f),activeCoordinate:h}}}},JF=(t,a,r,n,l,c,d,u)=>{if(!(!t||!a||!n||!l||!c))return a==="horizontal"||a==="vertical"?ZF(t,a,n,l,c,d,u):QF(t,a,r,n,l,c,d)},eq=Z(t=>t.zIndex.zIndexMap,(t,a)=>a,(t,a,r)=>r,(t,a,r)=>{if(a!=null){var n=t[a];if(n!=null)return r?n.panoramaElementId:n.elementId}}),tq=Z(t=>t.zIndex.zIndexMap,t=>{var a=Object.keys(t).map(n=>parseInt(n,10)).concat(Object.values(aa)),r=Array.from(new Set(a));return r.sort((n,l)=>n-l)},{memoizeOptions:{resultEqualityCheck:I$}});function e6(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,n)}return r}function t6(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?e6(Object(r),!0).forEach(function(n){aq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aq(t,a,r){return(a=rq(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function rq(t){var a=nq(t,"string");return typeof a=="symbol"?a:a+""}function nq(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}var sq={},iq={zIndexMap:Object.values(aa).reduce((t,a)=>t6(t6({},t),{},{[a]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),sq)},lq=new Set(Object.values(aa));function cq(t){return lq.has(t)}var GC=Oa({name:"zIndex",initialState:iq,reducers:{registerZIndexPortal:{reducer:(t,a)=>{var{zIndex:r}=a.payload;t.zIndexMap[r]?t.zIndexMap[r].consumers+=1:t.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:zt()},unregisterZIndexPortal:{reducer:(t,a)=>{var{zIndex:r}=a.payload;t.zIndexMap[r]&&(t.zIndexMap[r].consumers-=1,t.zIndexMap[r].consumers<=0&&!cq(r)&&delete t.zIndexMap[r])},prepare:zt()},registerZIndexPortalId:{reducer:(t,a)=>{var{zIndex:r,elementId:n,isPanorama:l}=a.payload;t.zIndexMap[r]?l?t.zIndexMap[r].panoramaElementId=n:t.zIndexMap[r].elementId=n:t.zIndexMap[r]={consumers:0,elementId:l?void 0:n,panoramaElementId:l?n:void 0}},prepare:zt()},unregisterZIndexPortalId:{reducer:(t,a)=>{var{zIndex:r}=a.payload;t.zIndexMap[r]&&(a.payload.isPanorama?t.zIndexMap[r].panoramaElementId=void 0:t.zIndexMap[r].elementId=void 0)},prepare:zt()}}}),{registerZIndexPortal:oq,unregisterZIndexPortal:dq,registerZIndexPortalId:uq,unregisterZIndexPortalId:mq}=GC.actions,xq=GC.reducer;function Mr(t){var{zIndex:a,children:r}=t,n=wR(),l=n&&a!==void 0&&a!==0,c=Ea(),d=ft();v.useLayoutEffect(()=>l?(d(oq({zIndex:a})),()=>{d(dq({zIndex:a}))}):li,[d,a,l]);var u=Ne(f=>eq(f,a,c));if(!l)return r;if(!u)return null;var x=document.getElementById(u);return x?CS.createPortal(r,x):null}function lg(){return lg=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lg.apply(null,arguments)}function a6(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,n)}return r}function au(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?a6(Object(r),!0).forEach(function(n){hq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hq(t,a,r){return(a=fq(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function fq(t){var a=pq(t,"string");return typeof a=="symbol"?a:a+""}function pq(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function gq(t){var{cursor:a,cursorComp:r,cursorProps:n}=t;return v.isValidElement(a)?v.cloneElement(a,n):v.createElement(r,n)}function yq(t){var a,{coordinate:r,payload:n,index:l,offset:c,tooltipAxisBandSize:d,layout:u,cursor:x,tooltipEventType:f,chartName:h}=t,p=r,y=n,j=l;if(!x||!p||h!=="ScatterChart"&&f!=="axis")return null;var w,S,g;if(h==="ScatterChart")w=p,S=QR,g=aa.cursorLine;else if(h==="BarChart")w=JR(u,p,c,d),S=B3,g=aa.cursorRectangle;else if(u==="radial"&&E_(p)){var{cx:_,cy:O,radius:C,startAngle:k,endAngle:E}=U3(p);w={cx:_,cy:O,startAngle:k,endAngle:E,innerRadius:C,outerRadius:C},S=q3,g=aa.cursorLine}else w={points:$L(u,p,c)},S=Xg,g=aa.cursorLine;var T=typeof x=="object"&&"className"in x?x.className:void 0,D=au(au(au(au({stroke:"#ccc",pointerEvents:"none"},c),w),cl(x)),{},{payload:y,payloadIndex:j,className:Ke("recharts-tooltip-cursor",T)});return v.createElement(Mr,{zIndex:(a=t.zIndex)!==null&&a!==void 0?a:g},v.createElement(gq,{cursor:x,cursorComp:S,cursorProps:D}))}function vq(t){var a=IF(),r=k3(),n=Im(),l=VF();return a==null||r==null||n==null||l==null?null:v.createElement(yq,lg({},t,{offset:r,layout:n,tooltipAxisBandSize:a,chartName:l}))}var KC=v.createContext(null),bq=()=>v.useContext(KC),Q0={exports:{}},r6;function jq(){return r6||(r6=1,(function(t){var a=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function l(x,f,h){this.fn=x,this.context=f,this.once=h||!1}function c(x,f,h,p,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var j=new l(h,p||x,y),w=r?r+f:f;return x._events[w]?x._events[w].fn?x._events[w]=[x._events[w],j]:x._events[w].push(j):(x._events[w]=j,x._eventsCount++),x}function d(x,f){--x._eventsCount===0?x._events=new n:delete x._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)a.call(h,p)&&f.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=r?r+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,j=p.length,w=new Array(j);y<j;y++)w[y]=p[y].fn;return w},u.prototype.listenerCount=function(f){var h=r?r+f:f,p=this._events[h];return p?p.fn?1:p.length:0},u.prototype.emit=function(f,h,p,y,j,w){var S=r?r+f:f;if(!this._events[S])return!1;var g=this._events[S],_=arguments.length,O,C;if(g.fn){switch(g.once&&this.removeListener(f,g.fn,void 0,!0),_){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,h),!0;case 3:return g.fn.call(g.context,h,p),!0;case 4:return g.fn.call(g.context,h,p,y),!0;case 5:return g.fn.call(g.context,h,p,y,j),!0;case 6:return g.fn.call(g.context,h,p,y,j,w),!0}for(C=1,O=new Array(_-1);C<_;C++)O[C-1]=arguments[C];g.fn.apply(g.context,O)}else{var k=g.length,E;for(C=0;C<k;C++)switch(g[C].once&&this.removeListener(f,g[C].fn,void 0,!0),_){case 1:g[C].fn.call(g[C].context);break;case 2:g[C].fn.call(g[C].context,h);break;case 3:g[C].fn.call(g[C].context,h,p);break;case 4:g[C].fn.call(g[C].context,h,p,y);break;default:if(!O)for(E=1,O=new Array(_-1);E<_;E++)O[E-1]=arguments[E];g[C].fn.apply(g[C].context,O)}}return!0},u.prototype.on=function(f,h,p){return c(this,f,h,p,!1)},u.prototype.once=function(f,h,p){return c(this,f,h,p,!0)},u.prototype.removeListener=function(f,h,p,y){var j=r?r+f:f;if(!this._events[j])return this;if(!h)return d(this,j),this;var w=this._events[j];if(w.fn)w.fn===h&&(!y||w.once)&&(!p||w.context===p)&&d(this,j);else{for(var S=0,g=[],_=w.length;S<_;S++)(w[S].fn!==h||y&&!w[S].once||p&&w[S].context!==p)&&g.push(w[S]);g.length?this._events[j]=g.length===1?g[0]:g:d(this,j)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=r?r+f:f,this._events[h]&&d(this,h)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u})(Q0)),Q0.exports}var Nq=jq();const wq=On(Nq);var Jc=new wq,cg="recharts.syncEvent.tooltip",n6="recharts.syncEvent.brush";function YC(t,a){if(a){var r=Number.parseInt(a,10);if(!qr(r))return t?.[r]}}var Sq={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},XC=Oa({name:"options",initialState:Sq,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),_q=XC.reducer,{createEventEmitter:Cq}=XC.actions;function Aq(t){return t.tooltip.syncInteraction}var kq={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},WC=Oa({name:"chartData",initialState:kq,reducers:{setChartData(t,a){if(t.chartData=a.payload,a.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}a.payload.length>0&&t.dataEndIndex!==a.payload.length-1&&(t.dataEndIndex=a.payload.length-1)},setComputedData(t,a){t.computedData=a.payload},setDataStartEndIndexes(t,a){var{startIndex:r,endIndex:n}=a.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:s6,setDataStartEndIndexes:Oq,setComputedData:aQ}=WC.actions,Eq=WC.reducer,Tq=["x","y"];function i6(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,n)}return r}function Zi(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?i6(Object(r),!0).forEach(function(n){Mq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mq(t,a,r){return(a=Dq(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function Dq(t){var a=Pq(t,"string");return typeof a=="symbol"?a:a+""}function Pq(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function zq(t,a){if(t==null)return{};var r,n,l=Rq(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(n=0;n<c.length;n++)r=c[n],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(l[r]=t[r])}return l}function Rq(t,a){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(a.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Lq(){var t=Ne(Sy),a=Ne(_y),r=ft(),n=Ne($5),l=Ne(zn),c=Im(),d=Lm(),u=Ne(x=>x.rootProps.className);v.useEffect(()=>{if(t==null)return li;var x=(f,h,p)=>{if(a!==p&&t===f){if(n==="index"){var y;if(d&&h!==null&&h!==void 0&&(y=h.payload)!==null&&y!==void 0&&y.coordinate&&h.payload.sourceViewBox){var j=h.payload.coordinate,{x:w,y:S}=j,g=zq(j,Tq),{x:_,y:O,width:C,height:k}=h.payload.sourceViewBox,E=Zi(Zi({},g),{},{x:d.x+(C?(w-_)/C:0)*d.width,y:d.y+(k?(S-O)/k:0)*d.height});r(Zi(Zi({},h),{},{payload:Zi(Zi({},h.payload),{},{coordinate:E})}))}else r(h);return}if(l!=null){var T;if(typeof n=="function"){var D={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},P=n(l,D);T=l[P]}else n==="value"&&(T=l.find(H=>String(H.value)===h.payload.label));var{coordinate:R}=h.payload;if(T==null||h.payload.active===!1||R==null||d==null){r(sg({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:L,y:q}=R,F=Math.min(L,d.x+d.width),se=Math.min(q,d.y+d.height),ce={x:c==="horizontal"?T.coordinate:F,y:c==="horizontal"?se:T.coordinate},ue=sg({active:h.payload.active,coordinate:ce,dataKey:h.payload.dataKey,index:String(T.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox});r(ue)}}};return Jc.on(cg,x),()=>{Jc.off(cg,x)}},[u,r,a,t,n,l,c,d])}function Iq(){var t=Ne(Sy),a=Ne(_y),r=ft();v.useEffect(()=>{if(t==null)return li;var n=(l,c,d)=>{a!==d&&t===l&&r(Oq(c))};return Jc.on(n6,n),()=>{Jc.off(n6,n)}},[r,a,t])}function Bq(){var t=ft();v.useEffect(()=>{t(Cq())},[t]),Lq(),Iq()}function $q(t,a,r,n,l,c){var d=Ne(j=>KF(j,t,a)),u=Ne(_y),x=Ne(Sy),f=Ne($5),h=Ne(Aq),p=h?.active,y=Lm();v.useEffect(()=>{if(!p&&x!=null&&u!=null){var j=sg({active:c,coordinate:r,dataKey:d,index:l,label:typeof n=="number"?String(n):n,sourceViewBox:y});Jc.emit(cg,x,j,u)}},[p,r,d,l,n,u,x,f,c,y])}function l6(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,n)}return r}function c6(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?l6(Object(r),!0).forEach(function(n){Uq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uq(t,a,r){return(a=Fq(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function Fq(t){var a=qq(t,"string");return typeof a=="symbol"?a:a+""}function qq(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function Hq(t){return t.dataKey}function Vq(t,a){return v.isValidElement(t)?v.cloneElement(t,a):typeof t=="function"?v.createElement(t,a):v.createElement(ER,a)}var o6=[],Gq={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ci.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function og(t){var a,r,n=ra(t,Gq),{active:l,allowEscapeViewBox:c,animationDuration:d,animationEasing:u,content:x,filterNull:f,isAnimationActive:h,offset:p,payloadUniqBy:y,position:j,reverseDirection:w,useTranslate3d:S,wrapperStyle:g,cursor:_,shared:O,trigger:C,defaultIndex:k,portal:E,axisId:T}=n,D=ft(),P=typeof k=="number"?String(k):k;v.useEffect(()=>{D(HU({shared:O,trigger:C,axisId:T,active:l,defaultIndex:P}))},[D,O,C,T,l,P]);var R=Lm(),L=P3(),q=BU(O),{activeIndex:F,isActive:se}=(a=Ne(be=>WF(be,q,C,P)))!==null&&a!==void 0?a:{},ce=Ne(be=>XF(be,q,C,P)),ue=Ne(be=>VC(be,q,C,P)),H=Ne(be=>YF(be,q,C,P)),z=ce,$=bq(),re=(r=l??se)!==null&&r!==void 0?r:!1,[te,I]=LP([z,re]),K=q==="axis"?ue:void 0;$q(q,C,H,K,F,re);var G=E??$;if(G==null||R==null||q==null)return null;var ne=z??o6;re||(ne=o6),f&&ne.length&&(ne=oP(ne.filter(be=>be.value!=null&&(be.hide!==!0||n.includeHidden)),y,Hq));var he=ne.length>0,me=v.createElement(LR,{allowEscapeViewBox:c,animationDuration:d,animationEasing:u,isAnimationActive:h,active:re,coordinate:H,hasPayload:he,offset:p,position:j,reverseDirection:w,useTranslate3d:S,viewBox:R,wrapperStyle:g,lastBoundingBox:te,innerRef:I,hasPortalFromProps:!!E},Vq(x,c6(c6({},n),{},{payload:ne,label:K,active:re,activeIndex:F,coordinate:H,accessibilityLayer:L})));return v.createElement(v.Fragment,null,CS.createPortal(me,G),re&&v.createElement(vq,{cursor:_,tooltipEventType:q,coordinate:H,payload:ne,index:F}))}var nx=t=>null;nx.displayName="Cell";function Kq(t,a,r){return(a=Yq(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function Yq(t){var a=Xq(t,"string");return typeof a=="symbol"?a:a+""}function Xq(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}class Wq{constructor(a){Kq(this,"cache",new Map),this.maxSize=a}get(a){var r=this.cache.get(a);return r!==void 0&&(this.cache.delete(a),this.cache.set(a,r)),r}set(a,r){if(this.cache.has(a))this.cache.delete(a);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(a,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function d6(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,n)}return r}function Zq(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?d6(Object(r),!0).forEach(function(n){Qq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qq(t,a,r){return(a=Jq(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function Jq(t){var a=eH(t,"string");return typeof a=="symbol"?a:a+""}function eH(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}var tH={cacheSize:2e3,enableCache:!0},ZC=Zq({},tH),u6=new Wq(ZC.cacheSize),aH={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},m6="recharts_measurement_span";function rH(t,a){var r=a.fontSize||"",n=a.fontFamily||"",l=a.fontWeight||"",c=a.fontStyle||"",d=a.letterSpacing||"",u=a.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(l,"|").concat(c,"|").concat(d,"|").concat(u)}var x6=(t,a)=>{try{var r=document.getElementById(m6);r||(r=document.createElement("span"),r.setAttribute("id",m6),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,aH,a),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Uc=function(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a==null||ci.isSsr)return{width:0,height:0};if(!ZC.enableCache)return x6(a,r);var n=rH(a,r),l=u6.get(n);if(l)return l;var c=x6(a,r);return u6.set(n,c),c},h6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,f6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nH=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,sH=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,QC={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},iH=Object.keys(QC),el="NaN";function lH(t,a){return t*QC[a]}class wa{static parse(a){var r,[,n,l]=(r=sH.exec(a))!==null&&r!==void 0?r:[];return new wa(parseFloat(n),l??"")}constructor(a,r){this.num=a,this.unit=r,this.num=a,this.unit=r,qr(a)&&(this.unit=""),r!==""&&!nH.test(r)&&(this.num=NaN,this.unit=""),iH.includes(r)&&(this.num=lH(a,r),this.unit="px")}add(a){return this.unit!==a.unit?new wa(NaN,""):new wa(this.num+a.num,this.unit)}subtract(a){return this.unit!==a.unit?new wa(NaN,""):new wa(this.num-a.num,this.unit)}multiply(a){return this.unit!==""&&a.unit!==""&&this.unit!==a.unit?new wa(NaN,""):new wa(this.num*a.num,this.unit||a.unit)}divide(a){return this.unit!==""&&a.unit!==""&&this.unit!==a.unit?new wa(NaN,""):new wa(this.num/a.num,this.unit||a.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return qr(this.num)}}function JC(t){if(t.includes(el))return el;for(var a=t;a.includes("*")||a.includes("/");){var r,[,n,l,c]=(r=h6.exec(a))!==null&&r!==void 0?r:[],d=wa.parse(n??""),u=wa.parse(c??""),x=l==="*"?d.multiply(u):d.divide(u);if(x.isNaN())return el;a=a.replace(h6,x.toString())}for(;a.includes("+")||/.-\d+(?:\.\d+)?/.test(a);){var f,[,h,p,y]=(f=f6.exec(a))!==null&&f!==void 0?f:[],j=wa.parse(h??""),w=wa.parse(y??""),S=p==="+"?j.add(w):j.subtract(w);if(S.isNaN())return el;a=a.replace(f6,S.toString())}return a}var p6=/\(([^()]*)\)/;function cH(t){for(var a=t,r;(r=p6.exec(a))!=null;){var[,n]=r;a=a.replace(p6,JC(n))}return a}function oH(t){var a=t.replace(/\s+/g,"");return a=cH(a),a=JC(a),a}function dH(t){try{return oH(t)}catch{return el}}function J0(t){var a=dH(t.slice(5,-1));return a===el?"":a}var uH=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],mH=["dx","dy","angle","className","breakAll"];function dg(){return dg=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dg.apply(null,arguments)}function g6(t,a){if(t==null)return{};var r,n,l=xH(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(n=0;n<c.length;n++)r=c[n],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(l[r]=t[r])}return l}function xH(t,a){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(a.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var eA=/[ \f\n\r\t\v\u2028\u2029]+/,tA=t=>{var{children:a,breakAll:r,style:n}=t;try{var l=[];Rt(a)||(r?l=a.toString().split(""):l=a.toString().split(eA));var c=l.map(u=>({word:u,width:Uc(u,n).width})),d=r?0:Uc("",n).width;return{wordsWithComputedWidth:c,spaceWidth:d}}catch{return null}};function hH(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var aA=(t,a,r,n)=>t.reduce((l,c)=>{var{word:d,width:u}=c,x=l[l.length-1];if(x&&u!=null&&(a==null||n||x.width+u+r<Number(a)))x.words.push(d),x.width+=u+r;else{var f={words:[d],width:u};l.push(f)}return l},[]),rA=t=>t.reduce((a,r)=>a.width>r.width?a:r),fH="",y6=(t,a,r,n,l,c,d,u)=>{var x=t.slice(0,a),f=tA({breakAll:r,style:n,children:x+fH});if(!f)return[!1,[]];var h=aA(f.wordsWithComputedWidth,c,d,u),p=h.length>l||rA(h).width>Number(c);return[p,h]},pH=(t,a,r,n,l)=>{var{maxLines:c,children:d,style:u,breakAll:x}=t,f=we(c),h=String(d),p=aA(a,n,r,l);if(!f||l)return p;var y=p.length>c||rA(p).width>Number(n);if(!y)return p;for(var j=0,w=h.length-1,S=0,g;j<=w&&S<=h.length-1;){var _=Math.floor((j+w)/2),O=_-1,[C,k]=y6(h,O,x,u,c,n,r,l),[E]=y6(h,_,x,u,c,n,r,l);if(!C&&!E&&(j=_+1),C&&E&&(w=_-1),!C&&E){g=k;break}S++}return g||p},v6=t=>{var a=Rt(t)?[]:t.toString().split(eA);return[{words:a,width:void 0}]},gH=t=>{var{width:a,scaleToFit:r,children:n,style:l,breakAll:c,maxLines:d}=t;if((a||r)&&!ci.isSsr){var u,x,f=tA({breakAll:c,children:n,style:l});if(f){var{wordsWithComputedWidth:h,spaceWidth:p}=f;u=h,x=p}else return v6(n);return pH({breakAll:c,children:n,maxLines:d,style:l},u,x,a,!!r)}return v6(n)},nA="#808080",yH={breakAll:!1,capHeight:"0.71em",fill:nA,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},sx=v.forwardRef((t,a)=>{var r=ra(t,yH),{x:n,y:l,lineHeight:c,capHeight:d,fill:u,scaleToFit:x,textAnchor:f,verticalAnchor:h}=r,p=g6(r,uH),y=v.useMemo(()=>gH({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:x,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,x,p.style,p.width]),{dx:j,dy:w,angle:S,className:g,breakAll:_}=p,O=g6(p,mH);if(!Hr(n)||!Hr(l)||y.length===0)return null;var C=Number(n)+(we(j)?j:0),k=Number(l)+(we(w)?w:0);if(!Ht(C)||!Ht(k))return null;var E;switch(h){case"start":E=J0("calc(".concat(d,")"));break;case"middle":E=J0("calc(".concat((y.length-1)/2," * -").concat(c," + (").concat(d," / 2))"));break;default:E=J0("calc(".concat(y.length-1," * -").concat(c,")"));break}var T=[];if(x){var D=y[0].width,{width:P}=p;T.push("scale(".concat(we(P)&&we(D)?P/D:1,")"))}return S&&T.push("rotate(".concat(S,", ").concat(C,", ").concat(k,")")),T.length&&(O.transform=T.join(" ")),v.createElement("text",dg({},fa(O),{ref:a,x:C,y:k,className:Ke("recharts-text",g),textAnchor:f,fill:u.includes("url")?nA:u}),y.map((R,L)=>{var q=R.words.join(_?"":" ");return v.createElement("tspan",{x:C,dy:L===0?E:c,key:"".concat(q,"-").concat(L)},q)}))});sx.displayName="Text";var vH=["labelRef"];function bH(t,a){if(t==null)return{};var r,n,l=jH(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(n=0;n<c.length;n++)r=c[n],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(l[r]=t[r])}return l}function jH(t,a){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(a.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function b6(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,n)}return r}function St(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?b6(Object(r),!0).forEach(function(n){NH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NH(t,a,r){return(a=wH(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function wH(t){var a=SH(t,"string");return typeof a=="symbol"?a:a+""}function SH(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function pn(){return pn=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pn.apply(null,arguments)}var sA=v.createContext(null),_H=t=>{var{x:a,y:r,upperWidth:n,lowerWidth:l,width:c,height:d,children:u}=t,x=v.useMemo(()=>({x:a,y:r,upperWidth:n,lowerWidth:l,width:c,height:d}),[a,r,n,l,c,d]);return v.createElement(sA.Provider,{value:x},u)},iA=()=>{var t=v.useContext(sA),a=Lm();return t||A3(a)},CH=v.createContext(null),AH=()=>{var t=v.useContext(CH),a=Ne(V5);return t||a},kH=t=>{var{value:a,formatter:r}=t,n=Rt(t.children)?a:t.children;return typeof r=="function"?r(n):n},sv=t=>t!=null&&typeof t=="function",OH=(t,a)=>{var r=oa(a-t),n=Math.min(Math.abs(a-t),360);return r*n},EH=(t,a,r,n,l)=>{var{offset:c,className:d}=t,{cx:u,cy:x,innerRadius:f,outerRadius:h,startAngle:p,endAngle:y,clockWise:j}=l,w=(f+h)/2,S=OH(p,y),g=S>=0?1:-1,_,O;switch(a){case"insideStart":_=p+g*c,O=j;break;case"insideEnd":_=y-g*c,O=!j;break;case"end":_=y+g*c,O=j;break;default:throw new Error("Unsupported position ".concat(a))}O=S<=0?O:!O;var C=Et(u,x,w,_),k=Et(u,x,w,_+(O?1:-1)*359),E="M".concat(C.x,",").concat(C.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(O?0:1,`,
    `).concat(k.x,",").concat(k.y),T=Rt(t.id)?qc("recharts-radial-line-"):t.id;return v.createElement("text",pn({},n,{dominantBaseline:"central",className:Ke("recharts-radial-bar-label",d)}),v.createElement("defs",null,v.createElement("path",{id:T,d:E})),v.createElement("textPath",{xlinkHref:"#".concat(T)},r))},TH=(t,a,r)=>{var{cx:n,cy:l,innerRadius:c,outerRadius:d,startAngle:u,endAngle:x}=t,f=(u+x)/2;if(r==="outside"){var{x:h,y:p}=Et(n,l,d+a,f);return{x:h,y:p,textAnchor:h>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:l,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+d)/2,{x:j,y:w}=Et(n,l,y,f);return{x:j,y:w,textAnchor:"middle",verticalAnchor:"middle"}},ug=t=>"cx"in t&&we(t.cx),MH=(t,a)=>{var{parentViewBox:r,offset:n,position:l}=t,c;r!=null&&!ug(r)&&(c=r);var{x:d,y:u,upperWidth:x,lowerWidth:f,height:h}=a,p=d,y=d+(x-f)/2,j=(p+y)/2,w=(x+f)/2,S=p+x/2,g=h>=0?1:-1,_=g*n,O=g>0?"end":"start",C=g>0?"start":"end",k=x>=0?1:-1,E=k*n,T=k>0?"end":"start",D=k>0?"start":"end";if(l==="top"){var P={x:p+x/2,y:u-_,textAnchor:"middle",verticalAnchor:O};return St(St({},P),c?{height:Math.max(u-c.y,0),width:x}:{})}if(l==="bottom"){var R={x:y+f/2,y:u+h+_,textAnchor:"middle",verticalAnchor:C};return St(St({},R),c?{height:Math.max(c.y+c.height-(u+h),0),width:f}:{})}if(l==="left"){var L={x:j-E,y:u+h/2,textAnchor:T,verticalAnchor:"middle"};return St(St({},L),c?{width:Math.max(L.x-c.x,0),height:h}:{})}if(l==="right"){var q={x:j+w+E,y:u+h/2,textAnchor:D,verticalAnchor:"middle"};return St(St({},q),c?{width:Math.max(c.x+c.width-q.x,0),height:h}:{})}var F=c?{width:w,height:h}:{};return l==="insideLeft"?St({x:j+E,y:u+h/2,textAnchor:D,verticalAnchor:"middle"},F):l==="insideRight"?St({x:j+w-E,y:u+h/2,textAnchor:T,verticalAnchor:"middle"},F):l==="insideTop"?St({x:p+x/2,y:u+_,textAnchor:"middle",verticalAnchor:C},F):l==="insideBottom"?St({x:y+f/2,y:u+h-_,textAnchor:"middle",verticalAnchor:O},F):l==="insideTopLeft"?St({x:p+E,y:u+_,textAnchor:D,verticalAnchor:C},F):l==="insideTopRight"?St({x:p+x-E,y:u+_,textAnchor:T,verticalAnchor:C},F):l==="insideBottomLeft"?St({x:y+E,y:u+h-_,textAnchor:D,verticalAnchor:O},F):l==="insideBottomRight"?St({x:y+f-E,y:u+h-_,textAnchor:T,verticalAnchor:O},F):l&&typeof l=="object"&&(we(l.x)||wn(l.x))&&(we(l.y)||wn(l.y))?St({x:d+Ka(l.x,w),y:u+Ka(l.y,h),textAnchor:"end",verticalAnchor:"end"},F):St({x:S,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},F)},DH={offset:5,zIndex:aa.label};function cs(t){var a=ra(t,DH),{viewBox:r,position:n,value:l,children:c,content:d,className:u="",textBreakAll:x,labelRef:f}=a,h=AH(),p=iA(),y=n==="center"?p:h??p,j,w,S;if(r==null?j=y:ug(r)?j=r:j=A3(r),!j||Rt(l)&&Rt(c)&&!v.isValidElement(d)&&typeof d!="function")return null;var g=St(St({},a),{},{viewBox:j});if(v.isValidElement(d)){var{labelRef:_}=g,O=bH(g,vH);return v.cloneElement(d,O)}if(typeof d=="function"){if(w=v.createElement(d,g),v.isValidElement(w))return w}else w=kH(a);var C=fa(a);if(ug(j)){if(n==="insideStart"||n==="insideEnd"||n==="end")return EH(a,n,w,C,j);S=TH(j,a.offset,a.position)}else S=MH(a,j);return v.createElement(Mr,{zIndex:a.zIndex},v.createElement(sx,pn({ref:f,className:Ke("recharts-label",u)},C,S,{textAnchor:hH(C.textAnchor)?C.textAnchor:S.textAnchor,breakAll:x}),w))}cs.displayName="Label";var PH=(t,a,r)=>{if(!t)return null;var n={viewBox:a,labelRef:r};return t===!0?v.createElement(cs,pn({key:"label-implicit"},n)):Hr(t)?v.createElement(cs,pn({key:"label-implicit",value:t},n)):v.isValidElement(t)?t.type===cs?v.cloneElement(t,St({key:"label-implicit"},n)):v.createElement(cs,pn({key:"label-implicit",content:t},n)):sv(t)?v.createElement(cs,pn({key:"label-implicit",content:t},n)):t&&typeof t=="object"?v.createElement(cs,pn({},t,{key:"label-implicit"},n)):null};function zH(t){var{label:a,labelRef:r}=t,n=iA();return PH(a,n,r)||null}var ep={},tp={},j6;function RH(){return j6||(j6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r){return r[r.length-1]}t.last=a})(tp)),tp}var ap={},N6;function LH(){return N6||(N6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=a})(ap)),ap}var w6;function IH(){return w6||(w6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=RH(),r=LH(),n=Ug();function l(c){if(n.isArrayLike(c))return a.last(r.toArray(c))}t.last=l})(ep)),ep}var rp,S6;function BH(){return S6||(S6=1,rp=IH().last),rp}var $H=BH();const UH=On($H);var FH=["valueAccessor"],qH=["dataKey","clockWise","id","textBreakAll","zIndex"];function am(){return am=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},am.apply(null,arguments)}function _6(t,a){if(t==null)return{};var r,n,l=HH(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(n=0;n<c.length;n++)r=c[n],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(l[r]=t[r])}return l}function HH(t,a){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(a.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var VH=t=>Array.isArray(t.value)?UH(t.value):t.value,lA=v.createContext(void 0),GH=lA.Provider,cA=v.createContext(void 0),KH=cA.Provider;function YH(){return v.useContext(lA)}function XH(){return v.useContext(cA)}function pu(t){var{valueAccessor:a=VH}=t,r=_6(t,FH),{dataKey:n,clockWise:l,id:c,textBreakAll:d,zIndex:u}=r,x=_6(r,qH),f=YH(),h=XH(),p=f||h;return!p||!p.length?null:v.createElement(Mr,{zIndex:u??aa.label},v.createElement(ka,{className:"recharts-label-list"},p.map((y,j)=>{var w,S=Rt(n)?a(y,j):yt(y&&y.payload,n),g=Rt(c)?{}:{id:"".concat(c,"-").concat(j)};return v.createElement(cs,am({key:"label-".concat(j)},fa(y),x,g,{fill:(w=r.fill)!==null&&w!==void 0?w:y.fill,parentViewBox:y.parentViewBox,value:S,textBreakAll:d,viewBox:y.viewBox,index:j,zIndex:0}))})))}pu.displayName="LabelList";function oA(t){var{label:a}=t;return a?a===!0?v.createElement(pu,{key:"labelList-implicit"}):v.isValidElement(a)||sv(a)?v.createElement(pu,{key:"labelList-implicit",content:a}):typeof a=="object"?v.createElement(pu,am({key:"labelList-implicit"},a,{type:String(a.type)})):null:null}function mg(){return mg=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mg.apply(null,arguments)}var dA=t=>{var{cx:a,cy:r,r:n,className:l}=t,c=Ke("recharts-dot",l);return we(a)&&we(r)&&we(n)?v.createElement("circle",mg({},pr(t),$g(t),{className:c,cx:a,cy:r,r:n})):null},uA=t=>t.graphicalItems.polarItems,WH=Z([pt,yo],Ty),ix=Z([uA,vt,WH],My),ZH=Z([ix],Dy),lx=Z([ZH,vy],Py),QH=Z([lx,vt,ix],Ry);Z([lx,vt,ix],(t,a,r)=>r.length>0?t.flatMap(n=>r.flatMap(l=>{var c,d=yt(n,(c=a.dataKey)!==null&&c!==void 0?c:l.dataKey);return{value:d,errorDomain:[]}})).filter(Boolean):a?.dataKey!=null?t.map(n=>({value:yt(n,a.dataKey),errorDomain:[]})):t.map(n=>({value:n,errorDomain:[]})));var C6=()=>{},JH=Z([lx,vt,ix,ex,pt],$y),eV=Z([vt,Iy,By,C6,JH,C6,tt,pt],Uy),mA=Z([vt,tt,lx,QH,go,pt,eV],Fy),tV=Z([mA,vt,Al],Vy);Z([vt,mA,tV,pt],Ky);var aV={radiusAxis:{},angleAxis:{}},xA=Oa({name:"polarAxis",initialState:aV,reducers:{addRadiusAxis(t,a){t.radiusAxis[a.payload.id]=a.payload},removeRadiusAxis(t,a){delete t.radiusAxis[a.payload.id]},addAngleAxis(t,a){t.angleAxis[a.payload.id]=a.payload},removeAngleAxis(t,a){delete t.angleAxis[a.payload.id]}}}),{addRadiusAxis:rQ,removeRadiusAxis:nQ,addAngleAxis:sQ,removeAngleAxis:iQ}=xA.actions,rV=xA.reducer;function A6(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,n)}return r}function k6(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?A6(Object(r),!0).forEach(function(n){nV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nV(t,a,r){return(a=sV(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function sV(t){var a=iV(t,"string");return typeof a=="symbol"?a:a+""}function iV(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}var lV=(t,a)=>a,iv=Z([uA,lV],(t,a)=>t.filter(r=>r.type==="pie").find(r=>r.id===a)),cV=[],lv=(t,a,r)=>r?.length===0?cV:r,hA=Z([vy,iv,lv],(t,a,r)=>{var{chartData:n}=t;if(a!=null){var l;if(a?.data!=null&&a.data.length>0?l=a.data:l=n,(!l||!l.length)&&r!=null&&(l=r.map(c=>k6(k6({},a.presentationProps),c.props))),l!=null)return l}}),oV=Z([hA,iv,lv],(t,a,r)=>{if(!(t==null||a==null))return t.map((n,l)=>{var c,d=yt(n,a.nameKey,a.name),u;return r!=null&&(c=r[l])!==null&&c!==void 0&&(c=c.props)!==null&&c!==void 0&&c.fill?u=r[l].props.fill:typeof n=="object"&&n!=null&&"fill"in n?u=n.fill:u=a.fill,{value:Mm(d,a.dataKey),color:u,payload:n,type:a.legendType}})}),dV=Z([hA,iv,lv,Vt],(t,a,r,n)=>{if(!(a==null||t==null))return hG({offset:n,pieSettings:a,displayedData:t,cells:r})}),np={exports:{}},et={};var O6;function uV(){if(O6)return et;O6=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),j=Symbol.for("react.client.reference");function w(S){if(typeof S=="object"&&S!==null){var g=S.$$typeof;switch(g){case t:switch(S=S.type,S){case r:case l:case n:case x:case f:case y:return S;default:switch(S=S&&S.$$typeof,S){case d:case u:case p:case h:return S;case c:return S;default:return g}}case a:return g}}}return et.ContextConsumer=c,et.ContextProvider=d,et.Element=t,et.ForwardRef=u,et.Fragment=r,et.Lazy=p,et.Memo=h,et.Portal=a,et.Profiler=l,et.StrictMode=n,et.Suspense=x,et.SuspenseList=f,et.isContextConsumer=function(S){return w(S)===c},et.isContextProvider=function(S){return w(S)===d},et.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===t},et.isForwardRef=function(S){return w(S)===u},et.isFragment=function(S){return w(S)===r},et.isLazy=function(S){return w(S)===p},et.isMemo=function(S){return w(S)===h},et.isPortal=function(S){return w(S)===a},et.isProfiler=function(S){return w(S)===l},et.isStrictMode=function(S){return w(S)===n},et.isSuspense=function(S){return w(S)===x},et.isSuspenseList=function(S){return w(S)===f},et.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===r||S===l||S===n||S===x||S===f||typeof S=="object"&&S!==null&&(S.$$typeof===p||S.$$typeof===h||S.$$typeof===d||S.$$typeof===c||S.$$typeof===u||S.$$typeof===j||S.getModuleId!==void 0)},et.typeOf=w,et}var E6;function mV(){return E6||(E6=1,np.exports=uV()),np.exports}var xV=mV(),T6=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",M6=null,sp=null,fA=t=>{if(t===M6&&Array.isArray(sp))return sp;var a=[];return v.Children.forEach(t,r=>{Rt(r)||(xV.isFragment(r)?a=a.concat(fA(r.props.children)):a.push(r))}),sp=a,M6=t,a};function pA(t,a){var r=[],n=[];return Array.isArray(a)?n=a.map(l=>T6(l)):n=[T6(a)],fA(t).forEach(l=>{var c=ei(l,"type.displayName")||ei(l,"type.name");c&&n.indexOf(c)!==-1&&r.push(l)}),r}var gA=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,ip={},D6;function hV(){return D6||(D6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function a(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const l=r[Symbol.toStringTag];return l==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${l}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=a})(ip)),ip}var lp,P6;function fV(){return P6||(P6=1,lp=hV().isPlainObject),lp}var pV=fV();const gV=On(pV);function z6(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,n)}return r}function R6(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?z6(Object(r),!0).forEach(function(n){yV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yV(t,a,r){return(a=vV(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function vV(t){var a=bV(t,"string");return typeof a=="symbol"?a:a+""}function bV(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function rm(){return rm=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rm.apply(null,arguments)}var L6=(t,a,r,n,l)=>{var c=r-n,d;return d="M ".concat(t,",").concat(a),d+="L ".concat(t+r,",").concat(a),d+="L ".concat(t+r-c/2,",").concat(a+l),d+="L ".concat(t+r-c/2-n,",").concat(a+l),d+="L ".concat(t,",").concat(a," Z"),d},jV={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},NV=t=>{var a=ra(t,jV),{x:r,y:n,upperWidth:l,lowerWidth:c,height:d,className:u}=a,{animationEasing:x,animationDuration:f,animationBegin:h,isUpdateAnimationActive:p}=a,y=v.useRef(null),[j,w]=v.useState(-1),S=v.useRef(l),g=v.useRef(c),_=v.useRef(d),O=v.useRef(r),C=v.useRef(n),k=Um(t,"trapezoid-");if(v.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var ce=y.current.getTotalLength();ce&&w(ce)}catch{}},[]),r!==+r||n!==+n||l!==+l||c!==+c||d!==+d||l===0&&c===0||d===0)return null;var E=Ke("recharts-trapezoid",u);if(!p)return v.createElement("g",null,v.createElement("path",rm({},fa(a),{className:E,d:L6(r,n,l,c,d)})));var T=S.current,D=g.current,P=_.current,R=O.current,L=C.current,q="0px ".concat(j===-1?1:j,"px"),F="".concat(j,"px 0px"),se=z3(["strokeDasharray"],f,x);return v.createElement($m,{animationId:k,key:k,canBegin:j>0,duration:f,easing:x,isActive:p,begin:h},ce=>{var ue=ca(T,l,ce),H=ca(D,c,ce),z=ca(P,d,ce),$=ca(R,r,ce),re=ca(L,n,ce);y.current&&(S.current=ue,g.current=H,_.current=z,O.current=$,C.current=re);var te=ce>0?{transition:se,strokeDasharray:F}:{strokeDasharray:q};return v.createElement("path",rm({},fa(a),{className:E,d:L6($,re,ue,H,z),ref:y,style:R6(R6({},te),a.style)}))})},wV=["option","shapeType","propTransformer","activeClassName","isActive"];function SV(t,a){if(t==null)return{};var r,n,l=_V(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(n=0;n<c.length;n++)r=c[n],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(l[r]=t[r])}return l}function _V(t,a){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(a.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function I6(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,n)}return r}function nm(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?I6(Object(r),!0).forEach(function(n){CV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CV(t,a,r){return(a=AV(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function AV(t){var a=kV(t,"string");return typeof a=="symbol"?a:a+""}function kV(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function OV(t,a){return nm(nm({},a),t)}function EV(t,a){return t==="symbols"}function B6(t){var{shapeType:a,elementProps:r}=t;switch(a){case"rectangle":return v.createElement(B3,r);case"trapezoid":return v.createElement(NV,r);case"sector":return v.createElement(q3,r);case"symbols":if(EV(a))return v.createElement(O_,r);break;case"curve":return v.createElement(Xg,r);default:return null}}function TV(t){return v.isValidElement(t)?t.props:t}function yA(t){var{option:a,shapeType:r,propTransformer:n=OV,activeClassName:l="recharts-active-shape",isActive:c}=t,d=SV(t,wV),u;if(v.isValidElement(a))u=v.cloneElement(a,nm(nm({},d),TV(a)));else if(typeof a=="function")u=a(d);else if(gV(a)&&typeof a!="boolean"){var x=n(a,d);u=v.createElement(B6,{shapeType:r,elementProps:x})}else{var f=d;u=v.createElement(B6,{shapeType:r,elementProps:f})}return c?v.createElement(ka,{className:l},u):u}var MV=(t,a)=>{var r=ft();return(n,l)=>c=>{t?.(n,l,c),r(_C({activeIndex:String(l),activeDataKey:a,activeCoordinate:n.tooltipPosition}))}},DV=t=>{var a=ft();return(r,n)=>l=>{t?.(r,n,l),a(VU())}},PV=(t,a)=>{var r=ft();return(n,l)=>c=>{t?.(n,l,c),r(GU({activeIndex:String(l),activeDataKey:a,activeCoordinate:n.tooltipPosition}))}};function vA(t){var{fn:a,args:r}=t,n=ft(),l=Ea();return v.useLayoutEffect(()=>{if(!l){var c=a(r);return n(FU(c)),()=>{n(qU(c))}}},[a,r,n,l]),null}function zV(t){var{legendPayload:a}=t,r=ft(),n=Ea();return v.useLayoutEffect(()=>n?li:(r(M3(a)),()=>{r(D3(a))}),[r,n,a]),null}function RV(t){var{legendPayload:a}=t,r=ft(),n=Ne(tt);return v.useLayoutEffect(()=>n!=="centric"&&n!=="radial"?li:(r(M3(a)),()=>{r(D3(a))}),[r,n,a]),null}var cp,LV=()=>{var[t]=v.useState(()=>qc("uid-"));return t},IV=(cp=AE.useId)!==null&&cp!==void 0?cp:LV;function bA(t,a){var r=IV();return a||(t?"".concat(t,"-").concat(r):r)}var BV=v.createContext(void 0),jA=t=>{var{id:a,type:r,children:n}=t,l=bA("recharts-".concat(r),a);return v.createElement(BV.Provider,{value:l},n(l))},$V={cartesianItems:[],polarItems:[]},NA=Oa({name:"graphicalItems",initialState:$V,reducers:{addCartesianGraphicalItem:{reducer(t,a){t.cartesianItems.push(a.payload)},prepare:zt()},replaceCartesianGraphicalItem:{reducer(t,a){var{prev:r,next:n}=a.payload,l=bn(t).cartesianItems.indexOf(r);l>-1&&(t.cartesianItems[l]=n)},prepare:zt()},removeCartesianGraphicalItem:{reducer(t,a){var r=bn(t).cartesianItems.indexOf(a.payload);r>-1&&t.cartesianItems.splice(r,1)},prepare:zt()},addPolarGraphicalItem:{reducer(t,a){t.polarItems.push(a.payload)},prepare:zt()},removePolarGraphicalItem:{reducer(t,a){var r=bn(t).polarItems.indexOf(a.payload);r>-1&&t.polarItems.splice(r,1)},prepare:zt()}}}),{addCartesianGraphicalItem:UV,replaceCartesianGraphicalItem:FV,removeCartesianGraphicalItem:qV,addPolarGraphicalItem:HV,removePolarGraphicalItem:VV}=NA.actions,GV=NA.reducer;function KV(t){var a=ft(),r=v.useRef(null);return v.useLayoutEffect(()=>{r.current===null?a(UV(t)):r.current!==t&&a(FV({prev:r.current,next:t})),r.current=t},[a,t]),v.useLayoutEffect(()=>()=>{r.current&&(a(qV(r.current)),r.current=null)},[a]),null}function YV(t){var a=ft();return v.useLayoutEffect(()=>(a(HV(t)),()=>{a(VV(t))}),[a,t]),null}var XV=["onMouseEnter","onClick","onMouseLeave"],WV=["id"],ZV=["id"];function cv(t,a){if(t==null)return{};var r,n,l=QV(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(n=0;n<c.length;n++)r=c[n],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(l[r]=t[r])}return l}function QV(t,a){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(a.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function $6(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,n)}return r}function ut(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?$6(Object(r),!0).forEach(function(n){JV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JV(t,a,r){return(a=eG(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function eG(t){var a=tG(t,"string");return typeof a=="symbol"?a:a+""}function tG(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function xs(){return xs=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xs.apply(null,arguments)}function aG(t){var a=v.useMemo(()=>pA(t.children,nx),[t.children]),r=Ne(n=>oV(n,t.id,a));return r==null?null:v.createElement(RV,{legendPayload:r})}function rG(t){var{dataKey:a,nameKey:r,sectors:n,stroke:l,strokeWidth:c,fill:d,name:u,hide:x,tooltipType:f}=t;return{dataDefinedOnItem:n.map(h=>h.tooltipPayload),positions:n.map(h=>h.tooltipPosition),settings:{stroke:l,strokeWidth:c,fill:d,dataKey:a,nameKey:r,name:Mm(u,a),hide:x,type:f,color:d,unit:""}}}var nG=(t,a)=>t>a?"start":t<a?"end":"middle",sG=(t,a,r)=>Ka(typeof a=="function"?a(t):a,r,r*.8),iG=(t,a,r)=>{var{top:n,left:l,width:c,height:d}=a,u=$3(c,d),x=l+Ka(t.cx,c,c/2),f=n+Ka(t.cy,d,d/2),h=Ka(t.innerRadius,u,0),p=sG(r,t.outerRadius,u),y=t.maxRadius||Math.sqrt(c*c+d*d)/2;return{cx:x,cy:f,innerRadius:h,outerRadius:p,maxRadius:y}},lG=(t,a)=>{var r=oa(a-t),n=Math.min(Math.abs(a-t),360);return r*n};function cG(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var oG=(t,a)=>{if(v.isValidElement(t))return v.cloneElement(t,a);if(typeof t=="function")return t(a);var r=Ke("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return v.createElement(Xg,xs({},a,{type:"linear",className:r}))},dG=(t,a,r)=>{if(v.isValidElement(t))return v.cloneElement(t,a);var n=r;if(typeof t=="function"&&(n=t(a),v.isValidElement(n)))return n;var l=Ke("recharts-pie-label-text",cG(t));return v.createElement(sx,xs({},a,{alignmentBaseline:"middle",className:l}),n)};function uG(t){var{sectors:a,props:r,showLabels:n}=t,{label:l,labelLine:c,dataKey:d}=r;if(!n||!l||!a)return null;var u=pr(r),x=cl(l),f=cl(c),h=typeof l=="object"&&"offsetRadius"in l&&typeof l.offsetRadius=="number"&&l.offsetRadius||20,p=a.map((y,j)=>{var w=(y.startAngle+y.endAngle)/2,S=Et(y.cx,y.cy,y.outerRadius+h,w),g=ut(ut(ut(ut({},u),y),{},{stroke:"none"},x),{},{index:j,textAnchor:nG(S.x,y.cx)},S),_=ut(ut(ut(ut({},u),y),{},{fill:"none",stroke:y.fill},f),{},{index:j,points:[Et(y.cx,y.cy,y.outerRadius,w),S],key:"line"});return v.createElement(Mr,{zIndex:aa.label,key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(j)},v.createElement(ka,null,c&&oG(c,_),dG(l,g,yt(y,d))))});return v.createElement(ka,{className:"recharts-pie-labels"},p)}function mG(t){var{sectors:a,props:r,showLabels:n}=t,{label:l}=r;return typeof l=="object"&&l!=null&&"position"in l?v.createElement(oA,{label:l}):v.createElement(uG,{sectors:a,props:r,showLabels:n})}function xG(t){var{sectors:a,activeShape:r,inactiveShape:n,allOtherPieProps:l}=t,c=Ne(xl),{onMouseEnter:d,onClick:u,onMouseLeave:x}=l,f=cv(l,XV),h=MV(d,l.dataKey),p=DV(x),y=PV(u,l.dataKey);return a==null||a.length===0?null:v.createElement(v.Fragment,null,a.map((j,w)=>{if(j?.startAngle===0&&j?.endAngle===0&&a.length!==1)return null;var S=r&&String(w)===c,g=c?n:null,_=S?r:g,O=ut(ut({},j),{},{stroke:j.stroke,tabIndex:-1,[j3]:w,[N3]:l.dataKey});return v.createElement(ka,xs({key:"sector-".concat(j?.startAngle,"-").concat(j?.endAngle,"-").concat(j.midAngle,"-").concat(w),tabIndex:-1,className:"recharts-pie-sector"},T_(f,j,w),{onMouseEnter:h(j,w),onMouseLeave:p(j,w),onClick:y(j,w)}),v.createElement(yA,xs({option:_,isActive:S,shapeType:"sector"},O)))}))}function hG(t){var a,{pieSettings:r,displayedData:n,cells:l,offset:c}=t,{cornerRadius:d,startAngle:u,endAngle:x,dataKey:f,nameKey:h,tooltipType:p}=r,y=Math.abs(r.minAngle),j=lG(u,x),w=Math.abs(j),S=n.length<=1?0:(a=r.paddingAngle)!==null&&a!==void 0?a:0,g=n.filter(T=>yt(T,f,0)!==0).length,_=(w>=360?g:g-1)*S,O=w-g*y-_,C=n.reduce((T,D)=>{var P=yt(D,f,0);return T+(we(P)?P:0)},0),k;if(C>0){var E;k=n.map((T,D)=>{var P=yt(T,f,0),R=yt(T,h,D),L=iG(r,c,T),q=(we(P)?P:0)/C,F,se=ut(ut({},T),l&&l[D]&&l[D].props);D?F=E.endAngle+oa(j)*S*(P!==0?1:0):F=u;var ce=F+oa(j)*((P!==0?y:0)+q*O),ue=(F+ce)/2,H=(L.innerRadius+L.outerRadius)/2,z=[{name:R,value:P,payload:se,dataKey:f,type:p}],$=Et(L.cx,L.cy,H,ue);return E=ut(ut(ut(ut({},r.presentationProps),{},{percent:q,cornerRadius:typeof d=="string"?parseFloat(d):d,name:R,tooltipPayload:z,midAngle:ue,middleRadius:H,tooltipPosition:$},se),L),{},{value:P,startAngle:F,endAngle:ce,payload:se,paddingAngle:oa(j)*S}),E})}return k}function fG(t){var{showLabels:a,sectors:r,children:n}=t,l=v.useMemo(()=>!a||!r?[]:r.map(c=>({value:c.value,payload:c.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:c.cx,cy:c.cy,innerRadius:c.innerRadius,outerRadius:c.outerRadius,startAngle:c.startAngle,endAngle:c.endAngle,clockWise:!1},fill:c.fill})),[r,a]);return v.createElement(KH,{value:a?l:void 0},n)}function pG(t){var{props:a,previousSectorsRef:r}=t,{sectors:n,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:u,activeShape:x,inactiveShape:f,onAnimationStart:h,onAnimationEnd:p}=a,y=Um(a,"recharts-pie-"),j=r.current,[w,S]=v.useState(!1),g=v.useCallback(()=>{typeof p=="function"&&p(),S(!1)},[p]),_=v.useCallback(()=>{typeof h=="function"&&h(),S(!0)},[h]);return v.createElement(fG,{showLabels:!w,sectors:n},v.createElement($m,{animationId:y,begin:c,duration:d,isActive:l,easing:u,onAnimationStart:_,onAnimationEnd:g,key:y},O=>{var C=[],k=n&&n[0],E=k?.startAngle;return n?.forEach((T,D)=>{var P=j&&j[D],R=D>0?ei(T,"paddingAngle",0):0;if(P){var L=ca(P.endAngle-P.startAngle,T.endAngle-T.startAngle,O),q=ut(ut({},T),{},{startAngle:E+R,endAngle:E+L+R});C.push(q),E=q.endAngle}else{var{endAngle:F,startAngle:se}=T,ce=ca(0,F-se,O),ue=ut(ut({},T),{},{startAngle:E+R,endAngle:E+ce+R});C.push(ue),E=ue.endAngle}}),r.current=C,v.createElement(ka,null,v.createElement(xG,{sectors:C,activeShape:x,inactiveShape:f,allOtherPieProps:a}))}),v.createElement(mG,{showLabels:!w,sectors:n,props:a}),a.children)}var gG={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!ci.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:aa.area};function yG(t){var{id:a}=t,r=cv(t,WV),{hide:n,className:l,rootTabIndex:c}=t,d=v.useMemo(()=>pA(t.children,nx),[t.children]),u=Ne(h=>dV(h,a,d)),x=v.useRef(null),f=Ke("recharts-pie",l);return n||u==null?(x.current=null,v.createElement(ka,{tabIndex:c,className:f})):v.createElement(Mr,{zIndex:t.zIndex},v.createElement(vA,{fn:rG,args:ut(ut({},t),{},{sectors:u})}),v.createElement(ka,{tabIndex:c,className:f},v.createElement(pG,{props:ut(ut({},r),{},{sectors:u}),previousSectorsRef:x})))}function wA(t){var a=ra(t,gG),{id:r}=a,n=cv(a,ZV),l=pr(n);return v.createElement(jA,{id:r,type:"pie"},c=>v.createElement(v.Fragment,null,v.createElement(YV,{type:"pie",id:c,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:l,maxRadius:a.maxRadius}),v.createElement(aG,xs({},n,{id:c})),v.createElement(yG,xs({},n,{id:c}))))}wA.displayName="Pie";var vG=["points"];function U6(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,n)}return r}function op(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?U6(Object(r),!0).forEach(function(n){bG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bG(t,a,r){return(a=jG(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function jG(t){var a=NG(t,"string");return typeof a=="symbol"?a:a+""}function NG(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function sm(){return sm=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sm.apply(null,arguments)}function wG(t,a){if(t==null)return{};var r,n,l=SG(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(n=0;n<c.length;n++)r=c[n],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(l[r]=t[r])}return l}function SG(t,a){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(a.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function _G(t){var{option:a,dotProps:r,className:n}=t;if(v.isValidElement(a))return v.cloneElement(a,r);if(typeof a=="function")return a(r);var l=Ke(n,typeof a!="boolean"?a.className:""),c=r??{},{points:d}=c,u=wG(c,vG);return v.createElement(dA,sm({},u,{className:l}))}function CG(t,a){return t==null?!1:a?!0:t.length===1}function AG(t){var{points:a,dot:r,className:n,dotClassName:l,dataKey:c,baseProps:d,needClip:u,clipPathId:x,zIndex:f=aa.scatter}=t;if(!CG(a,r))return null;var h=gA(r),p=RM(r),y=a.map((w,S)=>{var g,_,O=op(op(op({r:3},d),p),{},{index:S,cx:(g=w.x)!==null&&g!==void 0?g:void 0,cy:(_=w.y)!==null&&_!==void 0?_:void 0,dataKey:c,value:w.value,payload:w.payload,points:a});return v.createElement(_G,{key:"dot-".concat(S),option:r,dotProps:O,className:l})}),j={};return u&&x!=null&&(j.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(x,")")),v.createElement(Mr,{zIndex:f},v.createElement(ka,sm({className:n},j),y))}function F6(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,n)}return r}function q6(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?F6(Object(r),!0).forEach(function(n){kG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kG(t,a,r){return(a=OG(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function OG(t){var a=EG(t,"string");return typeof a=="symbol"?a:a+""}function EG(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}var TG={xAxis:{},yAxis:{},zAxis:{}},SA=Oa({name:"cartesianAxis",initialState:TG,reducers:{addXAxis:{reducer(t,a){t.xAxis[a.payload.id]=a.payload},prepare:zt()},removeXAxis:{reducer(t,a){delete t.xAxis[a.payload.id]},prepare:zt()},addYAxis:{reducer(t,a){t.yAxis[a.payload.id]=a.payload},prepare:zt()},removeYAxis:{reducer(t,a){delete t.yAxis[a.payload.id]},prepare:zt()},addZAxis:{reducer(t,a){t.zAxis[a.payload.id]=a.payload},prepare:zt()},removeZAxis:{reducer(t,a){delete t.zAxis[a.payload.id]},prepare:zt()},updateYAxisWidth(t,a){var{id:r,width:n}=a.payload,l=t.yAxis[r];if(l){var c=l.widthHistory||[];if(c.length===3&&c[0]===c[2]&&n===c[1]&&n!==l.width&&Math.abs(n-c[0])<=1)return;var d=[...c,n].slice(-3);t.yAxis[r]=q6(q6({},t.yAxis[r]),{},{width:n,widthHistory:d})}}}}),{addXAxis:MG,removeXAxis:DG,addYAxis:PG,removeYAxis:zG,addZAxis:lQ,removeZAxis:cQ,updateYAxisWidth:RG}=SA.actions,LG=SA.reducer,IG=Z([Vt],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),BG=Z([IG,En,Tn],(t,a,r)=>{if(!(!t||a==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,a-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),ov=()=>Ne(BG),$G=()=>Ne(DF);function H6(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,n)}return r}function dp(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?H6(Object(r),!0).forEach(function(n){UG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UG(t,a,r){return(a=FG(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function FG(t){var a=qG(t,"string");return typeof a=="symbol"?a:a+""}function qG(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}var HG=t=>{var{point:a,childIndex:r,mainColor:n,activeDot:l,dataKey:c}=t;if(l===!1||a.x==null||a.y==null)return null;var d={index:r,dataKey:c,cx:a.x,cy:a.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:a.payload,value:a.value},u=dp(dp(dp({},d),cl(l)),$g(l)),x;return v.isValidElement(l)?x=v.cloneElement(l,u):typeof l=="function"?x=l(u):x=v.createElement(dA,u),v.createElement(ka,{className:"recharts-active-dot"},x)};function VG(t){var{points:a,mainColor:r,activeDot:n,itemDataKey:l,zIndex:c=aa.activeDot}=t,d=Ne(xl),u=$G();if(a==null||u==null)return null;var x=a.find(f=>u.includes(f.payload));return Rt(x)?null:v.createElement(Mr,{zIndex:c},v.createElement(HG,{point:x,childIndex:Number(d),mainColor:r,dataKey:l,activeDot:n}))}var GG={},_A=Oa({name:"errorBars",initialState:GG,reducers:{addErrorBar:(t,a)=>{var{itemId:r,errorBar:n}=a.payload;t[r]||(t[r]=[]),t[r].push(n)},replaceErrorBar:(t,a)=>{var{itemId:r,prev:n,next:l}=a.payload;t[r]&&(t[r]=t[r].map(c=>c.dataKey===n.dataKey&&c.direction===n.direction?l:c))},removeErrorBar:(t,a)=>{var{itemId:r,errorBar:n}=a.payload;t[r]&&(t[r]=t[r].filter(l=>l.dataKey!==n.dataKey||l.direction!==n.direction))}}}),{addErrorBar:oQ,replaceErrorBar:dQ,removeErrorBar:uQ}=_A.actions,KG=_A.reducer,YG=["children"];function XG(t,a){if(t==null)return{};var r,n,l=WG(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(n=0;n<c.length;n++)r=c[n],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(l[r]=t[r])}return l}function WG(t,a){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(a.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var ZG={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},QG=v.createContext(ZG);function JG(t){var{children:a}=t,r=XG(t,YG);return v.createElement(QG.Provider,{value:r},a)}function CA(t,a){var r,n,l=Ne(f=>Dn(f,t)),c=Ne(f=>Pn(f,a)),d=(r=l?.allowDataOverflow)!==null&&r!==void 0?r:Ua.allowDataOverflow,u=(n=c?.allowDataOverflow)!==null&&n!==void 0?n:Fa.allowDataOverflow,x=d||u;return{needClip:x,needClipX:d,needClipY:u}}function eK(t){var{xAxisId:a,yAxisId:r,clipPathId:n}=t,l=ov(),{needClipX:c,needClipY:d,needClip:u}=CA(a,r);if(!u||!l)return null;var{x,y:f,width:h,height:p}=l;return v.createElement("clipPath",{id:"clipPath-".concat(n)},v.createElement("rect",{x:c?x:x-h/2,y:d?f:f-p/2,width:c?h:h*2,height:d?p:p*2}))}var AA=t=>{var{chartData:a}=t,r=ft(),n=Ea();return v.useEffect(()=>n?()=>{}:(r(s6(a)),()=>{r(s6(void 0))}),[a,r,n]),null},V6={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},kA=Oa({name:"brush",initialState:V6,reducers:{setBrushSettings(t,a){return a.payload==null?V6:a.payload}}}),{setBrushSettings:mQ}=kA.actions,tK=kA.reducer;function aK(t,a,r){return(a=rK(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function rK(t){var a=nK(t,"string");return typeof a=="symbol"?a:a+""}function nK(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}class dv{static create(a){return new dv(a)}constructor(a){this.scale=a}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(a){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a!==void 0){if(n)switch(n){case"start":return this.scale(a);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(a)+l}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(a)+c}default:return this.scale(a)}if(r){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(a)+d}return this.scale(a)}}isInRange(a){var r=this.range(),n=r[0],l=r[r.length-1];return n<=l?a>=n&&a<=l:a>=l&&a<=n}}aK(dv,"EPS",1e-4);function sK(t){return(t%180+180)%180}var iK=function(a){var{width:r,height:n}=a,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=sK(l),d=c*Math.PI/180,u=Math.atan(n/r),x=d>u&&d<Math.PI-u?n/Math.sin(d):r/Math.cos(d);return Math.abs(x)},lK={dots:[],areas:[],lines:[]},OA=Oa({name:"referenceElements",initialState:lK,reducers:{addDot:(t,a)=>{t.dots.push(a.payload)},removeDot:(t,a)=>{var r=bn(t).dots.findIndex(n=>n===a.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,a)=>{t.areas.push(a.payload)},removeArea:(t,a)=>{var r=bn(t).areas.findIndex(n=>n===a.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,a)=>{t.lines.push(a.payload)},removeLine:(t,a)=>{var r=bn(t).lines.findIndex(n=>n===a.payload);r!==-1&&t.lines.splice(r,1)}}}),{addDot:xQ,removeDot:hQ,addArea:fQ,removeArea:pQ,addLine:gQ,removeLine:yQ}=OA.actions,cK=OA.reducer,oK=v.createContext(void 0),dK=t=>{var{children:a}=t,[r]=v.useState("".concat(qc("recharts"),"-clip")),n=ov();if(n==null)return null;var{x:l,y:c,width:d,height:u}=n;return v.createElement(oK.Provider,{value:r},v.createElement("defs",null,v.createElement("clipPath",{id:r},v.createElement("rect",{x:l,y:c,height:u,width:d}))),a)};function hl(t,a){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(a,r)||t[r]!==a[r]))return!1;for(var n in a)if({}.hasOwnProperty.call(a,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function EA(t,a){if(a<1)return[];if(a===1)return t;for(var r=[],n=0;n<t.length;n+=a)r.push(t[n]);return r}function uK(t,a,r){var n={width:t.width+a.width,height:t.height+a.height};return iK(n,r)}function mK(t,a,r){var n=r==="width",{x:l,y:c,width:d,height:u}=t;return a===1?{start:n?l:c,end:n?l+d:c+u}:{start:n?l+d:c+u,end:n?l:c}}function im(t,a,r,n,l){if(t*a<t*n||t*a>t*l)return!1;var c=r();return t*(a-t*c/2-n)>=0&&t*(a+t*c/2-l)<=0}function xK(t,a){return EA(t,a+1)}function hK(t,a,r,n,l){for(var c=(n||[]).slice(),{start:d,end:u}=a,x=0,f=1,h=d,p=function(){var w=n?.[x];if(w===void 0)return{v:EA(n,f)};var S=x,g,_=()=>(g===void 0&&(g=r(w,S)),g),O=w.coordinate,C=x===0||im(t,O,_,h,u);C||(x=0,h=d,f+=1),C&&(h=O+t*(_()/2+l),x+=f)},y;f<=c.length;)if(y=p(),y)return y.v;return[]}function G6(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,n)}return r}function sa(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?G6(Object(r),!0).forEach(function(n){fK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fK(t,a,r){return(a=pK(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function pK(t){var a=gK(t,"string");return typeof a=="symbol"?a:a+""}function gK(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function yK(t,a,r,n,l){for(var c=(n||[]).slice(),d=c.length,{start:u}=a,{end:x}=a,f=function(y){var j=c[y],w,S=()=>(w===void 0&&(w=r(j,y)),w);if(y===d-1){var g=t*(j.coordinate+t*S()/2-x);c[y]=j=sa(sa({},j),{},{tickCoord:g>0?j.coordinate-g*t:j.coordinate})}else c[y]=j=sa(sa({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var _=im(t,j.tickCoord,S,u,x);_&&(x=j.tickCoord-t*(S()/2+l),c[y]=sa(sa({},j),{},{isShow:!0}))}},h=d-1;h>=0;h--)f(h);return c}function vK(t,a,r,n,l,c){var d=(n||[]).slice(),u=d.length,{start:x,end:f}=a;if(c){var h=n[u-1],p=r(h,u-1),y=t*(h.coordinate+t*p/2-f);if(d[u-1]=h=sa(sa({},h),{},{tickCoord:y>0?h.coordinate-y*t:h.coordinate}),h.tickCoord!=null){var j=im(t,h.tickCoord,()=>p,x,f);j&&(f=h.tickCoord-t*(p/2+l),d[u-1]=sa(sa({},h),{},{isShow:!0}))}}for(var w=c?u-1:u,S=function(O){var C=d[O],k,E=()=>(k===void 0&&(k=r(C,O)),k);if(O===0){var T=t*(C.coordinate-t*E()/2-x);d[O]=C=sa(sa({},C),{},{tickCoord:T<0?C.coordinate-T*t:C.coordinate})}else d[O]=C=sa(sa({},C),{},{tickCoord:C.coordinate});if(C.tickCoord!=null){var D=im(t,C.tickCoord,E,x,f);D&&(x=C.tickCoord+t*(E()/2+l),d[O]=sa(sa({},C),{},{isShow:!0}))}},g=0;g<w;g++)S(g);return d}function uv(t,a,r){var{tick:n,ticks:l,viewBox:c,minTickGap:d,orientation:u,interval:x,tickFormatter:f,unit:h,angle:p}=t;if(!l||!l.length||!n)return[];if(we(x)||ci.isSsr){var y;return(y=xK(l,we(x)?x:0))!==null&&y!==void 0?y:[]}var j=[],w=u==="top"||u==="bottom"?"width":"height",S=h&&w==="width"?Uc(h,{fontSize:a,letterSpacing:r}):{width:0,height:0},g=(C,k)=>{var E=typeof f=="function"?f(C.value,k):C.value;return w==="width"?uK(Uc(E,{fontSize:a,letterSpacing:r}),S,p):Uc(E,{fontSize:a,letterSpacing:r})[w]},_=l.length>=2?oa(l[1].coordinate-l[0].coordinate):1,O=mK(c,_,w);return x==="equidistantPreserveStart"?hK(_,O,g,l,d):(x==="preserveStart"||x==="preserveStartEnd"?j=vK(_,O,g,l,d,x==="preserveStartEnd"):j=yK(_,O,g,l,d),j.filter(C=>C.isShow))}var bK=t=>{var{ticks:a,label:r,labelGapWithTick:n=5,tickSize:l=0,tickMargin:c=0}=t,d=0;if(a){Array.from(a).forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>d&&(d=p.width)}});var u=r?r.getBoundingClientRect().width:0,x=l+c,f=d+x+u+(r?n:0);return Math.round(f)}return 0},jK=["axisLine","width","height","className","hide","ticks","axisType"],NK=["viewBox"],wK=["viewBox"];function xg(t,a){if(t==null)return{};var r,n,l=SK(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(n=0;n<c.length;n++)r=c[n],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(l[r]=t[r])}return l}function SK(t,a){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(a.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function si(){return si=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},si.apply(null,arguments)}function K6(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,n)}return r}function Ot(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?K6(Object(r),!0).forEach(function(n){_K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _K(t,a,r){return(a=CK(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function CK(t){var a=AK(t,"string");return typeof a=="symbol"?a:a+""}function AK(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}var mv={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:aa.axis};function kK(t){var{x:a,y:r,width:n,height:l,orientation:c,mirror:d,axisLine:u,otherSvgProps:x}=t;if(!u)return null;var f=Ot(Ot(Ot({},x),pr(u)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!d||c==="bottom"&&d);f=Ot(Ot({},f),{},{x1:a,y1:r+h*l,x2:a+n,y2:r+h*l})}else{var p=+(c==="left"&&!d||c==="right"&&d);f=Ot(Ot({},f),{},{x1:a+p*n,y1:r,x2:a+p*n,y2:r+l})}return v.createElement("line",si({},f,{className:Ke("recharts-cartesian-axis-line",ei(u,"className"))}))}function OK(t,a,r,n,l,c,d,u,x){var f,h,p,y,j,w,S=u?-1:1,g=t.tickSize||d,_=we(t.tickCoord)?t.tickCoord:t.coordinate;switch(c){case"top":f=h=t.coordinate,y=r+ +!u*l,p=y-S*g,w=p-S*x,j=_;break;case"left":p=y=t.coordinate,h=a+ +!u*n,f=h-S*g,j=f-S*x,w=_;break;case"right":p=y=t.coordinate,h=a+ +u*n,f=h+S*g,j=f+S*x,w=_;break;default:f=h=t.coordinate,y=r+ +u*l,p=y+S*g,w=p+S*x,j=_;break}return{line:{x1:f,y1:p,x2:h,y2:y},tick:{x:j,y:w}}}function EK(t,a){switch(t){case"left":return a?"start":"end";case"right":return a?"end":"start";default:return"middle"}}function TK(t,a){switch(t){case"left":case"right":return"middle";case"top":return a?"start":"end";default:return a?"end":"start"}}function MK(t){var{option:a,tickProps:r,value:n}=t,l,c=Ke(r.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(a))l=v.cloneElement(a,Ot(Ot({},r),{},{className:c}));else if(typeof a=="function")l=a(Ot(Ot({},r),{},{className:c}));else{var d="recharts-cartesian-axis-tick-value";typeof a!="boolean"&&(d=Ke(d,a?.className)),l=v.createElement(sx,si({},r,{className:d}),n)}return l}var DK=v.forwardRef((t,a)=>{var{ticks:r=[],tick:n,tickLine:l,stroke:c,tickFormatter:d,unit:u,padding:x,tickTextProps:f,orientation:h,mirror:p,x:y,y:j,width:w,height:S,tickSize:g,tickMargin:_,fontSize:O,letterSpacing:C,getTicksConfig:k,events:E,axisType:T}=t,D=uv(Ot(Ot({},k),{},{ticks:r}),O,C),P=EK(h,p),R=TK(h,p),L=pr(k),q=cl(n),F={};typeof l=="object"&&(F=l);var se=Ot(Ot({},L),{},{fill:"none"},F),ce=D.map(z=>Ot({entry:z},OK(z,y,j,w,S,h,g,p,_))),ue=ce.map(z=>{var{entry:$,line:re}=z;return v.createElement(ka,{className:"recharts-cartesian-axis-tick",key:"tick-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},l&&v.createElement("line",si({},se,re,{className:Ke("recharts-cartesian-axis-tick-line",ei(l,"className"))})))}),H=ce.map((z,$)=>{var{entry:re,tick:te}=z,I=Ot(Ot(Ot(Ot({textAnchor:P,verticalAnchor:R},L),{},{stroke:"none",fill:c},q),te),{},{index:$,payload:re,visibleTicksCount:D.length,tickFormatter:d,padding:x},f);return v.createElement(ka,si({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(re.value,"-").concat(re.coordinate,"-").concat(re.tickCoord)},T_(E,re,$)),n&&v.createElement(MK,{option:n,tickProps:I,value:"".concat(typeof d=="function"?d(re.value,$):re.value).concat(u||"")}))});return v.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(T,"-ticks")},H.length>0&&v.createElement(Mr,{zIndex:aa.label},v.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(T,"-tick-labels"),ref:a},H)),ue.length>0&&v.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(T,"-tick-lines")},ue))}),PK=v.forwardRef((t,a)=>{var{axisLine:r,width:n,height:l,className:c,hide:d,ticks:u,axisType:x}=t,f=xg(t,jK),[h,p]=v.useState(""),[y,j]=v.useState(""),w=v.useRef(null);v.useImperativeHandle(a,()=>({getCalculatedWidth:()=>{var g;return bK({ticks:w.current,label:(g=t.labelRef)===null||g===void 0?void 0:g.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var S=v.useCallback(g=>{if(g){var _=g.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=_;var O=_[0];if(O){var C=window.getComputedStyle(O),k=C.fontSize,E=C.letterSpacing;(k!==h||E!==y)&&(p(k),j(E))}}},[h,y]);return d||n!=null&&n<=0||l!=null&&l<=0?null:v.createElement(Mr,{zIndex:t.zIndex},v.createElement(ka,{className:Ke("recharts-cartesian-axis",c)},v.createElement(kK,{x:t.x,y:t.y,width:n,height:l,orientation:t.orientation,mirror:t.mirror,axisLine:r,otherSvgProps:pr(t)}),v.createElement(DK,{ref:S,axisType:x,events:f,fontSize:h,getTicksConfig:t,height:t.height,letterSpacing:y,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),v.createElement(_H,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},v.createElement(zH,{label:t.label,labelRef:t.labelRef}),t.children)))}),zK=v.memo(PK,(t,a)=>{var{viewBox:r}=t,n=xg(t,NK),{viewBox:l}=a,c=xg(a,wK);return hl(r,l)&&hl(n,c)}),xv=v.forwardRef((t,a)=>{var r=ra(t,mv);return v.createElement(zK,si({},r,{ref:a}))});xv.displayName="CartesianAxis";var RK=["x1","y1","x2","y2","key"],LK=["offset"],IK=["xAxisId","yAxisId"],BK=["xAxisId","yAxisId"];function Y6(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,n)}return r}function ia(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Y6(Object(r),!0).forEach(function(n){$K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $K(t,a,r){return(a=UK(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function UK(t){var a=FK(t,"string");return typeof a=="symbol"?a:a+""}function FK(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function qs(){return qs=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qs.apply(null,arguments)}function lm(t,a){if(t==null)return{};var r,n,l=qK(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(n=0;n<c.length;n++)r=c[n],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(l[r]=t[r])}return l}function qK(t,a){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(a.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var HK=t=>{var{fill:a}=t;if(!a||a==="none")return null;var{fillOpacity:r,x:n,y:l,width:c,height:d,ry:u}=t;return v.createElement("rect",{x:n,y:l,ry:u,width:c,height:d,stroke:"none",fill:a,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function TA(t){var{option:a,lineItemProps:r}=t,n;if(v.isValidElement(a))n=v.cloneElement(a,r);else if(typeof a=="function")n=a(r);else{var l,{x1:c,y1:d,x2:u,y2:x,key:f}=r,h=lm(r,RK),p=(l=pr(h))!==null&&l!==void 0?l:{},{offset:y}=p,j=lm(p,LK);n=v.createElement("line",qs({},j,{x1:c,y1:d,x2:u,y2:x,fill:"none",key:f}))}return n}function VK(t){var{x:a,width:r,horizontal:n=!0,horizontalPoints:l}=t;if(!n||!l||!l.length)return null;var{xAxisId:c,yAxisId:d}=t,u=lm(t,IK),x=l.map((f,h)=>{var p=ia(ia({},u),{},{x1:a,y1:f,x2:a+r,y2:f,key:"line-".concat(h),index:h});return v.createElement(TA,{key:"line-".concat(h),option:n,lineItemProps:p})});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},x)}function GK(t){var{y:a,height:r,vertical:n=!0,verticalPoints:l}=t;if(!n||!l||!l.length)return null;var{xAxisId:c,yAxisId:d}=t,u=lm(t,BK),x=l.map((f,h)=>{var p=ia(ia({},u),{},{x1:f,y1:a,x2:f,y2:a+r,key:"line-".concat(h),index:h});return v.createElement(TA,{option:n,lineItemProps:p,key:"line-".concat(h)})});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},x)}function KK(t){var{horizontalFill:a,fillOpacity:r,x:n,y:l,width:c,height:d,horizontalPoints:u,horizontal:x=!0}=t;if(!x||!a||!a.length||u==null)return null;var f=u.map(p=>Math.round(p+l-l)).sort((p,y)=>p-y);l!==f[0]&&f.unshift(0);var h=f.map((p,y)=>{var j=!f[y+1],w=j?l+d-p:f[y+1]-p;if(w<=0)return null;var S=y%a.length;return v.createElement("rect",{key:"react-".concat(y),y:p,x:n,height:w,width:c,stroke:"none",fill:a[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function YK(t){var{vertical:a=!0,verticalFill:r,fillOpacity:n,x:l,y:c,width:d,height:u,verticalPoints:x}=t;if(!a||!r||!r.length)return null;var f=x.map(p=>Math.round(p+l-l)).sort((p,y)=>p-y);l!==f[0]&&f.unshift(0);var h=f.map((p,y)=>{var j=!f[y+1],w=j?l+d-p:f[y+1]-p;if(w<=0)return null;var S=y%r.length;return v.createElement("rect",{key:"react-".concat(y),x:p,y:c,width:w,height:u,stroke:"none",fill:r[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var XK=(t,a)=>{var{xAxis:r,width:n,height:l,offset:c}=t;return y3(uv(ia(ia(ia({},mv),r),{},{ticks:v3(r),viewBox:{x:0,y:0,width:n,height:l}})),c.left,c.left+c.width,a)},WK=(t,a)=>{var{yAxis:r,width:n,height:l,offset:c}=t;return y3(uv(ia(ia(ia({},mv),r),{},{ticks:v3(r),viewBox:{x:0,y:0,width:n,height:l}})),c.top,c.top+c.height,a)},ZK={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:aa.grid};function hv(t){var a=O3(),r=E3(),n=k3(),l=ia(ia({},ra(t,ZK)),{},{x:we(t.x)?t.x:n.left,y:we(t.y)?t.y:n.top,width:we(t.width)?t.width:n.width,height:we(t.height)?t.height:n.height}),{xAxisId:c,yAxisId:d,x:u,y:x,width:f,height:h,syncWithTicks:p,horizontalValues:y,verticalValues:j}=l,w=Ea(),S=Ne(R=>K4(R,"xAxis",c,w)),g=Ne(R=>K4(R,"yAxis",d,w));if(!Vr(f)||!Vr(h)||!we(u)||!we(x))return null;var _=l.verticalCoordinatesGenerator||XK,O=l.horizontalCoordinatesGenerator||WK,{horizontalPoints:C,verticalPoints:k}=l;if((!C||!C.length)&&typeof O=="function"){var E=y&&y.length,T=O({yAxis:g?ia(ia({},g),{},{ticks:E?y:g.ticks}):void 0,width:a??f,height:r??h,offset:n},E?!0:p);Lu(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(C=T)}if((!k||!k.length)&&typeof _=="function"){var D=j&&j.length,P=_({xAxis:S?ia(ia({},S),{},{ticks:D?j:S.ticks}):void 0,width:a??f,height:r??h,offset:n},D?!0:p);Lu(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(k=P)}return v.createElement(Mr,{zIndex:l.zIndex},v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(HK,{fill:l.fill,fillOpacity:l.fillOpacity,x:l.x,y:l.y,width:l.width,height:l.height,ry:l.ry}),v.createElement(KK,qs({},l,{horizontalPoints:C})),v.createElement(YK,qs({},l,{verticalPoints:k})),v.createElement(VK,qs({},l,{offset:n,horizontalPoints:C,xAxis:S,yAxis:g})),v.createElement(GK,qs({},l,{offset:n,verticalPoints:k,xAxis:S,yAxis:g}))))}hv.displayName="CartesianGrid";var MA=(t,a,r,n)=>vC(t,"xAxis",a,n),DA=(t,a,r,n)=>yC(t,"xAxis",a,n),PA=(t,a,r,n)=>vC(t,"yAxis",r,n),zA=(t,a,r,n)=>yC(t,"yAxis",r,n),QK=Z([tt,MA,PA,DA,zA],(t,a,r,n,l)=>fs(t,"xAxis")?Ru(a,n,!1):Ru(r,l,!1)),JK=(t,a,r,n,l)=>l;function eY(t){return t.type==="line"}var tY=Z([Z5,JK],(t,a)=>t.filter(eY).find(r=>r.id===a)),aY=Z([tt,MA,PA,DA,zA,tY,QK,by],(t,a,r,n,l,c,d,u)=>{var{chartData:x,dataStartIndex:f,dataEndIndex:h}=u;if(!(c==null||a==null||r==null||n==null||l==null||n.length===0||l.length===0||d==null)){var{dataKey:p,data:y}=c,j;if(y!=null&&y.length>0?j=y:j=x?.slice(f,h+1),j!=null)return wY({layout:t,xAxis:a,yAxis:r,xAxisTicks:n,yAxisTicks:l,dataKey:p,bandSize:d,displayedData:j})}});function rY(t){var a=cl(t),r=3,n=2;if(a!=null){var{r:l,strokeWidth:c}=a,d=Number(l),u=Number(c);return(Number.isNaN(d)||d<0)&&(d=r),(Number.isNaN(u)||u<0)&&(u=n),{r:d,strokeWidth:u}}return{r,strokeWidth:n}}var nY=["id"],sY=["type","layout","connectNulls","needClip","shape"],iY=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function eo(){return eo=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eo.apply(null,arguments)}function X6(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,n)}return r}function Ir(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?X6(Object(r),!0).forEach(function(n){lY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lY(t,a,r){return(a=cY(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function cY(t){var a=oY(t,"string");return typeof a=="symbol"?a:a+""}function oY(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function fv(t,a){if(t==null)return{};var r,n,l=dY(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(n=0;n<c.length;n++)r=c[n],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(l[r]=t[r])}return l}function dY(t,a){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(a.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var uY=t=>{var{dataKey:a,name:r,stroke:n,legendType:l,hide:c}=t;return[{inactive:c,dataKey:a,type:l,color:n,value:Mm(r,a),payload:t}]};function mY(t){var{dataKey:a,data:r,stroke:n,strokeWidth:l,fill:c,name:d,hide:u,unit:x}=t;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:l,fill:c,dataKey:a,nameKey:void 0,name:Mm(d,a),hide:u,type:t.tooltipType,color:t.stroke,unit:x}}}var RA=(t,a)=>"".concat(a,"px ").concat(t-a,"px");function xY(t,a){for(var r=t.length%2!==0?[...t,0]:t,n=[],l=0;l<a;++l)n=[...n,...r];return n}var hY=(t,a,r)=>{var n=r.reduce((p,y)=>p+y);if(!n)return RA(a,t);for(var l=Math.floor(t/n),c=t%n,d=a-t,u=[],x=0,f=0;x<r.length;f+=r[x],++x)if(f+r[x]>c){u=[...r.slice(0,x),c-f];break}var h=u.length%2===0?[0,d]:[d];return[...xY(r,l),...u,...h].map(p=>"".concat(p,"px")).join(", ")};function fY(t){var{clipPathId:a,points:r,props:n}=t,{dot:l,dataKey:c,needClip:d}=n,{id:u}=n,x=fv(n,nY),f=pr(x);return v.createElement(AG,{points:r,dot:l,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:c,baseProps:f,needClip:d,clipPathId:a})}function pY(t){var{showLabels:a,children:r,points:n}=t,l=v.useMemo(()=>n?.map(c=>{var d,u,x={x:(d=c.x)!==null&&d!==void 0?d:0,y:(u=c.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ir(Ir({},x),{},{value:c.value,payload:c.payload,viewBox:x,parentViewBox:void 0,fill:void 0})}),[n]);return v.createElement(GH,{value:a?l:void 0},r)}function W6(t){var{clipPathId:a,pathRef:r,points:n,strokeDasharray:l,props:c}=t,{type:d,layout:u,connectNulls:x,needClip:f,shape:h}=c,p=fv(c,sY),y=Ir(Ir({},fa(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(a,")"):void 0,points:n,type:d,layout:u,connectNulls:x,strokeDasharray:l??c.strokeDasharray});return v.createElement(v.Fragment,null,n?.length>1&&v.createElement(yA,eo({shapeType:"curve",option:h},y,{pathRef:r})),v.createElement(fY,{points:n,clipPathId:a,props:c}))}function gY(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function yY(t){var{clipPathId:a,props:r,pathRef:n,previousPointsRef:l,longestAnimatedLengthRef:c}=t,{points:d,strokeDasharray:u,isAnimationActive:x,animationBegin:f,animationDuration:h,animationEasing:p,animateNewValues:y,width:j,height:w,onAnimationEnd:S,onAnimationStart:g}=r,_=l.current,O=Um(r,"recharts-line-"),[C,k]=v.useState(!1),E=!C,T=v.useCallback(()=>{typeof S=="function"&&S(),k(!1)},[S]),D=v.useCallback(()=>{typeof g=="function"&&g(),k(!0)},[g]),P=gY(n.current),R=c.current;return v.createElement(pY,{points:d,showLabels:E},r.children,v.createElement($m,{animationId:O,begin:f,duration:h,isActive:x,easing:p,onAnimationEnd:T,onAnimationStart:D,key:O},L=>{var q=ca(R,P+R,L),F=Math.min(q,P),se;if(x)if(u){var ce="".concat(u).split(/[,\s]+/gim).map(z=>parseFloat(z));se=hY(F,P,ce)}else se=RA(P,F);else se=u==null?void 0:String(u);if(_){var ue=_.length/d.length,H=L===1?d:d.map((z,$)=>{var re=Math.floor($*ue);if(_[re]){var te=_[re];return Ir(Ir({},z),{},{x:ca(te.x,z.x,L),y:ca(te.y,z.y,L)})}return y?Ir(Ir({},z),{},{x:ca(j*2,z.x,L),y:ca(w/2,z.y,L)}):Ir(Ir({},z),{},{x:z.x,y:z.y})});return l.current=H,v.createElement(W6,{props:r,points:H,clipPathId:a,pathRef:n,strokeDasharray:se})}return L>0&&P>0&&(l.current=d,c.current=F),v.createElement(W6,{props:r,points:d,clipPathId:a,pathRef:n,strokeDasharray:se})}),v.createElement(oA,{label:r.label}))}function vY(t){var{clipPathId:a,props:r}=t,n=v.useRef(null),l=v.useRef(0),c=v.useRef(null);return v.createElement(yY,{props:r,clipPathId:a,previousPointsRef:n,longestAnimatedLengthRef:l,pathRef:c})}var bY=(t,a)=>{var r,n;return{x:(r=t.x)!==null&&r!==void 0?r:void 0,y:(n=t.y)!==null&&n!==void 0?n:void 0,value:t.value,errorVal:yt(t.payload,a)}};class jY extends v.Component{render(){var{hide:a,dot:r,points:n,className:l,xAxisId:c,yAxisId:d,top:u,left:x,width:f,height:h,id:p,needClip:y,zIndex:j}=this.props;if(a)return null;var w=Ke("recharts-line",l),S=p,{r:g,strokeWidth:_}=rY(r),O=gA(r),C=g*2+_;return v.createElement(Mr,{zIndex:j},v.createElement(ka,{className:w},y&&v.createElement("defs",null,v.createElement(eK,{clipPathId:S,xAxisId:c,yAxisId:d}),!O&&v.createElement("clipPath",{id:"clipPath-dots-".concat(S)},v.createElement("rect",{x:x-C/2,y:u-C/2,width:f+C,height:h+C}))),v.createElement(JG,{xAxisId:c,yAxisId:d,data:n,dataPointFormatter:bY,errorBarOffset:0},v.createElement(vY,{props:this.props,clipPathId:S}))),v.createElement(VG,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var LA={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!ci.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:aa.line};function NY(t){var a=ra(t,LA),{activeDot:r,animateNewValues:n,animationBegin:l,animationDuration:c,animationEasing:d,connectNulls:u,dot:x,hide:f,isAnimationActive:h,label:p,legendType:y,xAxisId:j,yAxisId:w,id:S}=a,g=fv(a,iY),{needClip:_}=CA(j,w),O=ov(),C=Im(),k=Ea(),E=Ne(L=>aY(L,j,w,k,S));if(C!=="horizontal"&&C!=="vertical"||E==null||O==null)return null;var{height:T,width:D,x:P,y:R}=O;return v.createElement(jY,eo({},g,{id:S,connectNulls:u,dot:x,activeDot:r,animateNewValues:n,animationBegin:l,animationDuration:c,animationEasing:d,isAnimationActive:h,hide:f,label:p,legendType:y,xAxisId:j,yAxisId:w,points:E,layout:C,height:T,width:D,left:P,top:R,needClip:_}))}function wY(t){var{layout:a,xAxis:r,yAxis:n,xAxisTicks:l,yAxisTicks:c,dataKey:d,bandSize:u,displayedData:x}=t;return x.map((f,h)=>{var p=yt(f,d);if(a==="horizontal"){var y=Nw({axis:r,ticks:l,bandSize:u,entry:f,index:h}),j=Rt(p)?null:n.scale(p);return{x:y,y:j,value:p,payload:f}}var w=Rt(p)?null:r.scale(p),S=Nw({axis:n,ticks:c,bandSize:u,entry:f,index:h});return w==null||S==null?null:{x:w,y:S,value:p,payload:f}}).filter(Boolean)}function SY(t){var a=ra(t,LA),r=Ea();return v.createElement(jA,{id:a.id,type:"line"},n=>v.createElement(v.Fragment,null,v.createElement(zV,{legendPayload:uY(a)}),v.createElement(vA,{fn:mY,args:a}),v.createElement(KV,{type:"line",id:n,data:a.data,xAxisId:a.xAxisId,yAxisId:a.yAxisId,zAxisId:0,dataKey:a.dataKey,hide:a.hide,isPanorama:r}),v.createElement(NY,eo({},a,{id:n}))))}var Zs=v.memo(SY);Zs.displayName="Line";var _Y=["dangerouslySetInnerHTML","ticks"],CY=["id"],AY=["domain"],kY=["domain"];function hg(){return hg=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hg.apply(null,arguments)}function cm(t,a){if(t==null)return{};var r,n,l=OY(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(n=0;n<c.length;n++)r=c[n],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(l[r]=t[r])}return l}function OY(t,a){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(a.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function EY(t){var a=ft();return v.useLayoutEffect(()=>(a(MG(t)),()=>{a(DG(t))}),[t,a]),null}var TY=t=>{var{xAxisId:a,className:r}=t,n=Ne(w3),l=Ea(),c="xAxis",d=Ne(g=>kl(g,c,a,l)),u=Ne(g=>gC(g,c,a,l)),x=Ne(g=>_U(g,a)),f=Ne(g=>TU(g,a)),h=Ne(g=>Y5(g,a));if(x==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:y}=t,j=cm(t,_Y),{id:w}=h,S=cm(h,CY);return v.createElement(xv,hg({},j,S,{scale:d,x:f.x,y:f.y,width:x.width,height:x.height,className:Ke("recharts-".concat(c," ").concat(c),r),viewBox:n,ticks:u,axisType:c}))},MY={allowDataOverflow:Ua.allowDataOverflow,allowDecimals:Ua.allowDecimals,allowDuplicatedCategory:Ua.allowDuplicatedCategory,height:Ua.height,hide:!1,mirror:Ua.mirror,orientation:Ua.orientation,padding:Ua.padding,reversed:Ua.reversed,scale:Ua.scale,tickCount:Ua.tickCount,type:Ua.type,xAxisId:0},DY=t=>{var a,r,n,l,c,d=ra(t,MY);return v.createElement(v.Fragment,null,v.createElement(EY,{interval:(a=d.interval)!==null&&a!==void 0?a:"preserveEnd",id:d.xAxisId,scale:d.scale,type:d.type,padding:d.padding,allowDataOverflow:d.allowDataOverflow,domain:d.domain,dataKey:d.dataKey,allowDuplicatedCategory:d.allowDuplicatedCategory,allowDecimals:d.allowDecimals,tickCount:d.tickCount,includeHidden:(r=d.includeHidden)!==null&&r!==void 0?r:!1,reversed:d.reversed,ticks:d.ticks,height:d.height,orientation:d.orientation,mirror:d.mirror,hide:d.hide,unit:d.unit,name:d.name,angle:(n=d.angle)!==null&&n!==void 0?n:0,minTickGap:(l=d.minTickGap)!==null&&l!==void 0?l:5,tick:(c=d.tick)!==null&&c!==void 0?c:!0,tickFormatter:d.tickFormatter}),v.createElement(TY,d))},PY=(t,a)=>{var{domain:r}=t,n=cm(t,AY),{domain:l}=a,c=cm(a,kY);return hl(n,c)?Array.isArray(r)&&r.length===2&&Array.isArray(l)&&l.length===2?r[0]===l[0]&&r[1]===l[1]:hl({domain:r},{domain:l}):!1},pv=v.memo(DY,PY);pv.displayName="XAxis";var zY=["dangerouslySetInnerHTML","ticks"],RY=["id"],LY=["domain"],IY=["domain"];function fg(){return fg=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fg.apply(null,arguments)}function om(t,a){if(t==null)return{};var r,n,l=BY(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(n=0;n<c.length;n++)r=c[n],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(l[r]=t[r])}return l}function BY(t,a){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(a.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function $Y(t){var a=ft();return v.useLayoutEffect(()=>(a(PG(t)),()=>{a(zG(t))}),[t,a]),null}var UY=t=>{var{yAxisId:a,className:r,width:n,label:l}=t,c=v.useRef(null),d=v.useRef(null),u=Ne(w3),x=Ea(),f=ft(),h="yAxis",p=Ne(E=>kl(E,h,a,x)),y=Ne(E=>PU(E,a)),j=Ne(E=>DU(E,a)),w=Ne(E=>gC(E,h,a,x)),S=Ne(E=>X5(E,a));if(v.useLayoutEffect(()=>{if(!(n!=="auto"||!y||sv(l)||v.isValidElement(l)||S==null)){var E=c.current;if(E){var T=E.getCalculatedWidth();Math.round(y.width)!==Math.round(T)&&f(RG({id:a,width:T}))}}},[w,y,f,l,a,n,S]),y==null||j==null||S==null)return null;var{dangerouslySetInnerHTML:g,ticks:_}=t,O=om(t,zY),{id:C}=S,k=om(S,RY);return v.createElement(xv,fg({},O,k,{ref:c,labelRef:d,scale:p,x:j.x,y:j.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:y.width,height:y.height,className:Ke("recharts-".concat(h," ").concat(h),r),viewBox:u,ticks:w,axisType:h}))},FY={allowDataOverflow:Fa.allowDataOverflow,allowDecimals:Fa.allowDecimals,allowDuplicatedCategory:Fa.allowDuplicatedCategory,hide:!1,mirror:Fa.mirror,orientation:Fa.orientation,padding:Fa.padding,reversed:Fa.reversed,scale:Fa.scale,tickCount:Fa.tickCount,type:Fa.type,width:Fa.width,yAxisId:0},qY=t=>{var a,r,n,l,c,d=ra(t,FY);return v.createElement(v.Fragment,null,v.createElement($Y,{interval:(a=d.interval)!==null&&a!==void 0?a:"preserveEnd",id:d.yAxisId,scale:d.scale,type:d.type,domain:d.domain,allowDataOverflow:d.allowDataOverflow,dataKey:d.dataKey,allowDuplicatedCategory:d.allowDuplicatedCategory,allowDecimals:d.allowDecimals,tickCount:d.tickCount,padding:d.padding,includeHidden:(r=d.includeHidden)!==null&&r!==void 0?r:!1,reversed:d.reversed,ticks:d.ticks,width:d.width,orientation:d.orientation,mirror:d.mirror,hide:d.hide,unit:d.unit,name:d.name,angle:(n=d.angle)!==null&&n!==void 0?n:0,minTickGap:(l=d.minTickGap)!==null&&l!==void 0?l:5,tick:(c=d.tick)!==null&&c!==void 0?c:!0,tickFormatter:d.tickFormatter}),v.createElement(UY,d))},HY=(t,a)=>{var{domain:r}=t,n=om(t,LY),{domain:l}=a,c=om(a,IY);return hl(n,c)?Array.isArray(r)&&r.length===2&&Array.isArray(l)&&l.length===2?r[0]===l[0]&&r[1]===l[1]:hl({domain:r},{domain:l}):!1},gv=v.memo(qY,HY);gv.displayName="YAxis";var up={exports:{}},mp={};var Z6;function VY(){if(Z6)return mp;Z6=1;var t=fl();function a(x,f){return x===f&&(x!==0||1/x===1/f)||x!==x&&f!==f}var r=typeof Object.is=="function"?Object.is:a,n=t.useSyncExternalStore,l=t.useRef,c=t.useEffect,d=t.useMemo,u=t.useDebugValue;return mp.useSyncExternalStoreWithSelector=function(x,f,h,p,y){var j=l(null);if(j.current===null){var w={hasValue:!1,value:null};j.current=w}else w=j.current;j=d(function(){function g(E){if(!_){if(_=!0,O=E,E=p(E),y!==void 0&&w.hasValue){var T=w.value;if(y(T,E))return C=T}return C=E}if(T=C,r(O,E))return T;var D=p(E);return y!==void 0&&y(T,D)?(O=E,T):(O=E,C=D)}var _=!1,O,C,k=h===void 0?null:h;return[function(){return g(f())},k===null?void 0:function(){return g(k())}]},[f,h,p,y]);var S=n(x,j[0],j[1]);return c(function(){w.hasValue=!0,w.value=S},[S]),u(S),S},mp}var Q6;function GY(){return Q6||(Q6=1,up.exports=VY()),up.exports}GY();function KY(t){t()}function YY(){let t=null,a=null;return{clear(){t=null,a=null},notify(){KY(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const l=a={callback:r,next:null,prev:a};return l.prev?l.prev.next=l:t=l,function(){!n||t===null||(n=!1,l.next?l.next.prev=l.prev:a=l.prev,l.prev?l.prev.next=l.next:t=l.next)}}}}var J6={notify(){},get:()=>[]};function XY(t,a){let r,n=J6,l=0,c=!1;function d(S){h();const g=n.subscribe(S);let _=!1;return()=>{_||(_=!0,g(),p())}}function u(){n.notify()}function x(){w.onStateChange&&w.onStateChange()}function f(){return c}function h(){l++,r||(r=t.subscribe(x),n=YY())}function p(){l--,r&&l===0&&(r(),r=void 0,n.clear(),n=J6)}function y(){c||(c=!0,h())}function j(){c&&(c=!1,p())}const w={addNestedSub:d,notifyNestedSubs:u,handleChangeWrapper:x,isSubscribed:f,trySubscribe:y,tryUnsubscribe:j,getListeners:()=>n};return w}var WY=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZY=WY(),QY=()=>typeof navigator<"u"&&navigator.product==="ReactNative",JY=QY(),eX=()=>ZY||JY?v.useLayoutEffect:v.useEffect,tX=eX(),aX=Symbol.for("react-redux-context"),rX=typeof globalThis<"u"?globalThis:{};function nX(){if(!v.createContext)return{};const t=rX[aX]??=new Map;let a=t.get(v.createContext);return a||(a=v.createContext(null),t.set(v.createContext,a)),a}var sX=nX();function iX(t){const{children:a,context:r,serverState:n,store:l}=t,c=v.useMemo(()=>{const x=XY(l);return{store:l,subscription:x,getServerState:n?()=>n:void 0}},[l,n]),d=v.useMemo(()=>l.getState(),[l]);tX(()=>{const{subscription:x}=c;return x.onStateChange=x.notifyNestedSubs,x.trySubscribe(),d!==l.getState()&&x.notifyNestedSubs(),()=>{x.tryUnsubscribe(),x.onStateChange=void 0}},[c,d]);const u=r||sX;return v.createElement(u.Provider,{value:c},a)}var lX=iX,cX=(t,a)=>a,yv=Z([cX,tt,V5,It,RC,zn,GF,Vt],JF),vv=t=>{var a=t.currentTarget.getBoundingClientRect(),r=a.width/t.currentTarget.offsetWidth,n=a.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-a.left)/r),chartY:Math.round((t.clientY-a.top)/n)}},IA=gr("mouseClick"),BA=uo();BA.startListening({actionCreator:IA,effect:(t,a)=>{var r=t.payload,n=yv(a.getState(),vv(r));n?.activeIndex!=null&&a.dispatch(KU({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var pg=gr("mouseMove"),$A=uo();$A.startListening({actionCreator:pg,effect:(t,a)=>{var r=t.payload,n=a.getState(),l=Wy(n,n.tooltip.settings.shared),c=yv(n,vv(r));l==="axis"&&(c?.activeIndex!=null?a.dispatch(AC({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):a.dispatch(CC()))}});var eS={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},UA=Oa({name:"rootProps",initialState:eS,reducers:{updateOptions:(t,a)=>{var r;t.accessibilityLayer=a.payload.accessibilityLayer,t.barCategoryGap=a.payload.barCategoryGap,t.barGap=(r=a.payload.barGap)!==null&&r!==void 0?r:eS.barGap,t.barSize=a.payload.barSize,t.maxBarSize=a.payload.maxBarSize,t.stackOffset=a.payload.stackOffset,t.syncId=a.payload.syncId,t.syncMethod=a.payload.syncMethod,t.className=a.payload.className,t.baseValue=a.payload.baseValue}}}),oX=UA.reducer,{updateOptions:dX}=UA.actions,FA=Oa({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,a)=>a.payload}}),{updatePolarOptions:uX}=FA.actions,mX=FA.reducer,qA=gr("keyDown"),HA=gr("focus"),bv=uo();bv.startListening({actionCreator:qA,effect:(t,a)=>{var r=a.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:l}=r.tooltip,c=t.payload;if(!(c!=="ArrowRight"&&c!=="ArrowLeft"&&c!=="Enter")){var d=Number(Zy(l,El(r))),u=zn(r);if(c==="Enter"){var x=tm(r,"axis","hover",String(l.index));a.dispatch(ig({active:!l.active,activeIndex:l.index,activeDataKey:l.dataKey,activeCoordinate:x}));return}var f=IU(r),h=f==="left-to-right"?1:-1,p=c==="ArrowRight"?1:-1,y=d+p*h;if(!(u==null||y>=u.length||y<0)){var j=tm(r,"axis","hover",String(y));a.dispatch(ig({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:j}))}}}}});bv.startListening({actionCreator:HA,effect:(t,a)=>{var r=a.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:l}=r.tooltip;if(!l.active&&l.index==null){var c="0",d=tm(r,"axis","hover",String(c));a.dispatch(ig({activeDataKey:void 0,active:!0,activeIndex:c,activeCoordinate:d}))}}}});var or=gr("externalEvent"),VA=uo();VA.startListening({actionCreator:or,effect:(t,a)=>{if(t.payload.handler!=null){var r=a.getState(),n={activeCoordinate:EF(r),activeDataKey:kF(r),activeIndex:xl(r),activeLabel:BC(r),activeTooltipIndex:xl(r),isTooltipActive:TF(r)};t.payload.handler(n,t.payload.reactEvent)}}});var xX=Z([Ol],t=>t.tooltipItemPayloads),hX=Z([xX,No,(t,a,r)=>a,(t,a,r)=>r],(t,a,r,n)=>{var l=t.find(u=>u.settings.dataKey===n);if(l!=null){var{positions:c}=l;if(c!=null){var d=a(c,r);return d}}}),GA=gr("touchMove"),KA=uo();KA.startListening({actionCreator:GA,effect:(t,a)=>{var r=t.payload;if(!(r.touches==null||r.touches.length===0)){var n=a.getState(),l=Wy(n,n.tooltip.settings.shared);if(l==="axis"){var c=yv(n,vv({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));c?.activeIndex!=null&&a.dispatch(AC({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(l==="item"){var d,u=r.touches[0];if(document.elementFromPoint==null)return;var x=document.elementFromPoint(u.clientX,u.clientY);if(!x||!x.getAttribute)return;var f=x.getAttribute(j3),h=(d=x.getAttribute(N3))!==null&&d!==void 0?d:void 0,p=hX(a.getState(),f,h);a.dispatch(_C({activeDataKey:h,activeIndex:f,activeCoordinate:p}))}}}});var fX=G_({brush:tK,cartesianAxis:LG,chartData:Eq,errorBars:KG,graphicalItems:GV,layout:Dz,legend:_R,options:_q,polarAxis:rV,polarOptions:mX,referenceElements:cK,rootProps:oX,tooltip:YU,zIndex:xq}),pX=function(a){return nz({reducer:fX,preloadedState:a,middleware:r=>r({serializableCheck:!1}).concat([BA.middleware,$A.middleware,bv.middleware,VA.middleware,KA.middleware]),enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(n3({type:"raf"}))},devTools:ci.devToolsEnabled})};function YA(t){var{preloadedState:a,children:r,reduxStoreName:n}=t,l=Ea(),c=v.useRef(null);if(l)return r;c.current==null&&(c.current=pX(a));var d=Fg;return v.createElement(lX,{context:d,store:c.current},r)}function XA(t){var{layout:a,margin:r}=t,n=ft(),l=Ea();return v.useEffect(()=>{l||(n(Ez(a)),n(Oz(r)))},[n,l,a,r]),null}function WA(t){var a=ft();return v.useEffect(()=>{a(dX(t))},[a,t]),null}function tS(t){var{zIndex:a,isPanorama:r}=t,n=r?"recharts-zindex-panorama-":"recharts-zindex-",l=bA("".concat(n).concat(a)),c=ft();return v.useLayoutEffect(()=>(c(uq({zIndex:a,elementId:l,isPanorama:r})),()=>{c(mq({zIndex:a,isPanorama:r}))}),[c,a,l,r]),v.createElement("g",{id:l})}function aS(t){var{children:a,isPanorama:r}=t,n=Ne(tq);if(!n||n.length===0)return a;var l=n.filter(d=>d<0),c=n.filter(d=>d>0);return v.createElement(v.Fragment,null,l.map(d=>v.createElement(tS,{key:d,zIndex:d,isPanorama:r})),a,c.map(d=>v.createElement(tS,{key:d,zIndex:d,isPanorama:r})))}var gX=["children"];function yX(t,a){if(t==null)return{};var r,n,l=vX(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(n=0;n<c.length;n++)r=c[n],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(l[r]=t[r])}return l}function vX(t,a){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(a.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function dm(){return dm=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dm.apply(null,arguments)}var bX={width:"100%",height:"100%",display:"block"},jX=v.forwardRef((t,a)=>{var r=O3(),n=E3(),l=P3();if(!Vr(r)||!Vr(n))return null;var{children:c,otherAttributes:d,title:u,desc:x}=t,f,h;return d!=null&&(typeof d.tabIndex=="number"?f=d.tabIndex:f=l?0:void 0,typeof d.role=="string"?h=d.role:h=l?"application":void 0),v.createElement(c_,dm({},d,{title:u,desc:x,role:h,tabIndex:f,width:r,height:n,style:bX,ref:a}),c)}),NX=t=>{var{children:a}=t,r=Ne(Rm);if(!r)return null;var{width:n,height:l,y:c,x:d}=r;return v.createElement(c_,{width:n,height:l,x:d,y:c},a)},rS=v.forwardRef((t,a)=>{var{children:r}=t,n=yX(t,gX),l=Ea();return l?v.createElement(NX,null,v.createElement(aS,{isPanorama:!0},r)):v.createElement(jX,dm({ref:a},n),v.createElement(aS,{isPanorama:!1},r))});function wX(){var t=ft(),[a,r]=v.useState(null),n=Ne(Yz);return v.useEffect(()=>{if(a!=null){var l=a.getBoundingClientRect(),c=l.width/a.offsetWidth;Ht(c)&&c!==n&&t(Mz(c))}},[a,t,n]),r}function nS(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,n)}return r}function SX(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?nS(Object(r),!0).forEach(function(n){_X(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _X(t,a,r){return(a=CX(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function CX(t){var a=AX(t,"string");return typeof a=="symbol"?a:a+""}function AX(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function ii(){return ii=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ii.apply(null,arguments)}var kX=()=>(Bq(),null);function um(t){if(typeof t=="number")return t;if(typeof t=="string"){var a=parseFloat(t);if(!Number.isNaN(a))return a}return 0}var OX=v.forwardRef((t,a)=>{var r,n,l=v.useRef(null),[c,d]=v.useState({containerWidth:um((r=t.style)===null||r===void 0?void 0:r.width),containerHeight:um((n=t.style)===null||n===void 0?void 0:n.height)}),u=v.useCallback((f,h)=>{d(p=>{var y=Math.round(f),j=Math.round(h);return p.containerWidth===y&&p.containerHeight===j?p:{containerWidth:y,containerHeight:j}})},[]),x=v.useCallback(f=>{if(typeof a=="function"&&a(f),f!=null&&typeof ResizeObserver<"u"){var{width:h,height:p}=f.getBoundingClientRect();u(h,p);var y=w=>{var{width:S,height:g}=w[0].contentRect;u(S,g)},j=new ResizeObserver(y);j.observe(f),l.current=j}},[a,u]);return v.useEffect(()=>()=>{var f=l.current;f?.disconnect()},[u]),v.createElement(v.Fragment,null,v.createElement(Bm,{width:c.containerWidth,height:c.containerHeight}),v.createElement("div",ii({ref:x},t)))}),EX=v.forwardRef((t,a)=>{var{width:r,height:n}=t,[l,c]=v.useState({containerWidth:um(r),containerHeight:um(n)}),d=v.useCallback((x,f)=>{c(h=>{var p=Math.round(x),y=Math.round(f);return h.containerWidth===p&&h.containerHeight===y?h:{containerWidth:p,containerHeight:y}})},[]),u=v.useCallback(x=>{if(typeof a=="function"&&a(x),x!=null){var{width:f,height:h}=x.getBoundingClientRect();d(f,h)}},[a,d]);return v.createElement(v.Fragment,null,v.createElement(Bm,{width:l.containerWidth,height:l.containerHeight}),v.createElement("div",ii({ref:u},t)))}),TX=v.forwardRef((t,a)=>{var{width:r,height:n}=t;return v.createElement(v.Fragment,null,v.createElement(Bm,{width:r,height:n}),v.createElement("div",ii({ref:a},t)))}),MX=v.forwardRef((t,a)=>{var{width:r,height:n}=t;return wn(r)||wn(n)?v.createElement(EX,ii({},t,{ref:a})):v.createElement(TX,ii({},t,{ref:a}))});function DX(t){return t===!0?OX:MX}var PX=v.forwardRef((t,a)=>{var{children:r,className:n,height:l,onClick:c,onContextMenu:d,onDoubleClick:u,onMouseDown:x,onMouseEnter:f,onMouseLeave:h,onMouseMove:p,onMouseUp:y,onTouchEnd:j,onTouchMove:w,onTouchStart:S,style:g,width:_,responsive:O,dispatchTouchEvents:C=!0}=t,k=v.useRef(null),E=ft(),[T,D]=v.useState(null),[P,R]=v.useState(null),L=wX(),q=Yg(),F=q?.width>0?q.width:_,se=q?.height>0?q.height:l,ce=v.useCallback(ee=>{L(ee),typeof a=="function"&&a(ee),D(ee),R(ee),ee!=null&&(k.current=ee)},[L,a,D,R]),ue=v.useCallback(ee=>{E(IA(ee)),E(or({handler:c,reactEvent:ee}))},[E,c]),H=v.useCallback(ee=>{E(pg(ee)),E(or({handler:f,reactEvent:ee}))},[E,f]),z=v.useCallback(ee=>{E(CC()),E(or({handler:h,reactEvent:ee}))},[E,h]),$=v.useCallback(ee=>{E(pg(ee)),E(or({handler:p,reactEvent:ee}))},[E,p]),re=v.useCallback(()=>{E(HA())},[E]),te=v.useCallback(ee=>{E(qA(ee.key))},[E]),I=v.useCallback(ee=>{E(or({handler:d,reactEvent:ee}))},[E,d]),K=v.useCallback(ee=>{E(or({handler:u,reactEvent:ee}))},[E,u]),G=v.useCallback(ee=>{E(or({handler:x,reactEvent:ee}))},[E,x]),ne=v.useCallback(ee=>{E(or({handler:y,reactEvent:ee}))},[E,y]),he=v.useCallback(ee=>{E(or({handler:S,reactEvent:ee}))},[E,S]),me=v.useCallback(ee=>{C&&E(GA(ee)),E(or({handler:w,reactEvent:ee}))},[E,C,w]),be=v.useCallback(ee=>{E(or({handler:j,reactEvent:ee}))},[E,j]),Ge=DX(O);return v.createElement(KC.Provider,{value:T},v.createElement(qM.Provider,{value:P},v.createElement(Ge,{width:F??g?.width,height:se??g?.height,className:Ke("recharts-wrapper",n),style:SX({position:"relative",cursor:"default",width:F,height:se},g),onClick:ue,onContextMenu:I,onDoubleClick:K,onFocus:re,onKeyDown:te,onMouseDown:G,onMouseEnter:H,onMouseLeave:z,onMouseMove:$,onMouseUp:ne,onTouchEnd:be,onTouchMove:me,onTouchStart:he,ref:ce},v.createElement(kX,null),r)))}),zX=["width","height","responsive","children","className","style","compact","title","desc"];function RX(t,a){if(t==null)return{};var r,n,l=LX(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(n=0;n<c.length;n++)r=c[n],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(l[r]=t[r])}return l}function LX(t,a){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(a.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var ZA=v.forwardRef((t,a)=>{var{width:r,height:n,responsive:l,children:c,className:d,style:u,compact:x,title:f,desc:h}=t,p=RX(t,zX),y=pr(p);return x?v.createElement(v.Fragment,null,v.createElement(Bm,{width:r,height:n}),v.createElement(rS,{otherAttributes:y,title:f,desc:h},c)):v.createElement(PX,{className:d,style:u,width:r,height:n,responsive:l??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},v.createElement(rS,{otherAttributes:y,title:f,desc:h,ref:a},v.createElement(dK,null,c)))});function gg(){return gg=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gg.apply(null,arguments)}var IX={top:5,right:5,bottom:5,left:5},BX={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:IX,reverseStackOrder:!1,syncMethod:"index",responsive:!1},$X=v.forwardRef(function(a,r){var n,l=ra(a.categoricalChartProps,BX),{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:x,categoricalChartProps:f}=a,h={chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:x,eventEmitter:void 0};return v.createElement(YA,{preloadedState:{options:h},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:c},v.createElement(AA,{chartData:f.data}),v.createElement(XA,{layout:l.layout,margin:l.margin}),v.createElement(WA,{baseValue:l.baseValue,accessibilityLayer:l.accessibilityLayer,barCategoryGap:l.barCategoryGap,maxBarSize:l.maxBarSize,stackOffset:l.stackOffset,barGap:l.barGap,barSize:l.barSize,syncId:l.syncId,syncMethod:l.syncMethod,className:l.className}),v.createElement(ZA,gg({},l,{ref:r})))}),UX=["axis"],QA=v.forwardRef((t,a)=>v.createElement($X,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:UX,tooltipPayloadSearcher:YC,categoricalChartProps:t,ref:a}));function FX(t){var a=ft();return v.useEffect(()=>{a(uX(t))},[a,t]),null}var qX=["layout"];function yg(){return yg=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yg.apply(null,arguments)}function HX(t,a){if(t==null)return{};var r,n,l=VX(t,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(n=0;n<c.length;n++)r=c[n],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(l[r]=t[r])}return l}function VX(t,a){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(a.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var GX={top:5,right:5,bottom:5,left:5},KX={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:GX,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},YX=v.forwardRef(function(a,r){var n,l=ra(a.categoricalChartProps,KX),{layout:c}=l,d=HX(l,qX),{chartName:u,defaultTooltipEventType:x,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=a,p={chartName:u,defaultTooltipEventType:x,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return v.createElement(YA,{preloadedState:{options:p},reduxStoreName:(n=l.id)!==null&&n!==void 0?n:u},v.createElement(AA,{chartData:l.data}),v.createElement(XA,{layout:c,margin:l.margin}),v.createElement(WA,{baseValue:void 0,accessibilityLayer:l.accessibilityLayer,barCategoryGap:l.barCategoryGap,maxBarSize:l.maxBarSize,stackOffset:l.stackOffset,barGap:l.barGap,barSize:l.barSize,syncId:l.syncId,syncMethod:l.syncMethod,className:l.className}),v.createElement(FX,{cx:l.cx,cy:l.cy,startAngle:l.startAngle,endAngle:l.endAngle,innerRadius:l.innerRadius,outerRadius:l.outerRadius}),v.createElement(ZA,yg({},d,{ref:r})))}),XX=["item"],WX={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},ZX=v.forwardRef((t,a)=>{var r=ra(t,WX);return v.createElement(YX,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:XX,tooltipPayloadSearcher:YC,categoricalChartProps:r,ref:a})});const QX=[{name:"Panou Control",path:"/dashboard",icon:a_},{name:"Contabilitate",path:"/accounting",icon:Ic,children:[{name:"Facturi",path:"/invoices",icon:ot},{name:"Chitane",path:"/bills",icon:e_},{name:"Cheltuieli",path:"/expenses",icon:wp},{name:"Rapoarte",path:"/reports",icon:$e}]},{name:"Operaiuni",path:"/operations",icon:gt,children:[{name:"Inventar",path:"/inventory",icon:gt},{name:"Comenzi Achiziie",path:"/purchase-orders",icon:xu}]},{name:"Vnzri & Clieni",path:"/sales",icon:Fr,children:[{name:"CRM",path:"/crm",icon:Fr},{name:"Contacte",path:"/contacts",icon:Va}]},{name:"Management",path:"/management",icon:e2,children:[{name:"Proiecte",path:"/projects",icon:e2},{name:"Pontaj Timp",path:"/time-tracking",icon:hr}]},{name:"Resurse Umane",path:"/hr",icon:Va,children:[{name:"Stat de Plat",path:"/dashboard/payroll",icon:da},{name:"Calendar Fiscal",path:"/dashboard/fiscal-calendar",icon:mt}]},{name:"Analize",path:"/analysis",icon:mr,children:[{name:"Analize & BI",path:"/analytics",icon:mr},{name:"Analize AI",path:"/insights",icon:mu}]},{name:"Asisten AI",path:"/ai-assistance",icon:Sa,children:[{name:"Consultant Business",path:"/business-consultant",icon:Sa},{name:"Legislaie Fiscal",path:"/fiscal-law",icon:Sp},{name:"Arbori de Decizie",path:"/decision-trees",icon:t2}]},{name:"Setri",path:"/settings",icon:Js,children:[{name:"Setri Generale",path:"/settings",icon:Js},{name:"Categorii Cheltuieli",path:"/settings/categories",icon:t2}]},{name:"Tutoriale & Ghiduri",path:"/tutorials",icon:dr},{name:"Context Personal",path:"/personal-context",icon:jp}],JX=[{name:"Actualizri Arbori",path:"/admin/decision-tree-updates",icon:Tg}],eW=({isOpen:t=!0,onClose:a})=>{const r=Kr(),{logout:n,user:l}=Mt(),[c,d]=v.useState(["Contabilitate"]),u=()=>{a&&a()},x=f=>{d(h=>h.includes(f)?h.filter(p=>p!==f):[...h,f])};return e.jsxs(e.Fragment,{children:[t&&a&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:a}),e.jsxs("div",{className:`
        fixed lg:static inset-y-0 left-0 z-50
        w-64 bg-white border-r border-gray-200 h-screen flex flex-col
        transform transition-transform duration-300 ease-in-out
        ${t?"translate-x-0":"-translate-x-full lg:translate-x-0"}
      `,children:[a&&e.jsx("button",{onClick:a,className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-gray-600 lg:hidden",children:e.jsx(fr,{className:"w-6 h-6"})}),e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs(ge,{to:"/dashboard",className:"flex items-center gap-2",onClick:u,children:[e.jsx("div",{className:"w-10 h-10 bg-primary-600 rounded-lg flex items-center justify-center",children:e.jsx(a_,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-bold text-lg text-gray-900",children:"DocumentIulia"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Contabilitate AI"})]})]})}),e.jsxs("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:[QX.map(f=>{const h=f.icon,p=f.children&&f.children.length>0,y=c.includes(f.name),j=r.pathname===f.path||f.path==="/inventory"&&r.pathname.startsWith("/inventory")||f.path==="/crm"&&r.pathname.startsWith("/crm")||f.path==="/purchase-orders"&&r.pathname.startsWith("/purchase-orders")||f.path==="/projects"&&r.pathname.startsWith("/projects")||f.path==="/time-tracking"&&r.pathname.startsWith("/time")||f.path==="/analytics"&&r.pathname.startsWith("/analytics")||f.path==="/accounting"&&r.pathname.startsWith("/accounting")||f.path==="/hr"&&r.pathname.startsWith("/dashboard/payroll")||f.path==="/hr"&&r.pathname.startsWith("/dashboard/fiscal-calendar");if(p){const w=y?jm:jl;return e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>x(f.name),className:`flex items-center justify-between w-full px-4 py-3 rounded-lg transition-colors ${j?"bg-primary-50 text-primary-700 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(h,{className:`w-5 h-5 ${j?"text-primary-700":"text-gray-400"}`}),e.jsx("span",{children:f.name})]}),e.jsx(w,{className:"w-4 h-4 text-gray-400"})]}),y&&e.jsx("div",{className:"ml-6 mt-1 space-y-1",children:f.children?.map(S=>{const g=S.icon,_=r.pathname===S.path;return e.jsxs(ge,{to:S.path,onClick:u,className:`flex items-center gap-3 px-4 py-2 rounded-lg transition-colors text-sm ${_?"bg-primary-50 text-primary-700 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx(g,{className:`w-4 h-4 ${_?"text-primary-700":"text-gray-400"}`}),e.jsx("span",{children:S.name})]},S.path)})})]},f.path)}return e.jsxs(ge,{to:f.path,onClick:u,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${j?"bg-primary-50 text-primary-700 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(h,{className:`w-5 h-5 ${j?"text-primary-700":"text-gray-400"}`}),e.jsx("span",{children:f.name})]},f.path)}),l?.role==="admin"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"pt-4 mt-4 border-t border-gray-200",children:[e.jsx("p",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Administrare"}),JX.map(f=>{const h=f.icon,p=r.pathname===f.path;return e.jsxs(ge,{to:f.path,onClick:u,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${p?"bg-orange-50 text-orange-700 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(h,{className:`w-5 h-5 ${p?"text-orange-700":"text-gray-400"}`}),e.jsx("span",{children:f.name})]},f.path)})]})})]}),e.jsxs("div",{className:"p-4 border-t border-gray-200",children:[e.jsxs("div",{className:"mb-3 px-4 py-2 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:l?.name}),e.jsx("p",{className:"text-xs text-gray-500",children:l?.email})]}),e.jsxs(ge,{to:"/settings",onClick:u,className:"flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors mb-2",children:[e.jsx(Js,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"text-sm",children:"Setri"})]}),e.jsxs("button",{onClick:()=>{n(),u()},className:"flex items-center gap-3 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors w-full",children:[e.jsx(P7,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:"Deconectare"})]})]})]})]})},Ve=({children:t})=>{const[a,r]=v.useState(!1);return e.jsxs("div",{className:"flex h-screen bg-gray-50",children:[e.jsx(eW,{isOpen:a,onClose:()=>r(!1)}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsxs("header",{className:"lg:hidden bg-white border-b border-gray-200 px-4 py-3 flex items-center gap-3",children:[e.jsx("button",{onClick:()=>r(!0),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:e.jsx($7,{className:"w-6 h-6"})}),e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"DocumentIulia"})]}),e.jsx("main",{className:"flex-1 overflow-y-auto",children:e.jsx("div",{className:"max-w-7xl mx-auto p-4 sm:p-6",children:t})})]})]})},tW=()=>{const[t,a]=v.useState(null),[r,n]=v.useState([]),[l,c]=v.useState([]),[d,u]=v.useState(!0);v.useEffect(()=>{x()},[]);const x=async()=>{try{const[p,y,j]=await Promise.all([D9.getStats(),bp.getCashFlow(),du.list()]);a(p),n(y),c(j.filter(w=>!w.dismissed).slice(0,3))}catch(p){console.error("Failed to load dashboard data:",p)}finally{u(!1)}};if(d)return e.jsx(Ve,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})})});const f=[{title:"Total Revenue",value:`$${t?.total_revenue?.toLocaleString()||0}`,icon:da,trend:"+12.5%",positive:!0},{title:"Net Profit",value:`$${t?.net_profit?.toLocaleString()||0}`,icon:$e,trend:"+8.2%",positive:!0},{title:"Outstanding Invoices",value:t?.outstanding_invoices||0,icon:ot,trend:`${t?.overdue_invoices||0} overdue`,positive:!1},{title:"Cash Balance",value:`$${t?.cash_balance?.toLocaleString()||0}`,icon:$e,trend:"+5.8%",positive:!0}],h=[{name:"Salaries",value:45e3,color:"#3b82f6"},{name:"Marketing",value:12e3,color:"#8b5cf6"},{name:"Operations",value:8e3,color:"#ec4899"},{name:"Other",value:5e3,color:"#6b7280"}];return e.jsx(Ve,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Bine ai revenit! Iat ce se ntmpl cu afacerea ta."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:f.map((p,y)=>{const j=p.icon;return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:p.title}),e.jsx("div",{className:"p-2 bg-primary-50 rounded-lg",children:e.jsx(j,{className:"w-5 h-5 text-primary-600"})})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-2",children:p.value}),e.jsxs("div",{className:"flex items-center gap-1",children:[p.positive?e.jsx($e,{className:"w-4 h-4 text-green-600"}):e.jsx(qt,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{className:`text-sm ${p.positive?"text-green-600":"text-red-600"}`,children:p.trend})]})]},y)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Cash Flow Forecast (12 Months)"}),e.jsx(Fp,{width:"100%",height:300,children:e.jsxs(QA,{data:r,children:[e.jsx(hv,{strokeDasharray:"3 3"}),e.jsx(pv,{dataKey:"month"}),e.jsx(gv,{}),e.jsx(og,{formatter:p=>`$${p.toLocaleString()}`}),e.jsx(Zs,{type:"monotone",dataKey:"projected_income",stroke:"#3b82f6",strokeWidth:2,name:"Income"}),e.jsx(Zs,{type:"monotone",dataKey:"projected_expenses",stroke:"#ef4444",strokeWidth:2,name:"Expenses"}),e.jsx(Zs,{type:"monotone",dataKey:"net_cash_flow",stroke:"#10b981",strokeWidth:2,name:"Net"})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Expense Breakdown"}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(Fp,{width:"100%",height:300,children:e.jsxs(ZX,{children:[e.jsx(wA,{data:h,cx:"50%",cy:"50%",labelLine:!1,label:({name:p,percent:y})=>`${p} ${((y||0)*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:h.map((p,y)=>e.jsx(nx,{fill:p.color},`cell-${y}`))}),e.jsx(og,{formatter:p=>`$${p.toLocaleString()}`})]})})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card bg-gradient-to-br from-indigo-50 to-white border-2 border-indigo-100",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-1 flex items-center gap-2",children:[e.jsx(F7,{className:"w-5 h-5 text-indigo-600"}),"Forum Comunitate"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Pune ntrebri i primete rspunsuri de la experi"})]}),e.jsxs(ge,{to:"/forum",className:"text-sm text-indigo-600 hover:text-indigo-700 font-medium flex items-center gap-1",children:["Vezi tot",e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(ge,{to:"/forum/category/legislation-tax",className:"flex items-center gap-3 p-3 rounded-lg hover:bg-white transition-colors",children:[e.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-lg",children:""})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Legislaie & TVA"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Discuii despre legi fiscale"})]})]}),e.jsxs(ge,{to:"/forum/category/accounting-basics",className:"flex items-center gap-3 p-3 rounded-lg hover:bg-white transition-colors",children:[e.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-lg",children:""})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Baz Contabil"}),e.jsx("div",{className:"text-sm text-gray-500",children:"ntrebri pentru nceptori"})]})]}),e.jsx(ge,{to:"/forum/new-thread",className:"block w-full text-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors mt-4",children:"Pune o ntrebare"})]})]}),e.jsxs("div",{className:"card bg-gradient-to-br from-purple-50 to-white border-2 border-purple-100",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-1 flex items-center gap-2",children:[e.jsx(dr,{className:"w-5 h-5 text-purple-600"}),"Cursuri Finance"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"40 de lecii interactive despre contabilitate"})]}),e.jsxs(ge,{to:"/courses",className:"text-sm text-purple-600 hover:text-purple-700 font-medium flex items-center gap-1",children:["Vezi tot",e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-white",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(H9,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Progresul tu"}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:e.jsx("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:"35%"}})}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"35% complet"})]})]}),e.jsxs(ge,{to:"/courses/romanian-accounting-basics",className:"flex items-center gap-3 p-3 rounded-lg hover:bg-white transition-colors",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-lg",children:""})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Bazele Contabilitii"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Modulul 1  8 lecii"})]})]}),e.jsx(ge,{to:"/my-courses",className:"block w-full text-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors mt-4",children:"Continu nvarea"})]})]})]}),l.length>0&&e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"AI Insights & Recommendations"}),e.jsx("div",{className:"space-y-4",children:l.map(p=>e.jsx("div",{className:"p-4 border border-gray-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${p.priority==="critical"?"bg-red-100":p.priority==="high"?"bg-orange-100":p.priority==="medium"?"bg-yellow-100":"bg-blue-100"}`,children:e.jsx(qt,{className:`w-5 h-5 ${p.priority==="critical"?"text-red-600":p.priority==="high"?"text-orange-600":p.priority==="medium"?"text-yellow-600":"text-blue-600"}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:p.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:p.description}),e.jsx("p",{className:"text-sm text-primary-600 mt-2",children:p.recommendation})]})]})},p.id))})]})]})})},aW=()=>{const[t,a]=v.useState([]),[r,n]=v.useState(!0),[l,c]=v.useState(""),[d,u]=v.useState("all");v.useEffect(()=>{x()},[]);const x=async()=>{try{const j=await Vs.list();a(j)}catch(j){console.error("Failed to load invoices:",j)}finally{n(!1)}},f=async j=>{if(window.confirm("Eti sigur c vrei s tergi aceast factur?"))try{await Vs.delete(j),a(t.filter(w=>w.id!==j))}catch(w){console.error("Failed to delete invoice:",w),alert("tergerea facturii a euat")}},h=async j=>{try{await Vs.sendEmail(j),alert("Factur trimis cu succes!")}catch(w){console.error("Failed to send invoice:",w),alert("Trimiterea facturii a euat")}},p=t.filter(j=>{const w=j.invoice_number.toLowerCase().includes(l.toLowerCase())||j.customer_name?.toLowerCase().includes(l.toLowerCase()),S=d==="all"||j.status===d;return w&&S}),y=j=>{switch(j){case"paid":return"bg-green-100 text-green-800";case"sent":return"bg-blue-100 text-blue-800";case"overdue":return"bg-red-100 text-red-800";case"partial":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return r?e.jsx(Ve,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})})}):e.jsx(Ve,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Facturi"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Gestioneaz facturile i plile tale"})]}),e.jsxs(ge,{to:"/invoices/new",className:"btn-primary flex items-center gap-2",children:[e.jsx(ua,{className:"w-5 h-5"}),"Factur Nou"]})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Yr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Caut facturi...",value:l,onChange:j=>c(j.target.value),className:"input pl-10"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(sl,{className:"w-5 h-5 text-gray-400"}),e.jsxs("select",{value:d,onChange:j=>u(j.target.value),className:"input",children:[e.jsx("option",{value:"all",children:"Toate Statusurile"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"sent",children:"Trimis"}),e.jsx("option",{value:"partial",children:"Parial"}),e.jsx("option",{value:"paid",children:"Pltit"}),e.jsx("option",{value:"overdue",children:"Restant"})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{label:"Total",value:t.length,color:"text-gray-900"},{label:"Pltite",value:t.filter(j=>j.status==="paid").length,color:"text-green-600"},{label:"n Ateptare",value:t.filter(j=>j.status==="sent").length,color:"text-blue-600"},{label:"Restante",value:t.filter(j=>j.status==="overdue").length,color:"text-red-600"}].map((j,w)=>e.jsxs("div",{className:"card",children:[e.jsx("p",{className:"text-sm text-gray-600",children:j.label}),e.jsx("p",{className:`text-2xl font-bold ${j.color} mt-1`,children:j.value})]},w))}),e.jsx("div",{className:"card overflow-hidden p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Factur #"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data Emiterii"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data Scadenei"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sum"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aciuni"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:7,className:"px-6 py-12 text-center",children:[e.jsx(ot,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"Nu au fost gsite facturi"}),e.jsx(ge,{to:"/invoices/new",className:"text-primary-600 hover:text-primary-700 text-sm mt-2 inline-block",children:"Creeaz prima ta factur"})]})}):p.map(j=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ot,{className:"w-5 h-5 text-gray-400 mr-2"}),e.jsx("span",{className:"font-medium text-gray-900",children:j.invoice_number})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-gray-900",children:j.customer_name||"N/A"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(j.invoice_date).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(j.due_date).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:"font-semibold text-gray-900",children:[j.currency||"RON"," ",j.total_amount.toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${y(j.status)}`,children:j.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>alert("Previzualizarea nu este nc implementat"),className:"text-gray-600 hover:text-gray-900",title:"Vizualizare",children:e.jsx(us,{className:"w-4 h-4"})}),e.jsx(ge,{to:`/invoices/${j.id}/edit`,className:"text-primary-600 hover:text-primary-900",title:"Editeaz",children:e.jsx(Ar,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>h(j.id),className:"text-blue-600 hover:text-blue-900",title:"Trimite Email",children:e.jsx(Nm,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>f(j.id),className:"text-red-600 hover:text-red-900",title:"terge",children:e.jsx(vr,{className:"w-4 h-4"})})]})})]},j.id))})]})})})]})})},sS=()=>{const{id:t}=hs(),a=nt(),r=!!t,[n,l]=v.useState(!1),[c,d]=v.useState([]),[u,x]=v.useState({customer_id:0,invoice_date:new Date().toISOString().split("T")[0],due_date:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],status:"draft",notes:""}),[f,h]=v.useState([{description:"",quantity:1,unit_price:0,tax_rate:0,amount:0}]);v.useEffect(()=>{p(),r&&y()},[t]);const p=async()=>{try{const T=await bu.list("customer");d(T)}catch(T){console.error("Failed to load customers:",T)}},y=async()=>{if(t)try{const D=(await Vs.list()).find(P=>P.id===parseInt(t));D&&(x({customer_id:D.customer_id,invoice_date:D.invoice_date,due_date:D.due_date,status:D.status,notes:""}),D.line_items&&D.line_items.length>0&&h(D.line_items))}catch(T){console.error("Failed to load invoice:",T)}},j=(T,D,P)=>{const R=T*D,L=R*(P/100);return R+L},w=(T,D,P)=>{const R=[...f];R[T]={...R[T],[D]:P},(D==="quantity"||D==="unit_price"||D==="tax_rate")&&(R[T].amount=j(R[T].quantity,R[T].unit_price,R[T].tax_rate)),h(R)},S=()=>{h([...f,{description:"",quantity:1,unit_price:0,tax_rate:0,amount:0}])},g=T=>{f.length>1&&h(f.filter((D,P)=>P!==T))},_=()=>{const T=f.reduce((R,L)=>{const q=L.quantity*L.unit_price;return R+q},0),D=f.reduce((R,L)=>{const F=L.quantity*L.unit_price*(L.tax_rate/100);return R+F},0),P=T+D;return{subtotal:T,taxAmount:D,total:P}},O=async T=>{if(T.preventDefault(),u.customer_id===0){alert("Please select a customer");return}const{subtotal:D,taxAmount:P,total:R}=_(),L={...u,subtotal:D,tax_amount:P,total:R,line_items:f};l(!0);try{r?(await Vs.update(parseInt(t),L),alert("Invoice updated successfully!")):(await Vs.create(L),alert("Invoice created successfully!")),a("/invoices")}catch(q){console.error("Failed to save invoice:",q),alert("Failed to save invoice")}finally{l(!1)}},{subtotal:C,taxAmount:k,total:E}=_();return e.jsx(Ve,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>a("/invoices"),className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(lo,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r?"Editeaz Factur":"Factur Nou"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Completeaz detaliile facturii"})]})]})}),e.jsx("form",{onSubmit:O,children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Invoice Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer *"}),e.jsxs("select",{value:u.customer_id,onChange:T=>x({...u,customer_id:parseInt(T.target.value)}),className:"input",required:!0,children:[e.jsx("option",{value:0,children:"Select a customer"}),c.map(T=>e.jsx("option",{value:T.id,children:T.display_name},T.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{value:u.status,onChange:T=>x({...u,status:T.target.value}),className:"input",children:[e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"sent",children:"Sent"}),e.jsx("option",{value:"paid",children:"Paid"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Issue Date *"}),e.jsx("input",{type:"date",value:u.invoice_date,onChange:T=>x({...u,invoice_date:T.target.value}),className:"input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date *"}),e.jsx("input",{type:"date",value:u.due_date,onChange:T=>x({...u,due_date:T.target.value}),className:"input",required:!0})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Line Items"}),e.jsxs("button",{type:"button",onClick:S,className:"btn-secondary flex items-center gap-2 text-sm",children:[e.jsx(ua,{className:"w-4 h-4"}),"Add Item"]})]}),e.jsx("div",{className:"space-y-4",children:f.map((T,D)=>e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"grid grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-12 md:col-span-5",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("input",{type:"text",value:T.description,onChange:P=>w(D,"description",P.target.value),className:"input",placeholder:"Item description",required:!0})]}),e.jsxs("div",{className:"col-span-4 md:col-span-2",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Qty"}),e.jsx("input",{type:"number",value:T.quantity,onChange:P=>w(D,"quantity",parseFloat(P.target.value)),className:"input",min:"0",step:"0.01",required:!0})]}),e.jsxs("div",{className:"col-span-4 md:col-span-2",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Price"}),e.jsx("input",{type:"number",value:T.unit_price,onChange:P=>w(D,"unit_price",parseFloat(P.target.value)),className:"input",min:"0",step:"0.01",required:!0})]}),e.jsxs("div",{className:"col-span-3 md:col-span-2",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Tax %"}),e.jsx("input",{type:"number",value:T.tax_rate,onChange:P=>w(D,"tax_rate",parseFloat(P.target.value)),className:"input",min:"0",step:"0.01"})]}),e.jsx("div",{className:"col-span-1 flex items-end justify-center",children:e.jsx("button",{type:"button",onClick:()=>g(D),className:"p-2 text-red-600 hover:bg-red-50 rounded",disabled:f.length===1,children:e.jsx(vr,{className:"w-4 h-4"})})})]}),e.jsxs("div",{className:"mt-2 text-right",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Amount: "}),e.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["$",T.amount.toFixed(2)]})]})]},D))})]}),e.jsxs("div",{className:"card",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),e.jsx("textarea",{value:u.notes,onChange:T=>x({...u,notes:T.target.value}),className:"input",rows:3,placeholder:"Additional notes or payment terms..."})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"card sticky top-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Summary"}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),e.jsxs("span",{className:"font-medium",children:["$",C.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Tax:"}),e.jsxs("span",{className:"font-medium",children:["$",k.toFixed(2)]})]}),e.jsx("div",{className:"pt-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total:"}),e.jsxs("span",{className:"text-lg font-bold text-primary-600",children:["$",E.toFixed(2)]})]})})]}),e.jsx("button",{type:"submit",disabled:n,className:"btn-primary w-full flex items-center justify-center gap-2 disabled:opacity-50",children:n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Qi,{className:"w-5 h-5"}),r?"Update Invoice":"Create Invoice"]})})]})})]})})]})})},rW=()=>{const[t,a]=v.useState([]),[r,n]=v.useState(!0),[l,c]=v.useState(""),[d,u]=v.useState("all");v.useEffect(()=>{x()},[]);const x=async()=>{try{const y=await ZN.list();a(y)}catch(y){console.error("Failed to load bills:",y)}finally{n(!1)}},f=async y=>{if(window.confirm("Eti sigur c vrei s tergi aceast chitan?"))try{await ZN.delete(y),a(t.filter(j=>j.id!==y))}catch(j){console.error("Failed to delete bill:",j),alert("tergerea chitanei a euat")}},h=t.filter(y=>{const j=y.bill_number?.toLowerCase().includes(l.toLowerCase())||y.vendor_name?.toLowerCase().includes(l.toLowerCase()),w=d==="all"||y.status===d;return j&&w}),p=[{value:"all",label:"Toate",color:"bg-gray-100 text-gray-800"},{value:"draft",label:"Draft",color:"bg-gray-100 text-gray-800"},{value:"open",label:"Deschise",color:"bg-yellow-100 text-yellow-800"},{value:"paid",label:"Pltite",color:"bg-green-100 text-green-800"},{value:"overdue",label:"Restante",color:"bg-red-100 text-red-800"}];return r?e.jsx(Ve,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})})}):e.jsx(Ve,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Chitane"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Gestionai chitanele de la furnizori"})]}),e.jsxs("button",{className:"btn-primary flex items-center gap-2",children:[e.jsx(ua,{className:"w-5 h-5"}),"Chitan Nou"]})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Yr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Caut dup numr sau furnizor...",value:l,onChange:y=>c(y.target.value),className:"input pl-10 w-full"})]})}),e.jsx("div",{className:"flex gap-2 overflow-x-auto",children:p.map(y=>e.jsx("button",{onClick:()=>u(y.value),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${d===y.value?"bg-primary-100 text-primary-700 font-medium":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:y.label},y.value))})]})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Numr Chitan"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Furnizor"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Scaden"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pltit"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aciuni"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:8,className:"px-6 py-12 text-center",children:[e.jsx(e_,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Nu au fost gsite chitane"})]})}):h.map(y=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:y.bill_number})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:y.vendor_name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:y.bill_date})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:y.due_date})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[y.total_amount," RON"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-500",children:[y.amount_paid," RON"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${y.status==="paid"?"bg-green-100 text-green-800":y.status==="open"?"bg-yellow-100 text-yellow-800":y.status==="overdue"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:y.status==="paid"?"Pltit":y.status==="open"?"Deschis":y.status==="overdue"?"Restan":y.status==="draft"?"Draft":y.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"text-primary-600 hover:text-primary-900",title:"Vizualizare",children:e.jsx(us,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-blue-600 hover:text-blue-900",title:"Editare",children:e.jsx(Ar,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-green-600 hover:text-green-900",title:"Download PDF",children:e.jsx(Xa,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>f(y.id),className:"text-red-600 hover:text-red-900",title:"tergere",children:e.jsx(vr,{className:"w-4 h-4"})})]})})]},y.id))})]})})}),t.length>0&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Chitane"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:t.length})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total de Pltit"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:[t.reduce((y,j)=>y+parseFloat(j.total_amount||0),0).toFixed(2)," RON"]})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Pltit"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600 mt-2",children:[t.reduce((y,j)=>y+parseFloat(j.amount_paid||0),0).toFixed(2)," RON"]})]})]})]})})},nW=()=>{const[t,a]=v.useState([]),[r,n]=v.useState([]),[l,c]=v.useState(null),[d,u]=v.useState(!0),[x,f]=v.useState(!1),[h,p]=v.useState("all");v.useEffect(()=>{y()},[]);const y=async()=>{try{const[C,k,E]=await Promise.all([du.list(),bp.getCashFlow(),bp.getRunway().catch(()=>null)]);a(C.filter(T=>!T.dismissed)),n(k),c(E)}catch(C){console.error("Failed to load insights:",C)}finally{u(!1)}},j=async()=>{f(!0);try{const C=await du.generate();a(C.filter(k=>!k.dismissed))}catch(C){console.error("Failed to generate insights:",C),alert("Failed to generate insights")}finally{f(!1)}},w=async C=>{try{await du.dismiss(C),a(t.filter(k=>k.id!==C))}catch(k){console.error("Failed to dismiss insight:",k)}},S=C=>{switch(C){case"critical":return e.jsx(qt,{className:"w-6 h-6 text-red-600"});case"high":return e.jsx(qt,{className:"w-6 h-6 text-orange-600"});case"medium":return e.jsx(mu,{className:"w-6 h-6 text-yellow-600"});default:return e.jsx(mu,{className:"w-6 h-6 text-blue-600"})}},g=C=>{switch(C){case"critical":return"border-red-200 bg-red-50";case"high":return"border-orange-200 bg-orange-50";case"medium":return"border-yellow-200 bg-yellow-50";default:return"border-blue-200 bg-blue-50"}},_=t.filter(C=>h==="all"||C.priority===h),O={critical:t.filter(C=>C.priority==="critical").length,high:t.filter(C=>C.priority==="high").length,medium:t.filter(C=>C.priority==="medium").length,low:t.filter(C=>C.priority==="low").length};return d?e.jsx(Ve,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})})}):e.jsx(Ve,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"AI Insights & Recommendations"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Powered by AI to help you make better business decisions"})]}),e.jsxs("button",{onClick:j,disabled:x,className:"btn-primary flex items-center gap-2 disabled:opacity-50",children:[e.jsx(wu,{className:`w-5 h-5 ${x?"animate-spin":""}`}),x?"Generating...":"Generate New Insights"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{label:"Critical",value:O.critical,color:"text-red-600",bg:"bg-red-100"},{label:"High",value:O.high,color:"text-orange-600",bg:"bg-orange-100"},{label:"Medium",value:O.medium,color:"text-yellow-600",bg:"bg-yellow-100"},{label:"Low",value:O.low,color:"text-blue-600",bg:"bg-blue-100"}].map((C,k)=>e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[C.label," Priority"]}),e.jsx("p",{className:`text-2xl font-bold ${C.color} mt-1`,children:C.value})]}),e.jsx("div",{className:`p-3 ${C.bg} rounded-lg`,children:e.jsx(qt,{className:`w-6 h-6 ${C.color}`})})]})},k))}),l&&e.jsx("div",{className:"card bg-gradient-to-r from-blue-500 to-blue-600 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Cash Runway"}),e.jsxs("p",{className:"text-3xl font-bold",children:[l.months," months"]}),e.jsxs("p",{className:"text-blue-100 mt-1",children:["Monthly burn rate: $",l.burn_rate.toLocaleString()]})]}),e.jsx(da,{className:"w-16 h-16 text-blue-200"})]})}),r.length>0&&e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"12-Month Cash Flow Forecast"}),e.jsx(Fp,{width:"100%",height:300,children:e.jsxs(QA,{data:r,children:[e.jsx(hv,{strokeDasharray:"3 3"}),e.jsx(pv,{dataKey:"month"}),e.jsx(gv,{}),e.jsx(og,{formatter:C=>`$${C.toLocaleString()}`}),e.jsx(Zs,{type:"monotone",dataKey:"ending_balance",stroke:"#3b82f6",strokeWidth:3,name:"Balance"}),e.jsx(Zs,{type:"monotone",dataKey:"projected_income",stroke:"#10b981",strokeWidth:2,name:"Income"}),e.jsx(Zs,{type:"monotone",dataKey:"projected_expenses",stroke:"#ef4444",strokeWidth:2,name:"Expenses"})]})})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter by priority:"}),e.jsx("div",{className:"flex gap-2",children:["all","critical","high","medium","low"].map(C=>e.jsx("button",{onClick:()=>p(C),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${h===C?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:C.charAt(0).toUpperCase()+C.slice(1)},C))})]})}),e.jsx("div",{className:"space-y-4",children:_.length===0?e.jsxs("div",{className:"card text-center py-12",children:[e.jsx(mu,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No insights available"}),e.jsx("p",{className:"text-gray-600 mb-4",children:'Click "Generate New Insights" to analyze your financial data'}),e.jsxs("button",{onClick:j,className:"btn-primary",children:[e.jsx(wu,{className:"w-5 h-5 inline mr-2"}),"Generate Insights"]})]}):_.map(C=>e.jsx("div",{className:`card border-2 ${g(C.priority)}`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 p-3 bg-white rounded-lg shadow-sm",children:S(C.priority)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:C.title}),e.jsx("span",{className:"text-xs font-medium text-gray-500",children:new Date(C.created_at).toLocaleDateString()})]}),e.jsx("button",{onClick:()=>w(C.id),className:"p-1 text-gray-400 hover:text-gray-600 rounded",title:"Dismiss",children:e.jsx(fr,{className:"w-5 h-5"})})]}),e.jsx("p",{className:"text-gray-700 mb-3",children:C.description}),e.jsx("div",{className:"bg-white rounded-lg p-4 mb-3 border border-gray-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx($e,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Impact"}),e.jsx("p",{className:"text-sm text-gray-600",children:C.impact})]})]})}),e.jsx("div",{className:"bg-white rounded-lg p-4 border border-primary-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ze,{className:"w-5 h-5 text-primary-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Recommendation"}),e.jsx("p",{className:"text-sm text-gray-700",children:C.recommendation}),C.action_url&&e.jsx("a",{href:C.action_url,className:"text-sm text-primary-600 hover:text-primary-700 font-medium mt-2 inline-block",children:"Take Action "})]})]})})]})]})},C.id))})]})})},sW=()=>{const[t,a]=v.useState([]),[r,n]=v.useState(!0),[l,c]=v.useState(""),[d,u]=v.useState("all"),[x,f]=v.useState(!1);v.useEffect(()=>{h()},[]);const h=async()=>{try{const k=await Rc.list();a(k)}catch(k){console.error("Failed to load expenses:",k)}finally{n(!1)}},p=async k=>{if(window.confirm("Are you sure you want to delete this expense?"))try{await Rc.delete(k),a(t.filter(E=>E.id!==k))}catch(E){console.error("Failed to delete expense:",E),alert("Failed to delete expense")}},y=async k=>{try{await Rc.update(k,{status:"approved"}),a(t.map(E=>E.id===k?{...E,status:"approved"}:E))}catch(E){console.error("Failed to approve expense:",E)}},j=async k=>{try{await Rc.update(k,{status:"rejected"}),a(t.map(E=>E.id===k?{...E,status:"rejected"}:E))}catch(E){console.error("Failed to reject expense:",E)}},w=t.filter(k=>{const E=k.description.toLowerCase().includes(l.toLowerCase())||k.vendor_name?.toLowerCase().includes(l.toLowerCase())||k.category.toLowerCase().includes(l.toLowerCase()),T=d==="all"||k.status===d;return E&&T}),S=k=>{switch(k){case"approved":return e.jsx(ze,{className:"w-5 h-5 text-green-600"});case"rejected":return e.jsx(nl,{className:"w-5 h-5 text-red-600"});default:return e.jsx(hr,{className:"w-5 h-5 text-yellow-600"})}},g=k=>{switch(k){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},_=t.reduce((k,E)=>k+E.amount,0),O=t.filter(k=>k.status==="approved").reduce((k,E)=>k+E.amount,0),C=t.filter(k=>k.status==="pending").reduce((k,E)=>k+E.amount,0);return r?e.jsx(Ve,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})})}):e.jsx(Ve,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Expenses"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Track and manage your business expenses"})]}),e.jsxs("button",{onClick:()=>f(!0),className:"btn-primary flex items-center gap-2",children:[e.jsx(ua,{className:"w-5 h-5"}),"Add Expense"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{label:"Total Expenses",value:`$${_.toLocaleString()}`,color:"text-gray-900"},{label:"Approved",value:`$${O.toLocaleString()}`,color:"text-green-600"},{label:"Pending",value:`$${C.toLocaleString()}`,color:"text-yellow-600"},{label:"Count",value:t.length,color:"text-blue-600"}].map((k,E)=>e.jsxs("div",{className:"card",children:[e.jsx("p",{className:"text-sm text-gray-600",children:k.label}),e.jsx("p",{className:`text-2xl font-bold ${k.color} mt-1`,children:k.value})]},E))}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Yr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search expenses...",value:l,onChange:k=>c(k.target.value),className:"input pl-10"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(sl,{className:"w-5 h-5 text-gray-400"}),e.jsxs("select",{value:d,onChange:k=>u(k.target.value),className:"input",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"})]})]})]})}),e.jsx("div",{className:"card overflow-hidden p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vendor"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:7,className:"px-6 py-12 text-center",children:[e.jsx(wp,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No expenses found"}),e.jsx("button",{onClick:()=>f(!0),className:"text-primary-600 hover:text-primary-700 text-sm mt-2 inline-block",children:"Add your first expense"})]})}):w.map(k=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(k.date).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(wp,{className:"w-5 h-5 text-gray-400 mr-2 flex-shrink-0"}),e.jsx("span",{className:"text-gray-900",children:k.description})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded",children:k.category})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:k.vendor_name||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:"font-semibold text-gray-900",children:["$",k.amount.toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[S(k.status),e.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${g(k.status)}`,children:k.status})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[k.receipt_url&&e.jsx("a",{href:k.receipt_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-900",title:"View Receipt",children:e.jsx(us,{className:"w-4 h-4"})}),k.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>y(k.id),className:"text-green-600 hover:text-green-900",title:"Approve",children:e.jsx(ze,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>j(k.id),className:"text-red-600 hover:text-red-900",title:"Reject",children:e.jsx(nl,{className:"w-4 h-4"})})]}),e.jsx("button",{onClick:()=>p(k.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:e.jsx(vr,{className:"w-4 h-4"})})]})})]},k.id))})]})})}),x&&e.jsx(iW,{onClose:()=>f(!1),onSuccess:()=>{f(!1),h()}})]})})},iW=({onClose:t,onSuccess:a})=>{const[r,n]=v.useState(!1),[l,c]=v.useState({date:new Date().toISOString().split("T")[0],amount:"",category:"",description:"",vendor_name:""}),[d,u]=v.useState(null),x=async f=>{f.preventDefault(),n(!0);try{const h=new FormData;h.append("date",l.date),h.append("amount",l.amount),h.append("category",l.category),h.append("description",l.description),h.append("vendor_name",l.vendor_name),d&&h.append("receipt",d),await Rc.create(h),alert("Expense created successfully!"),a()}catch(h){console.error("Failed to create expense:",h),alert("Failed to create expense")}finally{n(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Add New Expense"}),e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),e.jsx("input",{type:"date",value:l.date,onChange:f=>c({...l,date:f.target.value}),className:"input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount *"}),e.jsx("input",{type:"number",value:l.amount,onChange:f=>c({...l,amount:f.target.value}),className:"input",placeholder:"0.00",step:"0.01",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),e.jsxs("select",{value:l.category,onChange:f=>c({...l,category:f.target.value}),className:"input",required:!0,children:[e.jsx("option",{value:"",children:"Select category"}),e.jsx("option",{value:"Office Supplies",children:"Office Supplies"}),e.jsx("option",{value:"Travel",children:"Travel"}),e.jsx("option",{value:"Meals",children:"Meals"}),e.jsx("option",{value:"Software",children:"Software"}),e.jsx("option",{value:"Marketing",children:"Marketing"}),e.jsx("option",{value:"Utilities",children:"Utilities"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),e.jsx("textarea",{value:l.description,onChange:f=>c({...l,description:f.target.value}),className:"input",rows:3,placeholder:"Expense description",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vendor Name"}),e.jsx("input",{type:"text",value:l.vendor_name,onChange:f=>c({...l,vendor_name:f.target.value}),className:"input",placeholder:"Vendor or merchant name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Receipt (Optional)"}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("label",{className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-500 cursor-pointer transition-colors",children:[e.jsx(Mg,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600",children:d?d.name:"Upload receipt"}),e.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:f=>u(f.target.files?.[0]||null),className:"hidden"})]})})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:t,className:"btn-secondary flex-1",disabled:r,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary flex-1 disabled:opacity-50",disabled:r,children:r?"Creating...":"Create Expense"})]})]})]})})})},lW=()=>{const[t,a]=v.useState(null),r=[{id:"profit-loss",name:"Profit & Loss",description:"Raport de profit i pierdere - Venituri i cheltuieli",icon:$e,color:"bg-green-50 border-green-200 hover:bg-green-100",iconColor:"text-green-600"},{id:"balance-sheet",name:"Bilan",description:"Situaia financiar - Active, Pasive, Capitaluri",icon:mr,color:"bg-blue-50 border-blue-200 hover:bg-blue-100",iconColor:"text-blue-600"},{id:"cash-flow",name:"Cash Flow",description:"Flux de numerar - Intrri i ieiri de bani",icon:$e,color:"bg-purple-50 border-purple-200 hover:bg-purple-100",iconColor:"text-purple-600"},{id:"trial-balance",name:"Balan de Verificare",description:"Sold conturi i verificare echilibru contabil",icon:Ic,color:"bg-orange-50 border-orange-200 hover:bg-orange-100",iconColor:"text-orange-600"},{id:"general-ledger",name:"Registru General",description:"Toate tranzaciile contabile nregistrate",icon:ot,color:"bg-indigo-50 border-indigo-200 hover:bg-indigo-100",iconColor:"text-indigo-600"},{id:"accounts-receivable",name:"Conturi de ncasat",description:"Facturi de ncasat de la clieni",icon:ot,color:"bg-pink-50 border-pink-200 hover:bg-pink-100",iconColor:"text-pink-600"},{id:"accounts-payable",name:"Conturi de Pltit",description:"Facturi de pltit ctre furnizori",icon:ot,color:"bg-yellow-50 border-yellow-200 hover:bg-yellow-100",iconColor:"text-yellow-600"},{id:"tax-summary",name:"Rezumat Taxe",description:"TVA, impozite i contribuii",icon:Ic,color:"bg-red-50 border-red-200 hover:bg-red-100",iconColor:"text-red-600"}],n=[{name:"Export n Excel",icon:Xa,action:"export-excel"},{name:"Export n PDF",icon:Xa,action:"export-pdf"},{name:"Programare Raport",icon:mt,action:"schedule"}];return e.jsx(Ve,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Contabilitate"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Rapoarte i analize contabile complete"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Venituri Luna Curent"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:"0 RON"})]}),e.jsx("div",{className:"p-3 bg-green-50 rounded-lg",children:e.jsx($e,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Cheltuieli Luna Curent"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:"0 RON"})]}),e.jsx("div",{className:"p-3 bg-red-50 rounded-lg",children:e.jsx($e,{className:"w-6 h-6 text-red-600 transform rotate-180"})})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Profit Net"}),e.jsx("p",{className:"text-2xl font-bold text-green-600 mt-1",children:"0 RON"})]}),e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:e.jsx(Ic,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Sold Cash"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:"0 RON"})]}),e.jsx("div",{className:"p-3 bg-purple-50 rounded-lg",children:e.jsx(mr,{className:"w-6 h-6 text-purple-600"})})]})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Rapoarte Disponibile"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map(l=>{const c=l.icon;return e.jsxs("button",{onClick:()=>a(l.id),className:`
                    p-6 border-2 rounded-lg transition-all text-left
                    ${t===l.id?"ring-2 ring-primary-500":""}
                    ${l.color}
                  `,children:[e.jsx(c,{className:`w-8 h-8 ${l.iconColor} mb-3`}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:l.name}),e.jsx("p",{className:"text-sm text-gray-600",children:l.description})]},l.id)})})]}),t&&e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r.find(l=>l.id===t)?.name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r.find(l=>l.id===t)?.description})]}),e.jsx("button",{onClick:()=>a(null),className:"text-gray-400 hover:text-gray-600",children:""})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data nceput"}),e.jsx("input",{type:"date",className:"input w-full",defaultValue:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data Sfrit"}),e.jsx("input",{type:"date",className:"input w-full",defaultValue:new Date().toISOString().split("T")[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Perioada Rapid"}),e.jsxs("select",{className:"input w-full",children:[e.jsx("option",{children:"Luna Curent"}),e.jsx("option",{children:"Trimestru Curent"}),e.jsx("option",{children:"An Curent"}),e.jsx("option",{children:"Luna Trecut"}),e.jsx("option",{children:"Anul Trecut"})]})]})]}),e.jsxs("div",{className:"flex gap-3 border-t border-gray-200 pt-6",children:[e.jsxs("button",{className:"btn-primary flex items-center gap-2",children:[e.jsx(mr,{className:"w-5 h-5"}),"Genereaz Raport"]}),n.map(l=>{const c=l.icon;return e.jsxs("button",{className:"btn-secondary flex items-center gap-2",children:[e.jsx(c,{className:"w-5 h-5"}),l.name]},l.action)})]}),e.jsxs("div",{className:"mt-6 p-8 bg-gray-50 rounded-lg text-center",children:[e.jsx(ot,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:'Apsai "Genereaz Raport" pentru a vizualiza datele'})]})]}),e.jsx("div",{className:"card bg-blue-50 border-blue-200",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(Ic,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Informaii Contabilitate"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Toate rapoartele sunt generate n timp real pe baza datelor din sistem. Putei exporta rapoartele n format Excel sau PDF pentru arhivare sau partajare."}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:" Rapoartele sunt conforme cu standardele IFRS"}),e.jsx("li",{children:" Date actualizate n timp real"}),e.jsx("li",{children:" Export disponibil n multiple formate"}),e.jsx("li",{children:" Posibilitate de programare rapoarte recurente"})]})]})]})})]})})},cW=()=>{const{user:t}=Mt(),[a,r]=v.useState("profile"),[n,l]=v.useState(!1),[c,d]=v.useState(""),[u,x]=v.useState({name:t?.name||"",email:t?.email||"",phone:"",timezone:"UTC",language:"en"}),[f,h]=v.useState({name:"My Company",industry:"Technology",size:"1-10",address:"",city:"",country:"United States",tax_id:""}),[p,y]=v.useState({email_invoices:!0,email_payments:!0,email_expenses:!1,email_insights:!0,email_weekly_report:!0,push_notifications:!1,sms_notifications:!1}),[j,w]=v.useState({current_password:"",new_password:"",confirm_password:"",two_factor_enabled:!1});v.useEffect(()=>{t&&x({name:t.name,email:t.email,phone:"",timezone:"UTC",language:"en"})},[t]);const S=async k=>{k.preventDefault(),l(!0);try{await new Promise(E=>setTimeout(E,1e3)),d("Profile updated successfully!"),setTimeout(()=>d(""),3e3)}catch(E){console.error("Failed to update profile:",E)}finally{l(!1)}},g=async k=>{k.preventDefault(),l(!0);try{await new Promise(E=>setTimeout(E,1e3)),d("Company settings updated successfully!"),setTimeout(()=>d(""),3e3)}catch(E){console.error("Failed to update company:",E)}finally{l(!1)}},_=async k=>{k.preventDefault(),l(!0);try{await new Promise(E=>setTimeout(E,1e3)),d("Notification preferences updated successfully!"),setTimeout(()=>d(""),3e3)}catch(E){console.error("Failed to update notifications:",E)}finally{l(!1)}},O=async k=>{if(k.preventDefault(),j.new_password!==j.confirm_password){alert("New passwords do not match!");return}l(!0);try{await new Promise(E=>setTimeout(E,1e3)),d("Security settings updated successfully!"),w({current_password:"",new_password:"",confirm_password:"",two_factor_enabled:j.two_factor_enabled}),setTimeout(()=>d(""),3e3)}catch(E){console.error("Failed to update security:",E)}finally{l(!1)}},C=[{id:"profile",name:"Profile",icon:Cr},{id:"company",name:"Company",icon:uu},{id:"notifications",name:"Notifications",icon:G9},{id:"security",name:"Security",icon:Tg}];return e.jsx(Ve,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Setri"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Gestioneaz contul i preferinele tale"})]}),c&&e.jsx("div",{className:"bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded-lg",children:c}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 overflow-x-auto",children:C.map(k=>{const E=k.icon;return e.jsxs("button",{onClick:()=>r(k.id),className:`flex items-center gap-2 py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${a===k.id?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(E,{className:"w-5 h-5"}),k.name]},k.id)})})}),e.jsxs("div",{className:"card",children:[a==="profile"&&e.jsxs("form",{onSubmit:S,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Profile Information"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Picture"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-20 h-20 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsx(Cr,{className:"w-10 h-10 text-primary-600"})}),e.jsxs("button",{type:"button",className:"btn-secondary flex items-center gap-2",children:[e.jsx(a7,{className:"w-4 h-4"}),"Change Photo"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",value:u.name,onChange:k=>x({...u,name:k.target.value}),className:"input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:u.email,onChange:k=>x({...u,email:k.target.value}),className:"input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",value:u.phone,onChange:k=>x({...u,phone:k.target.value}),className:"input",placeholder:"+1 (555) 123-4567"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Timezone"}),e.jsxs("select",{value:u.timezone,onChange:k=>x({...u,timezone:k.target.value}),className:"input",children:[e.jsx("option",{value:"UTC",children:"UTC"}),e.jsx("option",{value:"America/New_York",children:"Eastern Time (ET)"}),e.jsx("option",{value:"America/Chicago",children:"Central Time (CT)"}),e.jsx("option",{value:"America/Denver",children:"Mountain Time (MT)"}),e.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time (PT)"}),e.jsx("option",{value:"Europe/London",children:"London (GMT)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Language"}),e.jsxs("select",{value:u.language,onChange:k=>x({...u,language:k.target.value}),className:"input",children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"es",children:"Spanish"}),e.jsx("option",{value:"fr",children:"French"}),e.jsx("option",{value:"de",children:"German"}),e.jsx("option",{value:"ro",children:"Romanian"})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{type:"submit",className:"btn-primary flex items-center gap-2",disabled:n,children:[e.jsx(Qi,{className:"w-4 h-4"}),n?"Saving...":"Save Changes"]})})]}),a==="company"&&e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Company Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name"}),e.jsx("input",{type:"text",value:f.name,onChange:k=>h({...f,name:k.target.value}),className:"input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Industry"}),e.jsxs("select",{value:f.industry,onChange:k=>h({...f,industry:k.target.value}),className:"input",children:[e.jsx("option",{value:"Technology",children:"Technology"}),e.jsx("option",{value:"Finance",children:"Finance"}),e.jsx("option",{value:"Healthcare",children:"Healthcare"}),e.jsx("option",{value:"Retail",children:"Retail"}),e.jsx("option",{value:"Manufacturing",children:"Manufacturing"}),e.jsx("option",{value:"Services",children:"Services"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Size"}),e.jsxs("select",{value:f.size,onChange:k=>h({...f,size:k.target.value}),className:"input",children:[e.jsx("option",{value:"1-10",children:"1-10 employees"}),e.jsx("option",{value:"11-50",children:"11-50 employees"}),e.jsx("option",{value:"51-200",children:"51-200 employees"}),e.jsx("option",{value:"201-500",children:"201-500 employees"}),e.jsx("option",{value:"501+",children:"501+ employees"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tax ID / EIN"}),e.jsx("input",{type:"text",value:f.tax_id,onChange:k=>h({...f,tax_id:k.target.value}),className:"input",placeholder:"XX-XXXXXXX"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),e.jsx("input",{type:"text",value:f.address,onChange:k=>h({...f,address:k.target.value}),className:"input",placeholder:"Street address"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),e.jsx("input",{type:"text",value:f.city,onChange:k=>h({...f,city:k.target.value}),className:"input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),e.jsxs("select",{value:f.country,onChange:k=>h({...f,country:k.target.value}),className:"input",children:[e.jsx("option",{value:"United States",children:"United States"}),e.jsx("option",{value:"Canada",children:"Canada"}),e.jsx("option",{value:"United Kingdom",children:"United Kingdom"}),e.jsx("option",{value:"Romania",children:"Romania"}),e.jsx("option",{value:"Germany",children:"Germany"}),e.jsx("option",{value:"France",children:"France"})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{type:"submit",className:"btn-primary flex items-center gap-2",disabled:n,children:[e.jsx(Qi,{className:"w-4 h-4"}),n?"Saving...":"Save Changes"]})})]}),a==="notifications"&&e.jsxs("form",{onSubmit:_,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Notification Preferences"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Invoice Updates"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when invoices are paid or overdue"})]}),e.jsx("input",{type:"checkbox",checked:p.email_invoices,onChange:k=>y({...p,email_invoices:k.target.checked}),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"})]}),e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Payment Notifications"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Receive alerts for incoming payments"})]}),e.jsx("input",{type:"checkbox",checked:p.email_payments,onChange:k=>y({...p,email_payments:k.target.checked}),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"})]}),e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Expense Approvals"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Notifications for expenses requiring approval"})]}),e.jsx("input",{type:"checkbox",checked:p.email_expenses,onChange:k=>y({...p,email_expenses:k.target.checked}),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"})]}),e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"AI Insights"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Get AI-powered business insights and recommendations"})]}),e.jsx("input",{type:"checkbox",checked:p.email_insights,onChange:k=>y({...p,email_insights:k.target.checked}),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"})]}),e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Weekly Report"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Receive weekly summary of your business performance"})]}),e.jsx("input",{type:"checkbox",checked:p.email_weekly_report,onChange:k=>y({...p,email_weekly_report:k.target.checked}),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"})]}),e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Push Notifications"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Enable browser push notifications"})]}),e.jsx("input",{type:"checkbox",checked:p.push_notifications,onChange:k=>y({...p,push_notifications:k.target.checked}),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"})]}),e.jsxs("div",{className:"flex items-center justify-between py-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"SMS Notifications"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Receive critical alerts via SMS"})]}),e.jsx("input",{type:"checkbox",checked:p.sms_notifications,onChange:k=>y({...p,sms_notifications:k.target.checked}),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{type:"submit",className:"btn-primary flex items-center gap-2",disabled:n,children:[e.jsx(Qi,{className:"w-4 h-4"}),n?"Saving...":"Save Preferences"]})})]}),a==="security"&&e.jsxs("form",{onSubmit:O,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Change Password"}),e.jsxs("div",{className:"space-y-4 max-w-md",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),e.jsx("input",{type:"password",value:j.current_password,onChange:k=>w({...j,current_password:k.target.value}),className:"input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),e.jsx("input",{type:"password",value:j.new_password,onChange:k=>w({...j,new_password:k.target.value}),className:"input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),e.jsx("input",{type:"password",value:j.confirm_password,onChange:k=>w({...j,confirm_password:k.target.value}),className:"input"})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Two-Factor Authentication"}),e.jsxs("div",{className:"flex items-center justify-between max-w-md",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Enable 2FA"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Add an extra layer of security to your account"})]}),e.jsx("input",{type:"checkbox",checked:j.two_factor_enabled,onChange:k=>w({...j,two_factor_enabled:k.target.checked}),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{type:"submit",className:"btn-primary flex items-center gap-2",disabled:n,children:[e.jsx(Qi,{className:"w-4 h-4"}),n?"Saving...":"Update Security"]})})]})]})]})})},iS=()=>{const[t,a]=v.useState([]),[r,n]=v.useState(!0),[l,c]=v.useState(""),[d,u]=v.useState("all"),[x,f]=v.useState(!1);v.useEffect(()=>{h()},[]);const h=async()=>{try{const g=await bu.list();a(g)}catch(g){console.error("Failed to load contacts:",g)}finally{n(!1)}},p=async g=>{if(window.confirm("Eti sigur c vrei s tergi acest contact?"))try{await bu.delete(g),a(t.filter(_=>_.id!==g))}catch(_){console.error("Failed to delete contact:",_),alert("tergerea contactului a euat")}},y=t.filter(g=>{const _=g.display_name.toLowerCase().includes(l.toLowerCase())||g.email?.toLowerCase().includes(l.toLowerCase())||g.company_name?.toLowerCase().includes(l.toLowerCase()),O=d==="all"||g.contact_type===d;return _&&O}),j=g=>{switch(g){case"customer":return"bg-blue-100 text-blue-800";case"vendor":return"bg-purple-100 text-purple-800";case"employee":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},w=g=>{switch(g){case"customer":return e.jsx(Cr,{className:"w-5 h-5 text-blue-600"});case"vendor":return e.jsx(uu,{className:"w-5 h-5 text-purple-600"});case"employee":return e.jsx(Va,{className:"w-5 h-5 text-green-600"});default:return e.jsx(Cr,{className:"w-5 h-5 text-gray-600"})}},S={customers:t.filter(g=>g.contact_type==="customer").length,vendors:t.filter(g=>g.contact_type==="vendor").length,employees:t.filter(g=>g.contact_type==="employee").length,total:t.length};return r?e.jsx(Ve,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})})}):e.jsx(Ve,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Contacte"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Gestioneaz clienii, furnizorii i membrii echipei tale"})]}),e.jsxs("button",{onClick:()=>f(!0),className:"btn-primary flex items-center gap-2",children:[e.jsx(ua,{className:"w-5 h-5"}),"Adaug Contact"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{label:"Total Contacte",value:S.total,color:"text-gray-900",icon:Va},{label:"Clieni",value:S.customers,color:"text-blue-600",icon:Cr},{label:"Furnizori",value:S.vendors,color:"text-purple-600",icon:uu},{label:"Angajai",value:S.employees,color:"text-green-600",icon:Va}].map((g,_)=>{const O=g.icon;return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:g.label}),e.jsx(O,{className:`w-5 h-5 ${g.color}`})]}),e.jsx("p",{className:`text-2xl font-bold ${g.color}`,children:g.value})]},_)})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Yr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Caut contacte...",value:l,onChange:g=>c(g.target.value),className:"input pl-10"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(sl,{className:"w-5 h-5 text-gray-400"}),e.jsxs("select",{value:d,onChange:g=>u(g.target.value),className:"input",children:[e.jsx("option",{value:"all",children:"Toate Tipurile"}),e.jsx("option",{value:"customer",children:"Clieni"}),e.jsx("option",{value:"vendor",children:"Furnizori"}),e.jsx("option",{value:"employee",children:"Angajai"}),e.jsx("option",{value:"contractor",children:"Colaboratori"})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.length===0?e.jsxs("div",{className:"col-span-full card text-center py-12",children:[e.jsx(Va,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"Nu au fost gsite contacte"}),e.jsx("button",{onClick:()=>f(!0),className:"text-primary-600 hover:text-primary-700 text-sm mt-2 inline-block",children:"Adaug primul tu contact"})]}):y.map(g=>e.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center",children:w(g.contact_type)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:g.display_name}),e.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded ${j(g.contact_type)}`,children:g.contact_type})]})]})}),g.company_name&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-2",children:[e.jsx(uu,{className:"w-4 h-4"}),e.jsx("span",{children:g.company_name})]}),g.email&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-2",children:[e.jsx(il,{className:"w-4 h-4"}),e.jsx("span",{className:"truncate",children:g.email})]}),g.phone&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-4",children:[e.jsx(Nu,{className:"w-4 h-4"}),e.jsx("span",{children:g.phone})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t border-gray-200",children:[e.jsxs("button",{onClick:()=>alert("Funcionalitatea de editare vine n curnd!"),className:"flex-1 btn-secondary text-sm py-2 flex items-center justify-center gap-2",children:[e.jsx(Ar,{className:"w-4 h-4"}),"Editeaz"]}),e.jsxs("button",{onClick:()=>p(g.id),className:"flex-1 btn-secondary text-sm py-2 flex items-center justify-center gap-2 text-red-600 hover:bg-red-50",children:[e.jsx(vr,{className:"w-4 h-4"}),"terge"]})]})]},g.id))}),x&&e.jsx(oW,{onClose:()=>f(!1),onSuccess:()=>{f(!1),h()}})]})})},oW=({onClose:t,onSuccess:a})=>{const[r,n]=v.useState(!1),[l,c]=v.useState({type:"customer",name:"",email:"",phone:"",company_name:"",address:"",city:"",country:"",notes:""}),d=async u=>{u.preventDefault(),n(!0);try{await bu.create(l),alert("Contact creat cu succes!"),a()}catch(x){console.error("Failed to create contact:",x),alert("Crearea contactului a euat")}finally{n(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Adaug Contact Nou"}),e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tip Contact *"}),e.jsxs("select",{value:l.type,onChange:u=>c({...l,type:u.target.value}),className:"input",required:!0,children:[e.jsx("option",{value:"customer",children:"Client"}),e.jsx("option",{value:"vendor",children:"Furnizor"}),e.jsx("option",{value:"employee",children:"Angajat"}),e.jsx("option",{value:"contractor",children:"Colaborator"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nume Complet *"}),e.jsx("input",{type:"text",value:l.name,onChange:u=>c({...l,name:u.target.value}),className:"input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:l.email,onChange:u=>c({...l,email:u.target.value}),className:"input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefon"}),e.jsx("input",{type:"tel",value:l.phone,onChange:u=>c({...l,phone:u.target.value}),className:"input",placeholder:"+40 (722) 123-456"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nume Companie"}),e.jsx("input",{type:"text",value:l.company_name,onChange:u=>c({...l,company_name:u.target.value}),className:"input"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adres"}),e.jsx("input",{type:"text",value:l.address,onChange:u=>c({...l,address:u.target.value}),className:"input",placeholder:"Adresa strzii"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ora"}),e.jsx("input",{type:"text",value:l.city,onChange:u=>c({...l,city:u.target.value}),className:"input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ar"}),e.jsx("input",{type:"text",value:l.country,onChange:u=>c({...l,country:u.target.value}),className:"input"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notie"}),e.jsx("textarea",{value:l.notes,onChange:u=>c({...l,notes:u.target.value}),className:"input",rows:3,placeholder:"Notie adiionale..."})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:t,className:"btn-secondary flex-1",disabled:r,children:"Anuleaz"}),e.jsx("button",{type:"submit",className:"btn-primary flex-1 disabled:opacity-50",disabled:r,children:r?"Se creeaz...":"Creeaz Contact"})]})]})]})})})},dW=()=>{const[t,a]=v.useState(null),[r,n]=v.useState("all"),[l,c]=v.useState(!1),[d,u]=v.useState(""),[x,f]=v.useState(null),[h,p]=v.useState(!1),y=[{title:"Modificri Cod Fiscal 2025",summary:"Noi praguri TVA i modificri la impozitul pe profit pentru microntreprinderi",urgency:"urgent",effectiveDate:"1 ianuarie 2025"},{title:"Declaraia Unic 2025",summary:"Termenul limit de depunere: 25 mai 2025. Nouti privind deducerile personale.",urgency:"important",effectiveDate:"25 mai 2025"},{title:"TVA Split Payment",summary:"Plata defalcat a TVA obligatorie pentru toate companiile cu cifr de afaceri peste 15.000 lei/factur",urgency:"info",effectiveDate:"n vigoare"},{title:"e-Factura",summary:"Obligativitatea sistemului RO e-Factura pentru toate tranzaciile B2B i B2G",urgency:"info",effectiveDate:"n vigoare"}],j=[{title:"Declaraia Unic",code:"D212",description:"Pentru venituri din salarii, dividende, nchirieri"},{title:"Declaraie TVA",code:"D300",description:"Declaraie privind taxa pe valoarea adugat"},{title:"Bilan Contabil",code:"D101",description:"Situaii financiare anuale"},{title:"Declaraie REVISAL",code:"REVISAL",description:"Registrul general de eviden a salariailor"},{title:"Declaraie CAS/CASS",code:"D112",description:"Obligaii de plat ctre bugetul de stat"},{title:"Cerere nregistrare PFA",code:"PFA",description:"Formular nregistrare persoan fizic autorizat"}],w=[{id:1,question:"Cnd trebuie s m nregistrez ca pltitor de TVA?",category:"tva",answer:`<strong>Pragul de nregistrare obligatoriu:</strong> 300.000 lei (aproximativ 60.000 EUR) cifr de afaceri n ultimele 12 luni.<br><br>
      <strong>Pai de urmat:</strong><br>
      1. Depui formularul 010 la ANAF n termen de 10 zile de la depirea pragului<br>
      2. Primeti Certificat de nregistrare n scopuri de TVA<br>
      3. Emii facturi cu TVA ncepnd cu luna urmtoare<br>
      4. Depui declaraii lunare D300 pn n data de 25 a lunii urmtoare<br><br>
      <strong>Note importante:</strong><br>
       Poi opta pentru nregistrare voluntar chiar sub prag<br>
       TVA standard: 19%, TVA redus: 9% (alimente, medicamente), 5% (cri, cazare)<br>
       Sistemul TVA la ncasare disponibil pentru cifre de afaceri sub 4.5 milioane lei`},{id:2,question:"Ce condiii trebuie s ndeplinesc pentru regimul de microntreprindere?",category:"microenterprise",answer:`<strong>Condiii cumulative pentru microntreprindere (impozit 1%):</strong><br><br>
      1. <strong>Cifr de afaceri</strong>: Maximum 500.000 EUR n anul fiscal precedent<br>
      2. <strong>Capital social</strong>: Deinut de persoane fizice n proporie de min. 25%<br>
      3. <strong>Angajai</strong>: Minimum 1 angajat cu contract full-time (sau 2 part-time)<br>
      4. <strong>Activitate autorizat</strong>: Nu banc, asigurri, pariuri, consultan fiscal<br><br>
      <strong>Cote de impozitare:</strong><br>
       Cu cel puin 1 angajat: <span style="color: #10b981; font-weight: bold;">1%</span> din cifra de afaceri<br>
       Fr angajai sau cifr > 60.000 EUR: <span style="color: #ef4444; font-weight: bold;">3%</span> din cifra de afaceri<br><br>
      <strong>Tranziie automat la impozit pe profit (16%):</strong><br>
       Cnd cifra de afaceri depete 500.000 EUR<br>
       Cnd condiiile nu mai sunt ndeplinite`},{id:3,question:"Cum se calculeaz contribuiile sociale pentru PFA?",category:"pfa",answer:`<strong>Contribuii obligatorii pentru PFA:</strong><br><br>
      <strong>1. CAS (Pensie) - 25% din venitul net anual</strong><br>
       Baza de calcul: Venit brut - Cheltuieli deductibile (maxim 40%)<br>
       Plafon minim: 12  salariul minim brut (12  3.700 lei = 44.400 lei n 2025)<br>
       Plafon maxim: 60.000 lei/an<br>
       Datorat doar dac venitul net > 12 salarii minime<br><br>
      <strong>2. CASS (Sntate) - 10% din venitul net anual</strong><br>
       Baza de calcul: Aceeai ca pentru CAS<br>
       Plafon minim: 6  salariul minim brut (6  3.700 lei = 22.200 lei n 2025)<br>
       Obligatorie indiferent de nivelul veniturilor<br><br>
      <strong>3. Impozit pe venit - 10% din venitul net</strong><br><br>
      <strong>Exemplu calcul pentru 100.000 lei venit brut:</strong><br>
       Cheltuieli deductibile (40%): 40.000 lei<br>
       Venit net: 60.000 lei<br>
       CAS (25%): 15.000 lei<br>
       CASS (10%): 6.000 lei<br>
       Impozit (10%): 6.000 lei<br>
       <strong>Total obligaii</strong>: 27.000 lei (27%)<br>
       <strong>Rmne net</strong>: 73.000 lei`},{id:4,question:"Ce obligaii am ca angajator?",category:"employer",answer:`<strong>Obligaii lunare ale angajatorului:</strong><br><br>
      <strong>1. nregistrare n REVISAL</strong><br>
       nainte de prima zi de lucru a angajatului<br>
       Contract individual de munc nregistrat electronic<br><br>
      <strong>2. Calcul i plat contribuii sociale (lunar pn pe 25):</strong><br>
       CAS angajat: 25% din salariul brut (reinut din salariu)<br>
       CASS angajat: 10% din salariul brut (reinut din salariu)<br>
       Impozit venit: 10% din (salariu brut - contribuii - deducere personal)<br>
       CAS angajator: 4% din salariul brut (pltit de companie)<br>
       Contribuie asigurtorie pentru munc: 2.25% (pltit de companie)<br><br>
      <strong>3. Declaraii obligatorii:</strong><br>
       D112: Declaraie privind obligaiile de plat (lunar, pn pe 25)<br>
       Flutura de salariu: Comunicat lunar n REVISAL<br>
       Declaraia anual 205: Situaia plilor ctre persoane fizice<br><br>
      <strong>Exemplu cost total pentru salariu brut 5.000 lei:</strong><br>
       Salariu brut: 5.000 lei<br>
       CAS angajat (25%): -1.250 lei<br>
       CASS angajat (10%): -500 lei<br>
       Baz impozit: 3.250 lei (minus deducere 510 lei = 2.740 lei)<br>
       Impozit (10%): -274 lei<br>
       <strong>Salariu net primit</strong>: 2.976 lei<br>
       CAS angajator (4%): +200 lei<br>
       CAM (2.25%): +112.50 lei<br>
       <strong>Cost total companie</strong>: 5.312.50 lei`},{id:5,question:"Ce cheltuieli sunt deductibile fiscal?",category:"deductible",answer:`<strong>Cheltuieli deductibile fiscal (conform Codului Fiscal):</strong><br><br>
      <strong> Deductibile 100%:</strong><br>
       Materii prime i materiale<br>
       Salarii i contribuii sociale<br>
       Chirii pentru spaii comerciale<br>
       Utiliti (energie, gaz, ap, internet) pentru spaii comerciale<br>
       Servicii profesionale (contabilitate, juridic, consultan)<br>
       Amortizarea mijloacelor fixe<br>
       Cheltuieli de marketing i publicitate<br>
       Servicii bancare i dobnzi<br><br>
      <strong> Deductibile parial:</strong><br>
       Protocol (2% din venitul impozabil, max 5% din cheltuieli cu salariile)<br>
       Sponsorizri (0.5% din cifra de afaceri pentru sport/cultur/religie)<br>
       Cheltuieli sociale (5% din cheltuieli cu salariile)<br><br>
      <strong> Nedeductibile:</strong><br>
       Amenzile i penalitile<br>
       Cheltuieli personale ale asociailor/administratorilor<br>
       TVA nedeductibil<br>
       Impozitul pe profit<br>
       Cheltuieli fr documente justificative<br><br>
      <strong> Condiii generale de deductibilitate:</strong><br>
      1. S fie efectuate n scopul desfurrii activitii<br>
      2. S fie justificate cu documente legale (facturi, contracte)<br>
      3. S fie nregistrate n contabilitate<br>
      4. S respecte reglementrile fiscale specifice`},{id:6,question:"Cum funcioneaz sistemul TVA la ncasare?",category:"tva",answer:`<strong>TVA la ncasare (Cash Accounting) - Sistem simplificat pentru IMM-uri:</strong><br><br>
      <strong>Condiii de eligibilitate:</strong><br>
       Cifra de afaceri anual sub 4.500.000 lei (aproximativ 900.000 EUR)<br>
       nregistrat ca pltitor de TVA<br>
       Depunerea cererii la ANAF (formular 399)<br><br>
      <strong>Cum funcioneaz:</strong><br>
       <span style="color: #10b981;"> Avantaj principal</span>: Plteti TVA ctre stat doar cnd ncasezi de la clieni (nu la emiterea facturii)<br>
       <span style="color: #10b981;"> Beneficiu cash-flow</span>: Nu blochezi bani n TVA nencasat<br>
       <span style="color: #ef4444;"> Dezavantaj</span>: Poi deduce TVA din achiziii doar cnd plteti furnizorilor<br><br>
      <strong>Exemplu concret:</strong><br><br>
      <em>Fr TVA la ncasare (sistem normal):</em><br>
       Emii factur 10.000 lei + 1.900 lei TVA pe 15 ianuarie<br>
       ncasezi de la client pe 15 martie<br>
       <strong>Trebuie s plteti TVA (1.900 lei) pn pe 25 februarie</strong> (chiar dac nu ai ncasat!)<br><br>
      <em>Cu TVA la ncasare:</em><br>
       Emii factur 10.000 lei + 1.900 lei TVA pe 15 ianuarie<br>
       ncasezi de la client pe 15 martie<br>
       <strong>Plteti TVA (1.900 lei) pn pe 25 aprilie</strong> (dup ncasare)<br><br>
      <strong>Atenie:</strong><br>
       Facturile trebuie marcate cu meniunea "TVA la ncasare"<br>
       Evidena separat a facturilor pltite/nepltite<br>
       Declaraia D300 cu seciuni speciale pentru TVA la ncasare`}],S=[{frequency:"Lunar",deadline:"25 a fiecrei luni",items:["Declaraie TVA (D300) - dac eti pltitor TVA","Declaraie obligaii de plat (D112) - dac ai angajai","Plata TVA colectat","Plata contribuii sociale angajai"]},{frequency:"Trimestrial",deadline:"25 ale lunii urmtoare trimestrului",items:["Declaraie informativ (D394) - tranzacii intracomunitare","Situaii financiare trimestriale (pentru companii mari)"]},{frequency:"Anual",deadline:"Variabil",items:["Declaraia Unic (D212) - pn pe 25 mai","Declaraie impozit profit/microntreprindere (D101) - pn pe 25 martie","Bilan contabil - pn pe 150 zile de la ncheierea exerciiului","Declaraie 205 - pli ctre persoane fizice - pn pe 28 februarie"]}],g=R=>{a(t===R?null:R)},_=R=>{n(R)},O=r==="all"?w:w.filter(R=>R.category===r),C=R=>{const L=k(R),q=new Blob([L],{type:"text/calendar"}),F=URL.createObjectURL(q),se=document.createElement("a");se.href=F,se.download=`obligatii_fiscale_${R}.ics`,se.click()},k=R=>{let L="";const q=new Date,F=q.getFullYear();if(R==="monthly")for(let se=1;se<=12;se++){const ce=new Date(F,se-1,25);L+=`
BEGIN:VEVENT
UID:${Date.now()}-${se}@documentiulia.ro
DTSTAMP:${E(q)}
DTSTART:${E(ce)}
SUMMARY:Declaraii fiscale lunare (D300, D112)
DESCRIPTION:Termen limit depunere declaraii TVA i obligaii de plat
BEGIN:VALARM
TRIGGER:-P3D
DESCRIPTION:Reminder: 3 zile pn la termen
ACTION:DISPLAY
END:VALARM
END:VEVENT`}return`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//AccounTech AI//Fiscal Obligations//RO
CALSCALE:GREGORIAN
METHOD:PUBLISH${L}
END:VCALENDAR`},E=R=>R.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",T=async()=>{if(d.trim()){p(!0);try{const L=await(await fetch("/api/v1/fiscal/ai-consultant",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:d})})).json();L.success&&f({answer:L.answer,references:L.references||[]})}catch(R){console.error("Error calling AI consultant:",R)}finally{p(!1)}}},D={urgent:"border-red-500 bg-red-50",important:"border-orange-500 bg-orange-50",info:"border-cyan-500 bg-cyan-50"},P={urgent:"bg-red-500 text-white",important:"bg-orange-500 text-white",info:"bg-cyan-500 text-white"};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50",children:[e.jsx("nav",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs(ge,{to:"/",className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-600 to-primary-700 rounded-lg flex items-center justify-center",children:e.jsx(Sa,{className:"w-6 h-6 text-white"})}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:"AccounTech AI"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(ge,{to:"/",className:"text-gray-700 hover:text-primary-600 font-medium",children:"Acas"}),e.jsx(ge,{to:"/login",className:"btn-primary",children:"Login"})]})]})})}),e.jsxs("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:" Legislaie Fiscal Romn"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Ghidul tu complet pentru conformitate fiscal n Romnia"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-2xl p-8 text-white text-center mb-12 shadow-xl cursor-pointer hover:shadow-2xl transition-shadow",onClick:()=>c(!0),children:[e.jsx("div",{className:"inline-block mb-4",children:e.jsx(ll,{className:"w-16 h-16 animate-pulse"})}),e.jsx("h3",{className:"text-3xl font-bold mb-3",children:"AI Consultant Fiscal cu Acces la Legislaie"}),e.jsx("p",{className:"text-indigo-100 mb-6 max-w-2xl mx-auto",children:"Consultantul nostru AI are acces la ntreaga legislaie fiscal romn i poate interpreta cazuri complexe."}),e.jsxs("button",{onClick:()=>c(!0),className:"bg-white text-indigo-600 px-8 py-3 rounded-lg font-semibold hover:bg-indigo-50 transition-colors inline-flex items-center gap-2",children:[e.jsx(Sa,{className:"w-5 h-5"}),"Consult AI-ul Acum - Gratuit"]}),e.jsx("p",{className:"text-sm text-indigo-200 mt-4",children:"AI-ul analizeaz situaia ta i ofer recomandri bazate pe legislaia n vigoare"})]})]}),e.jsxs("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(qt,{className:"w-6 h-6 text-red-500"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Subiecte Fierbini"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:y.map((R,L)=>e.jsxs("div",{className:`border-l-4 p-6 rounded-lg shadow-md ${D[R.urgency]}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:R.title}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${P[R.urgency]}`,children:R.urgency==="urgent"?"URGENT":R.urgency==="important"?"IMPORTANT":"INFO"})]}),e.jsx("p",{className:"text-gray-700 mb-3",children:R.summary}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"n vigoare:"})," ",R.effectiveDate]})]},L))})]}),e.jsxs("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(ot,{className:"w-6 h-6 text-primary-600"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Formulare i Template-uri"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:j.map((R,L)=>e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:e.jsx(ot,{className:"w-6 h-6 text-primary-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900",children:R.title}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Cod: ",R.code]})]})]}),e.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:R.description}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{className:"flex-1 bg-primary-600 text-white px-4 py-2 rounded hover:bg-primary-700 transition-colors text-sm flex items-center justify-center gap-2",children:[e.jsx(Xa,{className:"w-4 h-4"}),"Descarc PDF"]})})]},L))})]}),e.jsxs("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(mt,{className:"w-6 h-6 text-primary-600"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Calendar Obligaii Fiscale"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:S.map((R,L)=>e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[e.jsx("div",{className:`inline-block px-4 py-2 rounded-full text-sm font-semibold mb-4 ${L===0?"bg-blue-100 text-blue-800":L===1?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:R.frequency}),e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[e.jsx("strong",{children:"Termen:"})," ",R.deadline]}),e.jsx("ul",{className:"space-y-2",children:R.items.map((q,F)=>e.jsxs("li",{className:"text-sm text-gray-700 flex items-start gap-2",children:[e.jsx("span",{className:"text-primary-600 mt-1",children:""}),e.jsx("span",{children:q})]},F))}),e.jsxs("button",{onClick:()=>C(R.frequency.toLowerCase()),className:"mt-4 w-full bg-primary-50 text-primary-600 px-4 py-2 rounded hover:bg-primary-100 transition-colors text-sm font-medium flex items-center justify-center gap-2",children:[e.jsx(mt,{className:"w-4 h-4"}),"Adaug n Calendar"]})]},L))})]}),e.jsxs("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(dr,{className:"w-6 h-6 text-primary-600"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"ntrebri Frecvente"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[e.jsx("button",{onClick:()=>_("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r==="all"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Toate"}),e.jsx("button",{onClick:()=>_("tva"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r==="tva"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"TVA"}),e.jsx("button",{onClick:()=>_("microenterprise"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r==="microenterprise"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Microntreprindere"}),e.jsx("button",{onClick:()=>_("pfa"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r==="pfa"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"PFA"}),e.jsx("button",{onClick:()=>_("employer"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r==="employer"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Angajatori"}),e.jsx("button",{onClick:()=>_("deductible"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r==="deductible"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Cheltuieli Deductibile"})]}),e.jsx("div",{className:"space-y-4",children:O.map(R=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsxs("button",{onClick:()=>g(R.id),className:"w-full px-6 py-4 flex justify-between items-center hover:bg-gray-50 transition-colors",children:[e.jsx("span",{className:"font-semibold text-gray-900 text-left",children:R.question}),t===R.id?e.jsx(o7,{className:"w-5 h-5 text-gray-500"}):e.jsx(jm,{className:"w-5 h-5 text-gray-500"})]}),t===R.id&&e.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200",children:[e.jsx("div",{className:"text-gray-700 mb-4",dangerouslySetInnerHTML:{__html:R.answer}}),e.jsxs("button",{onClick:()=>c(!0),className:"bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 transition-colors text-sm font-medium inline-flex items-center gap-2",children:[e.jsx(Sa,{className:"w-4 h-4"}),"ntreab AI pentru cazul tu specific"]})]})]},R.id))})]}),e.jsx("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-indigo-600 rounded-2xl p-12 text-white text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ai nevoie de consultan personalizat?"}),e.jsx("p",{className:"text-xl text-indigo-100 mb-8 max-w-2xl mx-auto",children:"Consultantul nostru AI poate analiza situaia ta specific i oferi recomandri bazate pe legislaia n vigoare."}),e.jsxs("button",{onClick:()=>c(!0),className:"bg-white text-primary-600 px-8 py-4 rounded-lg font-bold text-lg hover:bg-gray-50 transition-colors inline-flex items-center gap-3",children:[e.jsx(ll,{className:"w-6 h-6"}),"Consult AI-ul Gratuit"]})]})}),l&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Sa,{className:"w-8 h-8"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold",children:"Consultant Fiscal AI"}),e.jsx("p",{className:"text-indigo-100 text-sm",children:"Acces complet la legislaia fiscal romn"})]})]}),e.jsx("button",{onClick:()=>c(!1),className:"text-white hover:bg-white/20 rounded-lg p-2 transition-colors",children:""})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"ntrebri rapide:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["Trebuie s m nregistrez la TVA?","Cum calc contribuiile pentru PFA?","Ce nseamn microntreprindere?","Ce cheltuieli sunt deductibile?"].map(R=>e.jsx("button",{onClick:()=>u(R),className:"px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm text-gray-700 transition-colors",children:R},R))})]}),e.jsx("div",{className:"mb-4",children:e.jsx("textarea",{value:d,onChange:R=>u(R.target.value),placeholder:"Pune o ntrebare despre legislaia fiscal romn...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none",rows:4})}),e.jsx("button",{onClick:T,disabled:h||!d.trim(),className:"w-full bg-indigo-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-indigo-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:h?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Se analizeaz..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Sa,{className:"w-5 h-5"}),"ntreab AI-ul"]})}),x&&e.jsx("div",{className:"mt-6 p-6 bg-gradient-to-br from-indigo-50 to-purple-50 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(Sa,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Rspuns AI:"}),e.jsx("div",{className:"text-gray-700 mb-4",dangerouslySetInnerHTML:{__html:x.answer}}),x.references.length>0&&e.jsxs("div",{className:"border-t border-indigo-200 pt-4",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:" Referine legislative:"}),e.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:x.references.map((R,L)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(k7,{className:"w-4 h-4 text-indigo-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:R})]},L))})]})]})]})})]})]})}),e.jsx("footer",{className:"bg-gray-900 text-gray-300 py-12 mt-20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:e.jsx("p",{className:"text-sm",children:" 2025 AccounTech AI. Toate drepturile rezervate. | Informaiile prezentate au caracter informativ. Pentru consultan fiscal personalizat, v recomandm s apelai la un consultant fiscal autorizat."})})})]})},Tl="/api/v1",uW=async(t,a)=>{try{const r=await fetch(`${Tl}/business/consultant.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:t,user_id:a?.toString()})});if(!r.ok)throw new Error("Failed to get business consultation");return await r.json()}catch(r){throw console.error("Business consultation error:",r),r}},mW=async t=>{try{const a=await fetch(`${Tl}/fiscal/ai-consultant.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:t})});if(!a.ok)throw new Error("Failed to get fiscal consultation");return await a.json()}catch(a){throw console.error("Fiscal consultation error:",a),a}},xW=async t=>{try{const a=await fetch(`${Tl}/context/get.php?user_id=${t.toString()}`);if(!a.ok)throw new Error("Failed to get personal context");return await a.json()}catch(a){throw console.error("Get context error:",a),a}},hW=async(t,a,r)=>{try{const n=await fetch(`${Tl}/context/update.php`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t.toString(),updates:a,change_reason:r})});if(!n.ok)throw new Error("Failed to update personal context");return await n.json()}catch(n){throw console.error("Update context error:",n),n}},fW=async t=>{try{const a=await fetch(`${Tl}/context/export.php?user_id=${t.toString()}`);if(!a.ok)throw new Error("Failed to export personal context");const r=await a.json(),n=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),l=window.URL.createObjectURL(n),c=document.createElement("a");return c.href=l,c.download=`business_context_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(c),c.click(),window.URL.revokeObjectURL(l),document.body.removeChild(c),r}catch(a){throw console.error("Export context error:",a),a}},pW=async(t,a)=>{try{const r=await fetch(`${Tl}/context/import.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t,context_data:a})});if(!r.ok)throw new Error("Failed to import personal context");return await r.json()}catch(r){throw console.error("Import context error:",r),r}},gW=()=>{const{user:t}=Mt(),[a,r]=v.useState(""),[n,l]=v.useState(""),[c,d]=v.useState(!1),[u,x]=v.useState(0),[f,h]=v.useState(!1),[p,y]=v.useState(""),j=["Cum pot s-mi cresc veniturile?","Ce strategie de pre ar trebui s folosesc?","Ar trebui s angajez mai muli angajai acum?","Cum mi mbuntesc fluxul de numerar?","Care sunt cele 5 pri ale oricrei afaceri?"],w=async g=>{if(g.preventDefault(),!!a.trim()){d(!0),y(""),l("");try{const _=await uW(a,t?.id);_.success!==!1?(l(_.answer||"No answer received"),x(_.confidence*100||90),h(_.context_used||!1)):y(_.message||"Failed to get consultation")}catch(_){y(_.message||"An error occurred while consulting the AI")}finally{d(!1)}}},S=g=>{r(g)};return e.jsxs("div",{className:"max-w-5xl mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl shadow-lg",children:e.jsx(Sa,{className:"w-10 h-10 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Consultant de Afaceri AI"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Sfaturi strategice bazate pe principii dovedite de business i inteligen artificial"})]})]}),f&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(ll,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-900",children:"Rspuns Personalizat Activ"}),e.jsxs("p",{className:"text-xs text-green-700",children:["Folosim contextul tu de business pentru sfaturi personalizate (",u.toFixed(0),"% confiden)"]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Pune ntrebarea Ta de Business"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Primete sfaturi strategice despre venituri, marketing, vnzri, operaiuni i finane"})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsx("div",{children:e.jsx("textarea",{value:a,onChange:g=>r(g.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:4,placeholder:"Exemplu: Cum pot s-mi cresc veniturile lunare cu 30%?",disabled:c})}),e.jsx("button",{type:"submit",disabled:c||!a.trim(),className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 disabled:from-gray-300 disabled:to-gray-300 disabled:cursor-not-allowed transition-all shadow-md hover:shadow-lg",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),e.jsx("span",{children:"Se gndete..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Nm,{className:"w-5 h-5"}),e.jsx("span",{children:"Primete Sfaturi AI"})]})})]}),p&&e.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-800",children:p})}),n&&!c&&e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Sa,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"font-medium",children:"Rspuns Consultant AI:"}),e.jsxs("span",{className:"ml-auto bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-xs font-medium",children:[u.toFixed(0),"% Confiden"]})]}),e.jsx("div",{className:"p-6 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border border-blue-100",children:e.jsx("div",{className:"text-gray-800 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:n}})})]})]})]}),!n&&!c&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(dr,{className:"w-5 h-5 text-gray-600"}),"ntrebri Exemplu"]}),e.jsx("div",{className:"space-y-2",children:j.map((g,_)=>e.jsx("button",{onClick:()=>S(g),className:"w-full text-left px-4 py-3 bg-gray-50 hover:bg-blue-50 rounded-lg transition-colors text-sm text-gray-700 hover:text-blue-700 border border-gray-200 hover:border-blue-200",children:g},_))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-5 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:e.jsx(ll,{className:"w-4 h-4 text-white"})}),e.jsx("h4",{className:"font-semibold text-blue-900",children:"Crearea de Valoare"})]}),e.jsx("p",{className:"text-sm text-blue-800",children:"Descoper ce au nevoie oamenii i creeaz produse sau servicii care rezolv probleme reale"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-5 border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"p-2 bg-green-600 rounded-lg",children:e.jsx($e,{className:"w-4 h-4 text-white"})}),e.jsx("h4",{className:"font-semibold text-green-900",children:"Marketing & Vnzri"})]}),e.jsx("p",{className:"text-sm text-green-800",children:"Atrage atenia, construiete cererea i transform prospecii n clieni pltitori"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-5 border border-purple-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"p-2 bg-purple-600 rounded-lg",children:e.jsx(Sa,{className:"w-4 h-4 text-white"})}),e.jsx("h4",{className:"font-semibold text-purple-900",children:"Finane"})]}),e.jsx("p",{className:"text-sm text-purple-800",children:"Gestioneaz fluxul de numerar, preurile i profitabilitatea pentru a construi o afacere sustenabil"})]})]})]})},yW=()=>{const[t,a]=v.useState(""),[r,n]=v.useState(""),[l,c]=v.useState([]),[d,u]=v.useState(!1),[x,f]=v.useState(""),h=["Care este pragul de nregistrare pentru TVA n 2025?","Ce condiii trebuie s ndeplinesc pentru regimul de microntreprindere?","Cum se calculeaz contribuiile sociale pentru PFA?","Cnd trebuie depus Declaraia Unic?","Ce cheltuieli sunt deductibile fiscal?"],p=async j=>{if(j.preventDefault(),!!t.trim()){u(!0),f(""),n(""),c([]);try{const w=await mW(t);w.success!==!1?(n(w.answer||"Nu am primit un rspuns"),c(w.articles_referenced||[])):f(w.message||"Consultarea fiscal a euat")}catch(w){f(w.message||"A aprut o eroare la consultarea legislaiei fiscale")}finally{u(!1)}}},y=j=>{a(j)};return e.jsxs("div",{className:"max-w-5xl mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl shadow-lg",children:e.jsx(Sp,{className:"w-10 h-10 text-white"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:""}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Consultant Fiscal AI"})]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"628 articole din Codul Fiscal 2015  Rspunsuri cu referine legale"})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(qt,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Consultan Fiscal Automat"}),e.jsx("p",{className:"text-xs text-blue-700",children:"AI-ul are acces la ntreaga legislaie fiscal romn i poate interpreta situaii complexe. Rspunsurile includ referine la articolele relevante din Codul Fiscal."})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Pune ntrebarea Ta Fiscal"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Scrie n limba romn pentru cele mai bune rezultate"})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsx("div",{children:e.jsx("textarea",{value:t,onChange:j=>a(j.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",rows:4,placeholder:"Exemplu: Care este pragul de nregistrare pentru TVA n 2025?",disabled:d})}),e.jsx("button",{type:"submit",disabled:d||!t.trim(),className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 disabled:from-gray-300 disabled:to-gray-300 disabled:cursor-not-allowed transition-all shadow-md hover:shadow-lg",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),e.jsx("span",{children:"Analizez legislaia..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Nm,{className:"w-5 h-5"}),e.jsx("span",{children:"Consult Legislaia"})]})})]}),x&&e.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-800",children:x})}),r&&!d&&e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Sp,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Rspuns AI cu Baz Legal:"})]}),e.jsx("div",{className:"p-6 bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg border border-green-100",children:e.jsx("div",{className:"text-gray-800 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:r}})}),l&&l.length>0&&e.jsxs("div",{className:"mt-4 p-4 bg-white border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(ot,{className:"w-5 h-5 text-gray-600"}),e.jsx("h4",{className:"font-semibold text-gray-900",children:"Articole Referite:"})]}),e.jsx("ul",{className:"space-y-2",children:l.map((j,w)=>e.jsxs("li",{className:"text-sm text-gray-700 flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 mt-0.5",children:""}),e.jsx("span",{children:j})]},w))})]})]})]})]}),!r&&!d&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(ot,{className:"w-5 h-5 text-gray-600"}),"ntrebri Frecvente"]}),e.jsx("div",{className:"space-y-2",children:h.map((j,w)=>e.jsx("button",{onClick:()=>y(j),className:"w-full text-left px-4 py-3 bg-gray-50 hover:bg-green-50 rounded-lg transition-colors text-sm text-gray-700 hover:text-green-700 border border-gray-200 hover:border-green-200",children:j},w))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-5 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:e.jsx(mt,{className:"w-4 h-4 text-white"})}),e.jsx("h4",{className:"font-semibold text-blue-900",children:"Termene Importante"})]}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[e.jsx("li",{children:" 25 ale lunii - Declaraie TVA (D300)"}),e.jsx("li",{children:" 25 ale lunii - Plata TVA"}),e.jsx("li",{children:" 25 Mai - Declaraia Unic (D212)"}),e.jsx("li",{children:" 31 Martie - Bilan contabil"})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-5 border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"p-2 bg-green-600 rounded-lg",children:e.jsx(ot,{className:"w-4 h-4 text-white"})}),e.jsx("h4",{className:"font-semibold text-green-900",children:"Template-uri Disponibile"})]}),e.jsxs("ul",{className:"text-sm text-green-800 space-y-2",children:[e.jsx("li",{children:" Declaraia Unic (D212)"}),e.jsx("li",{children:" Declaraie TVA (D300)"}),e.jsx("li",{children:" Bilan Contabil (D101)"}),e.jsx("li",{children:" Declaraie REVISAL"})]})]})]}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-xs text-yellow-800",children:[e.jsx("strong",{children:"Not important:"})," Informaiile furnizate de AI sunt orientative i bazate pe Codul Fiscal 2015. Pentru situaii complexe sau decizii importante, v recomandm s consultai un expert contabil autorizat."]})]})},vW=()=>{const{user:t}=Mt(),[a,r]=v.useState(null),[n,l]=v.useState(!0),[c,d]=v.useState(!1),[u,x]=v.useState({}),[f,h]=v.useState(""),[p,y]=v.useState("");v.useEffect(()=>{j()},[t]);const j=async()=>{if(t?.id){l(!0);try{const E=await xW(t.id);E.success&&(r(E.context),x(E.context?.context_data||{}))}catch{h("Nu s-a putut ncrca contextul personal")}finally{l(!1)}}},w=async()=>{if(t?.id){l(!0),h(""),y("");try{const E=await hW(t.id,{context_data:u},"Manual update from Personal Context page");E.success?(y("Context actualizat cu succes!"),r(E.context),d(!1),setTimeout(()=>y(""),3e3)):h(E.message||"Actualizarea a euat")}catch(E){h(E.message||"A aprut o eroare la actualizare")}finally{l(!1)}}},S=async()=>{if(t?.id)try{await fW(t.id),y("Context exportat cu succes!"),setTimeout(()=>y(""),3e3)}catch{h("Exportul a euat")}},g=async E=>{if(!t?.id||!E.target.files?.[0])return;const T=E.target.files[0],D=new FileReader;D.onload=async P=>{try{const R=JSON.parse(P.target?.result),L=await pW(t.id,R);L.success?(y("Context importat cu succes!"),await j(),setTimeout(()=>y(""),3e3)):h(L.message||"Importul a euat")}catch{h("Fiier invalid sau eroare la import")}},D.readAsText(T)};if(n&&!a)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-purple-500 border-t-transparent"})});const _=a?.context_data||{},O=_.basic_info||{},k=(_.performance_tracking||{}).current_metrics||{};return e.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-purple-500 to-violet-600 rounded-xl shadow-lg",children:e.jsx(jp,{className:"w-10 h-10 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Contextul Meu de Business"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Profilul tu pentru consultan AI personalizat"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",title:"Export context",children:[e.jsx(Xa,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden md:inline",children:"Export"})]}),e.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors cursor-pointer",children:[e.jsx(Mg,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden md:inline",children:"Import"}),e.jsx("input",{type:"file",accept:".json",onChange:g,className:"hidden"})]}),c?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:w,disabled:n,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:bg-gray-300",children:[e.jsx(Qi,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden md:inline",children:"Salveaz"})]}),e.jsxs("button",{onClick:()=>{d(!1),x(a?.context_data||{})},className:"flex items-center gap-2 px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",children:[e.jsx(fr,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden md:inline",children:"Anuleaz"})]})]}):e.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",children:[e.jsx(Ar,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden md:inline",children:"Editeaz"})]})]})]}),p&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-green-800",children:p}),f&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-800",children:f}),!a&&!n&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[e.jsx(jp,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Niciun Context de Business"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Creeaz-i contextul de business pentru consultan AI personalizat"}),e.jsx("button",{className:"px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg",children:"Creeaz Context"})]}),a&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-violet-50 p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q9,{className:"w-5 h-5 text-purple-600"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Informaii de Baz"})]})}),e.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nume Business"}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:O.business_name||a.business_name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tip Business"}),e.jsx("div",{className:"text-lg text-gray-900",children:O.business_type||a.business_type||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Industrie"}),e.jsx("div",{className:"text-lg text-gray-900",children:O.industry||a.industry||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stadiu Actual"}),e.jsx("div",{className:"inline-flex px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-medium",children:O.current_stage||a.current_stage||"N/A"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($e,{className:"w-5 h-5 text-blue-600"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Metrici Curente"})]})}),e.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-blue-600 font-medium mb-1",children:"Venit Lunar"}),e.jsx("div",{className:"text-2xl font-bold text-blue-900",children:k.revenue||"N/A"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-green-600 font-medium mb-1",children:"Clieni"}),e.jsx("div",{className:"text-2xl font-bold text-green-900",children:k.customers||"N/A"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-purple-600 font-medium mb-1",children:"Cretere"}),e.jsx("div",{className:"text-2xl font-bold text-purple-900",children:k.growth_rate||"N/A"})]})]})]}),O.business_goals&&O.business_goals.length>0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fr,{className:"w-5 h-5 text-green-600"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Obiective de Business"})]})}),e.jsx("div",{className:"p-6",children:e.jsx("ul",{className:"space-y-3",children:O.business_goals.map((E,T)=>e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-green-600 mt-1",children:""}),e.jsx("span",{className:"text-gray-700",children:E})]},T))})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-violet-50 rounded-xl p-6 border border-purple-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-purple-900 mb-4",children:"Statistici Context"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-purple-900",children:a.version||"1.0"}),e.jsx("div",{className:"text-xs text-purple-700",children:"Versiune"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-purple-900",children:"95%"}),e.jsx("div",{className:"text-xs text-purple-700",children:"Confidence AI"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-purple-900",children:a.last_accessed_at?"Astzi":"N/A"}),e.jsx("div",{className:"text-xs text-purple-700",children:"Ultima Accesare"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-purple-900",children:a.updated_at?new Date(a.updated_at).toLocaleDateString("ro-RO"):"N/A"}),e.jsx("div",{className:"text-xs text-purple-700",children:"Ultima Actualizare"})]})]})]})]})]})},bW=({treeId:t,sessionId:a,onComplete:r,onSwitchToAI:n})=>{const[l,c]=v.useState(null),[d,u]=v.useState(null),[x,f]=v.useState([]),[h,p]=v.useState(null),[y,j]=v.useState(!0),[w,S]=v.useState(a||`session_${Date.now()}`),[g,_]=v.useState(null);v.useEffect(()=>{t&&O(t)},[t]);const O=async R=>{try{j(!0);const q=await(await fetch("/api/v1/fiscal/hybrid-consultant.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:"Start tree",tree_id:R,user_id:localStorage.getItem("user_id")})})).json();q.success&&q.method==="decision_tree"&&(c(q.tree),u(q.current_node),S(q.session_id)),j(!1)}catch(L){console.error("Failed to load tree:",L),j(!1)}},C=async R=>{if(d)if(f([...x,{nodeId:d.id,pathId:R.id,question:d.question,answer:R.answer_option}]),R.is_terminal||R.next_node_id===null){j(!0);try{const q=await(await fetch("/api/v1/fiscal/hybrid-consultant.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({node_id:d.id,path_id:R.id,session_id:w,user_id:localStorage.getItem("user_id")})})).json();q.success&&q.is_terminal&&(p(q.answer),u(null),r&&r(q.answer))}catch(L){console.error("Failed to get final answer:",L)}j(!1)}else k(R.next_node_id)},k=async R=>{try{j(!0);const q=await(await fetch("/api/v1/fiscal/hybrid-consultant.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({node_id:R,session_id:w,user_id:localStorage.getItem("user_id")})})).json();q.success&&q.node&&u(q.node),j(!1)}catch(L){console.error("Failed to navigate:",L),j(!1)}},E=()=>{if(x.length===0)return;const R=[...x];if(R.pop(),f(R),R.length===0&&l)O(l.id);else{const L=R[R.length-1];k(L.nodeId)}},T=()=>{n&&n()},D=async R=>{_(R);try{await fetch("/api/v1/fiscal/decision-tree-rating",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tree_id:l?.id,session_id:w,helpful:R,user_id:localStorage.getItem("user_id")})})}catch(L){console.error("Failed to submit rating:",L)}},P=()=>{const L=Math.min(x.length+1,3),q=Math.round(L/3*100);return{currentStep:L,totalSteps:3,percentage:q}};return y&&!d?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"max-w-4xl mx-auto",children:[l&&e.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(dr,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:l.name})]}),e.jsx("p",{className:"text-gray-600",children:l.description})]}),x.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600 overflow-x-auto pb-2",children:x.map((R,L)=>e.jsx(mm.Fragment,{children:e.jsxs("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[e.jsx("span",{className:"font-medium",children:R.answer}),L<x.length-1&&e.jsx(xa,{className:"w-4 h-4 text-gray-400"})]})},L))}),e.jsxs("button",{onClick:E,className:"flex items-center gap-2 text-blue-600 hover:text-blue-700 text-sm font-medium",children:[e.jsx(lo,{className:"w-4 h-4"}),"napoi"]})]}),d&&!h&&(()=>{const R=P();return e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[e.jsxs("span",{children:["Pas ",R.currentStep," din ",R.totalSteps]}),e.jsxs("span",{children:[R.percentage,"% complet"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${R.percentage}%`}})})]})})(),d&&!h&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:d.question}),d.help_text&&e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg mb-4",children:e.jsx("p",{className:"text-sm text-blue-900",children:d.help_text})}),d.examples&&d.examples.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Exemple:"}),e.jsx("ul",{className:"space-y-1",children:d.examples.map((R,L)=>e.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-600",children:""}),e.jsx("span",{children:R})]},L))})]})]}),e.jsx("div",{className:"space-y-3",children:d.paths.map(R=>e.jsx("button",{onClick:()=>C(R),className:"w-full p-4 text-left bg-white border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-all group",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-lg font-medium text-gray-900 group-hover:text-blue-700",children:R.answer_option}),e.jsx(xa,{className:"w-5 h-5 text-gray-400 group-hover:text-blue-600"})]})},R.id))}),n&&e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsx("button",{onClick:T,className:"flex items-center gap-2 text-sm text-gray-600 hover:text-blue-600",children:" Prefer rspuns direct de la AI?"})})]}),h&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-green-50 border-l-4 border-green-500 p-6 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(ze,{className:"w-8 h-8 text-green-600"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Rspunsul Tu"})]}),h.answer_template&&e.jsx("div",{className:"prose max-w-none mb-6",dangerouslySetInnerHTML:{__html:h.answer_template}}),h.answer&&typeof h.answer=="object"&&h.answer.answer_template&&e.jsx("div",{className:"prose max-w-none mb-6",dangerouslySetInnerHTML:{__html:h.answer.answer_template}})]}),h.legislation_articles&&h.legislation_articles.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("h4",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(dr,{className:"w-5 h-5 text-blue-600"}),"Referine Legislative"]}),e.jsx("div",{className:"space-y-3",children:h.legislation_articles.map((R,L)=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsxs("h5",{className:"font-semibold text-gray-900 mb-1",children:[R.code," - ",R.title]}),e.jsx("p",{className:"text-sm text-gray-600",children:R.summary})]},L))})]}),h.strategic_advice&&e.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:h.strategic_advice}}),h.warnings&&e.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:h.warnings}}),h.next_steps&&h.next_steps.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-4 text-xl",children:" Paii Urmtori"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Plan de aciune complet pentru implementare:"}),e.jsx("div",{className:"space-y-4",children:h.next_steps.map((R,L)=>{const q=typeof R=="object"&&R!==null,F=q?R.step:R,se=q?R.description:null,ce=q?R.deadline:null,ue=q?R.responsible:null,H=q?R.link:null;return e.jsx("div",{className:"border-l-4 border-blue-500 pl-4 py-2 bg-gray-50 rounded-r-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:L+1}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"font-bold text-gray-900 mb-1",children:F}),se&&e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:se}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-xs",children:[ce&&e.jsxs("span",{className:"flex items-center gap-1 text-orange-700 bg-orange-50 px-2 py-1 rounded",children:[e.jsx("span",{children:""}),e.jsx("strong",{children:"Termen:"})," ",ce]}),ue&&e.jsxs("span",{className:"flex items-center gap-1 text-purple-700 bg-purple-50 px-2 py-1 rounded",children:[e.jsx("span",{children:""}),e.jsx("strong",{children:"Responsabil:"})," ",ue]})]}),H&&e.jsx("a",{href:H,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 mt-2 text-sm text-blue-600 hover:text-blue-700 hover:underline",children:" Descarc formular"})]})]})},L)})})]}),g===null&&e.jsxs("div",{className:"mt-6 p-6 border-t border-gray-200 text-center",children:[e.jsx("p",{className:"text-lg font-semibold text-gray-900 mb-4",children:"A fost util acest rspuns?"}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsxs("button",{onClick:()=>D(!0),className:"px-8 py-3 bg-green-100 text-green-800 rounded-lg hover:bg-green-200 font-medium transition-colors flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:""}),"Da, foarte util"]}),e.jsxs("button",{onClick:()=>D(!1),className:"px-8 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium transition-colors flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:""}),"Nu prea"]})]})]}),g!==null&&e.jsx("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg text-center",children:e.jsx("p",{className:"text-green-800 font-medium",children:" Mulumim pentru feedback! Ne ajut s mbuntim platforma."})}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[e.jsx("button",{onClick:()=>{p(null),f([]),_(null),l&&O(l.id)},className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:" ncepe din nou"}),e.jsx("button",{onClick:()=>window.print(),className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium",children:" Printeaz"}),e.jsx("button",{onClick:()=>{const R=encodeURIComponent(`Ghid: ${l?.name||"Decision Tree"}`),L=encodeURIComponent(`Am generat un ghid folosind DocumentiUlia:

${window.location.href}`);window.location.href=`mailto:?subject=${R}&body=${L}`},className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium",children:" Trimite email"})]})]})]})},jW=()=>{const[t,a]=v.useState([]),[r,n]=v.useState(null),[l,c]=v.useState(!0);v.useEffect(()=>{d()},[]);const d=async()=>{try{const p=await(await fetch("/api/v1/fiscal/decision-trees")).json();p.success&&a(p.trees||[]),c(!1)}catch(h){console.error("Failed to load decision trees:",h),c(!1)}},u=h=>{n(h)},x=()=>{n(null)},f=h=>({Fiscal:"bg-blue-100 text-blue-800",Accounting:"bg-green-100 text-green-800",HR:"bg-purple-100 text-purple-800",Legal:"bg-red-100 text-red-800",Business:"bg-yellow-100 text-yellow-800"})[h]||"bg-gray-100 text-gray-800";return r?e.jsxs(Ve,{children:[e.jsx("div",{className:"mb-4",children:e.jsx("button",{onClick:x,className:"px-4 py-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors",children:" napoi la list"})}),e.jsx(bW,{treeId:r,onComplete:h=>{console.log("Decision tree completed:",h)}})]}):e.jsx(Ve,{children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(dr,{className:"w-8 h-8 text-blue-600"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Arbori de Decizie Legislativ"})]}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Gsete rspunsuri rapide la ntrebri fiscale, contabile i de HR prin ghidaje pas-cu-pas"})]}),l&&e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),!l&&t.length===0&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-8 text-center",children:[e.jsx(dr,{className:"w-12 h-12 text-yellow-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-yellow-900 mb-2",children:"Niciun arbore de decizie disponibil nc"}),e.jsx("p",{className:"text-yellow-700",children:"Arborii de decizie vor fi adugai n curnd pentru a te ajuta s gseti rspunsuri rapide."})]}),!l&&t.length>0&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(h=>e.jsxs("div",{onClick:()=>u(h.id),className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md hover:border-blue-300 transition-all cursor-pointer group",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:`p-3 rounded-lg ${f(h.category)}`,children:[h.icon==="scale"&&e.jsx(dr,{className:"w-6 h-6"}),h.icon==="trending-up"&&e.jsx($e,{className:"w-6 h-6"}),h.icon==="search"&&e.jsx(Yr,{className:"w-6 h-6"}),!["scale","trending-up","search"].includes(h.icon)&&e.jsx(dr,{className:"w-6 h-6"})]}),e.jsx("span",{className:`text-xs px-2 py-1 rounded ${f(h.category)}`,children:h.category})]}),e.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:h.tree_name}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-3",children:h.description}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:e.jsx("span",{className:"text-sm text-blue-600 font-medium group-hover:text-blue-700",children:"ncepe ghidarea "})})]},h.id))}),e.jsxs("div",{className:"mt-12 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-200",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:" Cum funcioneaz?"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:"text-blue-600",children:"1."}),e.jsx("span",{children:"Selecteaz un arbore de decizie relevant pentru ntrebarea ta"})]}),e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:"text-blue-600",children:"2."}),e.jsx("span",{children:"Rspunde la ntrebri simple despre situaia ta"})]}),e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:"text-blue-600",children:"3."}),e.jsx("span",{children:"Primeti rspunsul exact cu referine legislative aplicabile"})]})]})]})]})})};function NW(){const[t,a]=v.useState([]),[r,n]=v.useState([]),[l,c]=v.useState([]),[d,u]=v.useState([]),[x,f]=v.useState(!0),[h,p]=v.useState("overdue");v.useEffect(()=>{y()},[]);const y=async()=>{f(!0);try{const[g,_,O,C]=await Promise.all([fetch("/api/v1/admin/decision-tree-updates.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"get_overdue_points"})}),fetch("/api/v1/admin/decision-tree-updates.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"get_due_this_week"})}),fetch("/api/v1/admin/decision-tree-updates.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"get_statistics"})}),fetch("/api/v1/admin/decision-tree-updates.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"get_all_variables"})})]),k=await g.json(),E=await _.json(),T=await O.json(),D=await C.json();k.success&&a(k.overdue_points||[]),E.success&&n(E.due_points||[]),T.success&&c(T.statistics||[]),D.success&&u(D.variables||[])}catch(g){console.error("Failed to fetch data:",g)}finally{f(!1)}},j=async g=>{try{(await(await fetch("/api/v1/admin/decision-tree-updates.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"mark_verified",point_id:g})})).json()).success&&(await y(),alert(" Marcat ca verificat! Data urmtoare de verificare a fost calculat automat."))}catch(_){console.error("Failed to mark as verified:",_),alert(" Eroare la marcarea ca verificat")}},w=t.filter(g=>g.criticality==="critical").length,S=t.filter(g=>g.criticality==="high").length;return x?e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Se ncarc..."})]})}):e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Managementul Actualizrilor - Arbori de Decizie"}),e.jsx("p",{className:"text-gray-600",children:"Sistem automat de tracking i actualizare a coninutului legislativ"})]}),w>0&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6 rounded-r-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(qt,{className:"w-6 h-6 text-red-600 mr-3 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("h2",{className:"font-bold text-red-900 text-lg",children:[" ",w," Actualizri CRITICE Depite"]}),e.jsx("p",{className:"text-red-700 mt-1",children:"Aceste elemente au impact financiar/legal imediat. V rugm verificai URGENT."})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(ru,{title:"Critical Depite",value:w,color:"red",icon:e.jsx(qt,{className:"w-6 h-6"})}),e.jsx(ru,{title:"Prioritate nalt",value:S,color:"orange",icon:e.jsx($e,{className:"w-6 h-6"})}),e.jsx(ru,{title:"De Verificat Sptmna Aceasta",value:r.length,color:"yellow",icon:e.jsx(hr,{className:"w-6 h-6"})}),e.jsx(ru,{title:"Variabile Active",value:d.length,color:"green",icon:e.jsx(ze,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsxs("nav",{className:"flex space-x-8",children:[e.jsx(nu,{active:h==="overdue",onClick:()=>p("overdue"),label:"Depite",count:t.length}),e.jsx(nu,{active:h==="due",onClick:()=>p("due"),label:"De Verificat Curnd",count:r.length}),e.jsx(nu,{active:h==="variables",onClick:()=>p("variables"),label:"Variabile",count:d.length}),e.jsx(nu,{active:h==="stats",onClick:()=>p("stats"),label:"Statistici"})]})}),h==="overdue"&&e.jsx(lS,{points:t,title:"Verificri Depite",onMarkVerified:j,showOverdue:!0}),h==="due"&&e.jsx(lS,{points:r,title:"De Verificat n Urmtoarele 7 Zile",onMarkVerified:j,showOverdue:!1}),h==="variables"&&e.jsx(wW,{variables:d}),h==="stats"&&e.jsx(SW,{statistics:l})]})}function ru({title:t,value:a,color:r,icon:n}){const l={red:"bg-red-100 text-red-900 border-red-200",orange:"bg-orange-100 text-orange-900 border-orange-200",yellow:"bg-yellow-100 text-yellow-900 border-yellow-200",green:"bg-green-100 text-green-900 border-green-200"};return e.jsxs("div",{className:`p-6 rounded-lg border-2 ${l[r]}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-4xl font-bold",children:a}),n]}),e.jsx("div",{className:"text-sm font-medium",children:t})]})}function nu({active:t,onClick:a,label:r,count:n}){return e.jsxs("button",{onClick:a,className:`py-4 px-1 border-b-2 font-medium text-sm ${t?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r,n!==void 0&&e.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs ${t?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,children:n})]})}function lS({points:t,title:a,onMarkVerified:r,showOverdue:n}){return t.length===0?e.jsxs("div",{className:"bg-white shadow rounded-lg p-8 text-center",children:[e.jsx(ze,{className:"w-12 h-12 text-green-500 mx-auto mb-3"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:" Toate la Zi!"}),e.jsx("p",{className:"text-gray-600",children:n?"Nu exist verificri depite.":"Nu exist verificri programate pentru urmtoarele 7 zile."})]}):e.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b bg-gray-50",children:e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:a})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Prioritate"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Arbore"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Punct de Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Valoare Curent"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:n?"Zile Depite":"Scaden"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Aciuni"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(l=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx(JA,{level:l.criticality})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:l.tree_name}),e.jsx("div",{className:"text-xs text-gray-500",children:l.update_category})]}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm text-gray-900",children:l.data_point_name}),l.auto_updateable&&e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 mt-1",children:"Auto-Update"})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:l.current_value})}),e.jsx("td",{className:"px-6 py-4",children:n?e.jsxs("span",{className:"text-red-600 font-bold",children:[l.days_overdue," zile"]}):e.jsx("span",{className:"text-sm text-gray-900",children:l.next_verification_due})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("button",{onClick:()=>r(l.id),className:"px-4 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 transition-colors",children:" Marcheaz Verificat"}),l.verification_url&&e.jsx("a",{href:l.verification_url,target:"_blank",rel:"noopener noreferrer",className:"ml-2 text-blue-600 hover:underline text-sm",children:"Surs "})]})]},l.id))})]})})]})}function JA({level:t}){const a={critical:"bg-red-100 text-red-800 border-red-200",high:"bg-orange-100 text-orange-800 border-orange-200",medium:"bg-yellow-100 text-yellow-800 border-yellow-200",low:"bg-gray-100 text-gray-800 border-gray-200"},r={critical:"CRITIC",high:"NALT",medium:"MEDIU",low:"SCZUT"},n=t in a?t:"low";return e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase border ${a[n]}`,children:r[n]})}function wW({variables:t}){return e.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b bg-gray-50",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Variabile Legislaie (",t.length,")"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Valori dinamice folosite n arborii de decizie. Modificarea acestora actualizeaz automat toate rspunsurile legate."})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cheie Variabil"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nume"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Valoare"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tip"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Efectiv Din"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("code",{className:"text-sm bg-blue-50 text-blue-900 px-2 py-1 rounded",children:["{{",a.variable_key,"}}"]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:a.variable_name}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[a.current_value," ",a.unit]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-xs px-2 py-1 bg-gray-100 text-gray-700 rounded",children:a.value_type})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:a.effective_from})]},a.id))})]})})]})}function SW({statistics:t}){return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Statistici pe Categorie"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map((a,r)=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 capitalize",children:a.update_category}),e.jsx(JA,{level:a.criticality})]}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Total Puncte:"}),e.jsx("span",{className:"font-semibold",children:a.total_points})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Depite:"}),e.jsx("span",{className:`font-semibold ${a.overdue_count>0?"text-red-600":"text-green-600"}`,children:a.overdue_count})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Sptmna Aceasta:"}),e.jsx("span",{className:"font-semibold",children:a.due_this_week})]})]})]},r))})]})})}const _W=()=>{const[t,a]=v.useState("kpi"),r=[{id:"kpi",name:"Interpretare KPI",icon:$e},{id:"financial",name:"Date Financiare",icon:da},{id:"setup",name:"Configurare Platform",icon:Js},{id:"usage",name:"Cum se Utilizeaz",icon:dr},{id:"best-practices",name:"Best Practices",icon:Fr},{id:"updates",name:"Actualizri & Mentenan",icon:mt}];return e.jsx(Ve,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tutoriale & Ghiduri"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"nva cum s utilizezi platforma AccountEch pentru rezultate optime"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:r.map(n=>{const l=n.icon;return e.jsxs("button",{onClick:()=>a(n.id),className:`p-4 rounded-lg border-2 transition-all ${t===n.id?"border-primary-600 bg-primary-50":"border-gray-200 bg-white hover:border-primary-300"}`,children:[e.jsx(l,{className:`w-6 h-6 mx-auto mb-2 ${t===n.id?"text-primary-600":"text-gray-600"}`}),e.jsx("p",{className:`text-sm font-medium text-center ${t===n.id?"text-primary-600":"text-gray-700"}`,children:n.name})]},n.id)})}),e.jsxs("div",{className:"card",children:[t==="kpi"&&e.jsx(CW,{}),t==="financial"&&e.jsx(AW,{}),t==="setup"&&e.jsx(kW,{}),t==="usage"&&e.jsx(OW,{}),t==="best-practices"&&e.jsx(EW,{}),t==="updates"&&e.jsx(TW,{})]})]})})},CW=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx($e,{className:"w-8 h-8 text-primary-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Interpretare KPI (Key Performance Indicators)"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:" Total Revenue (Venituri Totale)"}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Ce nseamn:"})," Suma total a tuturor veniturilor generate din vnzri n perioada selectat."]}),e.jsx("p",{children:e.jsx("strong",{children:"Cum se interpreteaz:"})}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Cretere constant:"})," Afacerea se dezvolt sntos"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Stagnare:"})," Necesit noi strategii de vnzare sau produse"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Scdere:"})," ALARM! Investigai cauzele (pierdere clieni, concuren, calitate)"]})]}),e.jsx("p",{children:e.jsx("strong",{children:"Aciuni recomandate:"})}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[e.jsx("li",{children:"Comparai cu aceeai perioad din anul precedent (YoY - Year over Year)"}),e.jsx("li",{children:"Analizai care produse/servicii genereaz cele mai multe venituri"}),e.jsx("li",{children:"Identificai tendinele sezoniere pentru a anticipa fluctuaiile"})]})]})]}),e.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:" Net Profit (Profit Net)"}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Ce nseamn:"})," Ctigul real dup deducerea tuturor cheltuielilor (COGS, salarii, taxe, etc.)."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Formula:"})," Profit Net = Venituri Totale - Cheltuieli Totale"]}),e.jsx("p",{children:e.jsx("strong",{children:"Marje de profit sntoase (industry standard):"})}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[e.jsx("li",{children:"Software/SaaS: 15-25%"}),e.jsx("li",{children:"Retail: 5-10%"}),e.jsx("li",{children:"Consultan: 20-30%"}),e.jsx("li",{children:"Manufacturing: 8-15%"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Aciuni dac profitul este sczut:"})}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[e.jsx("li",{children:"Reducei cheltuielile operaionale (dar fr a afecta calitatea)"}),e.jsx("li",{children:"Optimizai preurile - analizai dac putei crete preul fr a pierde clieni"}),e.jsx("li",{children:"Negociai termeni mai buni cu furnizorii"}),e.jsx("li",{children:"Eliminai produsele/serviciile neprofitabile"})]})]})]}),e.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:" Cash Flow (Flux de Numerar)"}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Ce nseamn:"})," Micarea real a banilor n i din afacere (difer de profit!)."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"De ce este critic:"})," Poi avea profit pe hrtie, dar fr cash flow pozitiv, nu poi plti salarii sau furnizori."]}),e.jsx("p",{children:e.jsx("strong",{children:"Cum se interpreteaz:"})}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Cash Flow Pozitiv:"})," Intr mai muli bani dect ies - SNTOS"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Cash Flow Negativ:"})," Ieiri mai mari dect intrri - PERICOL de insolven"]})]}),e.jsx("p",{children:e.jsx("strong",{children:"Aciuni pentru mbuntire:"})}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[e.jsx("li",{children:"Reducei termenele de plat de la clieni (de la 30 la 15 zile)"}),e.jsx("li",{children:"Negociai termene mai lungi cu furnizorii"}),e.jsx("li",{children:"Implementai penaliti pentru facturi ntrziate"}),e.jsx("li",{children:"Oferii discounturi pentru pli anticipate (ex: 2% discount pentru plat n 7 zile)"})]})]})]}),e.jsxs("div",{className:"border-l-4 border-orange-500 pl-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:" Outstanding Invoices (Facturi Nencasate)"}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Ce nseamn:"})," Facturile emise dar nencasate nc - bani care vi se datoreaz."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"KPI critic:"})," DSO (Days Sales Outstanding) - numrul mediu de zile pn cnd ncasai o factur."]}),e.jsx("p",{children:e.jsx("strong",{children:"Benchmark-uri DSO:"})}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[e.jsx("li",{children:"0-30 zile: EXCELENT"}),e.jsx("li",{children:"30-45 zile: BUN"}),e.jsx("li",{children:"45-60 zile: ACCEPTABIL (dar monitorizai)"}),e.jsx("li",{children:"60+ zile: PROBLEMATIC - risc de neplat"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Aciuni:"})}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[e.jsx("li",{children:'Monitorizai facturile "overdue" (restante) sptmnal'}),e.jsx("li",{children:"Automatizai reminder-ele de plat (7, 14, 21 zile de la emitere)"}),e.jsx("li",{children:"Pentru facturi > 60 zile, apelai personal clientul"}),e.jsx("li",{children:"Considerai factoring (vnzarea facturilor) pentru cash flow imediat"})]})]})]}),e.jsxs("div",{className:"border-l-4 border-red-500 pl-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:" Burn Rate (Rata de Ardere a Capitalului)"}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Ce nseamn:"})," Viteza cu care cheltuii banii (important pentru startup-uri i companii n cretere)."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Formula:"})," Burn Rate = (Cash nceput Lun - Cash Sfrit Lun) / 1 lun"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Runway:"})," Cte luni putei supravieui cu cash-ul actual la rata actual de ardere."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Formula Runway:"})," Runway = Cash Disponibil / Burn Rate Lunar"]}),e.jsx("p",{children:e.jsx("strong",{children:"Exemple:"})}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[e.jsx("li",{children:"Dac avei 100,000 RON i burn rate 20,000 RON/lun  Runway = 5 luni"}),e.jsx("li",{children:"Dac runway < 6 luni  URGEN! Gsii finanare sau reducei cheltuielile"})]})]})]})]})]}),AW=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(da,{className:"w-8 h-8 text-primary-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Interpretarea Rapoartelor Financiare"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:" Profit & Loss (Cont de Profit i Pierdere)"}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Scop:"})," Arat performana financiar ntr-o perioad (luna, trimestru, an)."]}),e.jsx("p",{children:e.jsx("strong",{children:"Structur:"})}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg font-mono text-sm space-y-1",children:[e.jsx("div",{children:"Venituri (Revenue) ....................... 500,000 RON"}),e.jsx("div",{children:"- Cost of Goods Sold (COGS) .............. -200,000 RON"}),e.jsx("div",{className:"border-t border-gray-300 pt-1",children:"= Profit Brut (Gross Profit) ............ 300,000 RON (60%)"}),e.jsx("div",{children:"- Cheltuieli Operaionale ................ -150,000 RON"}),e.jsx("div",{children:"(Salarii, marketing, chirie, etc.)"}),e.jsx("div",{className:"border-t border-gray-300 pt-1",children:"= Profit Operaional (EBITDA) ............ 150,000 RON (30%)"}),e.jsx("div",{children:"- Dobnzi, Amortizare, Taxe .............. -50,000 RON"}),e.jsx("div",{className:"border-t-2 border-gray-400 pt-1 font-bold",children:"= PROFIT NET ............................. 100,000 RON (20%)"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Cum se citete:"})}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Gross Profit Margin:"})," Trebuie >50% pentru afaceri sntoase"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Operating Margin (EBITDA):"})," Arat eficiena operaional"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Net Profit Margin:"})," Profitabilitatea real (vezi mai sus pentru benchmark-uri)"]})]}),e.jsx("p",{children:e.jsx("strong",{children:"Red Flags:"})}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[e.jsx("li",{children:"Gross margin sczut (<30%) - preuri prea mici sau COGS prea mare"}),e.jsx("li",{children:"Operating expenses > 50% din venituri - cheltuieli prea mari"}),e.jsx("li",{children:"Profit net negativ 3+ luni consecutiv - nesustenabil"})]})]})]}),e.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:" Balance Sheet (Bilan Contabil)"}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Scop:"})," Snapshot-ul sntii financiare la un moment dat (spre deosebire de P&L care este o perioad)."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Ecuaia de baz:"})," Active = Pasive + Capital Propriu"]}),e.jsx("p",{children:e.jsx("strong",{children:"Structur:"})}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg font-mono text-sm space-y-1",children:[e.jsx("div",{className:"font-bold",children:"ACTIVE (Assets):"}),e.jsx("div",{children:"Cash & Echivalente ..................... 100,000 RON"}),e.jsx("div",{children:"Facturi de ncasat (AR) ................ 200,000 RON"}),e.jsx("div",{children:"Inventar ................................ 150,000 RON"}),e.jsx("div",{children:"Echipamente & Proprieti ............... 300,000 RON"}),e.jsx("div",{className:"border-t border-gray-300 pt-1",children:"TOTAL ACTIVE ............................ 750,000 RON"}),e.jsx("div",{className:"mt-3 font-bold",children:"PASIVE (Liabilities):"}),e.jsx("div",{children:"Facturi de pltit (AP) ................. 100,000 RON"}),e.jsx("div",{children:"mprumuturi ............................ 200,000 RON"}),e.jsx("div",{className:"border-t border-gray-300 pt-1",children:"TOTAL PASIVE ............................ 300,000 RON"}),e.jsx("div",{className:"mt-3 font-bold",children:"CAPITAL PROPRIU (Equity):"}),e.jsx("div",{children:"Capitalul investitorilor + Profit reinut . 450,000 RON"}),e.jsx("div",{className:"border-t-2 border-gray-400 pt-1 font-bold",children:"TOTAL PASIVE + CAPITAL .................. 750,000 RON"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Ratio-uri cheie:"})}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Current Ratio = Active Curente / Pasive Curente"}),e.jsxs("ul",{className:"list-circle pl-6",children:[e.jsx("li",{children:">2.0 = Lichiditate excelent"}),e.jsx("li",{children:"1.5-2.0 = Sntos"}),e.jsx("li",{children:"<1.0 = Risc de insolven"})]})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Debt-to-Equity = Total Datorii / Capital Propriu"}),e.jsxs("ul",{className:"list-circle pl-6",children:[e.jsx("li",{children:"<0.5 = Risc sczut"}),e.jsx("li",{children:"0.5-1.5 = Moderat"}),e.jsx("li",{children:">2.0 = Foarte ndatorat (risky)"})]})]})]})]})]}),e.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:" Cash Flow Statement (Situaia Fluxurilor de Numerar)"}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Scop:"})," Urmrete micarea REAL a banilor (nu accrual accounting)."]}),e.jsx("p",{children:e.jsx("strong",{children:"3 Categorii:"})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[e.jsx("p",{className:"font-semibold",children:"1. Operating Cash Flow (din activitatea curent)"}),e.jsx("p",{children:"Bani din vnzri, pli ctre furnizori, salarii"}),e.jsx("p",{className:"text-sm text-green-700 mt-1",children:" Trebuie s fie POZITIV pentru o afacere sntoas"})]}),e.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[e.jsx("p",{className:"font-semibold",children:"2. Investing Cash Flow (din investiii)"}),e.jsx("p",{children:"Achiziii de echipamente, vnzri de active"}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:" Adesea negativ (investiii n cretere)"})]}),e.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg",children:[e.jsx("p",{className:"font-semibold",children:"3. Financing Cash Flow (din finanare)"}),e.jsx("p",{children:"mprumuturi primite/rambursate, investiii de capital"}),e.jsx("p",{className:"text-sm text-orange-700 mt-1",children:" Monitorizai - dependena de finanare extern poate fi riscant"})]})]}),e.jsx("p",{children:e.jsx("strong",{children:"Regula de aur:"})}),e.jsxs("p",{className:"bg-yellow-50 p-3 rounded-lg border-l-4 border-yellow-500",children:[e.jsx("strong",{children:"Operating Cash Flow trebuie s acopere >80% din cheltuielile operaionale."})," Dac depindei constant de finanare extern pentru operaiuni zilnice, modelul de business nu este sustenabil."]})]})]})]})]}),kW=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(Js,{className:"w-8 h-8 text-primary-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Configurare Iniial a Platformei"})]}),e.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 mb-6",children:[e.jsx("p",{className:"font-semibold text-blue-900",children:" Timpul estimat: 2-3 ore pentru setup complet"}),e.jsx("p",{className:"text-blue-800",children:"Urmai paii n ordine pentru rezultate optime"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-primary-600 text-white rounded-full flex items-center justify-center font-bold",children:"1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Configurare Companie"}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Unde:"})," Settings  Company Profile"]}),e.jsx("p",{children:e.jsx("strong",{children:"Ce completai:"})}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[e.jsx("li",{children:"Denumire complet companie + CUI/CIF"}),e.jsx("li",{children:"Adres sediu social (pentru facturare)"}),e.jsx("li",{children:"Persoan de contact + date bancare"}),e.jsx("li",{children:"Logo companie (folosit pe facturi/documente)"})]})]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-primary-600 text-white rounded-full flex items-center justify-center font-bold",children:"2"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Adugare Utilizatori & Roluri"}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Unde:"})," Settings  Users & Permissions"]}),e.jsx("p",{children:e.jsx("strong",{children:"Roluri recomandate:"})}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Owner:"})," Acces complet (CEO/Proprietar)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Admin:"})," Toat platforma minus setri critice (CFO/Manager)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Accountant:"})," Facturi, cheltuieli, rapoarte financiare"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Sales:"})," CRM, oportuniti, oferte, facturi"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Inventory Manager:"})," Produse, comenzi achiziie, stocuri"]})]}),e.jsxs("p",{className:"bg-yellow-50 p-2 rounded border-l-4 border-yellow-500 text-sm",children:[" ",e.jsx("strong",{children:"Securitate:"}),' Nu dai acces Admin dect persoanelor de ncredere. Folosii principiul "least privilege" - doar accesul necesar pentru rol.']})]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-primary-600 text-white rounded-full flex items-center justify-center font-bold",children:"3"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Import Date Iniiale"}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsx("p",{children:e.jsx("strong",{children:"Ordin recomandat de import:"})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[e.jsx("p",{className:"font-semibold",children:"1. Contacte (Customers & Vendors)"}),e.jsx("p",{className:"text-sm",children:"Importai din Excel/CSV toi clienii i furnizorii existeni"})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[e.jsx("p",{className:"font-semibold",children:"2. Produse/Servicii"}),e.jsx("p",{className:"text-sm",children:"Catalogul complet cu preuri de vnzare i achiziie"})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[e.jsx("p",{className:"font-semibold",children:"3. Facturi Deschise (Outstanding)"}),e.jsx("p",{className:"text-sm",children:"Doar cele nencasate - pentru tracking corect al cash flow"})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[e.jsx("p",{className:"font-semibold",children:"4. Conturi Bancare"}),e.jsx("p",{className:"text-sm",children:"Balante curente pentru fiecare cont"})]})]})]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-primary-600 text-white rounded-full flex items-center justify-center font-bold",children:"4"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Configurare Automatizri"}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsx("p",{children:e.jsx("strong",{children:"Automatizri eseniale:"})}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Email Reminders:"})," Facturi restante (7, 14, 30 zile)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Recurring Invoices:"})," Pentru clieni cu abonamente/contracte lunare"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Low Stock Alerts:"})," Notificri cnd stocul scade sub prag"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Financial Reports:"})," Rapoarte P&L automate la sfritul lunii"]})]})]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-primary-600 text-white rounded-full flex items-center justify-center font-bold",children:"5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Testare & Validare"}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsx("p",{children:e.jsx("strong",{children:"Checklist final:"})}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[e.jsx("li",{children:" Creai o factur test i trimitei-o pe email"}),e.jsx("li",{children:" Generai un raport P&L i verificai cifrele"}),e.jsx("li",{children:" Testai fluxul CRM: Lead  Opportunity  Quote  Invoice"}),e.jsx("li",{children:" Verificai dashboard-ul - toate widget-urile afieaz date?"})]})]})]})]})]})]}),OW=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(dr,{className:"w-8 h-8 text-primary-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Cum se Utilizeaz Platforma - Ghid Complet"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-2 border-green-300 bg-green-50 p-6 rounded-lg",children:[e.jsxs("h3",{className:"text-xl font-bold text-green-900 mb-4 flex items-center gap-2",children:[e.jsx(ze,{className:"w-6 h-6"})," Taskuri Zilnice (Daily Routine)"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:" Dimineaa (9:00 - 10:00)"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700 mt-2",children:[e.jsx("li",{children:"Verificai Dashboard-ul pentru overview rapid"}),e.jsx("li",{children:"Consultai Cash Flow forecast - suntei pe target?"}),e.jsx("li",{children:"Revedei facturile overdue i trimitei remindere"}),e.jsx("li",{children:"Verificai AI Insights pentru alertele de azi"})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:" n timpul zilei (continuous)"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700 mt-2",children:[e.jsx("li",{children:"nregistrai cheltuielile imediat (nu lsai pe final de lun!)"}),e.jsx("li",{children:"Emitei facturile pentru comenzi noi n aceeai zi"}),e.jsx("li",{children:"Actualizai statusul oportunitilor din CRM"}),e.jsx("li",{children:"Marcai facturile pltite cnd primii banii"})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:" Final de zi (17:00 - 18:00)"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700 mt-2",children:[e.jsx("li",{children:"Reconciliai conturile bancare (compar sold platform vs. sold real)"}),e.jsx("li",{children:"Verificai task-urile incomplete din CRM"}),e.jsx("li",{children:"Pregtii lista de prioriti pentru mine"})]})]})]})]}),e.jsxs("div",{className:"border-2 border-blue-300 bg-blue-50 p-6 rounded-lg",children:[e.jsxs("h3",{className:"text-xl font-bold text-blue-900 mb-4 flex items-center gap-2",children:[e.jsx(mt,{className:"w-6 h-6"})," Taskuri Sptmnale (Weekly Review)"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Luni diminea - Planning Session"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700 mt-2",children:[e.jsx("li",{children:"Revedei KPI-urile sptmnii trecute vs. target"}),e.jsx("li",{children:'Planificai outreach pentru oportuniti n "negotiation"'}),e.jsx("li",{children:"Setai target-uri pentru sptmna curent"})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Miercuri - Mid-week Check"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700 mt-2",children:[e.jsx("li",{children:"Verificai progresul ctre target-uri"}),e.jsx("li",{children:"Ajustai strategia dac e necesar"}),e.jsx("li",{children:"Follow-up cu clienii care au oferte pending"})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Vineri - Weekly Wrap-up"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700 mt-2",children:[e.jsx("li",{children:"Generai raport sptmnal (Revenue, Expenses, New Deals)"}),e.jsx("li",{children:"Curai CRM-ul (tergei lead-uri moarte)"}),e.jsx("li",{children:"Backup-ai datele importante"})]})]})]})]}),e.jsxs("div",{className:"border-2 border-purple-300 bg-purple-50 p-6 rounded-lg",children:[e.jsxs("h3",{className:"text-xl font-bold text-purple-900 mb-4 flex items-center gap-2",children:[e.jsx(mr,{className:"w-6 h-6"})," Taskuri Lunare (Monthly Close)"]}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsx("p",{className:"font-semibold",children:"ntre 1-5 ale lunii urmtoare:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Reconciliere complet:"})," Verificai c toate tranzaciile din luna trecut sunt nregistrate"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Generai rapoarte financiare:"})," P&L, Balance Sheet, Cash Flow pentru luna ncheiat"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Analizai performana:"})," Comparai cu luna anterioar i cu target-urile"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Verificai inventory:"})," Comparai stocul din platform cu stocul fizic"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Actualizai forecast-ul:"})," Pe baza performanei lunii trecute"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Pli fiscale:"})," Pregtii declaraiile i pltii taxele (TVA, impozit profit, etc.)"]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg mt-4",children:[e.jsx("p",{className:"font-semibold text-purple-900",children:" Monthly Business Review Meeting"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Organizai o ntlnire cu echipa pentru a discuta:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm text-gray-700 mt-2",children:[e.jsx("li",{children:"Ce a mers bine? Ce nvm?"}),e.jsx("li",{children:"Ce nu a mers? Ce schimbm?"}),e.jsx("li",{children:"Care sunt target-urile pentru luna urmtoare?"})]})]})]})]})]})]}),EW=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(Fr,{className:"w-8 h-8 text-primary-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Best Practices pentru Rezultate Optime"})]}),e.jsx("div",{className:"space-y-6",children:[{title:" Pstrai date CLEAN",color:"blue",items:["Nu introducei duplicate - verificai nainte dac contactul/produsul exist",'Folosii naming conventions consistente (ex: "ACME SRL" nu "Acme", "acme", "ACME S.R.L.")',"Categorizai corect cheltuielile - ajut la rapoarte precise","tergei datele de test dup configurarea iniial"]},{title:" Automatizai tot ce se poate",color:"green",items:["Recurring invoices pentru clieni cu contracte lunare/anuale","Email reminders automate pentru facturi (economisii timp + cretei rata de colectare)","Low stock alerts - nu rmnei fr inventar","Rapoarte automate trimise pe email la sfritul lunii"]},{title:" Securitate & Backup",color:"red",items:["Activai autentificare cu doi factori (2FA) pentru utilizatori Admin/Owner","Schimbai parolele la 3 luni","Export backup lunar al tuturor datelor (Settings  Export Data)","Nu partajai credeniale de login - creai utilizatori separai"]},{title:" Urmrii metrici relevani",color:"purple",items:["Definii 3-5 KPI-uri critice pentru afacerea voastr i monitorizai-i SPTMNAL","Setai target-uri realiste (bazate pe date istorice + 10-20% cretere)","Creai dashboard-uri personalizate pentru fiecare rol (Sales vede pipeline, CFO vede cash flow)","Folosii AI Insights - platform identific anomalii i oportuniti automat"]},{title:" Colaborare n echip",color:"orange",items:["Folosii Comments & Notes pe facturi/oportuniti pentru context",'Atribuii clear ownership - fiecare oportunitate trebuie s aib un "Assigned To"',"Weekly stand-up cu echipa - 15 min pentru aliniare","Transparen total - toat echipa s vad performana n timp real"]}].map((t,a)=>e.jsxs("div",{className:`border-l-4 border-${t.color}-500 bg-${t.color}-50 p-6 rounded-lg`,children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:t.title}),e.jsx("ul",{className:"space-y-2",children:t.items.map((r,n)=>e.jsxs("li",{className:"flex items-start gap-2 text-gray-700",children:[e.jsx(xa,{className:"w-5 h-5 text-gray-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:r})]},n))})]},a))})]}),TW=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(mt,{className:"w-8 h-8 text-primary-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Cnd & Cum s Actualizai Datele"})]}),e.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 p-6 mb-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(qt,{className:"w-6 h-6 text-yellow-700 flex-shrink-0 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-yellow-900 mb-2",children:'Regula de aur: "Garbage In, Garbage Out"'}),e.jsx("p",{className:"text-yellow-800",children:"Platforma este la fel de precis ca datele pe care le introducei. Actualizri regulate = decizii corecte bazate pe date reale."})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-2 border-green-300 bg-green-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-xl font-bold text-green-900 mb-4",children:" Actualizri n Timp Real (Immediate)"}),e.jsxs("div",{className:"space-y-3 text-gray-700",children:[e.jsxs("div",{className:"bg-white p-4 rounded",children:[e.jsx("p",{className:"font-semibold",children:" Facturi"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm mt-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Creare:"})," Imediat dup confirmare comand (nu ateptai sfritul zilei)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Marcai ca pltit:"})," n secunda n care vedei banii n cont"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"De ce:"})," Cash flow forecast-ul trebuie s fie real-time pentru decizii corecte"]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded",children:[e.jsx("p",{className:"font-semibold",children:" Cheltuieli"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm mt-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"nregistrare:"})," Aceeai zi cnd cheltuiala apare"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Pro tip:"})," Fotografiai bonul i ataai la cheltuial pentru audit"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"De ce:"})," Evitai s uitai cheltuieli  rapoarte P&L false"]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded",children:[e.jsx("p",{className:"font-semibold",children:" CRM (Opportunities & Leads)"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm mt-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Status update:"})," Dup fiecare interaciune cu clientul"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Notes:"})," Adugai imediat - nu vei mai ine minte peste 2 zile"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"De ce:"})," Pipeline-ul trebuie s reflecte realitatea pentru forecast corect"]})]})]})]})]}),e.jsxs("div",{className:"border-2 border-blue-300 bg-blue-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-4",children:" Actualizri Zilnice (End of Day)"}),e.jsx("div",{className:"space-y-2 text-gray-700",children:e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Reconciliere conturi bancare:"}),e.jsx("p",{className:"text-sm",children:"Comparai soldul din platform cu cel din cont. Discrepane? Investigai imediat."})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Inventar (dac avei magazin fizic):"}),e.jsx("p",{className:"text-sm",children:"Actualizai stocurile dup vnzri/recepii. Greelile se acumuleaz exponenial dac ateptai."})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Time tracking (dac factur pe ore):"}),e.jsx("p",{className:"text-sm",children:"nregistrai orele lucrate n aceeai zi - memory fades fast."})]})]})})]}),e.jsxs("div",{className:"border-2 border-purple-300 bg-purple-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-4",children:" Actualizri Sptmnale"}),e.jsx("div",{className:"space-y-2 text-gray-700",children:e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Curare CRM:"}),e.jsx("p",{className:"text-sm",children:'tergei lead-urile "moarte" (nu rspund > 3 sptmni). Marcai won/lost pentru oportuniti rezolvate.'})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Review AI Insights:"}),e.jsx("p",{className:"text-sm",children:"Platforma genereaz recomandri - verificai i acionai sptmnal."})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Verificare facturi overdue:"}),e.jsx("p",{className:"text-sm",children:"Contactai clienii cu facturi > 30 zile. Automatizarea e bun, dar call-ul personal e mai eficient."})]})]})})]}),e.jsxs("div",{className:"border-2 border-red-300 bg-red-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-xl font-bold text-red-900 mb-4",children:" Actualizri Lunare (CRITICE)"}),e.jsx("div",{className:"space-y-2 text-gray-700",children:e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Reconciliere complet:"}),e.jsx("p",{className:"text-sm",children:"TOATE tranzaciile trebuie s matchuiasc ntre platform i extrasele bancare. Zero discrepane admise."})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Inventar fizic count:"}),e.jsx("p",{className:"text-sm",children:"Numrai stocul fizic i comparai cu sistemul. Ajustai discrepanele."})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Review & cleanup:"}),e.jsx("p",{className:"text-sm",children:"Categorii de cheltuieli, contacte duplicate, produse inactive - curai lunar."})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Backup complet:"}),e.jsx("p",{className:"text-sm",children:"Export all data (Settings  Export). Pstrai 3 backup-uri (luna curent + 2 luni anterioare)."})]})]})})]}),e.jsxs("div",{className:"border-2 border-orange-300 bg-orange-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-xl font-bold text-orange-900 mb-4",children:" Actualizri Trimestriale & Anuale"}),e.jsxs("div",{className:"space-y-3 text-gray-700",children:[e.jsxs("div",{className:"bg-white p-4 rounded",children:[e.jsx("p",{className:"font-semibold",children:" Trimestrial (Q1, Q2, Q3, Q4)"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm mt-2",children:[e.jsx("li",{children:"Review complet al KPI-urilor vs. target-uri anuale"}),e.jsx("li",{children:"Ajustai strategia dac nu suntei on track"}),e.jsx("li",{children:"Audit al utilizatorilor - tergei conturile inactive"}),e.jsx("li",{children:"Update prices - analizai dac preurile trebuie ajustate (inflaie, concuren)"})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded",children:[e.jsx("p",{className:"font-semibold",children:" Anual (ianuarie urmtorul)"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm mt-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Financial year close:"})," Generai rapoarte complete pentru anul fiscal"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Tax preparation:"})," Pregtii toate documentele pentru contabil/ANAF"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Archive old data:"})," Mutai datele vechi (>2 ani) n arhiv"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Strategic planning:"})," Setai target-uri i bugete pentru anul urmtor"]})]})]})]})]})]})]});function MW(){const[t,a]=v.useState(null),[r,n]=v.useState(!0);v.useEffect(()=>{l()},[]);const l=async()=>{try{n(!0),setTimeout(()=>{a({total_products:156,total_stock_value:487500,total_warehouses:3,low_stock_alerts:12,out_of_stock:3,recent_movements:45,inventory_turnover:6.2,stock_accuracy:98.5}),n(!1)},500)}catch(d){console.error("Error fetching dashboard stats:",d),n(!1)}},c=d=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:"RON"}).format(d);return r?e.jsxs("div",{className:"flex justify-center items-center h-96",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("p",{className:"ml-4 text-gray-500",children:"Se ncarc tabloul de bord..."})]}):e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:" Tablou de Bord Inventar"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Vizualizare general a stocurilor i activitii din depozite"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Produse"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:t?.total_products}),e.jsxs("p",{className:"text-sm text-green-600 mt-1 flex items-center",children:[e.jsx($e,{className:"w-4 h-4 mr-1"}),"+12% fa de luna trecut"]})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(gt,{className:"w-7 h-7 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Valoare Stoc"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:c(t?.total_stock_value||0)}),e.jsxs("p",{className:"text-sm text-green-600 mt-1 flex items-center",children:[e.jsx($e,{className:"w-4 h-4 mr-1"}),"+8% fa de luna trecut"]})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(mr,{className:"w-7 h-7 text-purple-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Alerte Stoc Sczut"}),e.jsx("p",{className:"text-3xl font-bold text-yellow-600 mt-2",children:t?.low_stock_alerts}),e.jsxs("p",{className:"text-sm text-yellow-600 mt-1",children:[t?.out_of_stock," produse epuizate"]})]}),e.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:e.jsx(Gs,{className:"w-7 h-7 text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Depozite Active"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:t?.total_warehouses}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[t?.recent_movements," micri recent"]})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(ms,{className:"w-7 h-7 text-green-600"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[e.jsxs(ge,{to:"/inventory/products",className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow group cursor-pointer",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(gt,{className:"w-7 h-7 text-blue-600"})}),e.jsx(xa,{className:"w-5 h-5 text-gray-400 group-hover:text-blue-600 transition-colors"})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Catalog Produse"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Gestionai catalogul de produse, preuri i informaii"})]}),e.jsxs(ge,{to:"/inventory/stock-levels",className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow group cursor-pointer",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(mr,{className:"w-7 h-7 text-green-600"})}),e.jsx(xa,{className:"w-5 h-5 text-gray-400 group-hover:text-green-600 transition-colors"})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Niveluri Stoc"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Monitorizare n timp real a stocurilor pe depozite"})]}),e.jsxs(ge,{to:"/inventory/warehouses",className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow group cursor-pointer",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(ms,{className:"w-7 h-7 text-purple-600"})}),e.jsx(xa,{className:"w-5 h-5 text-gray-400 group-hover:text-purple-600 transition-colors"})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Depozite & Locaii"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Gestionai depozitele i punctele de stocare"})]}),e.jsxs(ge,{to:"/inventory/low-stock",className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow group cursor-pointer",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:e.jsx(Ga,{className:"w-7 h-7 text-yellow-600"})}),e.jsx(xa,{className:"w-5 h-5 text-gray-400 group-hover:text-yellow-600 transition-colors"})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Alerte Stoc Sczut"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Monitorizai produsele cu stoc sczut i comenzile"}),t&&t.low_stock_alerts>0&&e.jsxs("div",{className:"mt-3 px-2 py-1 bg-yellow-100 rounded text-sm font-medium text-yellow-800 inline-block",children:[t.low_stock_alerts," alerte active"]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg shadow-md p-6 border-2 border-dashed border-gray-300 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"n curnd"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-1",children:"Micri Stoc"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Istoric complet micri"})]})}),e.jsx("div",{className:"bg-gray-50 rounded-lg shadow-md p-6 border-2 border-dashed border-gray-300 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"n curnd"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-1",children:"Transferuri"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Transferuri ntre depozite"})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Indicatori de Performan"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Rotaie Inventar"}),e.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[t?.inventory_turnover,"x"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.min((t?.inventory_turnover||0)/10*100,100)}%`}})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"int: 8x/an"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Acuratee Stoc"}),e.jsxs("span",{className:"text-2xl font-bold text-green-600",children:[t?.stock_accuracy,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${t?.stock_accuracy}%`}})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"int: 99%"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Nivel Serviciu"}),e.jsx("span",{className:"text-2xl font-bold text-purple-600",children:"96.8%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:"96.8%"}})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"int: 98%"})]})]})]})]})}function DW(){const[t,a]=v.useState([]),[r,n]=v.useState(null),[l,c]=v.useState(!0),[d,u]=v.useState(""),[x,f]=v.useState(""),[h,p]=v.useState(!1);v.useEffect(()=>{y()},[d,x,h]);const y=async()=>{try{c(!0);const g=localStorage.getItem("token"),_=localStorage.getItem("company_id"),O=new URLSearchParams({company_id:_||"",...d&&{search:d},...x&&{category:x},...h&&{low_stock:"true"}}),C=await fetch(`/api/v1/inventory/products.php?${O}`,{headers:{Authorization:`Bearer ${g}`}});if(!C.ok)throw new Error("Failed to fetch products");const k=await C.json();a(k.products||[]),k.summary&&n(k.summary)}catch(g){console.error("Error fetching products:",g)}finally{c(!1)}},j=g=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:"RON"}).format(g),w=g=>g.total_stock===0?"text-red-600 bg-red-50":g.is_low_stock?"text-yellow-600 bg-yellow-50":"text-green-600 bg-green-50",S=g=>g.total_stock===0?"Stoc epuizat":g.is_low_stock?"Stoc sczut":"n stoc";return e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:[e.jsx("div",{className:"mb-4 sm:mb-6 md:mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:" Produse & Inventar"}),e.jsx("p",{className:"mt-1 text-xs sm:text-sm text-gray-500",children:"Gestionai catalogul de produse i monitorizai stocurile"})]}),e.jsxs("button",{onClick:()=>alert("Funcionalitate n dezvoltare"),className:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-3 sm:py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 active:bg-blue-800 transition-colors text-sm font-medium min-h-[44px]",children:[e.jsx(ua,{className:"w-5 h-5 mr-2"}),"Produs Nou"]})]})}),r&&e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center",children:[e.jsx("div",{className:"flex-shrink-0 mb-2 sm:mb-0",children:e.jsx(gt,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-600"})}),e.jsxs("div",{className:"sm:ml-4",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Total Produse"}),e.jsx("p",{className:"text-xl sm:text-2xl font-semibold text-gray-900",children:r.total_products})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center",children:[e.jsx("div",{className:"flex-shrink-0 mb-2 sm:mb-0",children:e.jsx(mr,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-600"})}),e.jsxs("div",{className:"sm:ml-4",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Uniti Stoc"}),e.jsx("p",{className:"text-xl sm:text-2xl font-semibold text-gray-900",children:r.total_units.toLocaleString()})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center",children:[e.jsx("div",{className:"flex-shrink-0 mb-2 sm:mb-0",children:e.jsx($e,{className:"h-6 w-6 sm:h-8 sm:w-8 text-purple-600"})}),e.jsxs("div",{className:"sm:ml-4",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Valoare Stoc"}),e.jsx("p",{className:"text-xl sm:text-2xl font-semibold text-gray-900",children:j(r.total_value)})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center",children:[e.jsx("div",{className:"flex-shrink-0 mb-2 sm:mb-0",children:e.jsx(Ga,{className:"h-6 w-6 sm:h-8 sm:w-8 text-yellow-600"})}),e.jsxs("div",{className:"sm:ml-4",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Stoc Sczut"}),e.jsx("p",{className:"text-xl sm:text-2xl font-semibold text-gray-900",children:r.low_stock_products})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center",children:[e.jsx("div",{className:"flex-shrink-0 mb-2 sm:mb-0",children:e.jsx(Ga,{className:"h-6 w-6 sm:h-8 sm:w-8 text-red-600"})}),e.jsxs("div",{className:"sm:ml-4",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Stoc Epuizat"}),e.jsx("p",{className:"text-xl sm:text-2xl font-semibold text-gray-900",children:r.out_of_stock_products})]})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow mb-4 sm:mb-6 p-3 sm:p-4",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"relative sm:col-span-2 lg:col-span-1",children:[e.jsx(Yr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("input",{type:"text",placeholder:"Caut produs...",value:d,onChange:g=>u(g.target.value),className:"w-full pl-9 sm:pl-10 pr-3 sm:pr-4 py-3 sm:py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("select",{value:x,onChange:g=>f(g.target.value),className:"px-3 sm:px-4 py-3 sm:py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Toate categoriile"}),e.jsx("option",{value:"Electronics",children:"Electronice"}),e.jsx("option",{value:"Clothing",children:"mbrcminte"}),e.jsx("option",{value:"Food",children:"Alimente"}),e.jsx("option",{value:"Books",children:"Cri"}),e.jsx("option",{value:"Other",children:"Altele"})]}),e.jsxs("label",{className:"flex items-center justify-center px-3 sm:px-4 py-3 sm:py-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 active:bg-gray-100 min-h-[44px]",children:[e.jsx("input",{type:"checkbox",checked:h,onChange:g=>p(g.target.checked),className:"mr-2 w-4 h-4"}),e.jsx(sl,{className:"w-4 h-4 mr-2 text-gray-600"}),e.jsx("span",{className:"text-sm",children:"Stoc sczut"})]}),e.jsx("button",{onClick:()=>{u(""),f(""),p(!1)},className:"px-3 sm:px-4 py-3 sm:py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 active:bg-gray-300 transition-colors text-sm font-medium min-h-[44px]",children:"Reseteaz"})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"block md:hidden",children:l?e.jsxs("div",{className:"px-4 py-12 text-center text-gray-500",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("p",{className:"mt-2 text-sm",children:"Se ncarc produsele..."})]}):t.length===0?e.jsxs("div",{className:"px-4 py-12 text-center text-gray-500",children:[e.jsx(gt,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-base font-medium",children:"Niciun produs gsit"}),e.jsx("p",{className:"text-sm",children:"ncepei prin a aduga primul produs"})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:t.map(g=>e.jsx("div",{className:"p-4 hover:bg-gray-50 active:bg-gray-100",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 h-12 w-12 bg-gray-200 rounded flex items-center justify-center",children:e.jsx(gt,{className:"w-6 h-6 text-gray-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:g.name}),e.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["SKU: ",g.sku]})]}),e.jsx("span",{className:`ml-2 px-2 py-1 inline-flex text-xs leading-4 font-semibold rounded-full ${w(g)}`,children:S(g)})]}),e.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Categorie:"}),e.jsx("span",{className:"ml-1 font-medium text-gray-900",children:g.category||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Pre:"}),e.jsx("span",{className:"ml-1 font-medium text-gray-900",children:j(g.selling_price)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Stoc:"}),e.jsxs("span",{className:"ml-1 font-medium text-gray-900",children:[g.total_stock," ",g.unit_of_measure]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Marj:"}),e.jsxs("span",{className:`ml-1 font-medium ${g.profit_margin>20?"text-green-600":g.profit_margin>10?"text-yellow-600":"text-red-600"}`,children:[g.profit_margin?.toFixed(1),"%"]})]})]}),e.jsxs("div",{className:"mt-3 flex gap-2",children:[e.jsx("button",{className:"flex-1 px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 active:bg-blue-200 min-h-[44px]",children:"Vizualizare"}),e.jsx("button",{className:"flex-1 px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 active:bg-gray-300 min-h-[44px]",children:"Editeaz"})]})]})]})},g.id))})}),e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produs"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categorie"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pre Vnzare"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Marj"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stoc Total"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Disponibil"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Depozite"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aciuni"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l?e.jsx("tr",{children:e.jsxs("td",{colSpan:9,className:"px-6 py-12 text-center text-gray-500",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("p",{className:"mt-2",children:"Se ncarc produsele..."})]})}):t.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:9,className:"px-6 py-12 text-center text-gray-500",children:[e.jsx(gt,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium",children:"Niciun produs gsit"}),e.jsx("p",{className:"text-sm",children:"ncepei prin a aduga primul produs"})]})}):t.map(g=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-gray-200 rounded flex items-center justify-center",children:e.jsx(gt,{className:"w-6 h-6 text-gray-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:g.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["SKU: ",g.sku]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:g.category||"Necategorizat"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-gray-900",children:j(g.selling_price)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsxs("span",{className:`text-sm font-medium ${g.profit_margin>20?"text-green-600":g.profit_margin>10?"text-yellow-600":"text-red-600"}`,children:[g.profit_margin?.toFixed(1),"%"]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium text-gray-900",children:[g.total_stock," ",g.unit_of_measure]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-gray-900",children:[g.total_free," ",g.unit_of_measure]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-gray-500",children:g.warehouse_count}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${w(g)}`,children:S(g)})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-3",children:"Vizualizare"}),e.jsx("button",{className:"text-gray-600 hover:text-gray-900",children:"Editeaz"})]})]},g.id))})]})})]})]})}function PW(){const[t,a]=v.useState([]),[r,n]=v.useState(!0),[l,c]=v.useState("product"),[d,u]=v.useState(new Set);v.useEffect(()=>{x()},[l]);const x=async()=>{try{n(!0);const y=localStorage.getItem("token"),j=localStorage.getItem("company_id"),w=new URLSearchParams({company_id:j||"",group_by:l}),S=await fetch(`/api/v1/inventory/stock-levels.php?${w}`,{headers:{Authorization:`Bearer ${y}`}});if(!S.ok)throw new Error("Failed to fetch stock levels");const g=await S.json();a(g.products||[])}catch(y){console.error("Error fetching stock levels:",y)}finally{n(!1)}},f=y=>{const j=new Set(d);j.has(y)?j.delete(y):j.add(y),u(j)},h=y=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:"RON"}).format(y),p=(y,j)=>j?y===0?e.jsx(Ga,{className:"w-4 h-4 text-red-600"}):y<=j?e.jsx(Gs,{className:"w-4 h-4 text-yellow-600"}):e.jsx($e,{className:"w-4 h-4 text-green-600"}):null;return e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:[e.jsx("div",{className:"mb-4 sm:mb-6 md:mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:" Niveluri Stoc"}),e.jsx("p",{className:"mt-1 text-xs sm:text-sm text-gray-500",children:"Monitorizare n timp real a stocurilor pe produse i depozite"})]}),e.jsxs("button",{onClick:x,className:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-3 sm:py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 active:bg-blue-800 transition-colors text-sm font-medium min-h-[44px]",children:[e.jsx(wu,{className:"w-5 h-5 mr-2"}),"Actualizeaz"]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow mb-4 sm:mb-6 p-3 sm:p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[e.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Vizualizare:"}),e.jsxs("div",{className:"flex gap-2 flex-1",children:[e.jsxs("button",{onClick:()=>c("product"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-3 sm:py-2 rounded-lg text-sm font-medium transition-colors min-h-[44px] ${l==="product"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200 active:bg-gray-300"}`,children:[e.jsx(gt,{className:"w-4 h-4 inline mr-2"}),"Pe Produs"]}),e.jsxs("button",{onClick:()=>c("warehouse"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-3 sm:py-2 rounded-lg text-sm font-medium transition-colors min-h-[44px] ${l==="warehouse"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200 active:bg-gray-300"}`,children:[e.jsx(ms,{className:"w-4 h-4 inline mr-2"}),"Pe Depozit"]})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"block md:hidden",children:r?e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Se ncarc nivelurile de stoc..."})]}):t.length===0?e.jsxs("div",{className:"p-6 text-center",children:[e.jsx(gt,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-base font-medium",children:"Niciun stoc gsit"})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:t.map(y=>e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-start space-x-3 cursor-pointer active:bg-gray-50",onClick:()=>f(y.product_id),children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-gray-200 rounded flex items-center justify-center",children:e.jsx(gt,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:y.product_name}),e.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["SKU: ",y.sku]})]}),e.jsx("div",{className:"ml-2",children:y.total_available===0?e.jsx(Ga,{className:"w-5 h-5 text-red-600"}):y.total_available<=10?e.jsx(Gs,{className:"w-5 h-5 text-yellow-600"}):e.jsx($e,{className:"w-5 h-5 text-green-600"})})]}),e.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Stoc Total:"}),e.jsxs("span",{className:"ml-1 font-medium text-gray-900",children:[y.total_available," ",y.unit_of_measure]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Disponibil:"}),e.jsxs("span",{className:"ml-1 font-medium text-green-600",children:[y.total_free," ",y.unit_of_measure]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Rezervat:"}),e.jsxs("span",{className:"ml-1 text-gray-600",children:[y.total_reserved," ",y.unit_of_measure]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Valoare:"}),e.jsx("span",{className:"ml-1 font-medium text-gray-900",children:h(y.total_value)})]})]}),d.has(y.product_id)&&y.warehouse_details&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 space-y-2",children:[e.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Detalii pe Depozit:"}),y.warehouse_details.map(j=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-900",children:j.warehouse_name}),e.jsx("p",{className:"text-xs text-gray-500",children:j.warehouse_code})]}),p(j.quantity_available,j.reorder_level)]}),e.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Disponibil:"}),e.jsx("span",{className:"ml-1 font-medium",children:j.quantity_available})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Liber:"}),e.jsx("span",{className:"ml-1 text-green-600 font-medium",children:j.quantity_free})]})]})]},j.warehouse_id))]})]})]})},y.product_id))})}),e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produs"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stoc Total"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rezervat"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Disponibil"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"n Comand"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost Mediu"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valoare Total"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Depozite"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r?e.jsx("tr",{children:e.jsxs("td",{colSpan:9,className:"px-6 py-12 text-center text-gray-500",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("p",{className:"mt-2",children:"Se ncarc nivelurile de stoc..."})]})}):t.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:9,className:"px-6 py-12 text-center text-gray-500",children:[e.jsx(gt,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium",children:"Niciun stoc gsit"})]})}):t.map(y=>e.jsxs(mm.Fragment,{children:[e.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>f(y.product_id),children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-gray-200 rounded flex items-center justify-center",children:e.jsx(gt,{className:"w-6 h-6 text-gray-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:y.product_name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["SKU: ",y.sku]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[y.total_available," ",y.unit_of_measure]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("span",{className:"text-sm text-gray-600",children:[y.total_reserved," ",y.unit_of_measure]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("span",{className:"text-sm font-medium text-green-600",children:[y.total_free," ",y.unit_of_measure]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("span",{className:"text-sm text-blue-600",children:[y.total_on_order," ",y.unit_of_measure]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-gray-900",children:h(y.avg_cost)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium text-gray-900",children:h(y.total_value)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:y.warehouse_count})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("div",{className:"flex items-center justify-center",children:y.total_available===0?e.jsx(Ga,{className:"w-5 h-5 text-red-600"}):y.total_available<=10?e.jsx(Gs,{className:"w-5 h-5 text-yellow-600"}):e.jsx($e,{className:"w-5 h-5 text-green-600"})})})]}),d.has(y.product_id)&&y.warehouse_details&&e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"px-6 py-4 bg-gray-50",children:e.jsxs("div",{className:"ml-14",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Detalii pe Depozit:"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.warehouse_details.map(j=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900",children:j.warehouse_name}),e.jsx("p",{className:"text-xs text-gray-500",children:j.warehouse_code})]}),p(j.quantity_available,j.reorder_level)]}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Disponibil:"}),e.jsx("span",{className:"font-medium",children:j.quantity_available})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Rezervat:"}),e.jsx("span",{className:"text-yellow-600",children:j.quantity_reserved})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Liber:"}),e.jsx("span",{className:"text-green-600 font-medium",children:j.quantity_free})]}),j.reorder_level&&e.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[e.jsx("span",{className:"text-gray-600",children:"Nivel Recomandare:"}),e.jsx("span",{className:"text-blue-600",children:j.reorder_level})]}),j.last_movement_date&&e.jsxs("div",{className:"flex justify-between pt-2",children:[e.jsx("span",{className:"text-gray-600 text-xs",children:"Ultima micare:"}),e.jsx("span",{className:"text-gray-500 text-xs",children:new Date(j.last_movement_date).toLocaleDateString("ro-RO")})]})]})]},j.warehouse_id))})]})})})]},y.product_id))})]})})]})]})}function zW(){const[t,a]=v.useState([]),[r,n]=v.useState(!0),[l,c]=v.useState(!1),[d,u]=v.useState(null);v.useEffect(()=>{x()},[]);const x=async()=>{try{n(!0);const S=localStorage.getItem("token"),g=localStorage.getItem("company_id"),_=new URLSearchParams({company_id:g||"",include_stats:"true"}),O=await fetch(`/api/v1/inventory/warehouses.php?${_}`,{headers:{Authorization:`Bearer ${S}`}});if(!O.ok)throw new Error("Failed to fetch warehouses");const C=await O.json();a(C.warehouses||[])}catch(S){console.error("Error fetching warehouses:",S)}finally{n(!1)}},f=S=>S?new Intl.NumberFormat("ro-RO",{style:"currency",currency:"RON"}).format(S):"-",h=S=>({warehouse:"Depozit",store:"Magazin",dropship:"Dropshipping"})[S]||S,p=S=>({warehouse:"bg-blue-100 text-blue-800",store:"bg-green-100 text-green-800",dropship:"bg-purple-100 text-purple-800"})[S]||"bg-gray-100 text-gray-800",y=()=>{u(null),c(!0)},j=S=>{u(S),c(!0)},w=async S=>{if(confirm("Sigur dorii s dezactivai acest depozit?"))try{const g=localStorage.getItem("token"),_=await fetch(`/api/v1/inventory/warehouses.php?id=${S}`,{method:"DELETE",headers:{Authorization:`Bearer ${g}`}});if(!_.ok){const O=await _.json();alert(O.error||"Eroare la tergerea depozitului");return}await x()}catch(g){console.error("Error deleting warehouse:",g),alert("Eroare la tergerea depozitului")}};return e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:[e.jsx("div",{className:"mb-4 sm:mb-6 md:mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:" Depozite & Locaii"}),e.jsx("p",{className:"mt-1 text-xs sm:text-sm text-gray-500",children:"Gestionai depozitele, magazinele i punctele de stocare"})]}),e.jsxs("button",{onClick:y,className:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-3 sm:py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 active:bg-blue-800 transition-colors text-sm font-medium min-h-[44px]",children:[e.jsx(ua,{className:"w-5 h-5 mr-2"}),"Depozit Nou"]})]})}),r?e.jsxs("div",{className:"flex justify-center items-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("p",{className:"ml-4 text-gray-500",children:"Se ncarc depozitele..."})]}):t.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[e.jsx(ms,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Niciun depozit gsit"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"ncepei prin a aduga primul depozit"}),e.jsxs("button",{onClick:y,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(ua,{className:"w-5 h-5 mr-2"}),"Adaug Depozit"]})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:t.map(S=>e.jsxs("div",{className:"bg-white rounded-lg shadow hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(ms,{className:"w-7 h-7 text-blue-600"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:S.name}),e.jsx("p",{className:"text-sm text-gray-500",children:S.code})]})]}),!S.is_active&&e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800",children:"Inactiv"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${p(S.warehouse_type)}`,children:h(S.warehouse_type)}),S.is_sellable&&e.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Vnzare direct"})]})]}),e.jsxs("div",{className:"p-6 bg-gray-50 border-b border-gray-200",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Produse"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:S.product_count||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Uniti Stoc"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:S.total_stock?.toLocaleString()||0})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Valoare Total"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:f(S.total_value)})]})]}),S.low_stock_count&&S.low_stock_count>0&&e.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 rounded-lg flex items-center",children:[e.jsx($e,{className:"w-5 h-5 text-yellow-600 mr-2"}),e.jsxs("span",{className:"text-sm text-yellow-800",children:[S.low_stock_count," produse cu stoc sczut"]})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start mb-3",children:[e.jsx(r_,{className:"w-5 h-5 text-gray-400 mr-2 mt-0.5"}),e.jsxs("div",{className:"text-sm text-gray-600",children:[S.address&&e.jsx("p",{children:S.address}),e.jsxs("p",{children:[S.city,S.county?`, ${S.county}`:""]}),S.postal_code&&e.jsx("p",{children:S.postal_code})]})]}),(S.phone||S.email)&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 text-sm text-gray-600",children:[S.phone&&e.jsxs("p",{children:[" ",S.phone]}),S.email&&e.jsxs("p",{children:[" ",S.email]})]})]}),e.jsxs("div",{className:"px-4 sm:px-6 py-3 sm:py-4 bg-gray-50 rounded-b-lg flex justify-end gap-2",children:[e.jsxs("button",{onClick:()=>j(S),className:"inline-flex items-center justify-center px-3 py-2 bg-white border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-colors min-h-[44px]",children:[e.jsx(Ar,{className:"w-4 h-4 mr-1"}),"Editeaz"]}),e.jsxs("button",{onClick:()=>w(S.id),className:"inline-flex items-center justify-center px-3 py-2 bg-white border border-red-300 rounded-md text-sm font-medium text-red-700 hover:bg-red-50 active:bg-red-100 transition-colors min-h-[44px]",children:[e.jsx(vr,{className:"w-4 h-4 mr-1"}),"terge"]})]})]},S.id))}),l&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:d?"Editare Depozit":"Depozit Nou"})}),e.jsx("div",{className:"p-6",children:e.jsx("p",{className:"text-gray-500",children:"Formular n construcie..."})}),e.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Anuleaz"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Salveaz"})]})]})})]})}function RW(){const[t,a]=v.useState([]),[r,n]=v.useState(null),[l,c]=v.useState(!0),[d,u]=v.useState("active");v.useEffect(()=>{x()},[d]);const x=async()=>{try{c(!0);const S=localStorage.getItem("token"),g=localStorage.getItem("company_id"),_=new URLSearchParams({company_id:g||"",status:d}),O=await fetch(`/api/v1/inventory/low-stock.php?${_}`,{headers:{Authorization:`Bearer ${S}`}});if(!O.ok)throw new Error("Failed to fetch alerts");const C=await O.json();a(C.alerts||[]),n(C.summary||null)}catch(S){console.error("Error fetching alerts:",S)}finally{c(!1)}},f=async(S,g)=>{try{const _=localStorage.getItem("token");if(!(await fetch("/api/v1/inventory/low-stock.php",{method:"PUT",headers:{Authorization:`Bearer ${_}`,"Content-Type":"application/json"},body:JSON.stringify({id:S,alert_status:g})})).ok)throw new Error("Failed to update alert");await x()}catch(_){console.error("Error updating alert:",_),alert("Eroare la actualizarea alertei")}},h=S=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:"RON"}).format(S),p=S=>S.current_stock===0?"border-red-500 bg-red-50":S.days_out_of_stock>7?"border-orange-500 bg-orange-50":"border-yellow-500 bg-yellow-50",y=S=>S.current_stock===0?e.jsx(Ga,{className:"w-6 h-6 text-red-600"}):e.jsx(Gs,{className:"w-6 h-6 text-yellow-600"}),j=S=>({active:"bg-red-100 text-red-800",acknowledged:"bg-yellow-100 text-yellow-800",ordered:"bg-blue-100 text-blue-800",resolved:"bg-green-100 text-green-800"})[S]||"bg-gray-100 text-gray-800",w=S=>({active:"Activ",acknowledged:"Confirmat",ordered:"Comandat",resolved:"Rezolvat"})[S]||S;return e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:" Alerte Stoc Sczut"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Monitorizai produsele cu stoc sczut i gestionai comenzile de reaprovizionare"})]}),r&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Ga,{className:"h-8 w-8 text-red-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Alerte"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:r.total_alerts})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Gs,{className:"h-8 w-8 text-yellow-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Alerte Active"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:r.active_alerts})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(fr,{className:"h-8 w-8 text-red-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Stoc Epuizat"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:r.out_of_stock_count})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(xu,{className:"h-8 w-8 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Valoare Comand"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:h(r.suggested_order_value)})]})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow mb-6 p-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filtreaz:"}),e.jsx("div",{className:"flex space-x-2",children:["active","acknowledged","ordered","resolved"].map(S=>e.jsx("button",{onClick:()=>u(S),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${d===S?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:w(S)},S))})]})}),e.jsx("div",{className:"space-y-4",children:l?e.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"Se ncarc alertele..."})]}):t.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[e.jsx(Ga,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nicio alert gsit"}),e.jsx("p",{className:"text-gray-500",children:d==="active"?"Toate produsele au stoc suficient!":`Nicio alert cu status: ${w(d)}`})]}):t.map(S=>e.jsxs("div",{className:`bg-white rounded-lg shadow-md border-l-4 ${p(S)} p-6`,children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:y(S)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:S.product_name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["SKU: ",S.sku," | ",S.warehouse_name]})]}),e.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${j(S.alert_status)}`,children:w(S.alert_status)})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Stoc Curent"}),e.jsxs("p",{className:`text-xl font-bold ${S.current_stock===0?"text-red-600":"text-yellow-600"}`,children:[S.current_stock," ",S.unit_of_measure]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Nivel Recomandare"}),e.jsxs("p",{className:"text-xl font-bold text-blue-600",children:[S.reorder_level," ",S.unit_of_measure]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Comand Sugerat"}),e.jsxs("p",{className:"text-xl font-bold text-green-600",children:[S.suggested_order_quantity," ",S.unit_of_measure]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Valoare Comand"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:h(S.suggested_order_quantity*S.purchase_price)})]})]}),S.current_stock===0&&e.jsx("div",{className:"mt-4 p-3 bg-red-100 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(fr,{className:"w-5 h-5 text-red-600 mr-2"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-red-900",children:"STOC EPUIZAT"}),S.days_out_of_stock>0&&e.jsxs("p",{className:"text-sm text-red-700",children:["Lips de ",S.days_out_of_stock," zile | Pierdere estimat: ",h(S.estimated_lost_revenue)]})]})]})})]})]})}),e.jsxs("div",{className:"mt-6 flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[S.alert_status==="active"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>f(S.id,"acknowledged"),className:"inline-flex items-center px-4 py-2 bg-yellow-100 text-yellow-800 rounded-lg hover:bg-yellow-200 transition-colors",children:[e.jsx(ju,{className:"w-4 h-4 mr-2"}),"Confirm"]}),e.jsxs("button",{onClick:()=>f(S.id,"ordered"),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(xu,{className:"w-4 h-4 mr-2"}),"Creeaz Comand"]})]}),S.alert_status==="acknowledged"&&e.jsxs("button",{onClick:()=>f(S.id,"ordered"),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(xu,{className:"w-4 h-4 mr-2"}),"Creeaz Comand"]}),S.alert_status==="ordered"&&e.jsxs("button",{onClick:()=>f(S.id,"resolved"),className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(ju,{className:"w-4 h-4 mr-2"}),"Marcheaz Rezolvat"]}),e.jsx("button",{className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Vezi Produs"})]})]},S.id))})]})}function LW(){const[t,a]=v.useState([]),[r,n]=v.useState(!0),[l,c]=v.useState(""),[d,u]=v.useState(""),[x,f]=v.useState(""),[h,p]=v.useState("");v.useEffect(()=>{y()},[l,d,x,h]);const y=async()=>{try{n(!0);const _=localStorage.getItem("token"),O=localStorage.getItem("company_id"),C=new URLSearchParams({company_id:O||"",...d&&{movement_type:d},...x&&{start_date:x},...h&&{end_date:h},limit:"100"}),k=await fetch(`/api/v1/inventory/stock-movement.php?${C}`,{headers:{Authorization:`Bearer ${_}`,"Content-Type":"application/json"}});if(k.ok){const E=await k.json();a(E.movements||[])}else console.error("Failed to fetch movements")}catch(_){console.error("Error fetching movements:",_)}finally{n(!1)}},j=_=>{switch(_){case"in":return e.jsx($e,{className:"w-4 h-4 text-green-600"});case"out":return e.jsx(Gs,{className:"w-4 h-4 text-red-600"});case"transfer":return e.jsx(Lc,{className:"w-4 h-4 text-blue-600"});case"adjustment":return e.jsx(Js,{className:"w-4 h-4 text-yellow-600"});default:return e.jsx(gt,{className:"w-4 h-4 text-gray-600"})}},w=_=>{const O={in:"bg-green-100 text-green-800",out:"bg-red-100 text-red-800",transfer:"bg-blue-100 text-blue-800",adjustment:"bg-yellow-100 text-yellow-800",return:"bg-purple-100 text-purple-800"},C={in:"Intrare",out:"Ieire",transfer:"Transfer",adjustment:"Ajustare",return:"Retur"};return e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${O[_]||"bg-gray-100 text-gray-800"}`,children:[j(_),C[_]||_]})},S=()=>{const _=["Data","Produs","SKU","Depozit","Tip","Cantitate","Cost Unitar","Valoare Total","Referin","Notie"],O=t.map(T=>[new Date(T.created_at).toLocaleDateString("ro-RO"),T.product_name,T.product_sku,T.warehouse_name,T.movement_type,T.quantity,T.unit_cost,T.total_value,T.reference_number||"",T.notes||""]),C=[_.join(","),...O.map(T=>T.join(","))].join(`
`),k=new Blob([C],{type:"text/csv;charset=utf-8;"}),E=document.createElement("a");E.href=URL.createObjectURL(k),E.download=`miscaristoc_${new Date().toISOString().split("T")[0]}.csv`,E.click()},g=t.filter(_=>!l||_.product_name.toLowerCase().includes(l.toLowerCase())||_.product_sku.toLowerCase().includes(l.toLowerCase())||_.warehouse_name.toLowerCase().includes(l.toLowerCase()));return e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-3 sm:pb-4",children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Istoric Micri Stoc"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:"Vizualizai toate micrile de stoc: intrri, ieiri, transferuri i ajustri"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-3 sm:p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"sm:col-span-2 lg:col-span-1",children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Cutare"}),e.jsxs("div",{className:"relative",children:[e.jsx(Yr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:l,onChange:_=>c(_.target.value),placeholder:"Produs, SKU...",className:"w-full pl-9 pr-3 py-3 sm:py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Tip Micare"}),e.jsxs("select",{value:d,onChange:_=>u(_.target.value),className:"w-full px-3 py-3 sm:py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Toate tipurile"}),e.jsx("option",{value:"in",children:"Intrare"}),e.jsx("option",{value:"out",children:"Ieire"}),e.jsx("option",{value:"transfer",children:"Transfer"}),e.jsx("option",{value:"adjustment",children:"Ajustare"}),e.jsx("option",{value:"return",children:"Retur"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Data nceput"}),e.jsxs("div",{className:"relative",children:[e.jsx(mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"}),e.jsx("input",{type:"date",value:x,onChange:_=>f(_.target.value),className:"w-full pl-9 pr-3 py-3 sm:py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Data Sfrit"}),e.jsxs("div",{className:"relative",children:[e.jsx(mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"}),e.jsx("input",{type:"date",value:h,onChange:_=>p(_.target.value),className:"w-full pl-9 pr-3 py-3 sm:py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-2 mt-3 sm:mt-4 pt-3 sm:pt-4 border-t border-gray-200",children:[e.jsxs("button",{onClick:y,className:"inline-flex items-center justify-center gap-2 px-4 py-3 sm:py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 active:bg-gray-100 min-h-[44px]",children:[e.jsx(wu,{className:"w-4 h-4"}),"Remprospteaz"]}),e.jsxs("button",{onClick:S,disabled:t.length===0,className:"inline-flex items-center justify-center gap-2 px-4 py-3 sm:py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 active:bg-blue-800 disabled:opacity-50 disabled:cursor-not-allowed min-h-[44px]",children:[e.jsx(Xa,{className:"w-4 h-4"}),"Export CSV"]})]})]}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:r?e.jsxs("div",{className:"p-6 sm:p-8 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Se ncarc micrile..."})]}):g.length===0?e.jsxs("div",{className:"p-6 sm:p-8 text-center",children:[e.jsx(gt,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600",children:"Nu exist micri de stoc"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Ajustai filtrele pentru a vedea rezultate"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"block md:hidden divide-y divide-gray-200",children:g.map(_=>e.jsxs("div",{className:"p-4 hover:bg-gray-50 active:bg-gray-100",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:_.product_name}),e.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["SKU: ",_.product_sku]})]}),w(_.movement_type)]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Data:"}),e.jsx("span",{className:"ml-1 font-medium text-gray-900 block",children:new Date(_.created_at).toLocaleDateString("ro-RO",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Depozit:"}),e.jsx("span",{className:"ml-1 font-medium text-gray-900 block truncate",children:_.warehouse_name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Cantitate:"}),e.jsxs("span",{className:`ml-1 font-medium ${_.quantity>0?"text-green-600":"text-red-600"}`,children:[_.quantity>0?"+":"",_.quantity]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Valoare:"}),e.jsx("span",{className:"ml-1 font-medium text-gray-900",children:_.total_value?`${_.total_value.toFixed(2)} RON`:"-"})]})]}),_.reference_number&&e.jsxs("div",{className:"text-xs text-gray-500 pt-2 border-t border-gray-100",children:["Ref: ",_.reference_number]})]},_.id))}),e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produs"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Depozit"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tip"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cantitate"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost Unitar"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valoare"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Referin"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(_=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(_.created_at).toLocaleDateString("ro-RO",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.product_name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["SKU: ",_.product_sku]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"inline-flex items-center gap-1 text-sm text-gray-700",children:[e.jsx(ms,{className:"w-4 h-4 text-gray-400"}),_.warehouse_name]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w(_.movement_type)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right",children:e.jsxs("span",{className:_.quantity>0?"text-green-600 font-medium":"text-red-600 font-medium",children:[_.quantity>0?"+":"",_.quantity]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900",children:_.unit_cost?`${_.unit_cost.toFixed(2)} RON`:"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-medium text-gray-900",children:_.total_value?`${_.total_value.toFixed(2)} RON`:"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_.reference_number||"-"})]},_.id))})]})})]})}),g.length>0&&e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-3 sm:p-4",children:e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4 text-xs sm:text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Total Micri:"}),e.jsx("span",{className:"ml-2 font-semibold text-gray-900",children:g.length})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Intrri:"}),e.jsx("span",{className:"ml-2 font-semibold text-green-600",children:g.filter(_=>_.movement_type==="in").length})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Ieiri:"}),e.jsx("span",{className:"ml-2 font-semibold text-red-600",children:g.filter(_=>_.movement_type==="out").length})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Valoare Total:"}),e.jsxs("span",{className:"ml-2 font-semibold text-gray-900",children:[g.reduce((_,O)=>_+(O.total_value||0),0).toFixed(2)," RON"]})]})]})})]})}function IW(){const[t,a]=v.useState(1),[r,n]=v.useState(""),[l,c]=v.useState([]),[d,u]=v.useState([]),[x,f]=v.useState([]),[h,p]=v.useState(""),[y,j]=v.useState(""),[w,S]=v.useState(!1),[g,_]=v.useState(!1),[O,C]=v.useState("");v.useEffect(()=>{k(),E()},[]);const k=async()=>{try{const F=localStorage.getItem("token"),se=localStorage.getItem("company_id"),ce=await fetch(`/api/v1/inventory/warehouses.php?company_id=${se}`,{headers:{Authorization:`Bearer ${F}`}});if(ce.ok){const ue=await ce.json();c(ue.warehouses||[])}}catch(F){console.error("Error fetching warehouses:",F)}},E=async()=>{try{const F=localStorage.getItem("token"),se=localStorage.getItem("company_id"),ce=await fetch(`/api/v1/inventory/products.php?company_id=${se}`,{headers:{Authorization:`Bearer ${F}`}});if(ce.ok){const ue=await ce.json();u(ue.products||[])}}catch(F){console.error("Error fetching products:",F)}},T=F=>{if(x.find(ce=>ce.product_id===F.id))return;const se={product_id:F.id,product_name:F.name,product_sku:F.sku,current_quantity:0,adjustment_quantity:0,adjustment_type:"add",new_quantity:0};f([...x,se])},D=F=>{f(x.filter(se=>se.product_id!==F))},P=(F,se,ce)=>{f(x.map(ue=>{if(ue.product_id===F){const H={...ue,[se]:ce};if(se==="adjustment_quantity"||se==="adjustment_type"){const z=typeof ce=="number"?ce:H.adjustment_quantity,$=typeof ce=="string"?ce:H.adjustment_type;H.new_quantity=$==="add"?H.current_quantity+z:H.current_quantity-z}return H}return ue}))},R=async()=>{if(x.length===0){C("Adugai cel puin un produs");return}if(!h){C("Selectai un motiv pentru ajustare");return}try{S(!0),C("");const F=localStorage.getItem("token"),se=localStorage.getItem("company_id");for(const ce of x)if(!(await fetch("/api/v1/inventory/stock-adjustment.php",{method:"POST",headers:{Authorization:`Bearer ${F}`,"Content-Type":"application/json"},body:JSON.stringify({company_id:se,warehouse_id:r,product_id:ce.product_id,quantity:ce.adjustment_type==="add"?ce.adjustment_quantity:-ce.adjustment_quantity,reason:h,notes:y})})).ok)throw new Error(`Failed to adjust ${ce.product_name}`);_(!0),setTimeout(()=>{L()},2e3)}catch(F){C(F.message||"Eroare la procesarea ajustrilor")}finally{S(!1)}},L=()=>{a(1),n(""),f([]),p(""),j(""),_(!1),C("")},q=()=>{switch(t){case 1:return r!=="";case 2:return x.length>0;case 3:return x.every(F=>F.adjustment_quantity>0);case 4:return h!=="";default:return!1}};return g?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ze,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Ajustare Completat!"}),e.jsx("p",{className:"text-gray-600",children:"Stocurile au fost actualizate cu succes."}),e.jsx("button",{onClick:L,className:"mt-6 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Creeaz Alt Ajustare"})]})}):e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Ajustare Stoc"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Adaug sau scade cantiti din stoc cu motiv"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:[1,2,3,4,5].map((F,se)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${t>=F?"border-blue-600 bg-blue-600 text-white":"border-gray-300 text-gray-400"}`,children:F}),se<4&&e.jsx("div",{className:`w-12 h-1 ${t>F?"bg-blue-600":"bg-gray-300"}`})]},F))}),e.jsxs("div",{className:"flex justify-between mt-2 text-xs text-gray-600",children:[e.jsx("span",{children:"Depozit"}),e.jsx("span",{children:"Produse"}),e.jsx("span",{children:"Cantiti"}),e.jsx("span",{children:"Motiv"}),e.jsx("span",{children:"Verificare"})]})]}),O&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(Ga,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Eroare"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:O})]}),e.jsx("button",{onClick:()=>C(""),className:"ml-auto",children:e.jsx(fr,{className:"w-5 h-5 text-red-400 hover:text-red-600"})})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 min-h-[400px]",children:[t===1&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(ms,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Selecteaz Depozitul"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.map(F=>e.jsxs("button",{onClick:()=>n(F.id),className:`p-4 border-2 rounded-lg text-left transition-colors ${r===F.id?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:"font-medium text-gray-900",children:F.name}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:F.location_name})]},F.id))})]}),t===2&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(gt,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Selecteaz Produsele"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adaug Produse:"}),e.jsxs("select",{onChange:F=>{const se=d.find(ce=>ce.id===F.target.value);se&&T(se),F.target.value=""},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Selecteaz un produs..."}),d.filter(F=>!x.find(se=>se.product_id===F.id)).map(F=>e.jsxs("option",{value:F.id,children:[F.name," (",F.sku,")"]},F.id))]})]}),x.length>0&&e.jsx("div",{className:"border border-gray-200 rounded-lg divide-y",children:x.map(F=>e.jsxs("div",{className:"p-3 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:F.product_name}),e.jsxs("div",{className:"text-sm text-gray-600",children:["SKU: ",F.product_sku]})]}),e.jsx("button",{onClick:()=>D(F.product_id),className:"text-red-600 hover:text-red-800",children:e.jsx(fr,{className:"w-5 h-5"})})]},F.product_id))})]})]}),t===3&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(Js,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Seteaz Cantitile"})]}),e.jsx("div",{className:"space-y-4",children:x.map(F=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("div",{className:"font-medium text-gray-900 mb-3",children:F.product_name}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Tip Ajustare"}),e.jsxs("select",{value:F.adjustment_type,onChange:se=>P(F.product_id,"adjustment_type",se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{value:"add",children:"Adaug (+)"}),e.jsx("option",{value:"subtract",children:"Scade (-)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Cantitate"}),e.jsx("input",{type:"number",min:"0",value:F.adjustment_quantity,onChange:se=>P(F.product_id,"adjustment_quantity",parseInt(se.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Rezultat"}),e.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-300 rounded-lg",children:e.jsxs("span",{className:F.adjustment_type==="add"?"text-green-600":"text-red-600",children:[F.adjustment_type==="add"?"+":"-",F.adjustment_quantity]})})]})]})]},F.product_id))})]}),t===4&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(Ga,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Motiv i Notie"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Motiv Ajustare ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsxs("select",{value:h,onChange:F=>p(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Selecteaz motivul..."}),e.jsx("option",{value:"damage",children:"Deteriorare"}),e.jsx("option",{value:"loss",children:"Pierdere"}),e.jsx("option",{value:"found",children:"Gsit"}),e.jsx("option",{value:"correction",children:"Corectare Inventar"}),e.jsx("option",{value:"revaluation",children:"Reevaluare"}),e.jsx("option",{value:"other",children:"Altele"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notie (opional)"}),e.jsx("textarea",{value:y,onChange:F=>j(F.target.value),rows:4,placeholder:"Adaug detalii suplimentare...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]}),t===5&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(ze,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Verific i Confirm"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Depozit:"}),e.jsx("span",{className:"font-medium text-gray-900",children:l.find(F=>F.id===r)?.name})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Produse:"}),e.jsx("span",{className:"font-medium text-gray-900",children:x.length})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Motiv:"}),e.jsx("span",{className:"font-medium text-gray-900",children:h})]})]}),e.jsx("div",{className:"border border-gray-200 rounded-lg divide-y",children:x.map(F=>e.jsxs("div",{className:"p-3 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:F.product_name}),e.jsxs("div",{className:"text-sm text-gray-600",children:["SKU: ",F.product_sku]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:`font-semibold ${F.adjustment_type==="add"?"text-green-600":"text-red-600"}`,children:[F.adjustment_type==="add"?"+":"-",F.adjustment_quantity]})})]},F.product_id))}),y&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm font-medium text-yellow-800 mb-1",children:"Notie:"}),e.jsx("div",{className:"text-sm text-yellow-700",children:y})]})]})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("button",{onClick:()=>a(Math.max(1,t-1)),disabled:t===1,className:"inline-flex items-center gap-2 px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(JS,{className:"w-4 h-4"}),"napoi"]}),t<5?e.jsxs("button",{onClick:()=>a(t+1),disabled:!q(),className:"inline-flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:["Urmtorul",e.jsx(jl,{className:"w-4 h-4"})]}):e.jsxs("button",{onClick:R,disabled:w,className:"inline-flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[w?"Se proceseaz...":"Confirm Ajustare",e.jsx(ze,{className:"w-4 h-4"})]})]})]})}function BW(){const[t,a]=v.useState(1),[r,n]=v.useState(""),[l,c]=v.useState(""),[d,u]=v.useState([]),[x,f]=v.useState([]),[h,p]=v.useState([]),[y,j]=v.useState(new Date().toISOString().split("T")[0]),[w,S]=v.useState(""),[g,_]=v.useState(!1),[O,C]=v.useState(!1),[k,E]=v.useState(""),[T,D]=v.useState("");v.useEffect(()=>{P(),R()},[]);const P=async()=>{try{const z=localStorage.getItem("token"),$=localStorage.getItem("company_id"),re=await fetch(`/api/v1/inventory/warehouses.php?company_id=${$}`,{headers:{Authorization:`Bearer ${z}`}});if(re.ok){const te=await re.json();u(te.warehouses||[])}}catch(z){console.error("Error fetching warehouses:",z)}},R=async()=>{try{const z=localStorage.getItem("token"),$=localStorage.getItem("company_id"),re=await fetch(`/api/v1/inventory/products.php?company_id=${$}`,{headers:{Authorization:`Bearer ${z}`}});if(re.ok){const te=await re.json();f(te.products||[])}}catch(z){console.error("Error fetching products:",z)}},L=z=>{if(h.find(re=>re.product_id===z.id))return;const $={product_id:z.id,product_name:z.name,product_sku:z.sku,available_quantity:100,transfer_quantity:0,is_valid:!0};p([...h,$])},q=z=>{p(h.filter($=>$.product_id!==z))},F=(z,$)=>{p(h.map(re=>{if(re.product_id===z){const te=$>0&&$<=re.available_quantity;return{...re,transfer_quantity:$,is_valid:te}}return re}))},se=async()=>{if(h.length===0){E("Adugai cel puin un produs");return}if(!h.every(z=>z.is_valid)){E("Toate cantitile trebuie s fie valide");return}try{_(!0),E("");const z=localStorage.getItem("token"),$=localStorage.getItem("company_id"),re=`TR-${Date.now()}`;D(re);for(const te of h)if(!(await fetch("/api/v1/inventory/stock-transfer.php",{method:"POST",headers:{Authorization:`Bearer ${z}`,"Content-Type":"application/json"},body:JSON.stringify({company_id:$,from_warehouse_id:r,to_warehouse_id:l,product_id:te.product_id,quantity:te.transfer_quantity,reference_number:re,expected_date:y,notes:w})})).ok)throw new Error(`Failed to transfer ${te.product_name}`);C(!0)}catch(z){E(z.message||"Eroare la procesarea transferului")}finally{_(!1)}},ce=()=>{a(1),n(""),c(""),p([]),j(new Date().toISOString().split("T")[0]),S(""),C(!1),E(""),D("")},ue=()=>{window.print()},H=()=>{switch(t){case 1:return r!==""&&l!==""&&r!==l;case 2:return h.length>0;case 3:return h.every(z=>z.is_valid&&z.transfer_quantity>0);default:return!1}};return O?e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx(ze,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Transfer Creat Cu Succes!"}),e.jsxs("p",{className:"text-gray-600",children:["Numr transfer: ",e.jsx("span",{className:"font-mono font-semibold",children:T})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"De la:"}),e.jsx("span",{className:"font-medium text-gray-900",children:d.find(z=>z.id===r)?.name})]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(Lc,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Ctre:"}),e.jsx("span",{className:"font-medium text-gray-900",children:d.find(z=>z.id===l)?.name})]}),e.jsxs("div",{className:"border-t pt-3 mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Produse transferate:"}),e.jsx("span",{className:"font-medium text-gray-900",children:h.length})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm mt-2",children:[e.jsx("span",{className:"text-gray-600",children:"Data transfer:"}),e.jsx("span",{className:"font-medium text-gray-900",children:new Date(y).toLocaleDateString("ro-RO")})]})]})]}),e.jsx("div",{className:"border border-gray-200 rounded-lg divide-y mb-6",children:h.map(z=>e.jsxs("div",{className:"p-3 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:z.product_name}),e.jsxs("div",{className:"text-sm text-gray-600",children:["SKU: ",z.product_sku]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"font-semibold text-blue-600",children:[z.transfer_quantity," buc"]})})]},z.product_id))}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:ue,className:"flex-1 inline-flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:[e.jsx(Q7,{className:"w-4 h-4"}),"Imprim Bon Transfer"]}),e.jsx("button",{onClick:ce,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Transfer Nou"})]})]})}):e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Transfer Stoc"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Transfer produse ntre depozite"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:[1,2,3,4].map((z,$)=>e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${t>=z?"border-blue-600 bg-blue-600 text-white":"border-gray-300 text-gray-400"}`,children:z}),$<3&&e.jsx("div",{className:`flex-1 h-1 ${t>z?"bg-blue-600":"bg-gray-300"}`})]},z))}),e.jsxs("div",{className:"flex justify-between mt-2 text-xs text-gray-600",children:[e.jsx("span",{children:"Depozite"}),e.jsx("span",{children:"Produse"}),e.jsx("span",{children:"Cantiti"}),e.jsx("span",{children:"Verificare"})]})]}),k&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(Ga,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Eroare"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:k})]}),e.jsx("button",{onClick:()=>E(""),className:"ml-auto",children:e.jsx(fr,{className:"w-5 h-5 text-red-400 hover:text-red-600"})})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 min-h-[400px]",children:[t===1&&e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(ms,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Selecteaz Depozitele"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["De la (Surs): ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.map(z=>e.jsxs("button",{onClick:()=>n(z.id),disabled:z.id===l,className:`p-4 border-2 rounded-lg text-left transition-colors ${r===z.id?"border-blue-600 bg-blue-50":z.id===l?"border-gray-200 bg-gray-100 opacity-50 cursor-not-allowed":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:"font-medium text-gray-900",children:z.name}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:z.location_name})]},z.id))})]}),r&&e.jsx("div",{className:"flex justify-center",children:e.jsx(Lc,{className:"w-8 h-8 text-blue-600 animate-pulse"})}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Ctre (Destinaie): ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.map(z=>e.jsxs("button",{onClick:()=>c(z.id),disabled:z.id===r,className:`p-4 border-2 rounded-lg text-left transition-colors ${l===z.id?"border-green-600 bg-green-50":z.id===r?"border-gray-200 bg-gray-100 opacity-50 cursor-not-allowed":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:"font-medium text-gray-900",children:z.name}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:z.location_name})]},z.id))})]})]}),t===2&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(gt,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Selecteaz Produsele"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adaug Produse:"}),e.jsxs("select",{onChange:z=>{const $=x.find(re=>re.id===z.target.value);$&&L($),z.target.value=""},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Selecteaz un produs..."}),x.filter(z=>!h.find($=>$.product_id===z.id)).map(z=>e.jsxs("option",{value:z.id,children:[z.name," (",z.sku,")"]},z.id))]})]}),h.length>0&&e.jsx("div",{className:"border border-gray-200 rounded-lg divide-y",children:h.map(z=>e.jsxs("div",{className:"p-3 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:z.product_name}),e.jsxs("div",{className:"text-sm text-gray-600",children:["SKU: ",z.product_sku]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Disponibil: ",z.available_quantity," buc"]})]}),e.jsx("button",{onClick:()=>q(z.product_id),className:"text-red-600 hover:text-red-800",children:e.jsx(fr,{className:"w-5 h-5"})})]},z.product_id))})]})]}),t===3&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(Lc,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Seteaz Cantitile"})]}),e.jsx("div",{className:"space-y-3",children:h.map(z=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:z.product_name}),e.jsxs("div",{className:"text-sm text-gray-600",children:["SKU: ",z.product_sku]})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Max: ",e.jsx("span",{className:"font-semibold",children:z.available_quantity})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Cantitate Transfer:"}),e.jsx("input",{type:"number",min:"1",max:z.available_quantity,value:z.transfer_quantity,onChange:$=>F(z.product_id,parseInt($.target.value)||0),className:`flex-1 px-3 py-2 border rounded-lg ${z.is_valid?"border-gray-300":"border-red-300 bg-red-50"}`})]}),!z.is_valid&&z.transfer_quantity>0&&e.jsx("div",{className:"mt-2 text-sm text-red-600",children:"Cantitatea depete stocul disponibil"})]},z.product_id))}),e.jsxs("div",{className:"mt-6 pt-6 border-t space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data Transfer Ateptat:"}),e.jsx("input",{type:"date",value:y,onChange:z=>j(z.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notie (opional):"}),e.jsx("textarea",{value:w,onChange:z=>S(z.target.value),rows:3,placeholder:"Adaug detalii despre transfer...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]})]}),t===4&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(ze,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Verific i Confirm Transferul"})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-blue-700 mb-1",children:"Depozit Surs"}),e.jsx("div",{className:"font-semibold text-blue-900",children:d.find(z=>z.id===r)?.name})]}),e.jsx(Lc,{className:"w-6 h-6 text-blue-600"}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-blue-700 mb-1",children:"Depozit Destinaie"}),e.jsx("div",{className:"font-semibold text-blue-900",children:d.find(z=>z.id===l)?.name})]})]}),e.jsxs("div",{className:"pt-3 border-t border-blue-300 grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700",children:"Data Transfer:"}),e.jsx("span",{className:"ml-2 font-medium text-blue-900",children:new Date(y).toLocaleDateString("ro-RO")})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700",children:"Total Produse:"}),e.jsx("span",{className:"ml-2 font-medium text-blue-900",children:h.length})]})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg divide-y",children:[e.jsx("div",{className:"bg-gray-50 px-4 py-2 font-medium text-gray-700 text-sm",children:"Produse de Transferat"}),h.map(z=>e.jsxs("div",{className:"p-4 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:z.product_name}),e.jsxs("div",{className:"text-sm text-gray-600",children:["SKU: ",z.product_sku]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-semibold text-blue-600",children:z.transfer_quantity}),e.jsxs("div",{className:"text-xs text-gray-500",children:["din ",z.available_quantity," disponibil"]})]})]},z.product_id))]}),w&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm font-medium text-yellow-800 mb-2",children:"Notie Transfer:"}),e.jsx("div",{className:"text-sm text-yellow-700",children:w})]}),e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(Ga,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-amber-800",children:[e.jsx("div",{className:"font-medium mb-1",children:"Atenie!"}),e.jsx("p",{children:"Transferul va reduce stocul din depozitul surs i va crete stocul n depozitul destinaie."})]})]})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("button",{onClick:()=>a(Math.max(1,t-1)),disabled:t===1,className:"inline-flex items-center gap-2 px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(JS,{className:"w-4 h-4"}),"napoi"]}),t<4?e.jsxs("button",{onClick:()=>a(t+1),disabled:!H(),className:"inline-flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:["Urmtorul",e.jsx(jl,{className:"w-4 h-4"})]}):e.jsxs("button",{onClick:se,disabled:g,className:"inline-flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[g?"Se proceseaz...":"Confirm Transfer",e.jsx(ze,{className:"w-4 h-4"})]})]})]})}const $W=()=>{Mt();const[t,a]=v.useState({total_contacts:0,active_opportunities:0,open_quotations:0,conversion_rate:0,total_pipeline_value:0,won_this_month:0}),[r,n]=v.useState(!0);v.useEffect(()=>{l()},[]);const l=async()=>{try{n(!0),a({total_contacts:156,active_opportunities:23,open_quotations:12,conversion_rate:32.5,total_pipeline_value:245e3,won_this_month:8})}catch(d){console.error("Failed to load dashboard data:",d)}finally{n(!1)}},c=[{title:"Total Contacte",value:t.total_contacts,icon:Va,color:"bg-blue-500",link:"/crm/contacts"},{title:"Oportuniti Active",value:t.active_opportunities,icon:Fr,color:"bg-green-500",link:"/crm/opportunities"},{title:"Oferte Deschise",value:t.open_quotations,icon:ot,color:"bg-purple-500",link:"/crm/quotations"},{title:"Rat Conversie",value:`${t.conversion_rate}%`,icon:$e,color:"bg-orange-500"},{title:"Valoare Pipeline",value:`${(t.total_pipeline_value/1e3).toFixed(0)}K RON`,icon:da,color:"bg-indigo-500"}];return r?e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4",children:[...Array(5)].map((d,u)=>e.jsx("div",{className:"h-32 bg-gray-200 rounded-lg"},u))})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:[e.jsxs("div",{className:"mb-6 sm:mb-8",children:[e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:"CRM Dashboard"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Gestioneaz clienii, oportunitile i ofertele"})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4 mb-6 sm:mb-8",children:c.map((d,u)=>{const x=d.icon,f=e.jsxs("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:e.jsx("div",{className:`${d.color} p-2 sm:p-3 rounded-lg`,children:e.jsx(x,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})})}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:d.title}),e.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:d.value}),d.link&&e.jsxs("div",{className:"mt-3 flex items-center text-xs sm:text-sm text-blue-600",children:["Vezi detalii",e.jsx(xa,{className:"w-3 h-3 sm:w-4 sm:h-4 ml-1"})]})]});return d.link?e.jsx(ge,{to:d.link,children:f},u):e.jsx("div",{children:f},u)})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[e.jsxs(ge,{to:"/crm/contacts",className:"bg-white rounded-lg shadow p-4 sm:p-6 hover:shadow-md transition-shadow border-l-4 border-blue-500",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(Va,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-500 mr-3"}),e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Contacte"})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-3",children:"Gestioneaz clienii i furnizorii"}),e.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-blue-600 font-medium",children:["Acceseaz contacte",e.jsx(xa,{className:"w-4 h-4 ml-1"})]})]}),e.jsxs(ge,{to:"/crm/opportunities",className:"bg-white rounded-lg shadow p-4 sm:p-6 hover:shadow-md transition-shadow border-l-4 border-green-500",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(Fr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-500 mr-3"}),e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Oportuniti"})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-3",children:"Pipeline vnzri i oportuniti"}),e.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-green-600 font-medium",children:["Vezi pipeline",e.jsx(xa,{className:"w-4 h-4 ml-1"})]})]}),e.jsxs(ge,{to:"/crm/quotations",className:"bg-white rounded-lg shadow p-4 sm:p-6 hover:shadow-md transition-shadow border-l-4 border-purple-500",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(ot,{className:"w-5 h-5 sm:w-6 sm:h-6 text-purple-500 mr-3"}),e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Oferte"})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-3",children:"Creeaz i trimite oferte de pre"}),e.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-purple-600 font-medium",children:["Creeaz ofert",e.jsx(xa,{className:"w-4 h-4 ml-1"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6",children:[e.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4",children:"Activitate Recent"}),e.jsxs("div",{className:"text-center py-8 sm:py-12",children:[e.jsx(mt,{className:"w-12 h-12 sm:w-16 sm:h-16 text-gray-300 mx-auto mb-3 sm:mb-4"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-500",children:"Nu exist activiti recente"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-2",children:"Activitile din CRM vor aprea aici"})]})]})]})};class UW{async listOpportunities(a){const r=new URLSearchParams;return a?.stage&&r.append("stage",a.stage),a?.contact_id&&r.append("contact_id",a.contact_id),a?.assigned_to&&r.append("assigned_to",a.assigned_to),a?.search&&r.append("search",a.search),(await ye.get(`/crm/opportunities.php?${r.toString()}`)).data.data.opportunities}async getOpportunity(a){return(await ye.get(`/crm/opportunities.php?id=${a}`)).data.data.opportunity}async createOpportunity(a){return(await ye.post("/crm/opportunities.php",a)).data.data.opportunity_id}async updateOpportunity(a){await ye.put("/crm/opportunities.php",a)}async deleteOpportunity(a){await ye.delete("/crm/opportunities.php",{data:{id:a}})}async getPipeline(){return(await ye.get("/crm/opportunities-pipeline.php")).data.data.pipeline}async addActivity(a){return(await ye.post("/crm/opportunities-activity.php",a)).data.activity_id}}const ek=new UW,FW=()=>{const t=nt(),[a,r]=v.useState({lead:[],qualified:[],proposal:[],negotiation:[],won:[],lost:[]}),[n,l]=v.useState(!0),[c,d]=v.useState(null),[u,x]=v.useState(""),[f,h]=v.useState("pipeline"),[p,y]=v.useState(!1),[j,w]=v.useState({name:"",contact_id:"",amount:"",currency:"RON",probability:"50",expected_close_date:"",stage:"lead",description:"",source:"",campaign:""}),[S,g]=v.useState([]),[_,O]=v.useState(!1),C=[{key:"lead",label:"Lead",color:"bg-gray-100 text-gray-800",icon:Fr},{key:"qualified",label:"Calificat",color:"bg-blue-100 text-blue-800",icon:sl},{key:"proposal",label:"Ofert",color:"bg-purple-100 text-purple-800",icon:$e},{key:"negotiation",label:"Negociere",color:"bg-orange-100 text-orange-800",icon:da},{key:"won",label:"Ctigat",color:"bg-green-100 text-green-800",icon:$e},{key:"lost",label:"Pierdut",color:"bg-red-100 text-red-800",icon:vr}];v.useEffect(()=>{E(),k()},[]);const k=async()=>{try{const q=await(await fetch("/api/v1/contacts/list.php",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"X-Company-ID":localStorage.getItem("companyId")||""}})).json();q.success&&g(q.data||[])}catch(L){console.error("Failed to load contacts:",L)}},E=async()=>{try{l(!0),d(null);const L=await ek.getPipeline();r(L)}catch(L){console.error("Failed to load pipeline:",L),d("Nu s-au putut ncrca oportunitile. V rugm ncercai din nou.")}finally{l(!1)}},T=(L,q)=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:q||"RON"}).format(L),D=L=>L?new Date(L).toLocaleDateString("ro-RO"):"N/A",P=async()=>{try{O(!0);const q=await(await fetch("/api/v1/crm/opportunities.php",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`,"X-Company-ID":localStorage.getItem("companyId")||""},body:JSON.stringify({...j,amount:parseFloat(j.amount)||0,probability:parseInt(j.probability)||50})})).json();q.success?(y(!1),w({name:"",contact_id:"",amount:"",currency:"RON",probability:"50",expected_close_date:"",stage:"lead",description:"",source:"",campaign:""}),E()):alert("Eroare la salvarea oportunitii: "+(q.error||"Unknown error"))}catch(L){console.error("Failed to save opportunity:",L),alert("Eroare la salvarea oportunitii. V rugm ncercai din nou.")}finally{O(!1)}},R=({opportunity:L})=>e.jsxs("div",{onClick:()=>t(`/crm/opportunities/${L.id}`),className:"bg-white rounded-lg shadow-sm p-3 sm:p-4 mb-3 border border-gray-200 hover:shadow-md transition-shadow cursor-pointer",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 line-clamp-2 flex-1",children:L.name}),e.jsx("button",{onClick:q=>q.stopPropagation(),className:"ml-2 p-1 hover:bg-gray-100 rounded",children:e.jsx(t_,{className:"w-4 h-4 text-gray-400"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-base sm:text-lg font-bold text-green-600",children:T(L.amount,L.currency)}),e.jsxs("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded",children:[L.probability,"% probabilitate"]})]}),L.contact_name&&e.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[e.jsx(Cr,{className:"w-3 h-3 mr-1"}),L.contact_name]}),L.expected_close_date&&e.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[e.jsx(mt,{className:"w-3 h-3 mr-1"}),"nchidere: ",D(L.expected_close_date)]})]}),e.jsxs("div",{className:"mt-3 flex gap-2",children:[e.jsxs("button",{onClick:q=>{q.stopPropagation(),t(`/crm/opportunities/${L.id}`)},className:"flex-1 px-2 py-1 text-xs bg-blue-50 text-blue-700 rounded hover:bg-blue-100",children:[e.jsx(us,{className:"w-3 h-3 inline mr-1"}),"Vezi"]}),e.jsxs("button",{onClick:q=>q.stopPropagation(),className:"flex-1 px-2 py-1 text-xs bg-gray-50 text-gray-700 rounded hover:bg-gray-100",children:[e.jsx(Ar,{className:"w-3 h-3 inline mr-1"}),"Editeaz"]})]})]});return n?e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[...Array(6)].map((L,q)=>e.jsx("div",{className:"h-96 bg-gray-200 rounded-lg"},q))})]})}):c?e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(qt,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Eroare la ncrcarea datelor"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:c}),e.jsx("button",{onClick:E,className:"mt-3 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm",children:"ncearc din nou"})]})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:[e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"Oportuniti"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Gestioneaz pipeline-ul de vnzri"})]}),e.jsxs("button",{onClick:()=>y(!0),className:"w-full sm:w-auto px-4 py-3 sm:py-2 min-h-[44px] bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[e.jsx(ua,{className:"w-5 h-5"}),"Adaug Oportunitate"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Yr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Caut oportuniti...",value:u,onChange:L=>x(L.target.value),className:"w-full pl-10 pr-4 py-2 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>h("pipeline"),className:`flex-1 sm:flex-none px-4 py-2 rounded-lg flex items-center justify-center gap-2 ${f==="pipeline"?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300"}`,children:[e.jsx(Fr,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Pipeline"})]}),e.jsxs("button",{onClick:()=>h("list"),className:`flex-1 sm:flex-none px-4 py-2 rounded-lg flex items-center justify-center gap-2 ${f==="list"?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300"}`,children:[e.jsx(sl,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"List"})]})]})]})]}),f==="pipeline"&&e.jsx("div",{className:"overflow-x-auto pb-4",children:e.jsx("div",{className:"flex gap-4 min-w-max lg:min-w-0 lg:grid lg:grid-cols-6",children:C.map(L=>{const q=a[L.key]||[],F=q.reduce((se,ce)=>se+ce.amount,0);return e.jsxs("div",{className:"flex-shrink-0 w-72 lg:w-auto",children:[e.jsxs("div",{className:`${L.color} rounded-lg p-3 mb-3`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-sm",children:L.label}),e.jsx("span",{className:"text-xs font-medium bg-white/50 px-2 py-1 rounded",children:q.length})]}),e.jsx("div",{className:"text-xs font-medium",children:T(F,"RON")})]}),e.jsxs("div",{className:"space-y-3 max-h-[calc(100vh-300px)] overflow-y-auto",children:[q.map(se=>e.jsx(R,{opportunity:se},se.id)),q.length===0&&e.jsx("div",{className:"bg-gray-50 border-2 border-dashed border-gray-200 rounded-lg p-4 text-center",children:e.jsx("p",{className:"text-xs text-gray-400",children:"Nu exist oportuniti"})})]})]},L.key)})})}),f==="list"&&e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsx("p",{className:"p-8 text-center text-gray-500",children:"Vizualizarea list va fi implementat n curnd"})}),p&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Adaug Oportunitate Nou"}),e.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nume Oportunitate ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:j.name,onChange:L=>w({...j,name:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ex: Enterprise Software License - 100 Utilizatori"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client"}),e.jsxs("select",{value:j.contact_id,onChange:L=>w({...j,contact_id:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Selecteaz client..."}),S.filter(L=>L.contact_type==="customer").map(L=>e.jsx("option",{value:L.id,children:L.display_name},L.id))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Valoare ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",step:"0.01",value:j.amount,onChange:L=>w({...j,amount:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"125000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Moned"}),e.jsxs("select",{value:j.currency,onChange:L=>w({...j,currency:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"RON",children:"RON"}),e.jsx("option",{value:"EUR",children:"EUR"}),e.jsx("option",{value:"USD",children:"USD"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Probabilitate (%)"}),e.jsx("input",{type:"number",min:"0",max:"100",value:j.probability,onChange:L=>w({...j,probability:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stadiu"}),e.jsxs("select",{value:j.stage,onChange:L=>w({...j,stage:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"lead",children:"Lead"}),e.jsx("option",{value:"qualification",children:"Calificat"}),e.jsx("option",{value:"proposal",children:"Ofert"}),e.jsx("option",{value:"negotiation",children:"Negociere"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Estimat nchidere"}),e.jsx("input",{type:"date",value:j.expected_close_date,onChange:L=>w({...j,expected_close_date:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descriere"}),e.jsx("textarea",{value:j.description,onChange:L=>w({...j,description:L.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Detalii despre oportunitate..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Surs"}),e.jsxs("select",{value:j.source,onChange:L=>w({...j,source:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Selecteaz..."}),e.jsx("option",{value:"website",children:"Website"}),e.jsx("option",{value:"referral",children:"Recomandare"}),e.jsx("option",{value:"direct",children:"Direct"}),e.jsx("option",{value:"partner",children:"Partner"}),e.jsx("option",{value:"marketing",children:"Marketing"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Campanie"}),e.jsx("input",{type:"text",value:j.campaign,onChange:L=>w({...j,campaign:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ex: Q4 2025 Campaign"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",disabled:_,children:"Anuleaz"}),e.jsx("button",{onClick:P,disabled:_||!j.name||!j.amount,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:_?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Salvare..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ua,{className:"w-4 h-4"}),"Salveaz Oportunitatea"]})})]})]})})})]})},qW=()=>{const{id:t}=hs(),a=nt(),[r,n]=v.useState(null),[l,c]=v.useState(!0),[d,u]=v.useState(null);v.useEffect(()=>{t&&x(t)},[t]);const x=async g=>{try{c(!0),u(null);const _=await ek.getOpportunity(g);n(_)}catch(_){console.error("Failed to load opportunity:",_),u("Nu s-a putut ncrca oportunitatea. V rugm ncercai din nou.")}finally{c(!1)}},f=(g,_)=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:_||"RON"}).format(g),h=g=>g?new Date(g).toLocaleDateString("ro-RO",{year:"numeric",month:"long",day:"numeric"}):"N/A",p=g=>new Date(g).toLocaleString("ro-RO",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),y=g=>({lead:"bg-gray-100 text-gray-800",qualified:"bg-blue-100 text-blue-800",proposal:"bg-purple-100 text-purple-800",negotiation:"bg-orange-100 text-orange-800",won:"bg-green-100 text-green-800",lost:"bg-red-100 text-red-800"})[g]||"bg-gray-100 text-gray-800",j=g=>({lead:"Lead",qualified:"Calificat",proposal:"Ofert",negotiation:"Negociere",won:"Ctigat",lost:"Pierdut"})[g]||g,w=g=>({email:il,call:Nu,meeting:mt,note:r2,stage_change:Fr,task:ze})[g]||ot,S=g=>({email:"bg-blue-100 text-blue-600",call:"bg-green-100 text-green-600",meeting:"bg-purple-100 text-purple-600",note:"bg-gray-100 text-gray-600",stage_change:"bg-orange-100 text-orange-600",task:"bg-indigo-100 text-indigo-600"})[g]||"bg-gray-100 text-gray-600";return l?e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsx("div",{className:"h-64 bg-gray-200 rounded-lg"}),e.jsx("div",{className:"h-96 bg-gray-200 rounded-lg"})]}),e.jsx("div",{className:"h-96 bg-gray-200 rounded-lg"})]})]})}):d||!r?e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(qt,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Eroare"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:d||"Oportunitatea nu a fost gsit"}),e.jsxs("div",{className:"mt-3 flex gap-2",children:[e.jsx("button",{onClick:()=>a("/crm/opportunities"),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm",children:"napoi la list"}),t&&e.jsx("button",{onClick:()=>x(t),className:"px-4 py-2 bg-white text-red-600 border border-red-600 rounded-lg hover:bg-red-50 text-sm",children:"ncearc din nou"})]})]})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(ge,{to:"/crm/opportunities",className:"inline-flex items-center gap-2 text-sm text-gray-600 hover:text-gray-900 mb-4",children:[e.jsx(lo,{className:"w-4 h-4"}),"napoi la oportuniti"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:r.name}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${y(r.stage)}`,children:j(r.stage)})]}),r.description&&e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:r.description})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[e.jsx(Ar,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Editeaz"})]}),e.jsxs("button",{className:"px-4 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 flex items-center gap-2",children:[e.jsx(vr,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"terge"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Detalii Cheie"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(da,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Valoare"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:f(r.amount,r.currency)})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx($e,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Probabilitate"}),e.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[r.probability,"%"]})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(mt,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Data nchiderii estimate"}),e.jsx("p",{className:"text-base font-medium text-gray-900",children:h(r.expected_close_date)})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:e.jsx(hr,{className:"w-5 h-5 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Creat la"}),e.jsx("p",{className:"text-base font-medium text-gray-900",children:h(r.created_at)})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Cronologie Activiti"}),r.activities&&r.activities.length>0?e.jsx("div",{className:"space-y-4",children:r.activities.map((g,_)=>{const O=w(g.activity_type),C=_===r.activities.length-1;return e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`p-2 rounded-lg ${S(g.activity_type)}`,children:e.jsx(O,{className:"w-4 h-4"})}),!C&&e.jsx("div",{className:"w-0.5 h-full bg-gray-200 my-1"})]}),e.jsxs("div",{className:"flex-1 pb-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:g.subject||g.activity_type}),e.jsx("span",{className:"text-xs text-gray-500",children:p(g.created_at)})]}),g.description&&e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:g.description}),g.user_name&&e.jsxs("p",{className:"text-xs text-gray-500",children:["de ",g.user_name]})]})]},g.id)})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(r2,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Nu exist activiti"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[r.contact_name&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Cr,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-900",children:r.contact_name})]}),r.contact_email&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(il,{className:"w-5 h-5 text-gray-400"}),e.jsx("a",{href:`mailto:${r.contact_email}`,className:"text-sm text-blue-600 hover:underline",children:r.contact_email})]}),r.contact_phone&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Nu,{className:"w-5 h-5 text-gray-400"}),e.jsx("a",{href:`tel:${r.contact_phone}`,className:"text-sm text-blue-600 hover:underline",children:r.contact_phone})]})]})]}),r.assigned_to_name&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Asignat ctre"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Cr,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-900",children:r.assigned_to_name})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informaii Adiionale"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[r.source&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Surs:"}),e.jsx("span",{className:"ml-2 text-gray-900 font-medium",children:r.source})]}),r.campaign&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Campanie:"}),e.jsx("span",{className:"ml-2 text-gray-900 font-medium",children:r.campaign})]}),r.stage==="lost"&&r.loss_reason&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Motiv pierdere:"}),e.jsx("span",{className:"ml-2 text-gray-900 font-medium",children:r.loss_reason})]})]})]})]})]})]})};class HW{async listQuotations(a){const r=new URLSearchParams;return a?.status&&r.append("status",a.status),a?.contact_id&&r.append("contact_id",a.contact_id),a?.search&&r.append("search",a.search),(await ye.get(`/crm/quotations.php?${r.toString()}`)).data.data.quotations}async getQuotation(a){return(await ye.get(`/crm/quotations.php?id=${a}`)).data.data.quotation}async createQuotation(a){return(await ye.post("/crm/quotations.php",a)).data.data.quotation_id}async updateQuotation(a){await ye.put("/crm/quotations.php",a)}async deleteQuotation(a){await ye.delete("/crm/quotations.php",{data:{id:a}})}async sendQuotation(a){await ye.post("/crm/quotations-send.php",{quotation_id:a})}async acceptQuotation(a){await ye.post("/crm/quotations-accept.php",{quotation_id:a})}async rejectQuotation(a){await ye.post("/crm/quotations-reject.php",{quotation_id:a})}}const VW=new HW,GW=()=>{Mt();const[t,a]=v.useState([]),[r,n]=v.useState(!0),[l,c]=v.useState(null),[d,u]=v.useState(""),[x,f]=v.useState("all"),h={draft:{label:"Draft",color:"bg-gray-100 text-gray-800",icon:ot},sent:{label:"Trimis",color:"bg-blue-100 text-blue-800",icon:Nm},accepted:{label:"Acceptat",color:"bg-green-100 text-green-800",icon:ze},rejected:{label:"Respins",color:"bg-red-100 text-red-800",icon:nl},expired:{label:"Expirat",color:"bg-orange-100 text-orange-800",icon:hr},converted:{label:"Convertit",color:"bg-purple-100 text-purple-800",icon:ze}};v.useEffect(()=>{p()},[]);const p=async()=>{try{n(!0),c(null);const g=await VW.listQuotations();a(g)}catch(g){console.error("Failed to load quotations:",g),c("Nu s-au putut ncrca ofertele. V rugm ncercai din nou.")}finally{n(!1)}},y=(g,_)=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:_||"RON"}).format(g),j=g=>new Date(g).toLocaleDateString("ro-RO"),w=g=>{const _=h[g]||h.draft,O=_.icon;return e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${_.color}`,children:[e.jsx(O,{className:"w-3 h-3"}),_.label]})},S=t.filter(g=>{const _=g.title.toLowerCase().includes(d.toLowerCase())||g.quotation_number.toLowerCase().includes(d.toLowerCase())||g.contact_name?.toLowerCase().includes(d.toLowerCase())||!1,O=x==="all"||g.status===x;return _&&O});return r?e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),e.jsx("div",{className:"space-y-4",children:[...Array(5)].map((g,_)=>e.jsx("div",{className:"h-24 bg-gray-200 rounded-lg"},_))})]})}):l?e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(qt,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Eroare la ncrcarea datelor"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:l}),e.jsx("button",{onClick:p,className:"mt-3 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm",children:"ncearc din nou"})]})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:[e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"Oferte de Pre"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Gestioneaz ofertele ctre clieni"})]}),e.jsxs("button",{className:"w-full sm:w-auto px-4 py-3 sm:py-2 min-h-[44px] bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[e.jsx(ua,{className:"w-5 h-5"}),"Ofert Nou"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Yr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Caut oferte...",value:d,onChange:g=>u(g.target.value),className:"w-full pl-10 pr-4 py-2 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("select",{value:x,onChange:g=>f(g.target.value),className:"px-4 py-2 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"Toate Statusurile"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"sent",children:"Trimise"}),e.jsx("option",{value:"accepted",children:"Acceptate"}),e.jsx("option",{value:"rejected",children:"Respinse"}),e.jsx("option",{value:"expired",children:"Expirate"}),e.jsx("option",{value:"converted",children:"Convertite"})]})]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3 sm:gap-4 mb-6",children:Object.entries(h).map(([g,_])=>{const O=t.filter(k=>k.status===g).length,C=_.icon;return e.jsxs("div",{className:"bg-white rounded-lg shadow p-3 sm:p-4 cursor-pointer hover:shadow-md transition-shadow",onClick:()=>f(g),children:[e.jsx("div",{className:`${_.color} w-8 h-8 sm:w-10 sm:h-10 rounded-lg flex items-center justify-center mb-2`,children:e.jsx(C,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:_.label}),e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:O})]},g)})}),e.jsx("div",{className:"block md:hidden",children:e.jsx("div",{className:"space-y-3",children:S.map(g=>e.jsxs("div",{className:"bg-white rounded-lg shadow p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:g.quotation_number}),e.jsx("h3",{className:"text-sm font-semibold text-gray-900 line-clamp-2 mb-2",children:g.title}),w(g.status)]}),e.jsx("button",{className:"ml-2 p-1 hover:bg-gray-100 rounded",children:e.jsx(t_,{className:"w-5 h-5 text-gray-400"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Client:"}),e.jsx("p",{className:"font-medium text-gray-900 truncate",children:g.contact_name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Valoare:"}),e.jsx("p",{className:"font-bold text-green-600",children:y(g.total_amount,g.currency)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Data emiterii:"}),e.jsx("p",{className:"font-medium text-gray-900",children:j(g.issue_date)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Expir:"}),e.jsx("p",{className:"font-medium text-gray-900",children:j(g.expiry_date)})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{className:"flex-1 px-3 py-2 text-xs bg-blue-50 text-blue-700 rounded hover:bg-blue-100 min-h-[44px]",children:[e.jsx(us,{className:"w-4 h-4 inline mr-1"}),"Vezi"]}),e.jsxs("button",{className:"flex-1 px-3 py-2 text-xs bg-gray-50 text-gray-700 rounded hover:bg-gray-100 min-h-[44px]",children:[e.jsx(Xa,{className:"w-4 h-4 inline mr-1"}),"PDF"]})]})]},g.id))})}),e.jsxs("div",{className:"hidden md:block bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Numr Ofert"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Titlu"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valoare"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data Emiterii"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aciuni"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.map(g=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:g.quotation_number}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.jsx("div",{className:"max-w-xs",children:e.jsx("p",{className:"font-medium truncate",children:g.title})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:g.contact_name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-green-600",children:y(g.total_amount,g.currency)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w(g.status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:j(g.issue_date)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:e.jsx(us,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-gray-600 hover:text-gray-900",children:e.jsx(Ar,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-gray-600 hover:text-gray-900",children:e.jsx(Xa,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-red-600 hover:text-red-900",children:e.jsx(vr,{className:"w-4 h-4"})})]})})]},g.id))})]})}),S.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ot,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Nu exist oferte de afiat"})]})]})]})};class KW{async listPurchaseOrders(a){const r=new URLSearchParams;return a?.status&&r.append("status",a.status),a?.vendor_id&&r.append("vendor_id",a.vendor_id),a?.from_date&&r.append("from_date",a.from_date),a?.to_date&&r.append("to_date",a.to_date),a?.search&&r.append("search",a.search),(await ye.get(`/purchase-orders/purchase-orders.php?${r}`)).data.purchase_orders}async getPurchaseOrder(a){return(await ye.get(`/purchase-orders/purchase-orders.php?id=${a}`)).data.purchase_order}async createPurchaseOrder(a){return(await ye.post("/purchase-orders/purchase-orders.php",a)).data.purchase_order}async updatePurchaseOrder(a,r){return(await ye.put("/purchase-orders/purchase-orders.php",{id:a,...r})).data.purchase_order}async deletePurchaseOrder(a){await ye.delete("/purchase-orders/purchase-orders.php",{data:{id:a}})}async approvePurchaseOrder(a){return(await ye.post("/purchase-orders/approve.php",{id:a})).data.purchase_order}async rejectPurchaseOrder(a,r){return(await ye.post("/purchase-orders/reject.php",{id:a,reason:r})).data.purchase_order}async receiveGoods(a){return(await ye.post("/purchase-orders/receive-goods.php",a)).data.purchase_order}async convertToInvoice(a){return(await ye.post("/purchase-orders/convert-to-invoice.php",{purchase_order_id:a})).data}async getPurchaseOrderStats(){const a=await this.listPurchaseOrders();return{total_pos:a.length,draft_count:a.filter(n=>n.status==="draft").length,pending_approval_count:a.filter(n=>n.status==="pending_approval").length,approved_count:a.filter(n=>n.status==="approved").length,sent_count:a.filter(n=>n.status==="sent").length,received_count:a.filter(n=>n.status==="received").length,total_value:a.reduce((n,l)=>n+l.total_amount,0),currency:a[0]?.currency||"RON"}}}const gu=new KW,YW=()=>{const t=nt(),[a,r]=v.useState([]),[n,l]=v.useState([]),[c,d]=v.useState(!0),[u,x]=v.useState(null),[f,h]=v.useState(""),[p,y]=v.useState("all"),j=[{key:"all",label:"Toate",color:"bg-gray-100 text-gray-800"},{key:"draft",label:"Draft",color:"bg-gray-100 text-gray-800"},{key:"pending_approval",label:"Ateptare Aprobare",color:"bg-yellow-100 text-yellow-800"},{key:"approved",label:"Aprobat",color:"bg-green-100 text-green-800"},{key:"sent",label:"Trimis",color:"bg-blue-100 text-blue-800"},{key:"partially_received",label:"Recepionat Parial",color:"bg-orange-100 text-orange-800"},{key:"received",label:"Recepionat",color:"bg-green-100 text-green-800"},{key:"rejected",label:"Respins",color:"bg-red-100 text-red-800"},{key:"cancelled",label:"Anulat",color:"bg-gray-100 text-gray-800"}];v.useEffect(()=>{w()},[]),v.useEffect(()=>{S()},[a,f,p]);const w=async()=>{try{d(!0),x(null);const k=await gu.listPurchaseOrders();r(k)}catch(k){console.error("Failed to load purchase orders:",k),x("Nu s-au putut ncrca comenzile de achiziie. V rugm ncercai din nou.")}finally{d(!1)}},S=()=>{let k=[...a];if(p!=="all"&&(k=k.filter(E=>E.status===p)),f){const E=f.toLowerCase();k=k.filter(T=>T.po_number.toLowerCase().includes(E)||T.vendor_name.toLowerCase().includes(E)||T.reference_number?.toLowerCase().includes(E))}l(k)},g=k=>{const E=j.find(T=>T.key===k);return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${E?.color||"bg-gray-100 text-gray-800"}`,children:E?.label||k})},_=k=>{switch(k){case"draft":return e.jsx(ot,{className:"w-4 h-4 text-gray-500"});case"pending_approval":return e.jsx(hr,{className:"w-4 h-4 text-yellow-500"});case"approved":return e.jsx(ze,{className:"w-4 h-4 text-green-500"});case"sent":return e.jsx(gt,{className:"w-4 h-4 text-blue-500"});case"partially_received":return e.jsx(gt,{className:"w-4 h-4 text-orange-500"});case"received":return e.jsx(ze,{className:"w-4 h-4 text-green-500"});case"rejected":return e.jsx(nl,{className:"w-4 h-4 text-red-500"});case"cancelled":return e.jsx(nl,{className:"w-4 h-4 text-gray-500"});default:return e.jsx(ot,{className:"w-4 h-4 text-gray-500"})}},O=(k,E)=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:E||"RON"}).format(k),C=k=>k?new Date(k).toLocaleDateString("ro-RO"):"N/A";return c?e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),e.jsx("div",{className:"space-y-4",children:[...Array(5)].map((k,E)=>e.jsx("div",{className:"h-24 bg-gray-200 rounded-lg"},E))})]})}):u?e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(qt,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Eroare la ncrcarea datelor"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:u}),e.jsx("button",{onClick:w,className:"mt-3 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm",children:"ncearc din nou"})]})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:[e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"Comenzi de Achiziie"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Gestioneaz comenzile de achiziie i aprovizionarea"})]}),e.jsxs("button",{onClick:()=>t("/purchase-orders/create"),className:"w-full sm:w-auto px-4 py-3 sm:py-2 min-h-[44px] bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[e.jsx(ua,{className:"w-5 h-5"}),"Adaug Comand"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Yr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Caut dup numr comand, furnizor...",value:f,onChange:k=>h(k.target.value),className:"w-full pl-10 pr-4 py-2 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsx("select",{value:p,onChange:k=>y(k.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:j.map(k=>e.jsx("option",{value:k.key,children:k.label},k.key))})]})]}),e.jsxs("div",{className:"block md:hidden space-y-4",children:[n.map(k=>e.jsxs("div",{onClick:()=>t(`/purchase-orders/${k.id}`),className:"bg-white rounded-lg shadow p-4 border border-gray-200 hover:shadow-md transition-shadow cursor-pointer",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[_(k.status),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:k.po_number}),e.jsx("p",{className:"text-xs text-gray-600",children:k.vendor_name})]})]}),g(k.status)]}),e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Dat comand:"}),e.jsx("span",{className:"font-medium",children:C(k.order_date)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Valoare total:"}),e.jsx("span",{className:"font-bold text-green-600",children:O(k.total_amount,k.currency)})]}),k.items_count&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Produse:"}),e.jsxs("span",{className:"font-medium",children:[k.items_count," articole"]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-3 border-t border-gray-200",children:[e.jsxs("button",{onClick:E=>{E.stopPropagation(),t(`/purchase-orders/${k.id}`)},className:"flex-1 px-3 py-2 text-xs bg-blue-50 text-blue-700 rounded hover:bg-blue-100",children:[e.jsx(us,{className:"w-3 h-3 inline mr-1"}),"Vezi"]}),e.jsxs("button",{onClick:E=>E.stopPropagation(),className:"flex-1 px-3 py-2 text-xs bg-gray-50 text-gray-700 rounded hover:bg-gray-100",children:[e.jsx(Ar,{className:"w-3 h-3 inline mr-1"}),"Editeaz"]})]})]},k.id)),n.length===0&&e.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-200 rounded-lg p-8 text-center",children:[e.jsx(gt,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Nu exist comenzi de achiziie"}),e.jsx("button",{onClick:()=>t("/purchase-orders/create"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Creeaz prima comand"})]})]}),e.jsx("div",{className:"hidden md:block bg-white rounded-lg shadow overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Numr Comand"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Furnizor"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dat Comand"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valoare Total"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aciuni"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[n.map(k=>e.jsxs("tr",{onClick:()=>t(`/purchase-orders/${k.id}`),className:"hover:bg-gray-50 cursor-pointer",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[_(k.status),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.po_number}),k.reference_number&&e.jsxs("div",{className:"text-xs text-gray-500",children:["Ref: ",k.reference_number]})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:k.vendor_name}),k.vendor_email&&e.jsx("div",{className:"text-xs text-gray-500",children:k.vendor_email})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:C(k.order_date)}),k.expected_delivery_date&&e.jsxs("div",{className:"text-xs text-gray-500",children:["Livrare: ",C(k.expected_delivery_date)]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g(k.status)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:O(k.total_amount,k.currency)}),k.items_count&&e.jsxs("div",{className:"text-xs text-gray-500",children:[k.items_count," articole"]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:E=>{E.stopPropagation(),t(`/purchase-orders/${k.id}`)},className:"p-1 hover:bg-gray-100 rounded",title:"Vezi detalii",children:e.jsx(us,{className:"w-4 h-4 text-gray-600"})}),e.jsx("button",{onClick:E=>E.stopPropagation(),className:"p-1 hover:bg-gray-100 rounded",title:"Editeaz",children:e.jsx(Ar,{className:"w-4 h-4 text-gray-600"})}),e.jsx("button",{onClick:E=>E.stopPropagation(),className:"p-1 hover:bg-gray-100 rounded",title:"Descarc PDF",children:e.jsx(Xa,{className:"w-4 h-4 text-gray-600"})})]})})]},k.id)),n.length===0&&e.jsx("tr",{children:e.jsxs("td",{colSpan:6,className:"px-6 py-12 text-center",children:[e.jsx(gt,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Nu exist comenzi de achiziie"}),e.jsx("button",{onClick:()=>t("/purchase-orders/create"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Creeaz prima comand"})]})})]})]})})]})},XW=()=>{const{id:t}=hs(),a=nt(),[r,n]=v.useState(null),[l,c]=v.useState(!0),[d,u]=v.useState(null);v.useEffect(()=>{t&&x(t)},[t]);const x=async w=>{try{c(!0),u(null);const S=await gu.getPurchaseOrder(w);n(S)}catch(S){console.error("Failed to load purchase order:",S),u("Nu s-a putut ncrca comanda de achiziie. V rugm ncercai din nou.")}finally{c(!1)}},f=async()=>{if(r?.id)try{await gu.approvePurchaseOrder(r.id),x(r.id)}catch(w){console.error("Failed to approve PO:",w)}},h=async()=>{if(!r?.id)return;const w=prompt("Motiv respingere:");if(w)try{await gu.rejectPurchaseOrder(r.id,w),x(r.id)}catch(S){console.error("Failed to reject PO:",S)}},p=(w,S)=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:S||"RON"}).format(w),y=w=>w?new Date(w).toLocaleDateString("ro-RO"):"N/A",j=w=>{const g={draft:{label:"Draft",className:"bg-gray-100 text-gray-800"},pending_approval:{label:"Ateptare Aprobare",className:"bg-yellow-100 text-yellow-800"},approved:{label:"Aprobat",className:"bg-green-100 text-green-800"},rejected:{label:"Respins",className:"bg-red-100 text-red-800"},sent:{label:"Trimis",className:"bg-blue-100 text-blue-800"},partially_received:{label:"Recepionat Parial",className:"bg-orange-100 text-orange-800"},received:{label:"Recepionat",className:"bg-green-100 text-green-800"},cancelled:{label:"Anulat",className:"bg-gray-100 text-gray-800"}}[w]||{label:w,className:"bg-gray-100 text-gray-800"};return e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${g.className}`,children:g.label})};return l?e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsx("div",{className:"h-64 bg-gray-200 rounded-lg"}),e.jsx("div",{className:"h-96 bg-gray-200 rounded-lg"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-48 bg-gray-200 rounded-lg"}),e.jsx("div",{className:"h-48 bg-gray-200 rounded-lg"})]})]})]})}):d||!r?e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(qt,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Eroare la ncrcarea datelor"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:d||"Comanda nu a fost gsit"}),e.jsxs("div",{className:"flex gap-3 mt-3",children:[e.jsx("button",{onClick:()=>a("/purchase-orders"),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm",children:"napoi la list"}),t&&e.jsx("button",{onClick:()=>x(t),className:"px-4 py-2 bg-white text-red-700 border border-red-300 rounded-lg hover:bg-red-50 text-sm",children:"ncearc din nou"})]})]})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(ge,{to:"/purchase-orders",className:"inline-flex items-center text-sm text-gray-600 hover:text-gray-900 mb-4",children:[e.jsx(lo,{className:"w-4 h-4 mr-1"}),"napoi la comenzi"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:r.po_number}),e.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[j(r.status),r.reference_number&&e.jsxs("span",{className:"text-sm text-gray-600",children:["Ref: ",r.reference_number]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.status==="pending_approval"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:f,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2",children:[e.jsx(ju,{className:"w-4 h-4"}),"Aprob"]}),e.jsxs("button",{onClick:h,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center gap-2",children:[e.jsx(fr,{className:"w-4 h-4"}),"Respinge"]})]}),e.jsxs("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 flex items-center gap-2",children:[e.jsx(Ar,{className:"w-4 h-4"}),"Editeaz"]}),e.jsxs("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 flex items-center gap-2",children:[e.jsx(Xa,{className:"w-4 h-4"}),"PDF"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Detalii Comand"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(mt,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Dat comand"}),e.jsx("p",{className:"text-base font-medium text-gray-900",children:y(r.order_date)})]})]}),r.expected_delivery_date&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(hr,{className:"w-5 h-5 text-orange-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Livrare estimat"}),e.jsx("p",{className:"text-base font-medium text-gray-900",children:y(r.expected_delivery_date)})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(da,{className:"w-5 h-5 text-green-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Valoare total"}),e.jsx("p",{className:"text-lg font-bold text-green-600",children:p(r.total_amount,r.currency)})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(gt,{className:"w-5 h-5 text-purple-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total articole"}),e.jsx("p",{className:"text-base font-medium text-gray-900",children:r.items?.length||0})]})]})]}),r.notes&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Notie"}),e.jsx("p",{className:"text-sm text-gray-900",children:r.notes})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Produse"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produs"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cantitate"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pre Unitar"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Recepionat"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.items?.map(w=>e.jsxs("tr",{children:[e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:w.product_name}),w.product_code&&e.jsxs("div",{className:"text-xs text-gray-500",children:["Cod: ",w.product_code]}),w.description&&e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:w.description})]}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsx("div",{className:"text-sm text-gray-900",children:w.quantity})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx("div",{className:"text-sm text-gray-900",children:p(w.unit_price,r.currency)})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:p(w.total_amount,r.currency)})}),e.jsxs("td",{className:"px-6 py-4 text-center",children:[e.jsxs("div",{className:"text-sm text-gray-900",children:[w.quantity_received," / ",w.quantity]}),e.jsx("div",{className:"mt-1",children:e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${w.quantity_received/w.quantity*100}%`}})})})]})]},w.id))}),e.jsxs("tfoot",{className:"bg-gray-50",children:[e.jsxs("tr",{children:[e.jsx("td",{colSpan:3,className:"px-6 py-3 text-right text-sm font-medium text-gray-900",children:"Subtotal:"}),e.jsx("td",{colSpan:2,className:"px-6 py-3 text-right text-sm font-medium text-gray-900",children:p(r.subtotal,r.currency)})]}),r.tax_amount>0&&e.jsxs("tr",{children:[e.jsx("td",{colSpan:3,className:"px-6 py-3 text-right text-sm font-medium text-gray-900",children:"TVA:"}),e.jsx("td",{colSpan:2,className:"px-6 py-3 text-right text-sm font-medium text-gray-900",children:p(r.tax_amount,r.currency)})]}),e.jsxs("tr",{children:[e.jsx("td",{colSpan:3,className:"px-6 py-3 text-right text-base font-bold text-gray-900",children:"Total:"}),e.jsx("td",{colSpan:2,className:"px-6 py-3 text-right text-base font-bold text-green-600",children:p(r.total_amount,r.currency)})]})]})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Furnizor"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{children:e.jsx("p",{className:"text-base font-medium text-gray-900",children:r.vendor_name})}),r.vendor_email&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(il,{className:"w-4 h-4"}),e.jsx("a",{href:`mailto:${r.vendor_email}`,className:"hover:text-blue-600",children:r.vendor_email})]}),r.vendor_phone&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Nu,{className:"w-4 h-4"}),e.jsx("a",{href:`tel:${r.vendor_phone}`,className:"hover:text-blue-600",children:r.vendor_phone})]}),r.vendor_address&&e.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-600",children:[e.jsx(r_,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:r.vendor_address})]})]})]}),(r.approved_by_name||r.rejected_by_name)&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Status Aprobare"}),r.approved_by_name&&e.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[e.jsx(ze,{className:"w-4 h-4 text-green-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Aprobat de"}),e.jsx("p",{className:"font-medium text-gray-900",children:r.approved_by_name}),r.approved_at&&e.jsx("p",{className:"text-xs text-gray-500",children:y(r.approved_at)})]})]}),r.rejected_by_name&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[e.jsx(nl,{className:"w-4 h-4 text-red-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Respins de"}),e.jsx("p",{className:"font-medium text-gray-900",children:r.rejected_by_name}),r.rejected_at&&e.jsx("p",{className:"text-xs text-gray-500",children:y(r.rejected_at)})]})]}),r.rejection_reason&&e.jsx("div",{className:"mt-2 p-2 bg-red-50 rounded text-sm text-red-800",children:r.rejection_reason})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Informaii Suplimentare"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[r.payment_terms&&e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Termeni de plat"}),e.jsx("p",{className:"font-medium text-gray-900",children:r.payment_terms})]}),r.delivery_address&&e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Adres livrare"}),e.jsx("p",{className:"font-medium text-gray-900",children:r.delivery_address})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Creat de"}),e.jsx("p",{className:"font-medium text-gray-900",children:r.created_by_name||"N/A"}),e.jsx("p",{className:"text-xs text-gray-500",children:y(r.created_at)})]})]})]})]})]})]})},WW=()=>{Mt();const[t,a]=v.useState({today_hours:0,week_hours:0,month_hours:0,billable_hours:0,active_entries:0,pending_approval:0}),[r,n]=v.useState([]),[l,c]=v.useState(null),[d,u]=v.useState(!0);v.useEffect(()=>{x()},[]);const x=async()=>{try{u(!0);const y=localStorage.getItem("token"),j=localStorage.getItem("company_id"),w=await Te.get("/api/v1/time/stats.php",{headers:{Authorization:`Bearer ${y}`,"X-Company-ID":j}});w.data.success&&a(w.data.data);const S=await Te.get("/api/v1/time/entries.php?limit=10",{headers:{Authorization:`Bearer ${y}`,"X-Company-ID":j}});if(S.data.success){const g=S.data.data.entries;n(g);const _=g.find(O=>O.status==="running");c(_||null)}}catch(y){console.error("Error fetching dashboard data:",y)}finally{u(!1)}},f=async y=>{try{const j=localStorage.getItem("token"),w=localStorage.getItem("company_id");(await Te.post("/api/v1/time/entries.php?action=stop",{entry_id:y},{headers:{Authorization:`Bearer ${j}`,"X-Company-ID":w,"Content-Type":"application/json"}})).data.success&&x()}catch(j){console.error("Error stopping timer:",j)}},h=y=>y?y.toFixed(2):"0.00",p=y=>y?new Date(`2000-01-01 ${y}`).toLocaleTimeString("ro-RO",{hour:"2-digit",minute:"2-digit"}):"-";return d?e.jsx(Ve,{children:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"w-12 h-12 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"})})}):e.jsx(Ve,{children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Time Tracking"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Track and manage your work hours"})]}),e.jsx("button",{onClick:()=>window.location.href="/time/entries",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"View All Entries"})]}),l&&e.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl p-6 text-white shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(hr,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:l.project_name}),e.jsx("p",{className:"text-white/80",children:l.task_description})]})]}),e.jsxs("button",{onClick:()=>f(l.id),className:"flex items-center space-x-2 px-6 py-3 bg-white text-indigo-600 rounded-lg hover:bg-gray-100 transition-colors font-semibold",children:[e.jsx(xM,{className:"w-5 h-5 fill-current"}),e.jsx("span",{children:"Stop Timer"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Today"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:[h(t.today_hours),"h"]})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(hr,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"This Week"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:[h(t.week_hours),"h"]})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(mt,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"This Month"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:[h(t.month_hours),"h"]})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx($e,{className:"w-6 h-6 text-purple-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Billable Hours"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:[h(t.billable_hours),"h"]})]}),e.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center",children:e.jsx($e,{className:"w-6 h-6 text-indigo-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Timers"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:t.active_entries})]}),e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx(n_,{className:"w-6 h-6 text-orange-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Approval"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:t.pending_approval})]}),e.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:e.jsx(Va,{className:"w-6 h-6 text-yellow-600"})})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Recent Time Entries"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Task"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hours"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(y=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(y.entry_date).toLocaleDateString("ro-RO")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:y.project_name}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:y.task_description}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:[p(y.start_time)," - ",p(y.end_time)]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[h(y.hours),"h"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${y.status==="running"?"bg-green-100 text-green-800":y.status==="approved"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:y.status})})]},y.id))})]})})]})]})})},ZW=()=>{const[t,a]=v.useState([]),[,r]=v.useState(!0),[,n]=v.useState(!1);v.useEffect(()=>{l()},[]);const l=async()=>{try{const d=localStorage.getItem("token"),u=localStorage.getItem("company_id"),x=await Te.get("/api/v1/time/entries.php",{headers:{Authorization:`Bearer ${d}`,"X-Company-ID":u}});x.data.success&&a(x.data.data.entries)}catch(d){console.error("Error fetching entries:",d)}finally{r(!1)}},c=async d=>{if(confirm("Are you sure you want to delete this entry?"))try{const u=localStorage.getItem("token"),x=localStorage.getItem("company_id");await Te.delete(`/api/v1/time/entries.php?id=${d}`,{headers:{Authorization:`Bearer ${u}`,"X-Company-ID":x}}),l()}catch(u){console.error("Error deleting entry:",u)}};return e.jsx(Ve,{children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Time Entries"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage all your time entries"})]}),e.jsxs("button",{onClick:()=>n(!0),className:"flex items-center space-x-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:[e.jsx(ua,{className:"w-5 h-5"}),e.jsx("span",{children:"New Entry"})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-md border border-gray-200",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Project"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Task"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Hours"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Billable"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(d=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:new Date(d.entry_date).toLocaleDateString("ro-RO")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-medium",children:d.project_name}),e.jsx("td",{className:"px-6 py-4 text-sm",children:d.task_description}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap font-medium",children:[d.hours?.toFixed(2),"h"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.is_billable?e.jsx(ju,{className:"w-5 h-5 text-green-600"}):e.jsx(fr,{className:"w-5 h-5 text-gray-400"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:d.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"text-indigo-600 hover:text-indigo-800",children:e.jsx(Eg,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>c(d.id),className:"text-red-600 hover:text-red-800",children:e.jsx(vr,{className:"w-4 h-4"})})]})})]},d.id))})]})})})]})})},QW=()=>{const[t,a]=v.useState([]),[r,n]=v.useState({active_projects:0,completed_projects:0,total_budget:0,avg_completion:0}),[l,c]=v.useState(!1),[d,u]=v.useState({name:"",description:"",budget:"",start_date:new Date().toISOString().split("T")[0],end_date:"",status:"planning"}),[x,f]=v.useState(!1);v.useEffect(()=>{h()},[]);const h=async()=>{try{const w=localStorage.getItem("token"),S=localStorage.getItem("company_id"),g=await Te.get("/api/v1/projects/projects.php",{headers:{Authorization:`Bearer ${w}`,"X-Company-ID":S}});g.data.success&&(a(g.data.data.projects),p(g.data.data.projects))}catch(w){console.error("Error fetching projects:",w)}},p=w=>{const S=w.filter(C=>C.status==="in_progress").length,g=w.filter(C=>C.status==="completed").length,_=w.reduce((C,k)=>C+Number(k.budget),0),O=w.reduce((C,k)=>C+k.completion_percentage,0)/w.length;n({active_projects:S,completed_projects:g,total_budget:_,avg_completion:O||0})},y=async()=>{try{f(!0);const w=localStorage.getItem("token"),S=localStorage.getItem("company_id");(await Te.post("/api/v1/projects/projects.php",{name:d.name,description:d.description,budget:parseFloat(d.budget)||0,start_date:d.start_date,end_date:d.end_date||null,status:d.status},{headers:{Authorization:`Bearer ${w}`,"X-Company-ID":S}})).data.success&&(c(!1),u({name:"",description:"",budget:"",start_date:new Date().toISOString().split("T")[0],end_date:"",status:"planning"}),h())}catch(w){console.error("Error creating project:",w),alert("Failed to create project. Please try again.")}finally{f(!1)}},j=w=>{switch(w){case"in_progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"on_hold":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e.jsx(Ve,{children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Projects"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your projects and track progress"})]}),e.jsx("button",{onClick:()=>c(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"New Project"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Projects"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:r.active_projects})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(S7,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:r.completed_projects})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx($e,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Budget"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:["$",r.total_budget.toLocaleString()]})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(da,{className:"w-6 h-6 text-purple-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg. Completion"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:[r.avg_completion.toFixed(0),"%"]})]}),e.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center",children:e.jsx(Va,{className:"w-6 h-6 text-indigo-600"})})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(w=>e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:w.name}),e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${j(w.status)}`,children:w.status.replace("_"," ")})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:w.description}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-600",children:"Progress"}),e.jsxs("span",{className:"font-semibold",children:[w.completion_percentage,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-indigo-600 h-2 rounded-full transition-all",style:{width:`${w.completion_percentage}%`}})})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(mt,{className:"w-4 h-4"}),e.jsx("span",{children:new Date(w.start_date).toLocaleDateString("ro-RO")})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(da,{className:"w-4 h-4"}),e.jsxs("span",{children:["$",Number(w.budget).toLocaleString()]})]})]})]},w.id))}),l&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Create New Project"}),e.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(fr,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Name *"}),e.jsx("input",{type:"text",value:d.name,onChange:w=>u({...d,name:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Enter project name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{value:d.description,onChange:w=>u({...d,description:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",rows:3,placeholder:"Enter project description"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Budget"}),e.jsx("input",{type:"number",value:d.budget,onChange:w=>u({...d,budget:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"0.00",step:"0.01"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),e.jsx("input",{type:"date",value:d.start_date,onChange:w=>u({...d,start_date:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),e.jsx("input",{type:"date",value:d.end_date,onChange:w=>u({...d,end_date:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:d.status,onChange:w=>u({...d,status:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"planning",children:"Planning"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"on_hold",children:"On Hold"}),e.jsx("option",{value:"completed",children:"Completed"})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{onClick:y,disabled:x||!d.name,className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Creating...":"Create Project"}),e.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"})]})]})]})})]})})},JW=()=>{const[t,a]=v.useState([]),[,r]=v.useState(!0),[n,l]=v.useState(new Set);v.useEffect(()=>{c()},[]);const c=async()=>{try{const x=localStorage.getItem("token"),f=localStorage.getItem("company_id"),h=await Te.get("/api/v1/accounting/chart-of-accounts.php",{headers:{Authorization:`Bearer ${x}`,"X-Company-ID":f}});h.data.success&&a(h.data.data.accounts)}catch(x){console.error("Error fetching accounts:",x)}finally{r(!1)}},d=x=>{const f=new Set(n);f.has(x)?f.delete(x):f.add(x),l(f)},u=(x,f=0)=>{const h=x.children&&x.children.length>0,p=n.has(x.id);return e.jsxs(mm.Fragment,{children:[e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",style:{paddingLeft:`${f*2+1.5}rem`},children:e.jsxs("div",{className:"flex items-center space-x-2",children:[h&&e.jsx("button",{onClick:()=>d(x.id),className:"focus:outline-none",children:e.jsx(jl,{className:`w-4 h-4 transition-transform ${p?"rotate-90":""}`})}),e.jsx("span",{className:"font-medium text-gray-900",children:x.account_code})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-gray-900",children:x.account_name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:x.account_type})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right font-medium",children:["$",Number(x.balance).toLocaleString("ro-RO",{minimumFractionDigits:2})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${x.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:x.is_active?"Active":"Inactive"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"text-indigo-600 hover:text-indigo-800",children:e.jsx(Eg,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-red-600 hover:text-red-800",children:e.jsx(vr,{className:"w-4 h-4"})})]})})]}),h&&p&&x.children.map(y=>u(y,f+1))]},x.id)};return e.jsx(Ve,{children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Chart of Accounts"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your account structure"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>window.location.href="/accounting/reports",className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:[e.jsx(ot,{className:"w-5 h-5"}),e.jsx("span",{children:"Reports"})]}),e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:[e.jsx(ua,{className:"w-5 h-5"}),e.jsx("span",{children:"New Account"})]})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-md border border-gray-200",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Account Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Account Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Balance"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(x=>u(x))})]})})})]})})},eZ=()=>{const[t,a]=v.useState({total_revenue:0,total_expenses:0,profit_margin:0,active_projects:0,total_hours:0,utilization_rate:0}),[,r]=v.useState(!0),[n,l]=v.useState("last_30_days");v.useEffect(()=>{c()},[n]);const c=async()=>{try{const d=localStorage.getItem("token"),u=localStorage.getItem("company_id"),x=await Te.get("/api/v1/analytics/metrics.php",{headers:{Authorization:`Bearer ${d}`,"X-Company-ID":u}});x.data.success&&a(x.data.data.metrics)}catch(d){console.error("Error fetching metrics:",d)}finally{r(!1)}};return e.jsx(Ve,{children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics Dashboard"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Business intelligence and insights"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("select",{value:n,onChange:d=>l(d.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"last_7_days",children:"Last 7 Days"}),e.jsx("option",{value:"last_30_days",children:"Last 30 Days"}),e.jsx("option",{value:"last_90_days",children:"Last 90 Days"}),e.jsx("option",{value:"this_year",children:"This Year"})]}),e.jsxs("button",{onClick:()=>window.location.href="/analytics/dashboards",className:"flex items-center space-x-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:[e.jsx(ua,{className:"w-5 h-5"}),e.jsx("span",{children:"New Dashboard"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Total Revenue"}),e.jsxs("p",{className:"text-3xl font-bold mt-2",children:["$",t.total_revenue.toLocaleString("ro-RO",{minimumFractionDigits:2})]})]}),e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx(da,{className:"w-6 h-6"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Profit Margin"}),e.jsxs("p",{className:"text-3xl font-bold mt-2",children:[t.profit_margin.toFixed(1),"%"]})]}),e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx($e,{className:"w-6 h-6"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Active Projects"}),e.jsx("p",{className:"text-3xl font-bold mt-2",children:t.active_projects})]}),e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx(mr,{className:"w-6 h-6"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Hours"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[t.total_hours.toFixed(1),"h"]})]}),e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx(Va,{className:"w-6 h-6 text-orange-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Utilization Rate"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[t.utilization_rate.toFixed(1),"%"]})]}),e.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center",children:e.jsx($e,{className:"w-6 h-6 text-indigo-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Expenses"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:["$",t.total_expenses.toLocaleString("ro-RO",{minimumFractionDigits:2})]})]}),e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(da,{className:"w-6 h-6 text-red-600"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("button",{onClick:()=>window.location.href="/analytics/kpis",className:"bg-white rounded-xl shadow-md p-6 border-2 border-gray-200 hover:border-indigo-500 transition-colors text-left",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center",children:e.jsx($e,{className:"w-6 h-6 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900",children:"KPI Tracking"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Monitor key metrics"})]})]})}),e.jsx("button",{onClick:()=>window.location.href="/analytics/reports",className:"bg-white rounded-xl shadow-md p-6 border-2 border-gray-200 hover:border-indigo-500 transition-colors text-left",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(mr,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900",children:"Custom Reports"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Build your own reports"})]})]})}),e.jsx("button",{onClick:()=>window.location.href="/analytics/widgets",className:"bg-white rounded-xl shadow-md p-6 border-2 border-gray-200 hover:border-indigo-500 transition-colors text-left",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(Va,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900",children:"Widgets"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Customize your dashboard"})]})]})})]})]})})},tZ=()=>{const[t,a]=v.useState([]),[r,n]=v.useState([]),[l,c]=v.useState(!0),[d,u]=v.useState(!1),[x,f]=v.useState(new Set),[h,p]=v.useState({}),[y,j]=v.useState({category_name:"",parent_category:"",description:""});v.useEffect(()=>{w()},[]);const w=async()=>{try{c(!0);const C=await QN.listCategories(!1,!0);C.success&&C.data&&(a(C.data.categories||[]),n(C.data.hierarchy||[]),p(C.data.usage_statistics||{}))}catch(C){console.error("Failed to load categories:",C)}finally{c(!1)}},S=async C=>{C.preventDefault();try{await QN.createCustomCategory(y),u(!1),j({category_name:"",parent_category:"",description:""}),w()}catch(k){alert(k.response?.data?.message||"Failed to create category")}},g=C=>{const k=new Set(x);k.has(C)?k.delete(C):k.add(C),f(k)},_=(C,k=0)=>{const E=C.children&&C.children.length>0,T=x.has(C.category_name),D=h[C.category_name];return e.jsxs("div",{className:"mb-1",children:[e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 transition-colors ${k>0?"ml-8 border-l-2 border-gray-200":""}`,children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[E?e.jsx("button",{onClick:()=>g(C.category_name),className:"text-gray-400 hover:text-gray-600",children:T?e.jsx(jm,{className:"w-5 h-5"}):e.jsx(jl,{className:"w-5 h-5"})}):e.jsx("div",{className:"w-5"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h4",{className:`font-medium ${C.is_custom?"text-blue-900":"text-gray-900"}`,children:C.category_name}),C.is_custom&&e.jsxs("span",{className:"px-2 py-0.5 text-xs bg-blue-100 text-blue-800 rounded-full flex items-center space-x-1",children:[e.jsx(ll,{className:"w-3 h-3"}),e.jsx("span",{children:"Custom"})]})]}),C.description&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:C.description}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-gray-500",children:[e.jsxs("span",{children:["Section: ",C.statement_section]}),C.parent_category&&e.jsxs("span",{children:["Parent: ",C.parent_category]}),D&&e.jsxs("span",{className:"text-green-600 font-medium",children:["Used ",D.count," times ($",D.total.toFixed(2),")"]})]})]})]}),C.is_custom&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:e.jsx(Eg,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(vr,{className:"w-4 h-4"})})]})]}),E&&T&&e.jsx("div",{className:"mt-1",children:C.children.map(P=>_(P,k+1))})]},C.id)},O=t.filter(C=>!C.parent_category);return l?e.jsx(Ve,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})})}):e.jsx(Ve,{children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Expense Categories"}),e.jsx("p",{className:"text-gray-600",children:"Manage your expense categories with hierarchical organization"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Categories"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:t.length})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg shadow-sm border border-blue-200 p-6",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-600",children:"Custom Categories"}),e.jsx("p",{className:"text-3xl font-bold text-blue-900 mt-2",children:t.filter(C=>C.is_custom).length})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg shadow-sm border border-green-200 p-6",children:[e.jsx("h3",{className:"text-sm font-medium text-green-600",children:"Top Level Categories"}),e.jsx("p",{className:"text-3xl font-bold text-green-900 mt-2",children:O.length})]})]}),e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsxs("button",{onClick:()=>u(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(ua,{className:"w-5 h-5"}),e.jsx("span",{children:"Create Custom Category"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Category Hierarchy"}),e.jsx("div",{className:"space-y-2",children:r.map(C=>_(C))})]})}),d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Create Custom Category"}),e.jsxs("form",{onSubmit:S,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Name *"}),e.jsx("input",{type:"text",required:!0,value:y.category_name,onChange:C=>j({...y,category_name:C.target.value}),placeholder:"e.g., Software Subscriptions",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Parent Category (Optional)"}),e.jsxs("select",{value:y.parent_category,onChange:C=>j({...y,parent_category:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"None (Top Level)"}),O.map(C=>e.jsx("option",{value:C.category_name,children:C.category_name},C.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:y.description,onChange:C=>j({...y,description:C.target.value}),placeholder:"Brief description of this category",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{u(!1),j({category_name:"",parent_category:"",description:""})},className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Create Category"})]})]})]})})})]})})},aZ=()=>{const t=nt(),[a,r]=v.useState([]),[n,l]=v.useState(!0),[c,d]=v.useState(null),[u,x]=v.useState(""),[f,h]=v.useState("all"),[p,y]=v.useState("all"),[j,w]=v.useState([0,1e3]),[S,g]=v.useState("grid"),[_,O]=v.useState("newest"),C=["Excel","Finance","Contabilitate","Fiscal","Business","Legal"];v.useEffect(()=>{k()},[f,p,_]);const k=async()=>{try{l(!0);const P=localStorage.getItem("token"),R=new URLSearchParams;f!=="all"&&R.append("category",f),p!=="all"&&R.append("level",p),_&&R.append("sort",_);const q=await(await fetch(`https://documentiulia.ro/api/v1/courses/list.php?${R.toString()}`,{headers:{Authorization:`Bearer ${P||""}`}})).json();q.success?r(q.courses):d(q.message)}catch(P){d("Failed to load courses"),console.error(P)}finally{l(!1)}},E=async P=>{const R=localStorage.getItem("token");if(!R){t("/login",{state:{returnTo:"/courses"}});return}try{const q=await(await fetch("https://documentiulia.ro/api/v1/courses/enroll.php",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${R}`},body:JSON.stringify({course_id:P})})).json();q.success?t(`/courses/${P}/learn`):alert(q.message)}catch(L){alert("Failed to enroll in course"),console.error(L)}},T=a.filter(P=>{const R=P.title.toLowerCase().includes(u.toLowerCase())||P.short_description.toLowerCase().includes(u.toLowerCase()),L=P.price_ron>=j[0]&&P.price_ron<=j[1];return R&&L}),D=({course:P})=>e.jsxs("div",{className:`bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-shadow cursor-pointer ${S==="list"?"flex flex-row":"flex flex-col"}`,onClick:()=>t(`/courses/${P.slug}`),children:[e.jsx("div",{className:S==="list"?"w-64 flex-shrink-0":"w-full",children:e.jsx("img",{src:P.thumbnail_url||"https://via.placeholder.com/400x225/3b82f6/ffffff?text=Course",alt:P.title,className:"w-full h-48 object-cover"})}),e.jsxs("div",{className:"p-6 flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-xs font-semibold rounded-full",children:P.category}),e.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:P.level.replace("_"," ").toUpperCase()})]}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 line-clamp-2",children:P.title}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:P.short_description}),e.jsx("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z"})}),P.total_lessons," lecii"]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),P.duration_hours,"h"]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),P.average_rating?.toFixed(1)||"N/A"]})]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:P.price_ron===0?"Gratuit":`${P.price_ron} RON`}),P.total_enrolled>0&&e.jsxs("p",{className:"text-xs text-gray-500",children:[P.total_enrolled," studeni nscrii"]})]}),e.jsx("button",{onClick:R=>{R.stopPropagation(),E(P.id)},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"nscrie-te"})]})]})]});return n?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Catalog Cursuri"}),e.jsx("p",{className:"text-xl text-blue-100",children:"nva abiliti eseniale pentru business prin cursuri practice i aplicative"})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Caut cursuri"}),e.jsx("input",{type:"text",value:u,onChange:P=>x(P.target.value),placeholder:"Caut dup titlu sau descriere...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categorie"}),e.jsxs("select",{value:f,onChange:P=>h(P.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"Toate categoriile"}),C.map(P=>e.jsx("option",{value:P,children:P},P))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nivel"}),e.jsxs("select",{value:p,onChange:P=>y(P.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"Toate nivelurile"}),e.jsx("option",{value:"beginner",children:"nceptor"}),e.jsx("option",{value:"intermediate",children:"Intermediar"}),e.jsx("option",{value:"advanced",children:"Avansat"}),e.jsx("option",{value:"all_levels",children:"Toate nivelurile"})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Pre: ",j[0]," - ",j[1]," RON"]}),e.jsx("input",{type:"range",min:"0",max:"1000",value:j[1],onChange:P=>w([0,parseInt(P.target.value)]),className:"w-full"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Sortare:"}),e.jsxs("select",{value:_,onChange:P=>O(P.target.value),className:"px-3 py-1 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"newest",children:"Cele mai noi"}),e.jsx("option",{value:"popular",children:"Cele mai populare"}),e.jsx("option",{value:"price_low",children:"Pre cresctor"}),e.jsx("option",{value:"price_high",children:"Pre descresctor"}),e.jsx("option",{value:"rating",children:"Rating"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>g("grid"),className:`p-2 rounded ${S==="grid"?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),e.jsx("button",{onClick:()=>g("list"),className:`p-2 rounded ${S==="list"?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})})]})]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("p",{className:"text-gray-600",children:[T.length," ",T.length===1?"curs gsit":"cursuri gsite"]})}),c&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:c}),e.jsx("div",{className:S==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-6",children:T.map(P=>e.jsx(D,{course:P},P.id))}),T.length===0&&!n&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Nu s-au gsit cursuri"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"ncearc s ajustezi filtrele sau caut altceva."})]})]})]})},rZ=()=>{const{slug:t}=hs(),a=nt(),[r,n]=v.useState(null),[l,c]=v.useState(!0),[d,u]=v.useState(null),[x,f]=v.useState("overview"),[h,p]=v.useState(new Set);v.useEffect(()=>{y()},[t]);const y=async()=>{try{c(!0);const g=localStorage.getItem("token"),O=await(await fetch(`https://documentiulia.ro/api/v1/courses/get.php?slug=${t}`,{headers:{Authorization:`Bearer ${g||""}`}})).json();O.success?(n(O.course),O.course.modules.length>0&&p(new Set([O.course.modules[0].id]))):u(O.message)}catch(g){u("Failed to load course details"),console.error(g)}finally{c(!1)}},j=async()=>{const g=localStorage.getItem("token");if(!g){a("/login",{state:{returnTo:`/courses/${t}`}});return}if(r)try{const O=await(await fetch("https://documentiulia.ro/api/v1/courses/enroll.php",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({course_id:r.id})})).json();O.success?a(`/courses/${r.id}/learn`):alert(O.message)}catch(_){alert("Failed to enroll in course"),console.error(_)}},w=g=>{const _=new Set(h);_.has(g)?_.delete(g):_.add(g),p(_)},S=g=>{switch(g){case"video":return e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"})});case"quiz":return e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})});case"text":return e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z",clipRule:"evenodd"})});default:return e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})})}};return l?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):d||!r?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[e.jsx("div",{className:"text-red-600 text-xl mb-4",children:d||"Course not found"}),e.jsx("button",{onClick:()=>a("/courses"),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Back to Courses"})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("span",{className:"px-3 py-1 bg-blue-500 rounded-full text-sm font-semibold",children:r.category}),e.jsx("span",{className:"px-3 py-1 bg-blue-500 rounded-full text-sm",children:r.level.replace("_"," ").toUpperCase()})]}),e.jsx("h1",{className:"text-4xl font-bold mb-4",children:r.title}),e.jsx("p",{className:"text-xl text-blue-100 mb-6",children:r.short_description}),e.jsxs("div",{className:"flex items-center space-x-6 text-blue-100",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),e.jsx("span",{className:"font-semibold",children:r.average_rating?.toFixed(1)||"N/A"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})}),e.jsxs("span",{children:[r.total_enrolled," studeni nscrii"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),e.jsxs("span",{children:[r.duration_hours," ore  ",r.total_lessons," lecii"]})]})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("p",{className:"text-sm text-blue-200",children:["Creat de ",e.jsx("span",{className:"font-semibold text-white",children:r.instructor_name})]})})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 text-gray-900",children:[e.jsx("img",{src:r.thumbnail_url||"https://via.placeholder.com/400x225/3b82f6/ffffff?text=Course",alt:r.title,className:"w-full rounded-lg mb-4"}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("p",{className:"text-3xl font-bold text-blue-600 mb-2",children:r.price_ron===0?"Gratuit":`${r.price_ron} RON`}),r.price_ron>0&&e.jsx("p",{className:"text-sm text-gray-500",children:"Plat unic  Acces nelimitat"})]}),e.jsx("button",{onClick:j,className:"w-full py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-bold text-lg mb-4",children:"nscrie-te acum"}),e.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-3 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Acces nelimitat pe via"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-3 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Certificat de absolvire"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-3 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Resurse descrcabile"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-3 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Suport 24/7"]})]})]})})]})})}),e.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("nav",{className:"flex space-x-8",children:["overview","curriculum","instructor","reviews"].map(g=>e.jsxs("button",{onClick:()=>f(g),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${x===g?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[g==="overview"&&"Prezentare general",g==="curriculum"&&"Curriculum",g==="instructor"&&"Instructor",g==="reviews"&&"Recenzii"]},g))})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[x==="overview"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Despre acest curs"}),e.jsx("div",{className:"prose max-w-none text-gray-600",children:r.description})]}),r.what_you_will_learn&&r.what_you_will_learn.length>0&&e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Ce vei nva"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.what_you_will_learn.map((g,_)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx("svg",{className:"w-6 h-6 text-green-500 mr-3 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-gray-700",children:g})]},_))})]}),r.requirements&&r.requirements.length>0&&e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Cerine"}),e.jsx("ul",{className:"list-disc list-inside space-y-2 text-gray-700",children:r.requirements.map((g,_)=>e.jsx("li",{children:g},_))})]}),r.target_audience&&r.target_audience.length>0&&e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Acest curs este pentru tine dac"}),e.jsx("ul",{className:"list-disc list-inside space-y-2 text-gray-700",children:r.target_audience.map((g,_)=>e.jsx("li",{children:g},_))})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-24",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Statistici curs"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Durat total"}),e.jsxs("span",{className:"font-semibold",children:[r.duration_hours,"h"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Lecii"}),e.jsx("span",{className:"font-semibold",children:r.total_lessons})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Studeni"}),e.jsx("span",{className:"font-semibold",children:r.total_enrolled})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Nivel"}),e.jsx("span",{className:"font-semibold",children:r.level.replace("_"," ")})]})]})]})})]}),x==="curriculum"&&e.jsxs("div",{className:"max-w-4xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Coninutul cursului"}),e.jsxs("p",{className:"text-gray-600",children:[r.modules.length," module  ",r.total_lessons," lecii  ",r.duration_hours,"h durat total"]})]}),e.jsx("div",{className:"space-y-4",children:r.modules.map(g=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsxs("button",{onClick:()=>w(g.id),className:"w-full px-6 py-4 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform ${h.has(g.id)?"transform rotate-90":""}`,fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),e.jsxs("div",{className:"text-left",children:[e.jsxs("h3",{className:"font-bold text-gray-900",children:["Modulul ",g.order_index,": ",g.module_name]}),g.module_description&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:g.module_description})]})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[g.lessons.length," lecii"]})]}),h.has(g.id)&&e.jsx("div",{className:"border-t",children:g.lessons.map(_=>e.jsxs("div",{className:"px-6 py-4 flex items-center justify-between hover:bg-gray-50 border-b last:border-b-0",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"text-gray-400",children:S(_.lesson_type)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:_.lesson_name}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("span",{className:"text-xs text-gray-500 capitalize",children:_.lesson_type}),_.duration_minutes>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-xs text-gray-400",children:""}),e.jsxs("span",{className:"text-xs text-gray-500",children:[_.duration_minutes," min"]})]}),_.is_preview&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-xs text-gray-400",children:""}),e.jsx("span",{className:"text-xs text-blue-600 font-semibold",children:"Preview"})]})]})]})]}),_.is_preview&&e.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-semibold",children:"Vizioneaz"})]},_.id))})]},g.id))})]}),x==="instructor"&&e.jsx("div",{className:"max-w-4xl",children:e.jsx("div",{className:"bg-white rounded-lg shadow-md p-8",children:e.jsxs("div",{className:"flex items-start space-x-6",children:[e.jsx("div",{className:"w-32 h-32 bg-blue-600 rounded-full flex items-center justify-center text-white text-4xl font-bold flex-shrink-0",children:r.instructor_name.charAt(0)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:r.instructor_name}),e.jsx("p",{className:"text-gray-600 mb-6",children:r.instructor_bio||"Expert instructor cu experien vast n domeniu."}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.total_enrolled}),e.jsx("p",{className:"text-sm text-gray-600",children:"Studeni"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"1"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Cursuri"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.average_rating?.toFixed(1)||"N/A"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Rating mediu"})]})]})]})]})})}),x==="reviews"&&e.jsx("div",{className:"max-w-4xl",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Fr recenzii nc"}),e.jsx("p",{className:"text-gray-600",children:"Fii primul care las o recenzie pentru acest curs!"})]})})]})]})},nZ=()=>{const t=nt(),[a,r]=v.useState([]),[n,l]=v.useState([]),[c,d]=v.useState(!0),[,u]=v.useState(null),[x,f]=v.useState("courses");v.useEffect(()=>{h()},[]);const h=async()=>{try{d(!0);const g=localStorage.getItem("token");if(!g){t("/login");return}const O=await(await fetch("https://documentiulia.ro/api/v1/courses/my-enrollments.php",{headers:{Authorization:`Bearer ${g}`}})).json();O.success&&r(O.enrollments||[]);const C=(O.enrollments||[]).filter(k=>k.certificate_issued_at).map(k=>({certificate_id:k.enrollment_id,certificate_code:"CERT-PLACEHOLDER",course_name:k.course_title,course_category:"Business",issued_at:k.certificate_issued_at,final_score:k.completion_percentage,certificate_url:"/certificates/placeholder.pdf",is_valid:!0}));l(C)}catch(g){u("Failed to load student data"),console.error(g)}finally{d(!1)}},p=g=>{g.current_lesson_id?t(`/courses/${g.course_id}/learn/${g.current_lesson_id}`):t(`/courses/${g.course_id}/learn`)},y=g=>g>=80?"bg-green-500":g>=50?"bg-blue-500":g>=25?"bg-yellow-500":"bg-gray-300",j=g=>{if(g<60)return`${g}m`;const _=Math.floor(g/60),O=g%60;return`${_}h ${O}m`},S=(()=>{const g=a.length,_=a.filter(k=>k.completion_percentage>=100).length,O=a.filter(k=>k.completion_percentage>0&&k.completion_percentage<100).length,C=a.reduce((k,E)=>k+(E.time_spent_minutes||0),0);return{totalCourses:g,completedCourses:_,inProgressCourses:O,totalTimeSpent:C}})();return c?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Tabloul meu de bord"}),e.jsx("p",{className:"text-blue-100",children:"Gestioneaz-i cursurile i urmrete-i progresul"})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Cursuri totale"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:S.totalCourses})]}),e.jsx("div",{className:"bg-blue-100 rounded-full p-3",children:e.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3z"})})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Finalizate"}),e.jsx("p",{className:"text-3xl font-bold text-green-600 mt-1",children:S.completedCourses})]}),e.jsx("div",{className:"bg-green-100 rounded-full p-3",children:e.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"n progres"}),e.jsx("p",{className:"text-3xl font-bold text-yellow-600 mt-1",children:S.inProgressCourses})]}),e.jsx("div",{className:"bg-yellow-100 rounded-full p-3",children:e.jsx("svg",{className:"w-8 h-8 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Timp petrecut"}),e.jsxs("p",{className:"text-3xl font-bold text-purple-600 mt-1",children:[Math.floor(S.totalTimeSpent/60),"h"]})]}),e.jsx("div",{className:"bg-purple-100 rounded-full p-3",children:e.jsx("svg",{className:"w-8 h-8 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md mb-6",children:[e.jsx("div",{className:"border-b",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:["courses","certificates","activity"].map(g=>e.jsxs("button",{onClick:()=>f(g),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${x===g?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[g==="courses"&&"Cursurile mele",g==="certificates"&&"Certificate",g==="activity"&&"Activitate recent"]},g))})}),x==="courses"&&e.jsx("div",{className:"p-6",children:a.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Niciun curs nscris"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"ncepe s nvei explornd catalogul nostru de cursuri."}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:()=>t("/courses"),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Exploreaz cursuri"})})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(g=>e.jsxs("div",{className:"bg-gray-50 rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:g.course_thumbnail||"https://via.placeholder.com/400x225/3b82f6/ffffff?text=Course",alt:g.course_title,className:"w-full h-40 object-cover"}),g.completion_percentage>=100&&e.jsx("div",{className:"absolute top-2 right-2 bg-green-500 text-white px-3 py-1 rounded-full text-xs font-semibold",children:" Finalizat"})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-2 line-clamp-2",children:g.course_title}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-1",children:[e.jsx("span",{children:"Progres"}),e.jsxs("span",{className:"font-semibold",children:[Math.round(g.completion_percentage),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all ${y(g.completion_percentage)}`,style:{width:`${g.completion_percentage}%`}})})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-4",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),g.lessons_completed,"/",g.total_lessons]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),j(g.time_spent_minutes)]})]}),g.current_lesson_name&&e.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:["Lecia curent: ",e.jsx("span",{className:"font-medium",children:g.current_lesson_name})]}),e.jsx("button",{onClick:()=>p(g),className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:g.completion_percentage===0?"ncepe cursul":"Continu nvarea"})]})]},g.enrollment_id))})}),x==="certificates"&&e.jsx("div",{className:"p-6",children:n.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Niciun certificat nc"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Finalizeaz un curs pentru a obine primul certificat."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n.map(g=>e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg p-6 border-2 border-blue-200",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:"bg-blue-600 text-white p-3 rounded-full",children:e.jsxs("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),e.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})]})}),e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-xs font-semibold rounded-full",children:g.course_category})]}),e.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:g.course_name}),e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Cod certificat: ",e.jsx("span",{className:"font-mono font-semibold",children:g.certificate_code})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-4",children:[e.jsxs("span",{children:["Scor final: ",e.jsxs("span",{className:"font-bold text-green-600",children:[g.final_score,"%"]})]}),e.jsx("span",{children:new Date(g.issued_at).toLocaleDateString("ro-RO")})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>window.open(g.certificate_url,"_blank"),className:"flex-1 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold text-sm",children:"Descarc PDF"}),e.jsx("button",{onClick:()=>navigator.clipboard.writeText(`https://documentiulia.ro/verify/${g.certificate_code}`),className:"flex-1 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-semibold text-sm",children:"Copiaz link"})]})]},g.certificate_id))})}),x==="activity"&&e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[a.filter(g=>g.last_accessed_at).sort((g,_)=>new Date(_.last_accessed_at).getTime()-new Date(g.last_accessed_at).getTime()).slice(0,10).map(g=>e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:g.course_thumbnail||"https://via.placeholder.com/80x80/3b82f6/ffffff?text=C",alt:g.course_title,className:"w-16 h-16 rounded-lg object-cover"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:g.course_title}),g.current_lesson_name&&e.jsx("p",{className:"text-sm text-gray-500 truncate",children:g.current_lesson_name}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Ultimul acces: ",new Date(g.last_accessed_at).toLocaleDateString("ro-RO")]})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx("button",{onClick:()=>p(g),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"Continu"})})]},g.enrollment_id)),a.filter(g=>g.last_accessed_at).length===0&&e.jsx("div",{className:"text-center py-12 text-gray-500",children:e.jsx("p",{children:"Nicio activitate recent"})})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Aciuni rapide"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("button",{onClick:()=>t("/courses"),className:"flex items-center space-x-3 p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3z"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Exploreaz cursuri"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Descoper cursuri noi"})]})]}),e.jsxs("button",{onClick:()=>f("certificates"),className:"flex items-center space-x-3 p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsxs("svg",{className:"w-8 h-8 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),e.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})]}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Certificatele mele"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Vezi certificatele obinute"})]})]}),e.jsxs("button",{onClick:()=>t("/settings"),className:"flex items-center space-x-3 p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors",children:[e.jsx("svg",{className:"w-8 h-8 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Setri cont"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Gestioneaz contul tu"})]})]})]})]})]})]})},sZ=({lessonId:t,videoUrl:a,lessonTitle:r,onProgress:n,onComplete:l,onNext:c,hasNextLesson:d=!1})=>{const u=v.useRef(null),[x,f]=v.useState(!1),[h,p]=v.useState(0),[y,j]=v.useState(0),[w,S]=v.useState(1),[g,_]=v.useState(!1),[O,C]=v.useState(0),[k,E]=v.useState(new Set),[T,D]=v.useState(Date.now()),[P,R]=v.useState(!1);v.useEffect(()=>{(async()=>{try{const G=localStorage.getItem("token"),ne=localStorage.getItem("selectedCompanyId"),he=await fetch(`/api/v1/courses/get-progress.php?course_id=${t}`,{headers:{Authorization:`Bearer ${G}`,"X-Company-ID":ne||""}});if(he.ok){const be=(await he.json()).data.lessons.find(Ge=>Ge.lesson_id===t);be&&be.last_position&&u.current&&(u.current.currentTime=be.last_position)}}catch(G){console.error("Failed to load progress:",G)}})(),D(Date.now())},[t]),v.useEffect(()=>{if(u.current&&y>0){const G=Math.floor(h/5);k.has(G)||E(new Set([...k,G]))}},[h,y]);const L=()=>{if(y===0)return 0;const G=Math.ceil(y/5),ne=k.size/G*100;return Math.min(100,Math.round(ne*10)/10)};v.useEffect(()=>{const K=setInterval(()=>{x&&u.current&&q(!1)},1e4);return()=>clearInterval(K)},[x,h,k]);const q=async(K=!1)=>{const G=L(),ne=Math.floor((Date.now()-T)/1e3),he={lesson_id:t,progress_percentage:O,last_position:Math.floor(h),time_spent_seconds:ne,video_watch_percentage:G,completed:K||G>=90};n&&n(he);try{const me=localStorage.getItem("token"),be=localStorage.getItem("selectedCompanyId"),Ge=await fetch("/api/v1/courses/update-progress.php",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${me}`,"X-Company-ID":be||""},body:JSON.stringify(he)});Ge.ok&&(await Ge.json()).success&&!K&&G>=90&&(R(!0),l&&l(),setTimeout(()=>{R(!1)},3e3))}catch(me){console.error("Failed to save progress:",me)}},F=()=>{u.current&&(x?u.current.pause():u.current.play(),f(!x))},se=()=>{if(u.current){p(u.current.currentTime);const K=u.current.currentTime/u.current.duration*100;C(K)}},ce=()=>{u.current&&j(u.current.duration)},ue=K=>{const G=parseFloat(K.target.value);u.current&&(u.current.currentTime=G,p(G))},H=()=>{u.current&&(u.current.muted=!g,_(!g))},z=K=>{const G=parseFloat(K.target.value);u.current&&(u.current.volume=G,S(G),_(G===0))},$=()=>{u.current&&(document.fullscreenElement?document.exitFullscreen():u.current.requestFullscreen())},re=()=>{f(!1),q(!0),R(!0),l&&l()},te=K=>{const G=Math.floor(K/60),ne=Math.floor(K%60);return`${G}:${ne.toString().padStart(2,"0")}`},I=L();return e.jsxs("div",{className:"relative w-full bg-gray-900 rounded-lg overflow-hidden shadow-2xl",children:[e.jsx("video",{ref:u,src:a,className:"w-full aspect-video",onTimeUpdate:se,onLoadedMetadata:ce,onEnded:re,onPlay:()=>f(!0),onPause:()=>f(!1)}),P&&e.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 animate-fade-in",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{className:"font-semibold",children:"Lecia completat!"})]})}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 to-transparent p-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("input",{type:"range",min:"0",max:y,value:h,onChange:ue,className:"w-full h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, #3b82f6 0%, #3b82f6 ${O}%, #4b5563 ${O}%, #4b5563 100%)`}}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-300 mt-1",children:[e.jsx("span",{children:te(h)}),e.jsx("span",{children:te(y)})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:F,className:"text-white hover:text-blue-400 transition-colors",children:x?e.jsx(G7,{size:24}):e.jsx(n_,{size:24})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:H,className:"text-white hover:text-blue-400 transition-colors",children:g||w===0?e.jsx(CM,{size:20}):e.jsx(SM,{size:20})}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:w,onChange:z,className:"w-20 h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer"})]}),e.jsxs("div",{className:"text-sm text-gray-300",children:["Progres: ",e.jsxs("span",{className:"text-blue-400 font-semibold",children:[I,"%"]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[d&&c&&e.jsxs("button",{onClick:c,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[e.jsx("span",{children:"Lecia urmtoare"}),e.jsx(oM,{size:16})]}),e.jsx("button",{onClick:$,className:"text-white hover:text-blue-400 transition-colors",children:e.jsx(I7,{size:20})})]})]})]}),e.jsx("div",{className:"absolute top-0 left-0 right-0 bg-gradient-to-b from-black/70 to-transparent p-4",children:e.jsx("h3",{className:"text-white text-lg font-semibold",children:r})})]})},cS=()=>{const{courseId:t,lessonId:a}=hs(),r=nt(),[,n]=v.useState(null),[l,c]=v.useState(null),[d,u]=v.useState(null),[x,f]=v.useState(!0),[h,p]=v.useState(new Set);v.useEffect(()=>{y(),j()},[t]),v.useEffect(()=>{if(d&&a){const T=d.lessons.find(D=>D.lesson_id===parseInt(a));c(T)}},[a,d]);const y=async()=>{try{const T=localStorage.getItem("token"),D=localStorage.getItem("selectedCompanyId"),P=await fetch(`/api/v1/courses/get.php?id=${t}`,{headers:{Authorization:`Bearer ${T}`,"X-Company-ID":D||""}});if(P.ok){const R=await P.json();n(R.data)}}catch(T){console.error("Failed to fetch course data:",T)}},j=async()=>{try{const T=localStorage.getItem("token"),D=localStorage.getItem("selectedCompanyId"),P=await fetch(`/api/v1/courses/get-progress.php?course_id=${t}`,{headers:{Authorization:`Bearer ${T}`,"X-Company-ID":D||""}});if(P.ok){const R=await P.json();if(u(R.data),a){const L=R.data.lessons.find(q=>q.lesson_id===parseInt(a));L&&p(new Set([L.module_id]))}}}catch(T){console.error("Failed to fetch progress:",T)}finally{f(!1)}},w=async()=>{j()},S=()=>{j()},g=async()=>{try{const T=localStorage.getItem("token"),D=localStorage.getItem("selectedCompanyId"),P=await fetch(`/api/v1/courses/next-lesson.php?course_id=${t}&current_lesson_id=${a}`,{headers:{Authorization:`Bearer ${T}`,"X-Company-ID":D||""}});if(P.ok){const R=await P.json();R.data&&r(`/courses/${t}/lesson/${R.data.id}`)}}catch(T){console.error("Failed to get next lesson:",T)}},_=T=>{const D=new Set(h);D.has(T)?D.delete(T):D.add(T),p(D)},O=T=>{r(`/courses/${t}/lesson/${T}`)},C=d?.lessons.reduce((T,D)=>(T[D.module_id]||(T[D.module_id]={module_id:D.module_id,module_name:D.module_name,module_number:D.module_number,lessons:[]}),T[D.module_id].lessons.push(D),T),{}),k=C?Object.values(C).sort((T,D)=>T.module_number-D.module_number):[],E=d?.lessons.findIndex(T=>T.lesson_id===parseInt(a||"0"))<(d?.lessons.length||0)-1;return x?e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):l?e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsx(sZ,{lessonId:l.lesson_id,videoUrl:`/videos/${l.lesson_id}.mp4`,lessonTitle:l.lesson_name,onProgress:w,onComplete:S,onNext:E?g:void 0,hasNextLesson:E}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:l.lesson_name}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[e.jsxs("span",{children:["Modul ",l.module_number]}),e.jsx("span",{children:""}),e.jsxs("span",{children:[Math.floor(l.video_duration_seconds/60)," minute"]}),l.is_completed&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:""}),e.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[e.jsx(ze,{size:16}),"Completat"]})]})]})]})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sticky top-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Curriculum curs"}),d&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${d.stats.overall_progress}%`}})}),e.jsxs("span",{className:"font-semibold",children:[Math.round(d.stats.overall_progress),"%"]})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[d?.stats.completed_lessons," / ",d?.stats.total_lessons," lecii completate"]})]}),e.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:k.map(T=>e.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[e.jsxs("button",{onClick:()=>_(T.module_id),className:"w-full flex items-center justify-between p-3 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[h.has(T.module_id)?e.jsx(jm,{size:16,className:"text-gray-600"}):e.jsx(jl,{size:16,className:"text-gray-600"}),e.jsxs("span",{className:"font-semibold text-sm text-gray-900",children:["Modul ",T.module_number,": ",T.module_name]})]}),e.jsxs("span",{className:"text-xs text-gray-500",children:[T.lessons.filter(D=>D.is_completed).length,"/",T.lessons.length]})]}),h.has(T.module_id)&&e.jsx("div",{className:"border-t border-gray-200",children:T.lessons.map(D=>e.jsxs("button",{onClick:()=>O(D.lesson_id),className:`w-full flex items-center gap-3 p-3 hover:bg-gray-50 transition-colors ${D.lesson_id===parseInt(a||"0")?"bg-blue-50 border-l-4 border-blue-600":""}`,children:[D.is_completed?e.jsx(ze,{size:16,className:"text-green-600 flex-shrink-0"}):e.jsx(f7,{size:16,className:"text-gray-400 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"text-sm text-gray-900",children:D.lesson_name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[Math.floor(D.video_duration_seconds/60)," min"]})]})]},D.lesson_id))})]},T.module_id))})]})})]})})}):e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Lecie negsit"}),e.jsx("button",{onClick:()=>r(`/courses/${t}`),className:"text-blue-600 hover:text-blue-800",children:"napoi la curs"})]})})},iZ=()=>{const t=nt(),[a,r]=v.useState(null),[n,l]=v.useState(null),[c,d]=v.useState([]),[u,x]=v.useState(!0),[,f]=v.useState(null);v.useEffect(()=>{h()},[]);const h=async()=>{try{x(!0);const g=localStorage.getItem("token");if(!g){t("/login");return}const O=await(await fetch("https://documentiulia.ro/api/v1/subscriptions/my-subscription.php",{headers:{Authorization:`Bearer ${g}`}})).json();O.success&&(r(O.subscription),l(O.usage));const k=await(await fetch("https://documentiulia.ro/api/v1/subscriptions/plans.php")).json();k.success&&d(k.plans)}catch(g){f("Failed to load subscription data"),console.error(g)}finally{x(!1)}},p=g=>{const _={active:{bg:"bg-green-100",text:"text-green-800",label:"Activ"},trialing:{bg:"bg-blue-100",text:"text-blue-800",label:"Perioad trial"},past_due:{bg:"bg-red-100",text:"text-red-800",label:"Plat restant"},canceled:{bg:"bg-gray-100",text:"text-gray-800",label:"Anulat"},expired:{bg:"bg-gray-100",text:"text-gray-800",label:"Expirat"}},O=_[g]||_.active;return e.jsx("span",{className:`px-3 py-1 ${O.bg} ${O.text} text-sm font-semibold rounded-full`,children:O.label})},y=(g,_)=>_?Math.min(g/_*100,100):0,j=g=>g>=90?"bg-red-500":g>=75?"bg-yellow-500":"bg-green-500",w=g=>new Date(g).toLocaleDateString("ro-RO",{year:"numeric",month:"long",day:"numeric"}),S=g=>{const _=new Date,C=new Date(g).getTime()-_.getTime();return Math.ceil(C/(1e3*60*60*24))};return u?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Abonamentul meu"}),e.jsx("p",{className:"text-blue-100",children:"Gestioneaz abonamentul i facturarea"})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a?e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 mb-8",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Plan ",a.plan_name]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[p(a.status),a.cancel_at_period_end&&e.jsxs("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-800 text-sm font-semibold rounded-full",children:["Se anuleaz la ",w(a.current_period_end)]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[a.amount_paid," ",a.currency]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["/",a.billing_cycle==="yearly"?"an":"lun"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Perioad curent"}),e.jsxs("p",{className:"font-semibold text-gray-900",children:[w(a.current_period_start)," - ",w(a.current_period_end)]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[S(a.current_period_end)," zile pn la rennoire"]})]}),a.trial_ends_at&&e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-blue-600 mb-1",children:"Perioad trial"}),e.jsxs("p",{className:"font-semibold text-blue-900",children:["Expir ",w(a.trial_ends_at)]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Rennoire automat"}),e.jsx("p",{className:"font-semibold text-gray-900",children:a.auto_renew?"Activat":"Dezactivat"})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>t("/subscription/plans"),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"Schimb planul"}),e.jsx("button",{onClick:()=>t("/subscription/billing"),className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-semibold",children:"Istoric facturi"}),a.status==="active"&&!a.cancel_at_period_end&&e.jsx("button",{onClick:()=>{},className:"px-6 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors font-semibold",children:"Anuleaz abonamentul"})]})]}):e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 mb-8 text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Niciun abonament activ"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Eti pe planul Free. Actualizeaz pentru a debloca toate funcionalitile platformei."}),e.jsx("button",{onClick:()=>t("/subscription/plans"),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"Vezi planurile disponibile"})]}),n&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Utilizare resurse"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Facturi luna aceasta"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[n.invoices_this_month," / ",n.invoices_limit||""]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all ${j(y(n.invoices_this_month,n.invoices_limit))}`,style:{width:`${y(n.invoices_this_month,n.invoices_limit)}%`}})})]}),n.ai_queries_limit&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Interogri AI"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[n.ai_queries_this_month," / ",n.ai_queries_limit]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all ${j(y(n.ai_queries_this_month,n.ai_queries_limit))}`,style:{width:`${y(n.ai_queries_this_month,n.ai_queries_limit)}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Spaiu stocare"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[n.storage_used_gb.toFixed(2)," GB / ",n.storage_limit_gb," GB"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all ${j(y(n.storage_used_gb,n.storage_limit_gb))}`,style:{width:`${y(n.storage_used_gb,n.storage_limit_gb)}%`}})})]})]})]}),a&&a.features&&a.features.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Funcionaliti incluse"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.features.map((g,_)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("svg",{className:"w-5 h-5 text-green-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-gray-700",children:g})]},_))})]}),!a&&c.length>0&&e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg shadow-xl p-8 text-white mt-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Actualizeaz la Premium"}),e.jsx("p",{className:"text-blue-100 mb-4",children:"Deblocheaz funcionaliti avansate: AI, integrare bancar, CRM i multe altele"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Facturi nelimitate"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Asistent fiscal AI"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Acces la toate cursurile"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-blue-200 mb-2",children:"ncepnd de la"}),e.jsxs("p",{className:"text-4xl font-bold mb-2",children:[c[1]?.price_monthly," EUR"]}),e.jsx("p",{className:"text-sm text-blue-200 mb-4",children:"/lun"}),e.jsx("button",{onClick:()=>t("/subscription/plans"),className:"px-8 py-3 bg-white text-blue-600 rounded-lg hover:bg-blue-50 transition-colors font-bold text-lg",children:"Vezi planurile"})]})]})})]})]})},lZ=()=>{const t=nt(),[a,r]=v.useState([]),[n,l]=v.useState(!0),[c,d]=v.useState(null),[u,x]=v.useState("monthly"),[f,h]=v.useState(null);v.useEffect(()=>{p(),y()},[]);const p=async()=>{try{l(!0);const O=await(await fetch("https://documentiulia.ro/api/v1/subscriptions/plans.php")).json();O.success?r(O.plans):d(O.message)}catch(_){d("Failed to load pricing plans"),console.error(_)}finally{l(!1)}},y=async()=>{const _=localStorage.getItem("token");if(_)try{const C=await(await fetch("https://documentiulia.ro/api/v1/subscriptions/my-subscription.php",{headers:{Authorization:`Bearer ${_}`}})).json();C.success&&C.subscription&&h(C.subscription.plan_key)}catch(O){console.error("Failed to check current subscription",O)}},j=_=>u==="yearly"?_.price_yearly:_.price_monthly,w=_=>{const O=_.price_monthly*12,C=O-_.price_yearly;return Math.round(C/O*100)},S=async _=>{if(!localStorage.getItem("token")){t("/login",{state:{returnTo:"/subscription/plans"}});return}if(_.plan_key===f){t("/subscription");return}alert(`Upgrade to ${_.plan_name} - Stripe integration coming soon!`)},g=_=>{switch(_){case"free":return e.jsx("svg",{className:"w-12 h-12 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})});case"basic":return e.jsx("svg",{className:"w-12 h-12 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})});case"premium":return e.jsx("svg",{className:"w-12 h-12 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})});case"enterprise":return e.jsxs("svg",{className:"w-12 h-12 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{fillRule:"evenodd",d:"M6 6V5a3 3 0 013-3h2a3 3 0 013 3v1h2a2 2 0 012 2v3.57A22.952 22.952 0 0110 13a22.95 22.95 0 01-8-1.43V8a2 2 0 012-2h2zm2-1a1 1 0 011-1h2a1 1 0 011 1v1H8V5zm1 5a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1z",clipRule:"evenodd"}),e.jsx("path",{d:"M2 13.692V16a2 2 0 002 2h12a2 2 0 002-2v-2.308A24.974 24.974 0 0110 15c-2.796 0-5.487-.46-8-1.308z"})]});default:return null}};return n?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Alege planul potrivit pentru afacerea ta"}),e.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"ncepe gratuit i actualizeaz cnd afacerea ta crete"}),e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsx("span",{className:`text-lg ${u==="monthly"?"text-white font-semibold":"text-blue-200"}`,children:"Lunar"}),e.jsx("button",{onClick:()=>x(u==="monthly"?"yearly":"monthly"),className:`relative inline-flex h-8 w-16 items-center rounded-full transition-colors ${u==="yearly"?"bg-white":"bg-blue-400"}`,children:e.jsx("span",{className:`inline-block h-6 w-6 transform rounded-full bg-blue-600 transition-transform ${u==="yearly"?"translate-x-9":"translate-x-1"}`})}),e.jsx("span",{className:`text-lg ${u==="yearly"?"text-white font-semibold":"text-blue-200"}`,children:"Anual"}),u==="yearly"&&e.jsx("span",{className:"ml-2 px-3 py-1 bg-green-500 text-white text-sm font-bold rounded-full",children:"Economiseti pn la 30%!"})]})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[c&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:c}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:a.map(_=>{const O=_.plan_key==="premium",C=_.plan_key===f,k=j(_),E=u==="yearly"?w(_):0;return e.jsxs("div",{className:`relative bg-white rounded-xl shadow-lg overflow-hidden transition-transform hover:scale-105 ${O?"ring-4 ring-purple-500 transform scale-105":""}`,children:[O&&e.jsx("div",{className:"absolute top-0 right-0 bg-purple-500 text-white px-4 py-1 text-sm font-bold rounded-bl-lg",children:"CEL MAI POPULAR"}),C&&e.jsx("div",{className:"absolute top-0 left-0 bg-green-500 text-white px-4 py-1 text-sm font-bold rounded-br-lg",children:"PLANUL CURENT"}),e.jsxs("div",{className:"p-8",children:[e.jsx("div",{className:"flex justify-center mb-4",children:g(_.plan_key)}),e.jsx("h3",{className:"text-2xl font-bold text-center text-gray-900 mb-2",children:_.plan_name}),e.jsx("p",{className:"text-center text-gray-600 text-sm mb-6 h-12",children:_.description}),e.jsx("div",{className:"text-center mb-6",children:k===0?e.jsxs("div",{children:[e.jsx("p",{className:"text-4xl font-bold text-gray-900",children:"Gratuit"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Pentru totdeauna"})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-baseline justify-center",children:[e.jsx("span",{className:"text-4xl font-bold text-gray-900",children:k}),e.jsx("span",{className:"text-xl text-gray-600 ml-2",children:_.currency})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["per ",u==="yearly"?"an":"lun"]}),u==="yearly"&&E>0&&e.jsxs("p",{className:"text-xs text-green-600 font-semibold mt-1",children:["Economiseti ",E,"%"]})]})}),e.jsx("button",{onClick:()=>S(_),disabled:C,className:`w-full py-3 rounded-lg font-bold text-lg transition-colors mb-6 ${C?"bg-gray-200 text-gray-500 cursor-not-allowed":O?"bg-purple-600 text-white hover:bg-purple-700":"bg-blue-600 text-white hover:bg-blue-700"}`,children:C?"Planul curent":k===0?"ncepe gratuit":"Alege planul"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Ce include:"}),e.jsxs("div",{className:"space-y-2 mb-4 pb-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{children:_.max_invoices_per_month?`${_.max_invoices_per_month} facturi/lun`:"Facturi nelimitate"})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsxs("span",{children:[_.max_users_per_company," utilizatori"]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsxs("span",{children:[_.max_companies," ",_.max_companies===1?"companie":"companii"]})]}),_.ai_queries_per_month&&e.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsxs("span",{children:[_.ai_queries_per_month," interogri AI/lun"]})]})]}),_.features&&_.features.map((T,D)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-green-500 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-sm text-gray-700",children:T})]},D))]})]})]},_.id)})}),e.jsxs("div",{className:"mt-16 max-w-3xl mx-auto",children:[e.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-8",children:"ntrebri frecvente"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Pot s schimb planul oricnd?"}),e.jsx("p",{className:"text-gray-600",children:"Da, poi actualiza sau retrograda planul oricnd. Dac actualizezi, vei avea acces imediat la noile funcionaliti. Dac retrograzi, schimbarea va intra n vigoare la sfritul perioadei de facturare curente."})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ce metode de plat acceptai?"}),e.jsx("p",{className:"text-gray-600",children:"Acceptm toate cardurile majore (Visa, Mastercard, American Express) prin Stripe. Pentru planul Enterprise, oferim i opiunea de plat prin transfer bancar."})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Exist o perioad de prob gratuit?"}),e.jsx("p",{className:"text-gray-600",children:"Da! Toate planurile pltite includ o perioad de prob gratuit de 14 zile. Nu este necesar introducerea datelor cardului pentru planul Free."})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Pot anula oricnd?"}),e.jsx("p",{className:"text-gray-600",children:"Da, poi anula abonamentul oricnd din panoul de administrare. Nu exist penaliti pentru anulare i vei continua s ai acces pn la sfritul perioadei pltite."})]})]})]}),e.jsxs("div",{className:"mt-12 text-center",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Nu gseti rspunsul la ntrebarea ta?"}),e.jsx("button",{onClick:()=>t("/support"),className:"px-6 py-3 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors font-semibold",children:"Contacteaz suportul"})]})]})]})},cZ=()=>{const t=nt(),[a,r]=v.useState([]),[n,l]=v.useState(!0),[c,d]=v.useState(null),[u,x]=v.useState("all");v.useEffect(()=>{f()},[]);const f=async()=>{try{l(!0);const g=localStorage.getItem("token");if(!g){t("/login");return}const O=await(await fetch("https://documentiulia.ro/api/v1/subscriptions/invoices.php",{headers:{Authorization:`Bearer ${g}`}})).json();O.success?r(O.invoices):d(O.message)}catch(g){d("Failed to load billing history"),console.error(g)}finally{l(!1)}},h=g=>{const _={paid:{bg:"bg-green-100",text:"text-green-800",label:"Pltit"},pending:{bg:"bg-yellow-100",text:"text-yellow-800",label:"n ateptare"},failed:{bg:"bg-red-100",text:"text-red-800",label:"Euat"},refunded:{bg:"bg-gray-100",text:"text-gray-800",label:"Rambursat"},void:{bg:"bg-gray-100",text:"text-gray-800",label:"Anulat"},draft:{bg:"bg-blue-100",text:"text-blue-800",label:"Ciorn"}},O=_[g]||_.pending;return e.jsx("span",{className:`px-3 py-1 ${O.bg} ${O.text} text-xs font-semibold rounded-full`,children:O.label})},p=g=>new Date(g).toLocaleDateString("ro-RO",{year:"numeric",month:"long",day:"numeric"}),y=g=>{g.pdf_url?window.open(g.pdf_url,"_blank"):alert("PDF-ul facturii nu este disponibil nc")},j=u==="all"?a:a.filter(g=>g.status===u),S=(()=>{const g=a.filter(O=>O.status==="paid").reduce((O,C)=>O+C.total_amount,0),_=a.filter(O=>O.status==="pending").reduce((O,C)=>O+C.total_amount,0);return{paid:g,pending:_}})();return n?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Istoric facturi"}),e.jsx("p",{className:"text-blue-100",children:"Vizualizeaz i descarc toate facturile tale"})]}),e.jsx("button",{onClick:()=>t("/subscription"),className:"px-6 py-2 bg-white text-blue-600 rounded-lg hover:bg-blue-50 transition-colors font-semibold",children:" napoi la abonament"})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total pltit"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[S.paid.toFixed(2)," EUR"]})]}),e.jsx("div",{className:"bg-green-100 rounded-full p-3",children:e.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"n ateptare"}),e.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[S.pending.toFixed(2)," EUR"]})]}),e.jsx("div",{className:"bg-yellow-100 rounded-full p-3",children:e.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total facturi"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:a.length})]}),e.jsx("div",{className:"bg-blue-100 rounded-full p-3",children:e.jsxs("svg",{className:"w-6 h-6 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{d:"M9 2a2 2 0 00-2 2v8a2 2 0 002 2h6a2 2 0 002-2V6.414A2 2 0 0016.414 5L14 2.586A2 2 0 0012.586 2H9z"}),e.jsx("path",{d:"M3 8a2 2 0 012-2v10h8a2 2 0 01-2 2H5a2 2 0 01-2-2V8z"})]})})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Filtreaz dup status:"}),e.jsxs("select",{value:u,onChange:g=>x(g.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"Toate facturile"}),e.jsx("option",{value:"paid",children:"Pltite"}),e.jsx("option",{value:"pending",children:"n ateptare"}),e.jsx("option",{value:"failed",children:"Euate"}),e.jsx("option",{value:"refunded",children:"Rambursate"})]})]})}),c&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:c}),j.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-12 text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nicio factur"}),e.jsx("p",{className:"text-gray-600",children:u==="all"?"Nu ai nc nicio factur. Cnd vei face un upgrade sau vei plti un abonament, facturile vor aprea aici.":`Nu ai facturi cu statusul "${u}".`})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Numr factur"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dat"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plan"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sum"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aciuni"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(g=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:g.invoice_number}),g.payment_method&&e.jsx("div",{className:"text-xs text-gray-500 capitalize",children:g.payment_method})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:p(g.invoice_date)}),g.paid_date&&e.jsxs("div",{className:"text-xs text-gray-500",children:["Pltit: ",p(g.paid_date)]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:g.plan_name})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[g.total_amount.toFixed(2)," ",g.currency]}),g.discount_amount>0&&e.jsxs("div",{className:"text-xs text-green-600",children:["Reducere: -",g.discount_amount.toFixed(2)," ",g.currency]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h(g.status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:e.jsxs("button",{onClick:()=>y(g),className:"text-blue-600 hover:text-blue-900 inline-flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Descarc"]})})]},g.id))})]})})}),e.jsx("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("svg",{className:"w-6 h-6 text-blue-600 mr-3 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Ai nevoie de ajutor cu facturarea?"}),e.jsx("p",{className:"text-blue-800 mb-3",children:"Dac ai ntrebri despre o factur sau ai nevoie de ajutor cu plata, contacteaz echipa noastr de suport."}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>t("/support"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold text-sm",children:"Contacteaz suportul"}),e.jsx("button",{onClick:()=>window.open("mailto:billing@documentiulia.ro"),className:"px-4 py-2 bg-white text-blue-600 border border-blue-600 rounded-lg hover:bg-blue-50 transition-colors font-semibold text-sm",children:"Email: billing@documentiulia.ro"})]})]})]})})]})]})},oZ=()=>{const t=nt(),[a,r]=v.useState(null),[n,l]=v.useState(!0),[c,d]=v.useState(null),[u,x]=v.useState({start:new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]});v.useEffect(()=>{f()},[u]);const f=async()=>{try{l(!0);const y=localStorage.getItem("token");if(!y){t("/login");return}const w=await(await fetch(`https://documentiulia.ro/api/v1/reports/key-metrics.php?start_date=${u.start}&end_date=${u.end}`,{headers:{Authorization:`Bearer ${y}`}})).json();w.success?r(w.metrics):d(w.message)}catch(y){d("Failed to load key metrics"),console.error(y)}finally{l(!1)}},h=y=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:"RON"}).format(y),p=y=>`${y.toFixed(2)}%`;return n?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-800 text-white py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Rapoarte avansate"}),e.jsx("p",{className:"text-purple-100",children:"Analize financiare i rapoarte detaliate"})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data nceput"}),e.jsx("input",{type:"date",value:u.start,onChange:y=>x({...u,start:y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data sfrit"}),e.jsx("input",{type:"date",value:u.end,onChange:y=>x({...u,end:y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:f,className:"w-full px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-semibold",children:"Actualizeaz"})})]})}),c&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:c}),a&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-green-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Venituri totale"}),e.jsxs("svg",{className:"w-8 h-8 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}),e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z",clipRule:"evenodd"})]})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h(a.total_revenue)}),a.revenue_growth_rate!==0&&e.jsxs("p",{className:`text-sm mt-2 ${a.revenue_growth_rate>0?"text-green-600":"text-red-600"}`,children:[a.revenue_growth_rate>0?"":""," ",p(Math.abs(a.revenue_growth_rate))," vs perioada anterioar"]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-red-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Cheltuieli totale"}),e.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h(a.total_expenses)})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-blue-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Venit net"}),e.jsx("svg",{className:"w-8 h-8 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 0l-2 2a1 1 0 101.414 1.414L8 10.414l1.293 1.293a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),e.jsx("p",{className:`text-2xl font-bold ${a.net_income>=0?"text-green-600":"text-red-600"}`,children:h(a.net_income)}),e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Marj: ",p(a.profit_margin)]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-purple-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Cash flow"}),e.jsx("svg",{className:"w-8 h-8 text-purple-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})]}),e.jsx("p",{className:`text-2xl font-bold ${a.cash_flow>=0?"text-green-600":"text-red-600"}`,children:h(a.cash_flow)})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-1",children:"Valoare medie factur"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:h(a.average_invoice_value)})]}),e.jsx("div",{className:"bg-blue-100 rounded-full p-4",children:e.jsxs("svg",{className:"w-8 h-8 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{d:"M9 2a2 2 0 00-2 2v8a2 2 0 002 2h6a2 2 0 002-2V6.414A2 2 0 0016.414 5L14 2.586A2 2 0 0012.586 2H9z"}),e.jsx("path",{d:"M3 8a2 2 0 012-2v10h8a2 2 0 01-2 2H5a2 2 0 01-2-2V8z"})]})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("button",{onClick:()=>t("/reports/profit-loss"),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-xl transition-shadow text-left group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"bg-green-100 rounded-lg p-3 group-hover:bg-green-200 transition-colors",children:e.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 0l-2 2a1 1 0 101.414 1.414L8 10.414l1.293 1.293a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("svg",{className:"w-6 h-6 text-gray-400 group-hover:text-purple-600 transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Profit & Loss"}),e.jsx("p",{className:"text-gray-600",children:"Situaia veniturilor i cheltuielilor, cu calcul venit net i marj de profit"})]}),e.jsxs("button",{onClick:()=>t("/reports/budget-vs-actual"),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-xl transition-shadow text-left group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"bg-blue-100 rounded-lg p-3 group-hover:bg-blue-200 transition-colors",children:e.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})})}),e.jsx("svg",{className:"w-6 h-6 text-gray-400 group-hover:text-purple-600 transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Buget vs Realizat"}),e.jsx("p",{className:"text-gray-600",children:"Comparaie ntre bugetul planificat i realizrile efective, cu analiz varian"})]}),e.jsxs("button",{onClick:()=>t("/reports/cash-flow"),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-xl transition-shadow text-left group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"bg-purple-100 rounded-lg p-3 group-hover:bg-purple-200 transition-colors",children:e.jsx("svg",{className:"w-8 h-8 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})}),e.jsx("svg",{className:"w-6 h-6 text-gray-400 group-hover:text-purple-600 transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Situaia fluxului de numerar"}),e.jsx("p",{className:"text-gray-600",children:"Analiz intrri i ieiri de numerar, cu calcul cash flow net"})]}),e.jsxs("button",{onClick:()=>t("/reports/custom-builder"),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-xl transition-shadow text-left group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"bg-orange-100 rounded-lg p-3 group-hover:bg-orange-200 transition-colors",children:e.jsx("svg",{className:"w-8 h-8 text-orange-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"})})}),e.jsx("svg",{className:"w-6 h-6 text-gray-400 group-hover:text-purple-600 transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Constructor rapoarte personalizate"}),e.jsx("p",{className:"text-gray-600",children:"Creeaz rapoarte custom cu metrici i filtre configurabile"})]})]})]})]})},dZ=()=>{const t=nt(),[a,r]=v.useState(null),[n,l]=v.useState(!0),[c,d]=v.useState(null),[u,x]=v.useState({start:new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]});v.useEffect(()=>{f()},[u]);const f=async()=>{try{l(!0);const j=localStorage.getItem("token");if(!j){t("/login");return}const S=await(await fetch(`https://documentiulia.ro/api/v1/reports/profit-loss.php?start_date=${u.start}&end_date=${u.end}`,{headers:{Authorization:`Bearer ${j}`}})).json();S.success?r(S.data):d(S.message)}catch(j){d("Failed to load profit & loss report"),console.error(j)}finally{l(!1)}},h=j=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:"RON"}).format(j),p=j=>new Date(j).toLocaleDateString("ro-RO",{year:"numeric",month:"long",day:"numeric"}),y=()=>{alert("Funcionalitatea de export PDF va fi implementat n curnd")};return n?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-800 text-white py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Raport Profit & Loss"}),e.jsx("p",{className:"text-green-100",children:"Situaia veniturilor i cheltuielilor pentru perioada selectat"})]}),e.jsx("button",{onClick:()=>t("/reports"),className:"px-6 py-2 bg-white text-green-600 rounded-lg hover:bg-green-50 transition-colors font-semibold",children:" napoi la rapoarte"})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data nceput"}),e.jsx("input",{type:"date",value:u.start,onChange:j=>x({...u,start:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data sfrit"}),e.jsx("input",{type:"date",value:u.end,onChange:j=>x({...u,end:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:f,className:"w-full px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-semibold",children:"Actualizeaz"})}),e.jsx("div",{className:"flex items-end",children:e.jsxs("button",{onClick:y,className:"w-full px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-semibold flex items-center justify-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Export PDF"]})})]})}),c&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:c}),a&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8 text-center",children:e.jsxs("p",{className:"text-lg text-gray-600",children:["Perioada: ",e.jsx("span",{className:"font-semibold text-gray-900",children:p(a.period_start)})," - ",e.jsx("span",{className:"font-semibold text-gray-900",children:p(a.period_end)})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-t-4 border-green-500",children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-2",children:"Venituri totale"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:h(a.revenue.total_revenue)}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[a.revenue.invoice_count," facturi"]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-t-4 border-red-500",children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-2",children:"Cheltuieli totale"}),e.jsx("p",{className:"text-3xl font-bold text-red-600",children:h(a.expenses.total_expenses)}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[a.expenses.expense_count," cheltuieli"]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-t-4 border-blue-500",children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-2",children:"Venit net"}),e.jsx("p",{className:`text-3xl font-bold ${a.net_income>=0?"text-blue-600":"text-red-600"}`,children:h(a.net_income)}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:a.net_income>=0?"Profit":"Pierdere"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-t-4 border-purple-500",children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-2",children:"Marj de profit"}),e.jsxs("p",{className:`text-3xl font-bold ${a.profit_margin>=0?"text-purple-600":"text-red-600"}`,children:[a.profit_margin.toFixed(2),"%"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:a.profit_margin>=20?"Excelent":a.profit_margin>=10?"Bun":a.profit_margin>=0?"Modest":"Negativ"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsx("div",{className:"bg-green-600 text-white px-6 py-4",children:e.jsx("h3",{className:"text-xl font-bold",children:"Venituri detaliate"})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center pb-4 border-b border-gray-200",children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Facturi pltite"}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:h(a.revenue.total_revenue)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Numr facturi"}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:a.revenue.invoice_count})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Valoare medie factur"}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:a.revenue.invoice_count>0?h(a.revenue.total_revenue/a.revenue.invoice_count):h(0)})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsx("div",{className:"bg-red-600 text-white px-6 py-4",children:e.jsx("h3",{className:"text-xl font-bold",children:"Cheltuieli pe categorii"})}),e.jsx("div",{className:"p-6",children:a.expenses.by_category.length>0?e.jsxs("div",{className:"space-y-3",children:[a.expenses.by_category.map((j,w)=>e.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-gray-200 last:border-0",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-900 font-medium capitalize",children:j.category}),e.jsxs("p",{className:"text-xs text-gray-500",children:[j.expense_count," cheltuieli"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-lg font-bold text-red-600",children:h(j.total_amount)}),e.jsxs("p",{className:"text-xs text-gray-500",children:[(j.total_amount/a.expenses.total_expenses*100).toFixed(1),"%"]})]})]},w)),e.jsxs("div",{className:"flex justify-between items-center pt-3 border-t-2 border-gray-300",children:[e.jsx("span",{className:"text-gray-900 font-bold",children:"TOTAL"}),e.jsx("span",{className:"text-xl font-bold text-red-600",children:h(a.expenses.total_expenses)})]})]}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("p",{children:"Nicio cheltuial nregistrat n aceast perioad"})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mt-8",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Analiz de performan"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Status profitabilitate"}),e.jsx("div",{className:"flex items-center",children:a.net_income>=0?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-6 h-6 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-lg font-semibold text-green-700",children:"Profitabil"})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-6 h-6 text-red-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-lg font-semibold text-red-700",children:"Neprofitabil"})]})})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Eficien operaional"}),e.jsx("div",{className:"flex items-center",children:e.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:[a.expenses.total_expenses>0?(a.expenses.total_expenses/a.revenue.total_revenue*100).toFixed(1):"0.0","% din venituri"]})})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Recomandare"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:a.profit_margin>=20?"Continuai strategia actual":a.profit_margin>=10?"Optimizai cheltuielile operaionale":a.profit_margin>=0?"Reducei cheltuielile sau cretei preurile":"Revizii urgent modelul de business"})]})]})]})]})]})]})},uZ=()=>{const t=nt(),[a,r]=v.useState(null),[n,l]=v.useState(!0),[c,d]=v.useState(null),[u,x]=v.useState(new Date().getFullYear()),[f,h]=v.useState(null);v.useEffect(()=>{p()},[u,f]);const p=async()=>{try{l(!0);const g=localStorage.getItem("token");if(!g){t("/login");return}const _=new URLSearchParams({year:u.toString()});f!==null&&_.append("month",f.toString());const C=await(await fetch(`https://documentiulia.ro/api/v1/reports/budget-vs-actual.php?${_.toString()}`,{headers:{Authorization:`Bearer ${g}`}})).json();C.success?r(C.data):d(C.message)}catch(g){d("Failed to load budget comparison"),console.error(g)}finally{l(!1)}},y=g=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:"RON"}).format(g),j=g=>{const _={on_track:{bg:"bg-green-100",text:"text-green-800",label:"Pe int",icon:""},under:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Sub int",icon:""},over:{bg:"bg-red-100",text:"text-red-800",label:"Peste buget",icon:""}},O=_[g]||_.on_track;return e.jsxs("span",{className:`px-3 py-1 ${O.bg} ${O.text} text-xs font-semibold rounded-full`,children:[O.icon," ",O.label]})},w=(g,_=!1)=>_?g>=0?"text-green-600":"text-red-600":g<=0?"text-green-600":"text-red-600",S=[{value:null,label:"Tot anul"},{value:1,label:"Ianuarie"},{value:2,label:"Februarie"},{value:3,label:"Martie"},{value:4,label:"Aprilie"},{value:5,label:"Mai"},{value:6,label:"Iunie"},{value:7,label:"Iulie"},{value:8,label:"August"},{value:9,label:"Septembrie"},{value:10,label:"Octombrie"},{value:11,label:"Noiembrie"},{value:12,label:"Decembrie"}];return n?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Buget vs Realizat"}),e.jsx("p",{className:"text-blue-100",children:"Comparaie ntre bugetul planificat i performana efectiv"})]}),e.jsx("button",{onClick:()=>t("/reports"),className:"px-6 py-2 bg-white text-blue-600 rounded-lg hover:bg-blue-50 transition-colors font-semibold",children:" napoi la rapoarte"})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Anul"}),e.jsx("select",{value:u,onChange:g=>x(parseInt(g.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[2024,2025,2026].map(g=>e.jsx("option",{value:g,children:g},g))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Luna"}),e.jsx("select",{value:f===null?"":f,onChange:g=>h(g.target.value===""?null:parseInt(g.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:S.map(g=>e.jsx("option",{value:g.value===null?"":g.value,children:g.label},g.value===null?"all":g.value))})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:p,className:"w-full px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"Actualizeaz"})})]})}),c&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:c}),a&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8 text-center",children:e.jsxs("p",{className:"text-lg text-gray-600",children:["Perioad: ",e.jsx("span",{className:"font-semibold text-gray-900",children:a.period})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-8",children:[e.jsxs("div",{className:"bg-green-600 text-white px-6 py-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Venituri"}),j(a.revenue_performance)]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Bugetat"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y(a.revenue_budgeted)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Realizat"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:y(a.revenue_actual)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Varian"}),e.jsxs("p",{className:`text-2xl font-bold ${w(a.revenue_variance,!0)}`,children:[a.revenue_variance>=0?"+":"",y(a.revenue_variance)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Varian %"}),e.jsxs("p",{className:`text-2xl font-bold ${w(a.revenue_variance,!0)}`,children:[a.revenue_variance_percent>=0?"+":"",a.revenue_variance_percent.toFixed(1),"%"]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[e.jsx("span",{children:"Progres fa de buget"}),e.jsxs("span",{children:[(a.revenue_actual/a.revenue_budgeted*100).toFixed(1),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:e.jsx("div",{className:`h-4 rounded-full ${a.revenue_actual>=a.revenue_budgeted?"bg-green-500":a.revenue_actual>=a.revenue_budgeted*.8?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(100,a.revenue_actual/a.revenue_budgeted*100)}%`}})})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-8",children:[e.jsx("div",{className:"bg-red-600 text-white px-6 py-4",children:e.jsx("h3",{className:"text-xl font-bold",children:"Cheltuieli pe categorii"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categorie"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bugetat"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Realizat"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Varian"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Varian %"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[a.expense_categories.map((g,_)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm font-medium text-gray-900 capitalize",children:g.category})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("span",{className:"text-sm text-gray-900",children:y(g.budgeted)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:y(g.actual)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsxs("span",{className:`text-sm font-semibold ${w(g.variance)}`,children:[g.variance>=0?"+":"",y(g.variance)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsxs("span",{className:`text-sm font-semibold ${w(g.variance)}`,children:[g.variance>=0?"+":"",g.variance_percent.toFixed(1),"%"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:j(g.performance)})]},_)),e.jsxs("tr",{className:"bg-gray-100 font-semibold",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm font-bold text-gray-900",children:"TOTAL CHELTUIELI"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("span",{className:"text-sm font-bold text-gray-900",children:y(a.total_expenses_budgeted)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("span",{className:"text-sm font-bold text-gray-900",children:y(a.total_expenses_actual)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsxs("span",{className:`text-sm font-bold ${w(a.total_expenses_variance)}`,children:[a.total_expenses_variance>=0?"+":"",y(a.total_expenses_variance)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsxs("span",{className:`text-sm font-bold ${w(a.total_expenses_variance)}`,children:[a.total_expenses_variance>=0?"+":"",a.total_expenses_variance_percent.toFixed(1),"%"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap"})]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsx("div",{className:"bg-purple-600 text-white px-6 py-4",children:e.jsx("h3",{className:"text-xl font-bold",children:"Venit net"})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Venit net bugetat"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:y(a.net_income_budgeted)})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Venit net realizat"}),e.jsx("p",{className:`text-3xl font-bold ${a.net_income_actual>=0?"text-blue-600":"text-red-600"}`,children:y(a.net_income_actual)})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-6",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Varian venit net"}),e.jsxs("p",{className:`text-3xl font-bold ${w(a.net_income_variance,!0)}`,children:[a.net_income_variance>=0?"+":"",y(a.net_income_variance)]})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("svg",{className:"w-6 h-6 text-blue-600 mr-3 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Analiz de performan"}),e.jsx("p",{className:"text-blue-800",children:a.net_income_variance>=0?`Excelent! Venitul net a depit bugetul cu ${y(Math.abs(a.net_income_variance))}. Continuai strategia actual i monitorizai performana.`:`Atenie! Venitul net este sub buget cu ${y(Math.abs(a.net_income_variance))}. Revizuii cheltuielile i cutai oportuniti de cretere a veniturilor.`})]})]})})]})]})]})]})]})},mZ=()=>{const t=nt(),[a,r]=v.useState(null),[n,l]=v.useState(!0),[c,d]=v.useState(null),[u,x]=v.useState({start:new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]});v.useEffect(()=>{f()},[u]);const f=async()=>{try{l(!0);const y=localStorage.getItem("token");if(!y){t("/login");return}const w=await(await fetch(`https://documentiulia.ro/api/v1/reports/cash-flow.php?start_date=${u.start}&end_date=${u.end}`,{headers:{Authorization:`Bearer ${y}`}})).json();w.success?r(w.data):d(w.message)}catch(y){d("Failed to load cash flow report"),console.error(y)}finally{l(!1)}},h=y=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:"RON"}).format(y),p=y=>new Date(y).toLocaleDateString("ro-RO",{year:"numeric",month:"long",day:"numeric"});return n?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-800 text-white py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Situaia fluxului de numerar"}),e.jsx("p",{className:"text-purple-100",children:"Analiz detaliat a intrrilor i ieirilor de numerar"})]}),e.jsx("button",{onClick:()=>t("/reports"),className:"px-6 py-2 bg-white text-purple-600 rounded-lg hover:bg-purple-50 transition-colors font-semibold",children:" napoi la rapoarte"})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data nceput"}),e.jsx("input",{type:"date",value:u.start,onChange:y=>x({...u,start:y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data sfrit"}),e.jsx("input",{type:"date",value:u.end,onChange:y=>x({...u,end:y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:f,className:"w-full px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-semibold",children:"Actualizeaz"})})]})}),c&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:c}),a&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8 text-center",children:e.jsxs("p",{className:"text-lg text-gray-600",children:["Perioada: ",e.jsx("span",{className:"font-semibold text-gray-900",children:p(a.period_start)})," - ",e.jsx("span",{className:"font-semibold text-gray-900",children:p(a.period_end)})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-t-4 border-green-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Intrri totale"}),e.jsx("svg",{className:"w-8 h-8 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v3.586L7.707 9.293a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 10.586V7z",clipRule:"evenodd"})})]}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:h(a.operating_activities.cash_in.total)})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-t-4 border-red-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Ieiri totale"}),e.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-7.414V13a1 1 0 11-2 0v-2.414l-1.293 1.293a1 1 0 01-1.414-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 10.586z",clipRule:"evenodd"})})]}),e.jsx("p",{className:"text-3xl font-bold text-red-600",children:h(a.operating_activities.cash_out.total)})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-t-4 border-purple-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Cash flow net"}),e.jsx("svg",{className:"w-8 h-8 text-purple-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})]}),e.jsx("p",{className:`text-3xl font-bold ${a.net_cash_flow>=0?"text-purple-600":"text-red-600"}`,children:h(a.net_cash_flow)})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-8",children:[e.jsx("div",{className:"bg-purple-600 text-white px-6 py-4",children:e.jsx("h3",{className:"text-xl font-bold",children:"Activiti operaionale"})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("svg",{className:"w-6 h-6 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v3.586L7.707 9.293a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 10.586V7z",clipRule:"evenodd"})}),"Intrri de numerar"]}),e.jsxs("div",{className:"space-y-3 pl-8",children:[e.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-gray-200",children:[e.jsx("span",{className:"text-gray-700",children:"Facturi ncasate"}),e.jsx("span",{className:"text-lg font-semibold text-green-600",children:h(a.operating_activities.cash_in.invoices_paid)})]}),e.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-gray-200",children:[e.jsx("span",{className:"text-gray-700",children:"Alte venituri"}),e.jsx("span",{className:"text-lg font-semibold text-green-600",children:h(a.operating_activities.cash_in.other_income)})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2 bg-green-50 px-4 py-3 rounded-lg",children:[e.jsx("span",{className:"text-gray-900 font-semibold",children:"Total intrri"}),e.jsx("span",{className:"text-xl font-bold text-green-600",children:h(a.operating_activities.cash_in.total)})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("svg",{className:"w-6 h-6 text-red-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-7.414V13a1 1 0 11-2 0v-2.414l-1.293 1.293a1 1 0 01-1.414-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 10.586z",clipRule:"evenodd"})}),"Ieiri de numerar"]}),e.jsxs("div",{className:"space-y-3 pl-8",children:[e.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-gray-200",children:[e.jsx("span",{className:"text-gray-700",children:"Cheltuieli pltite"}),e.jsx("span",{className:"text-lg font-semibold text-red-600",children:h(a.operating_activities.cash_out.expenses_paid)})]}),e.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-gray-200",children:[e.jsx("span",{className:"text-gray-700",children:"Facturi furnizori pltite"}),e.jsx("span",{className:"text-lg font-semibold text-red-600",children:h(a.operating_activities.cash_out.bills_paid)})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2 bg-red-50 px-4 py-3 rounded-lg",children:[e.jsx("span",{className:"text-gray-900 font-semibold",children:"Total ieiri"}),e.jsx("span",{className:"text-xl font-bold text-red-600",children:h(a.operating_activities.cash_out.total)})]})]})]}),e.jsx("div",{className:"border-t-2 border-gray-300 pt-6",children:e.jsxs("div",{className:"flex justify-between items-center bg-purple-50 px-6 py-4 rounded-lg",children:[e.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Cash flow net din operaiuni"}),e.jsx("span",{className:`text-3xl font-bold ${a.operating_activities.net_operating_cash_flow>=0?"text-purple-600":"text-red-600"}`,children:h(a.operating_activities.net_operating_cash_flow)})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsx("div",{className:"bg-blue-600 text-white px-6 py-4",children:e.jsx("h3",{className:"text-xl font-bold",children:"Rezumat sold numerar"})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center pb-4 border-b border-gray-200",children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Sold iniial"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:h(a.opening_balance)})]}),e.jsxs("div",{className:"flex justify-between items-center pb-4 border-b border-gray-200",children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Cash flow perioada"}),e.jsxs("span",{className:`text-2xl font-bold ${a.net_cash_flow>=0?"text-green-600":"text-red-600"}`,children:[a.net_cash_flow>=0?"+":"",h(a.net_cash_flow)]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 bg-blue-50 px-6 py-4 rounded-lg",children:[e.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Sold final"}),e.jsx("span",{className:`text-3xl font-bold ${a.closing_balance>=0?"text-blue-600":"text-red-600"}`,children:h(a.closing_balance)})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("svg",{className:`w-6 h-6 ${a.net_cash_flow>=0?"text-green-500":"text-red-500"} mr-3 flex-shrink-0`,fill:"currentColor",viewBox:"0 0 20 20",children:a.net_cash_flow>=0?e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"}):e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:a.net_cash_flow>=0?"Sntate financiar bun":"Atenie necesar"}),e.jsx("p",{className:"text-gray-700",children:a.net_cash_flow>=0?`Cash flow-ul pozitiv de ${h(a.net_cash_flow)} indic o sntate financiar bun. Continuai s monitorizai intrrile i ieirile pentru a menine aceast tendin.`:`Cash flow-ul negativ de ${h(Math.abs(a.net_cash_flow))} necesit atenie imediat. Revizuii cheltuielile i accelerai ncasrile pentru a mbunti situaia.`})]})]})})]})]})]})]})]})},xZ=()=>{const{token:t,companyId:a}=Mt(),[r,n]=v.useState([]),[l,c]=v.useState([]),[d,u]=v.useState(!0),[x,f]=v.useState(!1),[h,p]=v.useState(""),[y,j]=v.useState("nordigen"),[w,S]=v.useState(null);v.useEffect(()=>{g()},[]);const g=async()=>{try{const R=await(await fetch("https://documentiulia.ro/api/v1/bank/connections.php",{headers:{Authorization:`Bearer ${t}`,"X-Company-ID":a||""}})).json();R.success&&n(R.data)}catch(P){console.error("Error fetching connections:",P)}finally{u(!1)}},_=async()=>{try{const R=await(await fetch(`https://documentiulia.ro/api/v1/bank/institutions.php?provider=${y}&country=RO`,{headers:{Authorization:`Bearer ${t}`}})).json();R.success&&c(R.data)}catch(P){console.error("Error fetching institutions:",P)}},O=async()=>{if(!h){alert("V rugm selectai o banc");return}try{const P=`${window.location.origin}/bank/callback`,L=await(await fetch("https://documentiulia.ro/api/v1/bank/connections.php",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,"X-Company-ID":a||""},body:JSON.stringify({provider:y,institution_id:h,redirect_url:P})})).json();L.success?(sessionStorage.setItem("pending_bank_connection_id",L.data.connection_id),window.location.href=L.data.auth_url):alert("Eroare: "+L.message)}catch(P){console.error("Error adding connection:",P),alert("Eroare la conectarea bncii")}},C=async P=>{S(P);try{const L=await(await fetch("https://documentiulia.ro/api/v1/bank/connection-sync.php",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,"X-Company-ID":a||""},body:JSON.stringify({connection_id:P})})).json();L.success?(alert(`Sincronizare reuit: ${L.data.new} tranzacii noi`),g()):alert("Eroare sincronizare: "+L.message)}catch(R){console.error("Error syncing:",R),alert("Eroare la sincronizare")}finally{S(null)}},k=async P=>{if(confirm("Sigur dorii s deconectai acest cont bancar?"))try{const L=await(await fetch("https://documentiulia.ro/api/v1/bank/connection-disconnect.php",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,"X-Company-ID":a||""},body:JSON.stringify({connection_id:P})})).json();L.success?(alert("Cont deconectat cu succes"),g()):alert("Eroare: "+L.message)}catch(R){console.error("Error disconnecting:",R),alert("Eroare la deconectare")}},E=()=>{f(!0),_()},T=P=>{const R={active:{bg:"bg-green-100",text:"text-green-800",label:"Activ"},pending:{bg:"bg-yellow-100",text:"text-yellow-800",label:"n ateptare"},expired:{bg:"bg-red-100",text:"text-red-800",label:"Expirat"},disconnected:{bg:"bg-gray-100",text:"text-gray-800",label:"Deconectat"}},L=R[P]||R.pending;return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${L.bg} ${L.text}`,children:L.label})},D=P=>P?new Date(P).toLocaleDateString("ro-RO",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Niciodat";return d?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"text-gray-500",children:"Se ncarc..."})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Conturi bancare conectate"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Conectai-v conturile bancare pentru sincronizare automat a tranzaciilor"})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("button",{onClick:E,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Adaug cont bancar"]})}),r.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Niciun cont conectat"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"ncepei prin a conecta primul cont bancar."}),e.jsx("div",{className:"mt-6",children:e.jsxs("button",{onClick:E,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Adaug cont bancar"]})})]}):e.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:r.map(P=>e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[P.institution_logo_url?e.jsx("img",{src:P.institution_logo_url,alt:P.institution_name,className:"h-10 w-10 rounded-md mr-3"}):e.jsx("div",{className:"h-10 w-10 rounded-md bg-blue-100 flex items-center justify-center mr-3",children:e.jsx("svg",{className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:P.institution_name}),e.jsx("p",{className:"text-xs text-gray-500",children:P.account_type})]})]}),T(P.status)]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Cont:"}),e.jsxs("span",{className:"font-medium text-gray-900",children:["****",P.account_number]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Moned:"}),e.jsx("span",{className:"font-medium text-gray-900",children:P.currency})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Ultima sincronizare:"}),e.jsx("span",{className:"font-medium text-gray-900 text-xs",children:D(P.last_sync_at)})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>C(P.id),disabled:w===P.id||P.status!=="active",className:"flex-1 inline-flex justify-center items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:w===P.id?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-gray-700",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sincronizare..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"-ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Sincronizeaz"]})}),e.jsx("button",{onClick:()=>k(P.id),className:"inline-flex justify-center items-center px-3 py-2 border border-red-300 shadow-sm text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:e.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})},P.id))}),x&&e.jsx("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:e.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>f(!1)}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen",children:""}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[e.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Adaug cont bancar"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Provider"}),e.jsxs("select",{value:y,onChange:P=>{j(P.target.value),_()},className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",children:[e.jsx("option",{value:"nordigen",children:"Nordigen (Gratuit)"}),e.jsx("option",{value:"salt_edge",children:"Salt Edge (Premium)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Banc"}),e.jsxs("select",{value:h,onChange:P=>p(P.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",children:[e.jsx("option",{value:"",children:"Selectai banca..."}),l.map(P=>e.jsx("option",{value:P.id,children:P.name},P.id))]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[e.jsx("button",{type:"button",onClick:O,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm",children:"Conecteaz"}),e.jsx("button",{type:"button",onClick:()=>f(!1),className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Anuleaz"})]})]})]})})]})},hZ=()=>{const{token:t,companyId:a}=Mt(),[r,n]=v.useState([]),[l,c]=v.useState(null),[d,u]=v.useState(!0),[x,f]=v.useState({date_from:new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0],date_to:new Date().toISOString().split("T")[0],category:"",status:""}),[h,p]=v.useState(null),[y,j]=v.useState("");v.useEffect(()=>{w(),S()},[x]);const w=async()=>{u(!0);try{const E=new URLSearchParams;x.date_from&&E.append("date_from",x.date_from),x.date_to&&E.append("date_to",x.date_to),x.category&&E.append("category",x.category),x.status&&E.append("status",x.status),E.append("limit","100");const D=await(await fetch(`https://documentiulia.ro/api/v1/bank/transactions.php?${E.toString()}`,{headers:{Authorization:`Bearer ${t}`,"X-Company-ID":a||""}})).json();D.success&&n(D.data)}catch(E){console.error("Error fetching transactions:",E)}finally{u(!1)}},S=async()=>{try{const E=new URLSearchParams;E.append("from_date",x.date_from),E.append("to_date",x.date_to);const D=await(await fetch(`https://documentiulia.ro/api/v1/bank/transaction-stats.php?${E.toString()}`,{headers:{Authorization:`Bearer ${t}`,"X-Company-ID":a||""}})).json();D.success&&c(D.data)}catch(E){console.error("Error fetching stats:",E)}},g=async(E,T)=>{try{const P=await(await fetch("https://documentiulia.ro/api/v1/bank/transactions.php",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,"X-Company-ID":a||""},body:JSON.stringify({transaction_id:E,category:T})})).json();P.success?(w(),p(null)):alert("Eroare: "+P.message)}catch(D){console.error("Error updating category:",D),alert("Eroare la actualizare categorie")}},_=E=>({income_salary:"Venit - Salariu",income_refund:"Venit - Rambursare",income_other:"Venit - Altele",groceries:"Alimente",transportation_fuel:"Transport - Combustibil",dining_out:"Restaurante",utilities:"Utiliti",rent:"Chirie",cash_withdrawal:"Retragere numerar",uncategorized:"Necategorizat"})[E]||E,O=(E,T)=>{const D=E.startsWith("income_"),P=D?"bg-green-100":T>=70?"bg-blue-100":"bg-gray-100",R=D?"text-green-800":T>=70?"text-blue-800":"text-gray-800";return e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${P} ${R}`,children:[_(E),T<100&&e.jsxs("span",{className:"ml-1 text-xs opacity-75",children:["(",Math.round(T),"%)"]})]})},C=(E,T)=>{const D=E>=0?"text-green-600":"text-red-600",P=E>=0?"+":"";return e.jsxs("span",{className:`font-semibold ${D}`,children:[P,E.toFixed(2)," ",T]})},k=E=>new Date(E).toLocaleDateString("ro-RO",{year:"numeric",month:"short",day:"numeric"});return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Tranzacii bancare"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Vizualizai i gestionai toate tranzaciile sincronizate din conturile bancare"})]}),l&&e.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4 mb-8",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total tranzacii"}),e.jsx("dd",{className:"mt-1 text-3xl font-semibold text-gray-900",children:l.total_transactions})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total venituri"}),e.jsxs("dd",{className:"mt-1 text-3xl font-semibold text-green-600",children:["+",Number(l.total_income).toFixed(2)," RON"]})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total cheltuieli"}),e.jsxs("dd",{className:"mt-1 text-3xl font-semibold text-red-600",children:["-",Number(l.total_expenses).toFixed(2)," RON"]})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Reconciliate"}),e.jsx("dd",{className:"mt-1 text-3xl font-semibold text-blue-600",children:l.matched_transactions})]})})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Filtre"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"De la data"}),e.jsx("input",{type:"date",value:x.date_from,onChange:E=>f({...x,date_from:E.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Pn la data"}),e.jsx("input",{type:"date",value:x.date_to,onChange:E=>f({...x,date_to:E.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Categorie"}),e.jsxs("select",{value:x.category,onChange:E=>f({...x,category:E.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"Toate categoriile"}),e.jsx("option",{value:"groceries",children:"Alimente"}),e.jsx("option",{value:"transportation_fuel",children:"Transport"}),e.jsx("option",{value:"dining_out",children:"Restaurante"}),e.jsx("option",{value:"utilities",children:"Utiliti"}),e.jsx("option",{value:"income_salary",children:"Salariu"}),e.jsx("option",{value:"uncategorized",children:"Necategorizat"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),e.jsxs("select",{value:x.status,onChange:E=>f({...x,status:E.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"Toate statusurile"}),e.jsx("option",{value:"booked",children:"Confirmat"}),e.jsx("option",{value:"pending",children:"n ateptare"})]})]})]})]}),e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:d?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"text-gray-500",children:"Se ncarc..."})}):r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Nicio tranzacie"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Nu s-au gsit tranzacii pentru criteriile selectate."})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descriere"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cont"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categorie"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sum"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aciuni"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(E=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k(E.transaction_date)}),e.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:[e.jsx("div",{className:"font-medium",children:E.clean_description||E.description}),E.counterparty_name&&e.jsx("div",{className:"text-xs text-gray-500",children:E.counterparty_name})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e.jsx("div",{children:E.institution_name}),e.jsxs("div",{className:"text-xs",children:["****",E.account_number]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h===E.id?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:y,onChange:T=>j(T.target.value),className:"text-sm border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"groceries",children:"Alimente"}),e.jsx("option",{value:"transportation_fuel",children:"Transport"}),e.jsx("option",{value:"dining_out",children:"Restaurante"}),e.jsx("option",{value:"utilities",children:"Utiliti"}),e.jsx("option",{value:"rent",children:"Chirie"}),e.jsx("option",{value:"income_salary",children:"Salariu"}),e.jsx("option",{value:"uncategorized",children:"Necategorizat"})]}),e.jsx("button",{onClick:()=>g(E.id,y),className:"text-green-600 hover:text-green-900",children:""}),e.jsx("button",{onClick:()=>p(null),className:"text-red-600 hover:text-red-900",children:""})]}):e.jsx("div",{onClick:()=>{p(E.id),j(E.category)},className:"cursor-pointer",children:O(E.category,E.category_confidence)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right",children:C(E.amount,E.currency)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:"Reconciliaz"})})]},E.id))})]})})})]})},fZ=()=>{const t=nt();_S();const{token:a,companyId:r}=Mt(),[n,l]=v.useState("processing"),[c,d]=v.useState("Procesm conexiunea dvs. bancar...");v.useEffect(()=>{u()},[]);const u=async()=>{try{const x=sessionStorage.getItem("pending_bank_connection_id");if(!x){l("error"),d("ID conexiune lips. V rugm ncercai din nou.");return}const h=await(await fetch("https://documentiulia.ro/api/v1/bank/connection-complete.php",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,"X-Company-ID":r||""},body:JSON.stringify({connection_id:x})})).json();h.success?(l("success"),d("Conexiune bancar stabilit cu succes!"),sessionStorage.removeItem("pending_bank_connection_id"),setTimeout(()=>{t("/bank/connections")},2e3)):(l("error"),d(`Eroare: ${h.message}`))}catch(x){console.error("Error completing connection:",x),l("error"),d("Eroare la finalizarea conexiunii. V rugm ncercai din nou.")}};return e.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:e.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:e.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:e.jsxs("div",{className:"text-center",children:[n==="processing"&&e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-12 w-12 text-blue-600 mx-auto mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Procesare..."}),e.jsx("p",{className:"text-sm text-gray-500",children:c})]}),n==="success"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:e.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Succes!"}),e.jsx("p",{className:"text-sm text-gray-500",children:c}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Vei fi redirecionat automat..."})]}),n==="error"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:e.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Eroare"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:c}),e.jsx("button",{onClick:()=>t("/bank/connections"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"napoi la conexiuni"})]})]})})})})},pZ=()=>{const t=nt(),a=v.useRef(null),r=v.useRef(null),n=v.useRef(null),[l,c]=v.useState(!1),[d,u]=v.useState(!1),[x,f]=v.useState(!1),[h,p]=v.useState(!1),[y,j]=v.useState(null),[w,S]=v.useState(null),[g,_]=v.useState(null),[O,C]=v.useState(null),[k,E]=v.useState(!0),[T,D]=v.useState({}),P=localStorage.getItem("token"),R=localStorage.getItem("company_id"),L=G=>{G.preventDefault(),G.stopPropagation(),c(!0)},q=G=>{G.preventDefault(),G.stopPropagation(),c(!1)},F=G=>{G.preventDefault(),G.stopPropagation()},se=G=>{G.preventDefault(),G.stopPropagation(),c(!1);const ne=G.dataTransfer.files;ne&&ne.length>0&&ce(ne[0])},ce=async G=>{if(!["image/jpeg","image/jpg","image/png","application/pdf"].includes(G.type)){C("Please upload a valid image (JPG, PNG) or PDF file");return}const he=10*1024*1024;if(G.size>he){C("File size must be less than 10MB");return}C(null);const me=new FileReader;me.onload=be=>{S(be.target?.result)},me.readAsDataURL(G),await ue(G)},ue=async G=>{u(!0),C(null);try{const ne=new FormData;ne.append("file",G),ne.append("auto_process",k?"true":"false");const me=await(await fetch("https://documentiulia.ro/api/v1/receipts/upload.php",{method:"POST",headers:{Authorization:`Bearer ${P}`,"X-Company-ID":R||""},body:ne})).json();me.success?(_(me.data),k&&me.data.ocr_status==="completed"?D({merchant_name:me.data.merchant_name,receipt_date:me.data.receipt_date,total_amount:me.data.total_amount,vat_amount:me.data.vat_amount,currency:me.data.currency,payment_method:me.data.payment_method,ocr_confidence:me.data.ocr_confidence}):k&&me.data.ocr_status==="processing"&&H(me.data.receipt_id)):C(me.message||"Upload failed")}catch(ne){C("Network error during upload"),console.error(ne)}finally{u(!1)}},H=async G=>{f(!0);const ne=30;let he=0;const me=setInterval(async()=>{he++;try{const Ge=await(await fetch(`https://documentiulia.ro/api/v1/receipts/get.php?receipt_id=${G}`,{headers:{Authorization:`Bearer ${P}`,"X-Company-ID":R||""}})).json();if(Ge.success){const ee=Ge.data;ee.ocr_status==="completed"?(clearInterval(me),f(!1),_(ee),D({merchant_name:ee.merchant_name,receipt_date:ee.receipt_date,total_amount:ee.total_amount,vat_amount:ee.vat_amount,currency:ee.currency,payment_method:ee.payment_method,ocr_confidence:ee.ocr_confidence})):ee.ocr_status==="failed"&&(clearInterval(me),f(!1),C("OCR processing failed. Please try again or edit manually."))}he>=ne&&(clearInterval(me),f(!1),C("Processing timeout. Please check receipt list later."))}catch(be){console.error("Polling error:",be)}},1e3)},z=async()=>{if(g){f(!0),C(null);try{const ne=await(await fetch("https://documentiulia.ro/api/v1/receipts/process.php",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${P}`,"X-Company-ID":R||""},body:JSON.stringify({receipt_id:g.receipt_id})})).json();ne.success?(_(ne.data),D({merchant_name:ne.data.merchant_name,receipt_date:ne.data.receipt_date,total_amount:ne.data.total_amount,vat_amount:ne.data.vat_amount,currency:ne.data.currency,payment_method:ne.data.payment_method,ocr_confidence:ne.data.ocr_confidence})):C(ne.message||"Processing failed")}catch(G){C("Network error during processing"),console.error(G)}finally{f(!1)}}},$=async()=>{try{const G=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});r.current&&(r.current.srcObject=G,j(G),p(!0))}catch(G){C("Could not access camera. Please check permissions."),console.error(G)}},re=()=>{y&&(y.getTracks().forEach(G=>G.stop()),j(null)),p(!1)},te=()=>{if(r.current&&n.current){const G=r.current,ne=n.current;ne.width=G.videoWidth,ne.height=G.videoHeight;const he=ne.getContext("2d");he&&(he.drawImage(G,0,0),ne.toBlob(async me=>{if(me){const be=new File([me],`receipt_${Date.now()}.jpg`,{type:"image/jpeg"});re();const Ge=new FileReader;Ge.onload=ee=>{S(ee.target?.result)},Ge.readAsDataURL(be),await ue(be)}},"image/jpeg",.9))}},I=()=>{g&&t("/expenses/create",{state:{receipt_id:g.receipt_id,merchant:T.merchant_name,amount:T.total_amount,date:T.receipt_date,currency:T.currency}})},K=()=>{S(null),_(null),D({}),C(null),a.current&&(a.current.value="")};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Upload Receipt"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Upload a receipt image or PDF and extract data automatically using OCR"})]}),!w&&!h&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[e.jsxs("div",{className:`border-2 border-dashed rounded-lg p-12 text-center transition-colors ${l?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:L,onDragOver:F,onDragLeave:q,onDrop:se,children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:e.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsx("p",{className:"mt-4 text-lg text-gray-700",children:"Drag and drop a receipt image here, or click to browse"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Supports JPG, PNG, PDF up to 10MB"}),e.jsxs("div",{className:"mt-6 flex justify-center gap-4",children:[e.jsx("button",{onClick:()=>a.current?.click(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Choose File"}),e.jsx("button",{onClick:$,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:" Use Camera"})]}),e.jsx("input",{ref:a,type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",className:"hidden",onChange:G=>{G.target.files&&G.target.files.length>0&&ce(G.target.files[0])}})]}),e.jsxs("div",{className:"mt-4 flex items-center",children:[e.jsx("input",{type:"checkbox",id:"auto-process",checked:k,onChange:G=>E(G.target.checked),className:"h-4 w-4 text-blue-600 rounded"}),e.jsx("label",{htmlFor:"auto-process",className:"ml-2 text-sm text-gray-700",children:"Automatically extract data after upload (recommended)"})]})]}),h&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("video",{ref:r,autoPlay:!0,playsInline:!0,className:"w-full rounded-lg"}),e.jsx("canvas",{ref:n,className:"hidden"})]}),e.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[e.jsx("button",{onClick:te,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:" Capture Photo"}),e.jsx("button",{onClick:re,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Cancel"})]})]}),O&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-red-800",children:O})}),(d||x)&&e.jsx("div",{className:"mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600 mr-3"}),e.jsxs("p",{className:"text-blue-800",children:[d&&"Uploading receipt...",x&&"Processing with OCR..."]})]})}),w&&g&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Receipt Preview"}),e.jsx("img",{src:w,alt:"Receipt preview",className:"w-full rounded-lg border border-gray-200"}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsx("button",{onClick:K,className:"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Upload Another"}),g.ocr_status!=="completed"&&e.jsx("button",{onClick:z,disabled:x,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Process Now"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Extracted Data"}),g.ocr_confidence&&e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm ${g.ocr_confidence>=80?"bg-green-100 text-green-800":g.ocr_confidence>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[Math.round(g.ocr_confidence),"% confidence"]})]}),g.ocr_status==="completed"?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Merchant Name"}),e.jsx("input",{type:"text",value:T.merchant_name||"",onChange:G=>D({...T,merchant_name:G.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Receipt Date"}),e.jsx("input",{type:"date",value:T.receipt_date||"",onChange:G=>D({...T,receipt_date:G.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Amount"}),e.jsx("input",{type:"number",step:"0.01",value:T.total_amount||"",onChange:G=>D({...T,total_amount:parseFloat(G.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"VAT Amount"}),e.jsx("input",{type:"number",step:"0.01",value:T.vat_amount||"",onChange:G=>D({...T,vat_amount:parseFloat(G.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Currency"}),e.jsxs("select",{value:T.currency||"RON",onChange:G=>D({...T,currency:G.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{value:"RON",children:"RON"}),e.jsx("option",{value:"EUR",children:"EUR"}),e.jsx("option",{value:"USD",children:"USD"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),e.jsxs("select",{value:T.payment_method||"",onChange:G=>D({...T,payment_method:G.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"cash",children:"Cash"}),e.jsx("option",{value:"card",children:"Card"}),e.jsx("option",{value:"transfer",children:"Bank Transfer"})]})]}),e.jsx("button",{onClick:I,className:"w-full mt-6 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium",children:"Create Expense from Receipt"})]}):e.jsxs("p",{className:"text-gray-600",children:[g.ocr_status==="pending"&&'Click "Process Now" to extract data',g.ocr_status==="processing"&&"Processing...",g.ocr_status==="failed"&&"Processing failed. Please edit manually."]})]})]})]})})},gZ=()=>{const t=nt(),[a,r]=v.useState([]),[n,l]=v.useState(null),[c,d]=v.useState(!0),[u,x]=v.useState(null),[f,h]=v.useState(""),[p,y]=v.useState(""),[j,w]=v.useState(""),[S,g]=v.useState(""),[_,O]=v.useState(""),[C]=v.useState(50),[k,E]=v.useState(0),[T,D]=v.useState(null),[P,R]=v.useState(!1),L=localStorage.getItem("token"),q=localStorage.getItem("company_id");v.useEffect(()=>{F()},[f,p,j,S,_,k]);const F=async()=>{d(!0),x(null);try{const te=new URLSearchParams;f&&te.append("status",f),p&&te.append("date_from",p),j&&te.append("date_to",j),S&&te.append("merchant",S),_&&te.append("linked",_),te.append("limit",C.toString()),te.append("offset",k.toString());const K=await(await fetch(`https://documentiulia.ro/api/v1/receipts/list.php?${te.toString()}`,{headers:{Authorization:`Bearer ${L}`,"X-Company-ID":q||""}})).json();K.success?(r(K.data),l(K.stats)):x(K.message||"Failed to load receipts")}catch(te){x("Network error loading receipts"),console.error(te)}finally{d(!1)}},se=async te=>{if(confirm("Are you sure you want to delete this receipt?"))try{(await fetch("https://documentiulia.ro/api/v1/receipts/delete.php",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${L}`,"X-Company-ID":q||""},body:JSON.stringify({receipt_id:te})})).ok&&F()}catch(I){console.error("Delete error:",I),alert("Failed to delete receipt")}},ce=te=>{D(te),R(!0)},ue=te=>{t("/expenses/create",{state:{receipt_id:te.id,merchant:te.merchant_name,amount:te.total_amount,date:te.receipt_date,currency:te.currency}})},H=()=>{h(""),y(""),w(""),g(""),O(""),E(0)},z=te=>{const I={pending:"bg-gray-100 text-gray-800",processing:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800"};return e.jsx("span",{className:`inline-flex px-2.5 py-0.5 rounded-full text-xs font-medium ${I[te]||I.pending}`,children:te.charAt(0).toUpperCase()+te.slice(1)})},$=te=>new Date(te).toLocaleDateString("ro-RO",{year:"numeric",month:"short",day:"numeric"}),re=(te,I="RON")=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:I}).format(te);return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Receipts"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Manage and process your receipt uploads"})]}),e.jsx("button",{onClick:()=>t("/receipts/upload"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"+ Upload Receipt"})]}),n&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Receipts"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.total_count})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Processed"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.completed_count})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:n.pending_count})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Amount"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:re(n.total_amount)})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Filters"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:f,onChange:te=>h(te.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"processing",children:"Processing"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"failed",children:"Failed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date From"}),e.jsx("input",{type:"date",value:p,onChange:te=>y(te.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date To"}),e.jsx("input",{type:"date",value:j,onChange:te=>w(te.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Merchant"}),e.jsx("input",{type:"text",placeholder:"Search merchant...",value:S,onChange:te=>g(te.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Linked Status"}),e.jsxs("select",{value:_,onChange:te=>O(te.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"true",children:"Linked to Expense"}),e.jsx("option",{value:"false",children:"Not Linked"})]})]})]}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx("button",{onClick:H,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Reset Filters"})})]}),u&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-red-800",children:u})}),c?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading receipts..."})]}):a.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No receipts found"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Upload your first receipt to get started"}),e.jsx("button",{onClick:()=>t("/receipts/upload"),className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Upload Receipt"})]}):e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Merchant"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Confidence"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Linked"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(te=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:te.receipt_date?$(te.receipt_date):"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:te.merchant_name||"Unknown"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:te.total_amount?re(te.total_amount,te.currency):"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:z(te.ocr_status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:te.ocr_confidence?`${Math.round(te.ocr_confidence)}%`:"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:te.expense_id?e.jsx("span",{className:"inline-flex px-2 py-1 bg-green-100 text-green-800 rounded text-xs",children:" Linked"}):e.jsx("span",{className:"inline-flex px-2 py-1 bg-gray-100 text-gray-800 rounded text-xs",children:"Not Linked"})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx("button",{onClick:()=>ce(te),className:"text-blue-600 hover:text-blue-900 mr-3",children:"View"}),!te.expense_id&&te.ocr_status==="completed"&&e.jsx("button",{onClick:()=>ue(te),className:"text-green-600 hover:text-green-900 mr-3",children:"Link"}),e.jsx("button",{onClick:()=>se(te.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},te.id))})]}),e.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",k+1," to ",Math.min(k+C,k+a.length)," of ",n?.total_count||0," receipts"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>E(Math.max(0,k-C)),disabled:k===0,className:"px-4 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),e.jsx("button",{onClick:()=>E(k+C),disabled:a.length<C,className:"px-4 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})]})]}),P&&T&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Receipt Details"}),e.jsx("button",{onClick:()=>R(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{children:e.jsx("img",{src:`https://documentiulia.ro/${T.file_path}`,alt:"Receipt",className:"w-full rounded-lg border border-gray-200"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),z(T.ocr_status)]}),T.ocr_confidence&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"OCR Confidence"}),e.jsxs("p",{className:"text-gray-900",children:[Math.round(T.ocr_confidence),"%"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Merchant Name"}),e.jsx("p",{className:"text-gray-900",children:T.merchant_name||"Not detected"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Receipt Date"}),e.jsx("p",{className:"text-gray-900",children:T.receipt_date?$(T.receipt_date):"Not detected"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Amount"}),e.jsx("p",{className:"text-gray-900",children:T.total_amount?re(T.total_amount,T.currency):"Not detected"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Linked to Expense"}),e.jsx("p",{className:"text-gray-900",children:T.expense_id?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload Date"}),e.jsx("p",{className:"text-gray-900",children:$(T.created_at)})]}),!T.expense_id&&T.ocr_status==="completed"&&e.jsx("button",{onClick:()=>{R(!1),ue(T)},className:"w-full mt-4 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Create Expense from Receipt"})]})]})]})})})]})})},yZ=()=>{const{token:t,user:a}=Mt(),[r,n]=v.useState([]),[l,c]=v.useState(null),[d,u]=v.useState(!0),[x,f]=v.useState(null);v.useEffect(()=>{h(),t&&a&&p()},[t,a]);const h=async()=>{try{const g=await(await fetch("https://documentiulia.ro/api/v1/forum/categories.php")).json();g.success?n(g.data):f(g.message)}catch{f("Failed to load forum categories")}finally{u(!1)}},p=async()=>{if(a?.id)try{const g=await(await fetch(`https://documentiulia.ro/api/v1/forum/reputation.php?endpoint=user&user_id=${a.id}`,{headers:{Authorization:`Bearer ${t}`}})).json();g.success&&c(g.data)}catch(S){console.error("Failed to load reputation:",S)}},y=S=>{const g=new Date(S),O=new Date().getTime()-g.getTime(),C=Math.floor(O/6e4),k=Math.floor(O/36e5),E=Math.floor(O/864e5);return C<1?"Just now":C<60?`${C} minutes ago`:k<24?`${k} hours ago`:E<7?`${E} days ago`:g.toLocaleDateString("ro-RO",{day:"numeric",month:"short",year:"numeric"})},j=S=>({newbie:"text-gray-600",contributor:"text-green-600",trusted:"text-blue-600",expert:"text-purple-600",master:"text-yellow-600"})[S]||"text-gray-600",w=S=>({newbie:"",contributor:"",trusted:"",expert:"",master:""})[S]||"";return d?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Community Forum"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Ask questions, share knowledge, and connect with the community"})]}),t&&e.jsxs(ge,{to:"/forum/new-thread",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Thread"]}),!t&&e.jsx(ge,{to:"/login",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Login to Post"})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2",children:[x&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:x}),e.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Forum Categories"})}),e.jsx("div",{className:"divide-y divide-gray-200",children:r.length===0?e.jsxs("div",{className:"px-6 py-12 text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No categories yet"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating the first category."})]}):r.map(S=>e.jsx(ge,{to:`/forum/category/${S.slug}`,className:"block hover:bg-gray-50 transition-colors duration-150",children:e.jsx("div",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-12 w-12 rounded-lg bg-indigo-100 flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:S.icon})})}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 group-hover:text-indigo-600",children:S.name}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 line-clamp-2",children:S.description})]}),e.jsx("div",{className:"ml-4 flex-shrink-0 text-right",children:e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})}),e.jsx("span",{className:"font-medium text-gray-900",children:S.thread_count}),e.jsx("span",{className:"ml-1 hidden sm:inline",children:"threads"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})}),e.jsx("span",{className:"font-medium text-gray-900",children:S.post_count}),e.jsx("span",{className:"ml-1 hidden sm:inline",children:"posts"})]})]})})]}),S.last_activity_at&&e.jsxs("div",{className:"mt-3 flex items-center text-xs text-gray-500",children:[e.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("span",{children:["Last activity ",y(S.last_activity_at)]}),S.last_thread_title&&e.jsxs("span",{className:"ml-2 truncate max-w-xs",children:["in ",e.jsx("span",{className:"font-medium",children:S.last_thread_title})]}),S.last_thread_author&&e.jsxs("span",{className:"ml-1",children:["by ",e.jsx("span",{className:"font-medium",children:S.last_thread_author})]})]})]})]})})},S.id))})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Total Threads"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r.reduce((S,g)=>S+g.thread_count,0)})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Total Posts"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r.reduce((S,g)=>S+g.post_count,0)})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Categories"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r.length})]})]})]}),e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[t&&l&&e.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Your Reputation"})}),e.jsxs("div",{className:"px-6 py-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-3xl mr-2",children:w(l.rank)}),e.jsxs("div",{children:[e.jsx("div",{className:`text-lg font-semibold ${j(l.rank)} capitalize`,children:l.rank}),e.jsx("div",{className:"text-sm text-gray-600",children:"Rank"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:l.total_points}),e.jsx("div",{className:"text-sm text-gray-600",children:"Points"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ge,{to:`/forum/profile/${a?.id}`,className:"block w-full text-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"View Profile"}),e.jsx(ge,{to:"/forum/leaderboard",className:"block w-full text-center px-4 py-2 border border-indigo-600 rounded-md text-sm font-medium text-indigo-600 hover:bg-indigo-50",children:"View Leaderboard"})]}),l.badge_count>0&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Badges Earned"}),e.jsx("span",{className:"font-semibold text-gray-900",children:l.badge_count})]})})]})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"How to Use the Forum"})}),e.jsx("div",{className:"px-6 py-5",children:e.jsxs("ul",{className:"space-y-3 text-sm text-gray-600",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{children:"Ask questions about Romanian accounting and tax"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{children:"Share your knowledge and help others"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{children:"Vote on helpful answers to earn reputation"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{children:"Earn badges and climb the leaderboard"})]})]})})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Community Guidelines"}),e.jsxs("ul",{className:"space-y-1 text-xs text-blue-800",children:[e.jsx("li",{children:" Be respectful and professional"}),e.jsx("li",{children:" Stay on topic"}),e.jsx("li",{children:" No spam or self-promotion"}),e.jsx("li",{children:" Search before posting"}),e.jsx("li",{children:" Mark helpful answers"})]})]})]})]})})]})},vZ=()=>{const{slug:t}=hs(),{token:a}=Mt(),[r,n]=v.useState([]),[l,c]=v.useState(""),[d,u]=v.useState(null),[x,f]=v.useState(!0),[h,p]=v.useState(null),[y,j]=v.useState("recent"),[w,S]=v.useState(""),[g,_]=v.useState(""),[O,C]=v.useState(""),[k]=v.useState(20),[E,T]=v.useState(0),[D,P]=v.useState(!0),[R,L]=v.useState([]);v.useEffect(()=>{q()},[t]),v.useEffect(()=>{d&&F()},[d,y,w,g,E]);const q=async()=>{try{const re=await(await fetch("https://documentiulia.ro/api/v1/forum/categories.php")).json();if(re.success){const te=re.data.find(I=>I.slug===t);te?(c(te.name),u(te.id)):p("Category not found")}}catch{p("Failed to load category")}},F=async()=>{if(d){f(!0);try{const $=new URLSearchParams({category_id:d.toString(),sort:y,limit:k.toString(),offset:E.toString()});w&&$.append("tag",w),g&&$.append("is_solved",g);const te=await(await fetch(`https://documentiulia.ro/api/v1/forum/threads.php?${$.toString()}`)).json();if(te.success){n(te.data),P(te.data.length===k);const I=new Set;te.data.forEach(K=>{K.tags.forEach(G=>I.add(G))}),L(Array.from(I).sort())}else p(te.message)}catch{p("Failed to load threads")}finally{f(!1)}}},se=$=>{const re=new Date($),I=new Date().getTime()-re.getTime(),K=Math.floor(I/6e4),G=Math.floor(I/36e5),ne=Math.floor(I/864e5);return K<1?"Just now":K<60?`${K}m ago`:G<24?`${G}h ago`:ne<7?`${ne}d ago`:re.toLocaleDateString("ro-RO",{day:"numeric",month:"short"})},ce=$=>({newbie:"text-gray-600",contributor:"text-green-600",trusted:"text-blue-600",expert:"text-purple-600",master:"text-yellow-600"})[$]||"text-gray-600",ue=r.filter($=>{if(O){const re=O.toLowerCase();return $.title.toLowerCase().includes(re)||$.content.toLowerCase().includes(re)||$.author_name.toLowerCase().includes(re)}return!0}),H=ue.filter($=>$.is_pinned),z=ue.filter($=>!$.is_pinned);return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-500 mb-2",children:[e.jsx(ge,{to:"/forum",className:"hover:text-gray-700",children:"Forum"}),e.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-gray-900 font-medium",children:l})]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:l})]}),a&&e.jsxs(ge,{to:`/forum/new-thread?category=${d}`,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:[e.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Thread"]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg p-4 mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search threads...",value:O,onChange:$=>C($.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500"}),e.jsx("svg",{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),e.jsxs("select",{value:y,onChange:$=>j($.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",children:[e.jsx("option",{value:"recent",children:"Most Recent"}),e.jsx("option",{value:"popular",children:"Most Popular"}),e.jsx("option",{value:"views",children:"Most Viewed"}),e.jsx("option",{value:"votes",children:"Most Voted"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:g,onChange:$=>_($.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",children:[e.jsx("option",{value:"",children:"All Threads"}),e.jsx("option",{value:"false",children:"Unsolved"}),e.jsx("option",{value:"true",children:"Solved"})]})]})]}),R.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Tag"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>S(""),className:`px-3 py-1 rounded-full text-sm ${w===""?"bg-indigo-100 text-indigo-800 font-medium":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All"}),R.map($=>e.jsx("button",{onClick:()=>S($),className:`px-3 py-1 rounded-full text-sm ${w===$?"bg-indigo-100 text-indigo-800 font-medium":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:$},$))]})]})]}),h&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:h}),e.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[x?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):ue.length===0?e.jsxs("div",{className:"px-6 py-12 text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No threads found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:O?"Try adjusting your search or filters.":"Be the first to start a discussion!"}),a&&!O&&e.jsx("div",{className:"mt-6",children:e.jsx(ge,{to:`/forum/new-thread?category=${d}`,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:"Start a Thread"})})]}):e.jsxs("div",{className:"divide-y divide-gray-200",children:[H.map($=>e.jsx(ge,{to:`/forum/thread/${$.id}`,className:"block hover:bg-gray-50 transition-colors duration-150",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 mr-4",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-yellow-100 flex items-center justify-center",children:e.jsx("svg",{className:"h-5 w-5 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM14 11a1 1 0 011 1v1h1a1 1 0 110 2h-1v1a1 1 0 11-2 0v-1h-1a1 1 0 110-2h1v-1a1 1 0 011-1z"})})})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800",children:" Pinned"}),$.is_solved&&e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:" Solved"}),$.is_locked&&e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800",children:" Locked"})]}),e.jsx("h3",{className:"text-base font-semibold text-gray-900 hover:text-indigo-600 line-clamp-2",children:$.title}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 line-clamp-2",children:$.content}),e.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-xs text-gray-500",children:[e.jsx("span",{className:`font-medium ${ce($.author_rank)}`,children:$.author_name}),e.jsx("span",{children:""}),e.jsx("span",{children:se($.created_at)}),$.tags.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:""}),e.jsxs("div",{className:"flex items-center space-x-1",children:[$.tags.slice(0,3).map(re=>e.jsx("span",{className:"px-2 py-0.5 bg-gray-100 rounded text-gray-700",children:re},re)),$.tags.length>3&&e.jsxs("span",{className:"text-gray-500",children:["+",$.tags.length-3]})]})]})]})]}),e.jsxs("div",{className:"ml-4 flex-shrink-0 flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),e.jsx("span",{children:$.view_count})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),e.jsx("span",{children:$.reply_count})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),e.jsx("span",{children:$.upvote_count})]})]})]})})]})})},$.id)),z.map($=>e.jsx(ge,{to:`/forum/thread/${$.id}`,className:"block hover:bg-gray-50 transition-colors duration-150",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 mr-4",children:e.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center ${$.is_solved?"bg-green-100":"bg-gray-100"}`,children:$.is_solved?e.jsx("svg",{className:"h-5 w-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):e.jsx("svg",{className:"h-5 w-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[($.is_solved||$.is_locked)&&e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[$.is_solved&&e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:" Solved"}),$.is_locked&&e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800",children:" Locked"})]}),e.jsx("h3",{className:"text-base font-semibold text-gray-900 hover:text-indigo-600 line-clamp-2",children:$.title}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 line-clamp-2",children:$.content}),e.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-xs text-gray-500",children:[e.jsx("span",{className:`font-medium ${ce($.author_rank)}`,children:$.author_name}),e.jsx("span",{children:""}),e.jsx("span",{children:se($.created_at)}),$.tags.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:""}),e.jsxs("div",{className:"flex items-center space-x-1",children:[$.tags.slice(0,3).map(re=>e.jsx("span",{className:"px-2 py-0.5 bg-gray-100 rounded text-gray-700",children:re},re)),$.tags.length>3&&e.jsxs("span",{className:"text-gray-500",children:["+",$.tags.length-3]})]})]})]})]}),e.jsxs("div",{className:"ml-4 flex-shrink-0 flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),e.jsx("span",{children:$.view_count})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),e.jsx("span",{children:$.reply_count})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),e.jsx("span",{children:$.upvote_count})]})]})]})})]})})},$.id))]}),!x&&ue.length>0&&e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>T(Math.max(0,E-k)),disabled:E===0,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous"]}),e.jsxs("span",{className:"text-sm text-gray-700",children:["Showing ",E+1," - ",E+ue.length]}),e.jsxs("button",{onClick:()=>T(E+k),disabled:!D,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:["Next",e.jsx("svg",{className:"h-4 w-4 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})})]})]})]})},bZ=()=>{const{id:t}=hs(),{token:a,user:r}=Mt(),n=nt(),[l,c]=v.useState(null),[d,u]=v.useState([]),[x,f]=v.useState(!0),[h,p]=v.useState(null),[y,j]=v.useState(""),[w,S]=v.useState(null),[g,_]=v.useState(!1),[O,C]=v.useState(null),[k,E]=v.useState(!1);v.useEffect(()=>{T(),D(),a&&(P(),R())},[t,a]);const T=async()=>{try{const $=await(await fetch(`https://documentiulia.ro/api/v1/forum/thread.php?id=${t}`)).json();$.success?c($.data):p($.message)}catch{p("Failed to load thread")}finally{f(!1)}},D=async()=>{try{const $=await(await fetch(`https://documentiulia.ro/api/v1/forum/replies.php?thread_id=${t}&sort=oldest&limit=100`)).json();$.success&&u($.data)}catch(z){console.error("Failed to load replies:",z)}},P=async()=>{try{const $=await(await fetch(`https://documentiulia.ro/api/v1/forum/vote.php?voteable_type=thread&voteable_id=${t}`,{headers:{Authorization:`Bearer ${a}`}})).json();$.success&&$.data&&C($.data.vote_type)}catch(z){console.error("Failed to load user vote:",z)}},R=async()=>{try{const $=await(await fetch("https://documentiulia.ro/api/v1/forum/bookmarks.php",{headers:{Authorization:`Bearer ${a}`}})).json();if($.success){const re=$.data.some(te=>te.thread_id===t);E(re)}}catch(z){console.error("Failed to check bookmark:",z)}},L=async z=>{if(!a){n("/login");return}try{const re=await(await fetch("https://documentiulia.ro/api/v1/forum/vote.php",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({voteable_type:"thread",voteable_id:parseInt(t),vote_type:z})})).json();re.success&&(C(re.data.vote_type||null),T())}catch($){console.error("Failed to vote:",$)}},q=async()=>{if(!a){n("/login");return}try{(await(await fetch("https://documentiulia.ro/api/v1/forum/bookmarks.php",{method:k?"DELETE":"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({thread_id:t})})).json()).success&&E(!k)}catch(z){console.error("Failed to bookmark:",z)}},F=async z=>{if(z.preventDefault(),!a){n("/login");return}if(y.trim()){_(!0);try{const re=await(await fetch("https://documentiulia.ro/api/v1/forum/replies.php",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({thread_id:t,content:y,parent_reply_id:w})})).json();re.success?(j(""),S(null),D(),T()):p(re.message)}catch{p("Failed to post reply")}finally{_(!1)}}},se=async z=>{if(a)try{(await(await fetch("https://documentiulia.ro/api/v1/forum/thread.php",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({thread_id:t,action:"solve",is_solved:!0,accepted_reply_id:z})})).json()).success&&(T(),D())}catch($){console.error("Failed to mark as solved:",$)}},ce=z=>new Date(z).toLocaleDateString("ro-RO",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}),ue=z=>({newbie:"text-gray-600",contributor:"text-green-600",trusted:"text-blue-600",expert:"text-purple-600",master:"text-yellow-600"})[z]||"text-gray-600",H=z=>({newbie:"",contributor:"",trusted:"",expert:"",master:""})[z]||"";return x?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):h||!l?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-md",children:[e.jsx("div",{className:"text-red-600 mb-4",children:e.jsx("svg",{className:"h-12 w-12 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 text-center mb-2",children:"Thread not found"}),e.jsx("p",{className:"text-gray-600 text-center mb-6",children:h||"The thread you are looking for does not exist."}),e.jsx(ge,{to:"/forum",className:"block w-full text-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Back to Forum"})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[e.jsx(ge,{to:"/forum",className:"hover:text-gray-700",children:"Forum"}),e.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),e.jsx(ge,{to:`/forum/category/${l.category_name}`,className:"hover:text-gray-700",children:l.category_name}),e.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-gray-900 truncate max-w-md",children:l.title})]})})}),e.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden mb-6",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[l.is_pinned&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-yellow-100 text-yellow-800",children:" Pinned"}),l.is_solved&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-800",children:" Solved"}),l.is_locked&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-gray-100 text-gray-800",children:" Locked"})]}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:l.title}),l.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:l.tags.map(z=>e.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-800 rounded-full text-sm",children:z},z))})]}),e.jsx("div",{className:"ml-4 flex items-center space-x-2",children:a&&e.jsx("button",{onClick:q,className:`p-2 rounded-md ${k?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:k?"Remove bookmark":"Bookmark thread",children:e.jsx("svg",{className:"h-5 w-5",fill:k?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})})})})]})}),e.jsx("div",{className:"px-6 py-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0 mr-6",children:e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsx("button",{onClick:()=>L("upvote"),className:`p-2 rounded-md transition-colors ${O==="upvote"?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,disabled:!a,children:e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:l.upvote_count}),e.jsx("button",{onClick:()=>L("downvote"),className:`p-2 rounded-md transition-colors ${O==="downvote"?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,disabled:!a,children:e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"prose max-w-none mb-6",children:e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:l.content})}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center",children:e.jsx("span",{className:"text-lg",children:H(l.author_rank)})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium text-gray-900",children:l.author_name}),e.jsx("span",{className:`text-xs ${ue(l.author_rank)} capitalize`,children:l.author_rank})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Posted ",ce(l.created_at)]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),e.jsxs("span",{children:[l.view_count," views"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),e.jsxs("span",{children:[l.reply_count," replies"]})]})]})]})]})]})})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden mb-6",children:[e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:e.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[d.length," ",d.length===1?"Reply":"Replies"]})}),d.length===0?e.jsxs("div",{className:"px-6 py-12 text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No replies yet"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Be the first to reply to this thread!"})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:d.map(z=>e.jsx("div",{className:`px-6 py-6 ${z.is_accepted?"bg-green-50 border-l-4 border-green-500":""}`,children:e.jsx("div",{className:"flex",children:e.jsxs("div",{className:"flex-1",children:[z.is_accepted&&e.jsx("div",{className:"mb-3",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:" Accepted Answer"})}),e.jsx("div",{className:"prose max-w-none mb-4",children:e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:z.content})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-indigo-100 flex items-center justify-center",children:e.jsx("span",{className:"text-sm",children:H(z.author_rank)})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:z.author_name}),e.jsx("span",{className:`text-xs ${ue(z.author_rank)} capitalize`,children:z.author_rank})]}),e.jsx("div",{className:"text-xs text-gray-500",children:ce(z.created_at)})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),e.jsx("span",{children:z.upvote_count})]}),a&&r&&String(l.author_id)===String(r.id)&&!l.is_solved&&!z.is_accepted&&e.jsx("button",{onClick:()=>se(z.id.toString()),className:"text-sm text-green-600 hover:text-green-700 font-medium",children:" Accept Answer"})]})]})]})})},z.id))})]}),!l.is_locked&&e.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Your Reply"})}),e.jsx("div",{className:"px-6 py-6",children:a?e.jsxs("form",{onSubmit:F,children:[e.jsx("div",{className:"mb-4",children:e.jsx("textarea",{value:y,onChange:z=>j(z.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Write your reply...",required:!0})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Please be respectful and constructive in your replies."}),e.jsx("button",{type:"submit",disabled:g||!y.trim(),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Posting...":"Post Reply"})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"You must be logged in to reply"}),e.jsx(ge,{to:"/login",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:"Login to Reply"})]})})]}),l.is_locked&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-center",children:[e.jsx("svg",{className:"mx-auto h-8 w-8 text-yellow-600 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),e.jsx("p",{className:"text-yellow-800 font-medium",children:"This thread is locked"}),e.jsx("p",{className:"text-yellow-700 text-sm mt-1",children:"No new replies can be posted"})]})]})]})},jZ=()=>{const t=nt(),[a]=_S(),{token:r}=Mt(),[n,l]=v.useState([]),[c,d]=v.useState(a.get("category")||""),[u,x]=v.useState(""),[f,h]=v.useState(""),[p,y]=v.useState([]),[j,w]=v.useState(""),[S,g]=v.useState(!1),[_,O]=v.useState(null);v.useEffect(()=>{if(!r){t("/login");return}C()},[r,t]);const C=async()=>{try{const P=await(await fetch("https://documentiulia.ro/api/v1/forum/categories.php")).json();P.success&&l(P.data)}catch(D){console.error("Failed to load categories:",D)}},k=D=>{if(D.key==="Enter"||D.key===","){D.preventDefault();const P=j.trim().toLowerCase();P&&!p.includes(P)&&p.length<5&&(y([...p,P]),w(""))}},E=D=>{y(p.filter(P=>P!==D))},T=async D=>{if(D.preventDefault(),O(null),!c){O("Please select a category");return}if(!u.trim()){O("Please enter a title");return}if(!f.trim()){O("Please enter content");return}g(!0);try{const R=await(await fetch("https://documentiulia.ro/api/v1/forum/threads.php",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({category_id:parseInt(c),title:u.trim(),content:f.trim(),tags:p})})).json();R.success?t(`/forum/thread/${R.data.id}`):O(R.message||"Failed to create thread")}catch{O("An error occurred while creating the thread")}finally{g(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-500 mb-2",children:[e.jsx(ge,{to:"/forum",className:"hover:text-gray-700",children:"Forum"}),e.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-gray-900",children:"New Thread"})]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Create New Thread"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Ask a question or start a discussion with the community"})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[_&&e.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[e.jsx("svg",{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),e.jsx("span",{children:_})]}),e.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:e.jsxs("form",{onSubmit:T,children:[e.jsxs("div",{className:"px-6 py-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Category ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:c,onChange:D=>d(D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[e.jsx("option",{value:"",children:"Select a category"}),n.map(D=>e.jsx("option",{value:D.id,children:D.name},D.id))]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Choose the most appropriate category for your thread"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:u,onChange:D=>x(D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",placeholder:"What's your question or topic?",maxLength:500,required:!0}),e.jsxs("div",{className:"mt-1 flex items-center justify-between text-sm",children:[e.jsx("p",{className:"text-gray-500",children:"Be specific and clear about your question or topic"}),e.jsxs("span",{className:"text-gray-400",children:[u.length,"/500"]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Content ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:f,onChange:D=>h(D.target.value),rows:12,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 font-mono text-sm",placeholder:`Provide details about your question or discussion topic...

Tips for a great thread:
 Be clear and specific
 Include relevant context and background
 Show what you've tried (if applicable)
 Be respectful and professional`,required:!0}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"The more context you provide, the better answers you'll receive"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (Optional)"}),e.jsxs("div",{className:"mb-2",children:[e.jsx("input",{type:"text",value:j,onChange:D=>w(D.target.value),onKeyDown:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Add tags (press Enter or comma to add)",disabled:p.length>=5}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Add up to 5 tags to help others find your thread. Press Enter or comma to add each tag."})]}),p.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(D=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800",children:[D,e.jsx("button",{type:"button",onClick:()=>E(D),className:"ml-2 inline-flex items-center justify-center hover:bg-indigo-200 rounded-full p-0.5",children:e.jsx("svg",{className:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},D))}),e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Suggested tags:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["tva","impozit","salarii","pfa","legislatie","facturi"].map(D=>!p.includes(D)&&p.length<5&&e.jsxs("button",{type:"button",onClick:()=>y([...p,D]),className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:["+ ",D]},D))})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:" Community Guidelines"}),e.jsxs("ul",{className:"space-y-1 text-sm text-blue-800",children:[e.jsx("li",{children:" Be respectful and professional in your communication"}),e.jsx("li",{children:" Search existing threads before posting to avoid duplicates"}),e.jsx("li",{children:" Provide enough context for others to understand your question"}),e.jsx("li",{children:" Use appropriate categories and tags"}),e.jsx("li",{children:" Mark helpful answers when you receive them"})]})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[e.jsx(ge,{to:"/forum",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:S||!c||!u.trim()||!f.trim(),className:"inline-flex items-center px-6 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:S?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Thread..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Thread"]})})]})]})}),e.jsxs("div",{className:"mt-6 bg-white shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Tips for Getting Great Answers"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-8 w-8 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx("span",{className:"text-lg",children:"1"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Write a clear title"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Your title should summarize the question in one sentence"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-8 w-8 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx("span",{className:"text-lg",children:"2"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Provide context"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Explain the background and what you're trying to achieve"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-8 w-8 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx("span",{className:"text-lg",children:"3"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Use relevant tags"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Tags help categorize your thread and make it easier to find"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-8 w-8 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx("span",{className:"text-lg",children:"4"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Be patient and engage"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Reply to answers, mark helpful ones, and provide updates"})]})]})]})]})]})]})},$r=window.location.hostname==="localhost"?"http://localhost/api/v1":"https://documentiulia.ro/api/v1",NZ=()=>{const[t,a]=v.useState([]),[r,n]=v.useState(""),[l,c]=v.useState(null),[d,u]=v.useState(!1),[x,f]=v.useState(null),[h,p]=v.useState(!1);v.useEffect(()=>{y()},[]),v.useEffect(()=>{r&&j()},[r]);const y=async()=>{try{const g=localStorage.getItem("auth_token"),O=await(await fetch(`${$r}/companies/list.php`,{headers:{Authorization:`Bearer ${g}`}})).json();O.success&&(a(O.companies||[]),O.companies.length>0&&n(O.companies[0].id))}catch(g){console.error("Failed to load companies:",g)}},j=async()=>{p(!0);try{const g=localStorage.getItem("auth_token"),O=await(await fetch(`${$r}/efactura/oauth-status.php?company_id=${r}`,{headers:{Authorization:`Bearer ${g}`}})).json();O.success&&c(O.status)}catch(g){console.error("Failed to check OAuth status:",g)}finally{p(!1)}},w=async()=>{if(!r){f("Please select a company");return}u(!0),f(null);try{const g=localStorage.getItem("auth_token"),_=await fetch(`${$r}/efactura/oauth-authorize.php`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({company_id:r,redirect_uri:`${window.location.origin}/efactura/oauth-callback`})}),O=await _.json();if(!_.ok)throw new Error(O.message||"Failed to initiate OAuth");if(O.success&&O.authorization_url)window.location.href=O.authorization_url;else throw new Error("Invalid response from server")}catch(g){f(g.message||"Connection failed"),u(!1)}},S=async()=>{if(confirm("Are you sure you want to disconnect from ANAF e-Factura?"))try{const g=localStorage.getItem("auth_token");(await(await fetch(`${$r}/efactura/oauth-disconnect.php`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({company_id:r})})).json()).success&&c({connected:!1})}catch{f("Failed to disconnect")}};return e.jsx("div",{className:"max-w-2xl mx-auto p-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"e-Factura ANAF Settings"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Company"}),e.jsxs("select",{value:r,onChange:g=>n(g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"-- Select a company --"}),t.map(g=>e.jsxs("option",{value:g.id,children:[g.name," (CIF: ",g.fiscal_code,")"]},g.id))]})]}),r&&e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Connection Status"}),h?e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Checking status..."})]}):l?.connected?e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:"inline-block w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{className:"font-medium text-green-700",children:"Connected to ANAF"})]}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[l.connected_at&&e.jsxs("p",{children:["Connected: ",new Date(l.connected_at).toLocaleString()]}),l.expires_at&&e.jsxs("p",{children:["Token expires:"," ",new Date(l.expires_at).toLocaleString()]}),l.last_sync&&e.jsxs("p",{children:["Last sync: ",new Date(l.last_sync).toLocaleString()]})]}),e.jsx("button",{onClick:S,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 text-sm",children:"Disconnect"})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:"inline-block w-3 h-3 bg-gray-400 rounded-full"}),e.jsx("span",{className:"font-medium text-gray-700",children:"Not Connected"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Connect to ANAF to enable automatic e-Factura upload and download."})]})]})}),x&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-md",children:e.jsx("p",{className:"text-sm text-red-800",children:x})}),r&&!l?.connected&&e.jsx("button",{onClick:w,disabled:d,className:`
              w-full px-6 py-3 rounded-md font-medium text-white
              ${d?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 active:bg-blue-800"}
            `,children:d?"Connecting...":"Connect to ANAF e-Factura"}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-md",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"About ANAF e-Factura"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:" Automatic upload of invoices to ANAF SPV system"}),e.jsx("li",{children:" Download invoices received from suppliers"}),e.jsx("li",{children:" Real-time status synchronization"}),e.jsx("li",{children:" Compliant with RO_CIUS 1.0.1 standard"})]})]})]})})},wZ=({companyId:t,invoices:a,onUploadComplete:r})=>{const[n,l]=v.useState(new Set),[c,d]=v.useState(!1),[u,x]=v.useState(null),[f,h]=v.useState(!0),p=g=>{const _=new Set(n);_.has(g)?_.delete(g):_.add(g),l(_)},y=()=>{l(new Set(a.map(g=>g.id)))},j=()=>{l(new Set)},w=async()=>{if(n.size===0){alert("Please select at least one invoice");return}d(!0),x(null);try{const g=localStorage.getItem("auth_token");if(!g)throw new Error("Not authenticated");const _=await fetch(`${$r}/efactura/batch-upload.php`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({company_id:t,invoice_ids:Array.from(n),continue_on_error:f})}),O=await _.json();if(!_.ok)throw new Error(O.message||"Batch upload failed");if(O.success)x(O),r?.(O);else throw new Error(O.message||"Batch upload failed")}catch(g){alert(g.message||"Batch upload failed")}finally{d(!1)}},S=a.filter(g=>!g.efactura_status||g.efactura_status==="pending"||g.efactura_status==="error");return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Batch Upload to ANAF"}),e.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:y,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:["Select All (",S.length,")"]}),e.jsx("button",{onClick:j,className:"text-sm text-gray-600 hover:text-gray-700 font-medium",children:"Deselect All"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[n.size," selected"]})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:f,onChange:g=>h(g.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Continue on error"})]})]}),e.jsx("div",{className:"mb-6 max-h-96 overflow-y-auto",children:S.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No invoices available for upload"}):e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Select"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Invoice #"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Customer"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Amount"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.map(g=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"checkbox",checked:n.has(g.id),onChange:()=>p(g.id),className:"rounded"})}),e.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:g.number}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:g.customer_name}),e.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 text-right",children:[g.total_amount.toFixed(2)," RON"]}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs ${g.efactura_status==="error"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:g.efactura_status||"pending"})})]},g.id))})]})}),e.jsx("button",{onClick:w,disabled:c||n.size===0,className:`
          w-full px-6 py-3 rounded-md font-medium text-white flex items-center justify-center gap-2
          ${c||n.size===0?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}
        `,children:c?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Uploading..."})]}):e.jsxs("span",{children:["Upload ",n.size," Invoice(s) to ANAF"]})}),u&&e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Upload Results"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:u.total}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:u.successful}),e.jsx("div",{className:"text-sm text-gray-600",children:"Successful"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:u.failed}),e.jsx("div",{className:"text-sm text-gray-600",children:"Failed"})]})]}),u.results.some(g=>!g.success)&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"font-medium text-sm mb-2",children:"Failed Uploads:"}),e.jsx("div",{className:"space-y-2",children:u.results.filter(g=>!g.success).map((g,_)=>e.jsxs("div",{className:"text-sm text-red-700 bg-red-50 p-2 rounded",children:["Invoice ",g.invoice_id,": ",g.error]},_))})]})]})]})},SZ=()=>{const[t,a]=v.useState([]),[r,n]=v.useState(""),[l,c]=v.useState([]),[d,u]=v.useState(!1),[x,f]=v.useState(!1),[h,p]=v.useState(60),[y,j]=v.useState("all");v.useEffect(()=>{w()},[]),v.useEffect(()=>{r&&S()},[r]);const w=async()=>{try{const C=localStorage.getItem("auth_token"),E=await(await fetch(`${$r}/companies/list.php`,{headers:{Authorization:`Bearer ${C}`}})).json();E.success&&(a(E.companies||[]),E.companies.length>0&&n(E.companies[0].id))}catch(C){console.error("Failed to load companies:",C)}},S=async()=>{u(!0);try{const C=localStorage.getItem("auth_token"),E=await(await fetch(`${$r}/efactura/received-invoices.php?company_id=${r}`,{headers:{Authorization:`Bearer ${C}`}})).json();E.success&&c(E.invoices||[])}catch(C){console.error("Failed to load invoices:",C)}finally{u(!1)}},g=async()=>{if(r){f(!0);try{const C=localStorage.getItem("auth_token"),E=await(await fetch(`${$r}/efactura/download-received.php`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify({company_id:r,days:h})})).json();E.success?(alert(`Downloaded ${E.downloaded||0} new invoices`),S()):alert(E.message||"Download failed")}catch(C){alert(C.message||"Download failed")}finally{f(!1)}}},O=(()=>{switch(y){case"matched":return l.filter(C=>C.matched_purchase_order_id);case"unmatched":return l.filter(C=>!C.matched_purchase_order_id);default:return l}})();return e.jsx("div",{className:"max-w-7xl mx-auto p-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Received Invoices (e-Factura)"}),e.jsxs("div",{className:"mb-6 flex gap-4 items-end",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company"}),e.jsxs("select",{value:r,onChange:C=>n(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[e.jsx("option",{value:"",children:"-- Select Company --"}),t.map(C=>e.jsx("option",{value:C.id,children:C.name},C.id))]})]}),e.jsxs("div",{className:"w-32",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Days"}),e.jsx("input",{type:"number",value:h,onChange:C=>p(parseInt(C.target.value)||60),min:"1",max:"365",className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),e.jsx("button",{onClick:g,disabled:x||!r,className:`
              px-6 py-2 rounded-md font-medium text-white
              ${x||!r?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}
            `,children:x?"Downloading...":"Download New"})]}),e.jsx("div",{className:"mb-6 border-b",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{onClick:()=>j("all"),className:`pb-2 px-1 font-medium ${y==="all"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-800"}`,children:["All (",l.length,")"]}),e.jsxs("button",{onClick:()=>j("matched"),className:`pb-2 px-1 font-medium ${y==="matched"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-800"}`,children:["Matched (",l.filter(C=>C.matched_purchase_order_id).length,")"]}),e.jsxs("button",{onClick:()=>j("unmatched"),className:`pb-2 px-1 font-medium ${y==="unmatched"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-800"}`,children:["Unmatched (",l.filter(C=>!C.matched_purchase_order_id).length,")"]})]})}),d?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading invoices..."})]}):O.length===0?e.jsx("div",{className:"text-center py-12 text-gray-500",children:r?'No invoices found. Click "Download New" to fetch from ANAF.':"Please select a company"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Supplier"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Invoice #"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Amount"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Match Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:O.map(C=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.seller_name}),e.jsxs("div",{className:"text-xs text-gray-500",children:["CIF: ",C.cif]})]}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:C.invoice_number}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:new Date(C.invoice_date).toLocaleDateString()}),e.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 text-right",children:[C.total_amount.toFixed(2)," ",C.currency]}),e.jsx("td",{className:"px-4 py-3",children:C.matched_purchase_order_id?e.jsxs("div",{children:[e.jsx("span",{className:"inline-block px-2 py-1 bg-green-100 text-green-800 text-xs rounded",children:C.auto_matched?" Auto":" Manual"}),C.match_confidence!==void 0&&e.jsxs("span",{className:"ml-2 text-xs text-gray-600",children:[C.match_confidence,"%"]})]}):e.jsx("span",{className:"inline-block px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded",children:"Unmatched"})}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsx("a",{href:`/invoices/received/${C.id}`,className:"text-blue-600 hover:text-blue-700 font-medium",children:"View"})})]},C.id))})]})})]})})},_Z=()=>{const[t,a]=v.useState([]),[r,n]=v.useState(""),[l,c]=v.useState(null),[d,u]=v.useState(30),[x,f]=v.useState(!1);v.useEffect(()=>{h()},[]),v.useEffect(()=>{r&&p()},[r,d]);const h=async()=>{try{const y=localStorage.getItem("auth_token"),w=await(await fetch(`${$r}/companies/list.php`,{headers:{Authorization:`Bearer ${y}`}})).json();w.success&&(a(w.companies||[]),w.companies.length>0&&n(w.companies[0].id))}catch(y){console.error("Failed to load companies:",y)}},p=async()=>{f(!0);try{const y=localStorage.getItem("auth_token"),w=await(await fetch(`${$r}/efactura/analytics.php?company_id=${r}&period=${d}`,{headers:{Authorization:`Bearer ${y}`}})).json();w.success&&c(w.analytics)}catch(y){console.error("Failed to load analytics:",y)}finally{f(!1)}};return e.jsx("div",{className:"max-w-7xl mx-auto p-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"e-Factura Analytics"}),e.jsxs("div",{className:"mb-6 flex gap-4 items-end",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company"}),e.jsxs("select",{value:r,onChange:y=>n(y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[e.jsx("option",{value:"",children:"-- Select Company --"}),t.map(y=>e.jsx("option",{value:y.id,children:y.name},y.id))]})]}),e.jsx("div",{className:"flex gap-2",children:[7,30,90,365].map(y=>e.jsxs("button",{onClick:()=>u(y),className:`px-4 py-2 rounded-md text-sm font-medium ${d===y?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[y,"d"]},y))})]}),x?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading analytics..."})]}):l?e.jsxs("div",{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Upload Statistics"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:l.total_invoices_uploaded}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Total Uploaded"})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:l.total_accepted}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Accepted"})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-red-600",children:l.total_rejected}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Rejected"})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:l.total_pending}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Pending"})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Received Invoices"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:l.total_received}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Total Received"})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:l.total_matched}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Auto-Matched"})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:l.total_received-l.total_matched}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Needs Review"})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Performance"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Success Rate"}),e.jsxs("span",{className:"text-2xl font-bold text-green-600",children:[l.success_rate.toFixed(1),"%"]})]}),e.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all",style:{width:`${l.success_rate}%`}})})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Avg. Upload Time"}),e.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[l.average_upload_time.toFixed(1),"s"]})]}),e.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"Per invoice processing time"})]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Recent Activity"}),e.jsxs("div",{className:"space-y-3",children:[l.last_upload&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600",children:""})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:"Last Upload"}),e.jsx("div",{className:"text-sm text-gray-600",children:new Date(l.last_upload).toLocaleString()})]})]}),l.last_download&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-purple-600",children:""})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:"Last Download"}),e.jsx("div",{className:"text-sm text-gray-600",children:new Date(l.last_download).toLocaleString()})]})]})]})]}),e.jsxs("div",{className:"mt-6 text-center text-sm text-gray-500",children:["Showing data for the last ",d," days"]})]}):e.jsx("div",{className:"text-center py-12 text-gray-500",children:r?"No data available":"Please select a company"})]})})},CZ=()=>e.jsx(Ve,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Setri e-Factur ANAF"}),e.jsx(NZ,{})]})}),AZ=()=>e.jsx(Ve,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Statistici e-Factur"}),e.jsx(_Z,{})]})}),kZ=()=>e.jsx(Ve,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Facturi Primite (ANAF)"}),e.jsx(SZ,{})]})}),OZ=()=>{const{user:t}=Mt(),[a,r]=v.useState([]),[n,l]=v.useState(!0);v.useEffect(()=>{c()},[]);const c=async()=>{try{const u=(await Vs.list()).map(x=>({id:x.id,number:x.invoice_number||x.number||"",customer_name:x.customer_name||"",total_amount:x.total_amount||0,efactura_status:x.efactura_status}));r(u)}catch(d){console.error("Failed to load invoices:",d)}finally{l(!1)}};return n?e.jsx(Ve,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})})}):e.jsx(Ve,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"ncrcare n Mas e-Factur"}),e.jsx(wZ,{companyId:String(t?.company_id||""),invoices:a,onUploadComplete:d=>{console.log("Batch upload complete:",d),c()}})]})})};function EZ(){const[t,a]=v.useState([]),[r,n]=v.useState(!0),[l,c]=v.useState(new Date().getFullYear()),[d,u]=v.useState(null);v.useEffect(()=>{x()},[l]);const x=async()=>{try{n(!0);const j=localStorage.getItem("token"),w=localStorage.getItem("company_id"),S=await Te.get(`/api/v1/hr/payroll/list.php?year=${l}`,{headers:{Authorization:`Bearer ${j}`,"X-Company-ID":w}});S.data.success&&a(S.data.data)}catch(j){console.error("Failed to fetch payroll periods:",j)}finally{n(!1)}},f=async(j,w)=>{try{const S=`${j}-${w}`;u(S);const g=localStorage.getItem("token"),_=localStorage.getItem("company_id");(await Te.post("/api/v1/hr/payroll/process.php",{year:j,month:w},{headers:{Authorization:`Bearer ${g}`,"X-Company-ID":_}})).data.success&&(alert("Payroll processed successfully!"),x())}catch(S){alert(S.response?.data?.message||"Failed to process payroll")}finally{u(null)}},h=async j=>{if(confirm("Are you sure you want to approve this payroll period?"))try{const w=localStorage.getItem("token"),S=localStorage.getItem("company_id");(await Te.post("/api/v1/hr/payroll/approve.php",{period_id:j},{headers:{Authorization:`Bearer ${w}`,"X-Company-ID":S}})).data.success&&(alert("Payroll approved successfully!"),x())}catch(w){alert(w.response?.data?.message||"Failed to approve payroll")}},p=j=>{switch(j){case"draft":return"bg-gray-100 text-gray-800";case"calculated":return"bg-blue-100 text-blue-800";case"approved":return"bg-green-100 text-green-800";case"paid":return"bg-purple-100 text-purple-800";case"closed":return"bg-slate-100 text-slate-800";default:return"bg-gray-100 text-gray-800"}},y=j=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:"RON"}).format(Number(j));return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(mt,{className:"w-8 h-8"}),"Payroll Management"]}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Manage employee payroll, process salaries, and generate payslips"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Year"}),e.jsx("select",{value:l,onChange:j=>c(Number(j.target.value)),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[2024,2025,2026].map(j=>e.jsx("option",{value:j,children:j},j))})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Total Periods"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t.length})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Gross Salary"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:y(t.reduce((j,w)=>j+Number(w.total_gross_salary),0))})]}),e.jsx(da,{className:"w-12 h-12 text-blue-500"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Net Salary"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:y(t.reduce((j,w)=>j+Number(w.total_net_salary),0))})]}),e.jsx(Va,{className:"w-12 h-12 text-green-500"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Employer Cost"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:y(t.reduce((j,w)=>j+w.total_employer_cost,0))})]}),e.jsx(ot,{className:"w-12 h-12 text-purple-500"})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Payroll Periods - ",l]})}),r?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading payroll periods..."})]}):t.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(mt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsxs("p",{className:"text-gray-600",children:["No payroll periods found for ",l]}),e.jsxs("button",{onClick:()=>f(l,1),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:["Process January ",l]})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Period"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employees"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gross Salary"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Net Salary"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employer Cost"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(j=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(mt,{className:"w-5 h-5 text-gray-400 mr-2"}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[j.month_name," ",j.year]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[j.working_days," working days"]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${p(j.status)}`,children:j.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j.employee_count}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y(j.total_gross_salary)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y(j.total_net_salary)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y(j.total_employer_cost)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("a",{href:`/dashboard/payroll/${j.id}`,className:"text-blue-600 hover:text-blue-900",children:"View Details"}),j.status==="calculated"&&e.jsxs("button",{onClick:()=>h(j.id),className:"text-green-600 hover:text-green-900 flex items-center gap-1",children:[e.jsx(ze,{className:"w-4 h-4"}),"Approve"]})]})})]},j.id))})]})})]}),t.length>0&&t.length<12&&e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{onClick:()=>{const j=t.length+1;f(l,j)},disabled:d!==null,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center gap-2 mx-auto",children:d?e.jsxs(e.Fragment,{children:[e.jsx(hr,{className:"w-5 h-5 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(mt,{className:"w-5 h-5"}),"Process Next Month"]})})})]})})}function TZ(){const{id:t}=hs(),a=nt(),[r,n]=v.useState(null),[l,c]=v.useState(!0);v.useEffect(()=>{t&&d()},[t]);const d=async()=>{try{c(!0);const h=localStorage.getItem("token"),p=localStorage.getItem("company_id"),y=await Te.get(`/api/v1/hr/payroll/get.php?id=${t}`,{headers:{Authorization:`Bearer ${h}`,"X-Company-ID":p}});y.data.success&&n(y.data.data)}catch(h){console.error("Failed to fetch payroll period:",h)}finally{c(!1)}},u=async()=>{if(confirm("Are you sure you want to approve this payroll period?"))try{const h=localStorage.getItem("token"),p=localStorage.getItem("company_id");(await Te.post("/api/v1/hr/payroll/approve.php",{period_id:t},{headers:{Authorization:`Bearer ${h}`,"X-Company-ID":p}})).data.success&&(alert("Payroll approved successfully!"),d())}catch(h){alert(h.response?.data?.message||"Failed to approve payroll")}},x=async()=>{if(r)try{const h=localStorage.getItem("token"),p=localStorage.getItem("company_id");for(const y of r.items){const j=await Te.get(`/api/v1/hr/payroll/download-payslip.php?period_id=${r.id}&employee_id=${y.employee_id}`,{headers:{Authorization:`Bearer ${h}`,"X-Company-ID":p},responseType:"blob"}),w=window.URL.createObjectURL(new Blob([j.data])),S=document.createElement("a");S.href=w,S.setAttribute("download",`Fluturos_${y.employee_code}_${r.year}_${String(r.month).padStart(2,"0")}.pdf`),document.body.appendChild(S),S.click(),S.remove(),await new Promise(g=>setTimeout(g,500))}alert("Payslips downloaded successfully!")}catch(h){console.error("Failed to download payslips:",h),alert("Failed to download payslips")}},f=h=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:"RON"}).format(Number(h));return l?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading payroll period..."})]})}):r?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("button",{onClick:()=>a("/dashboard/payroll"),className:"flex items-center text-gray-600 hover:text-gray-900 mb-4",children:[e.jsx(lo,{className:"w-5 h-5 mr-2"}),"Back to Payroll List"]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Payroll - ",r.month_name," ",r.year]}),e.jsxs("p",{className:"mt-2 text-gray-600",children:[r.period_start," to ",r.period_end," (",r.working_days," working days)"]})]}),e.jsxs("div",{className:"flex gap-3",children:[r.status==="calculated"&&e.jsxs("button",{onClick:u,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2",children:[e.jsx(ze,{className:"w-5 h-5"}),"Approve Payroll"]}),e.jsxs("button",{onClick:x,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[e.jsx(Xa,{className:"w-5 h-5"}),"Download Payslips"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Employees"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:r.items.length})]}),e.jsx(Cr,{className:"w-10 h-10 text-blue-500"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Gross Salary"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:f(r.total_gross_salary)})]}),e.jsx(da,{className:"w-10 h-10 text-green-500"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Net Salary"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:f(r.total_net_salary)})]}),e.jsx(ot,{className:"w-10 h-10 text-purple-500"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Employer Cost"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:f(r.total_employer_cost)})]}),e.jsx(mt,{className:"w-10 h-10 text-red-500"})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Employee Payroll Details"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Days Worked"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gross Salary"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"CAS (25%)"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"CASS (10%)"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Income Tax"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Net Salary"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employer Cost"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.items.map(h=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Cr,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.employee_name}),e.jsx("div",{className:"text-sm text-gray-500",children:h.employee_code})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[h.days_worked," / ",r.working_days]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:f(h.gross_salary)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.jsxs("div",{children:[f(h.cas_employee)," (employee)"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[f(h.cas_employer)," (employer)"]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.jsxs("div",{children:[f(h.cass_employee)," (employee)"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[f(h.cass_employer)," (employer)"]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:f(h.income_tax)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:f(h.net_salary)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-red-600",children:f(h.total_employer_cost)})]},h.id))}),e.jsx("tfoot",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900",children:"TOTAL"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900",children:f(r.total_gross_salary)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-600",children:f(r.total_net_salary)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-red-600",children:f(r.total_employer_cost)})]})})]})})]}),e.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Romanian Payroll Tax Rates (2025)"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-900",children:"CAS (Pension)"}),e.jsx("p",{className:"text-sm text-blue-700",children:"25% employee contribution + 25% employer contribution"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-900",children:"CASS (Health)"}),e.jsx("p",{className:"text-sm text-blue-700",children:"10% employee contribution + 10% employer contribution"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Income Tax"}),e.jsx("p",{className:"text-sm text-blue-700",children:"10% of taxable income (after CAS, CASS, and 510 RON personal deduction)"})]})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-600",children:"Payroll period not found"}),e.jsx("button",{onClick:()=>a("/dashboard/payroll"),className:"mt-4 text-blue-600 hover:text-blue-800",children:"Go back to payroll list"})]})})}function MZ(){const[t,a]=v.useState({}),[r,n]=v.useState(!0),[l,c]=v.useState(new Date().getFullYear()),[d,u]=v.useState(null),[x,f]=v.useState(!1);v.useEffect(()=>{h()},[l]);const h=async()=>{try{n(!0);const _=localStorage.getItem("token"),O=localStorage.getItem("company_id"),C=await Te.get(`/api/v1/fiscal-calendar/my-calendar.php?year=${l}`,{headers:{Authorization:`Bearer ${_}`,"X-Company-ID":O}});C.data.success&&a(C.data.data)}catch(_){console.error("Failed to fetch fiscal calendar:",_)}finally{n(!1)}},p=_=>{switch(_){case"overdue":return"bg-red-100 text-red-800 border-red-300";case"critical":return"bg-orange-100 text-orange-800 border-orange-300";case"high":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"medium":return"bg-blue-100 text-blue-800 border-blue-300";case"low":return"bg-green-100 text-green-800 border-green-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},y=_=>{switch(_){case"overdue":case"critical":return e.jsx(qt,{className:"w-5 h-5"});case"high":return e.jsx(hr,{className:"w-5 h-5"});default:return e.jsx(mt,{className:"w-5 h-5"})}},j=_=>{switch(_){case"submitted":case"approved":return e.jsx(ze,{className:"w-5 h-5 text-green-600"});default:return e.jsx(hr,{className:"w-5 h-5 text-gray-400"})}},w=async _=>{const O=document.createElement("input");O.type="file",O.accept=".pdf,.xml",O.onchange=async C=>{const k=C.target.files[0];if(!k)return;const E=new FormData;E.append("file",k),E.append("calendar_entry_id",_);try{const T=localStorage.getItem("token"),D=localStorage.getItem("company_id");(await Te.post("/api/v1/fiscal-calendar/declaration-file.php",E,{headers:{Authorization:`Bearer ${T}`,"X-Company-ID":D,"Content-Type":"multipart/form-data"}})).data.success&&(alert("Declaration uploaded successfully!"),h())}catch(T){alert(T.response?.data?.message||"Failed to upload declaration")}},O.click()},S=async _=>{try{const O=localStorage.getItem("token"),C=localStorage.getItem("company_id"),k=await Te.get(`/api/v1/fiscal-calendar/declaration-file.php?id=${_}`,{headers:{Authorization:`Bearer ${O}`,"X-Company-ID":C},responseType:"blob"}),E=window.URL.createObjectURL(new Blob([k.data])),T=document.createElement("a");T.href=E,T.setAttribute("download",`declaration_${_}.pdf`),document.body.appendChild(T),T.click(),T.remove()}catch{alert("Failed to download declaration")}},g=["January","February","March","April","May","June","July","August","September","October","November","December"];return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(mt,{className:"w-8 h-8"}),"Fiscal Calendar"]}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Track Romanian fiscal deadlines and manage declarations"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),e.jsx("select",{value:l,onChange:_=>c(Number(_.target.value)),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[2024,2025,2026].map(_=>e.jsx("option",{value:_,children:_},_))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Month"}),e.jsxs("select",{value:d||"",onChange:_=>u(_.target.value||null),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Months"}),g.map((_,O)=>e.jsx("option",{value:(O+1).toString(),children:_},_))]})]})]}),e.jsxs("button",{onClick:()=>f(!x),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[e.jsx(ot,{className:"w-5 h-5"}),x?"Show Calendar":"Show Declarations"]})]})}),r?e.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading fiscal calendar..."})]}):x?e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Declaration History"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:Object.entries(t).map(([,_])=>_.filter(O=>O.declaration_id).map(O=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ot,{className:"w-6 h-6 text-blue-600"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-medium text-gray-900",children:[O.deadline_name," (",O.deadline_code,")"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Due: ",O.due_date]})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[j(O.status),e.jsx("span",{className:"text-sm text-gray-600",children:O.status}),e.jsxs("button",{onClick:()=>S(O.declaration_id),className:"ml-4 px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-1",children:[e.jsx(Xa,{className:"w-4 h-4"}),"Download PDF"]})]})]})},O.id)))})})]}):e.jsx("div",{className:"space-y-6",children:Object.entries(t).filter(([_])=>!d||_===g[Number(d)-1]).map(([_,O])=>e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:e.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[_," - ",O.length," deadline",O.length!==1?"s":""]})}),e.jsx("div",{className:"divide-y divide-gray-200",children:O.map(C=>e.jsxs("div",{className:`p-6 border-l-4 ${p(C.urgency)}`,children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y(C.urgency),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:C.deadline_name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Code: ",C.deadline_code," | Due:"," ",C.due_date]})]})]}),e.jsx("p",{className:"text-sm text-gray-700 ml-8",children:C.description})]}),e.jsx("div",{className:"flex items-center gap-2 ml-4",children:C.declaration_id?e.jsxs("button",{onClick:()=>S(C.declaration_id),className:"px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700 flex items-center gap-1",children:[e.jsx(Xa,{className:"w-4 h-4"}),"Download"]}):e.jsxs("button",{onClick:()=>w(C.id),className:"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-1",children:[e.jsx(Mg,{className:"w-4 h-4"}),"Upload"]})})]}),e.jsxs("div",{className:"mt-3 ml-8",children:[e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p(C.urgency)} border`,children:C.urgency.toUpperCase()}),C.can_auto_generate&&e.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 border border-purple-300",children:"Auto-generate available"})]})]},C.id))})]},_))}),e.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Urgency Levels"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-red-500 rounded"}),e.jsx("span",{className:"text-sm",children:"Overdue (past deadline)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-orange-500 rounded"}),e.jsx("span",{className:"text-sm",children:"Critical (<3 days)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded"}),e.jsx("span",{className:"text-sm",children:"High (3-7 days)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded"}),e.jsx("span",{className:"text-sm",children:"Medium (7-14 days)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),e.jsx("span",{className:"text-sm",children:"Low (>14 days)"})]})]})]})]})})}const DZ=({children:t})=>{const{user:a,isAuthenticated:r,loading:n}=Mt();return n?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})}):!r||a?.role!=="admin"?e.jsx(hm,{to:"/dashboard",replace:!0}):e.jsx(e.Fragment,{children:t})},je=({children:t})=>{const{isAuthenticated:a,loading:r}=Mt();return r?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})}):a?e.jsx(e.Fragment,{children:t}):e.jsx(hm,{to:"/login",replace:!0})},oS=({children:t})=>{const{isAuthenticated:a,loading:r}=Mt();return r?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})}):a?e.jsx(hm,{to:"/dashboard",replace:!0}):e.jsx(e.Fragment,{children:t})},PZ=()=>e.jsxs(w8,{children:[e.jsx(xe,{path:"/",element:e.jsx(TM,{})}),e.jsx(xe,{path:"/fiscal-law",element:e.jsx(dW,{})}),e.jsx(xe,{path:"/login",element:e.jsx(oS,{children:e.jsx(MM,{})})}),e.jsx(xe,{path:"/register",element:e.jsx(oS,{children:e.jsx(DM,{})})}),e.jsx(xe,{path:"/dashboard",element:e.jsx(je,{children:e.jsx(tW,{})})}),e.jsx(xe,{path:"/invoices",element:e.jsx(je,{children:e.jsx(aW,{})})}),e.jsx(xe,{path:"/invoices/new",element:e.jsx(je,{children:e.jsx(sS,{})})}),e.jsx(xe,{path:"/invoices/:id/edit",element:e.jsx(je,{children:e.jsx(sS,{})})}),e.jsx(xe,{path:"/insights",element:e.jsx(je,{children:e.jsx(nW,{})})}),e.jsx(xe,{path:"/bills",element:e.jsx(je,{children:e.jsx(rW,{})})}),e.jsx(xe,{path:"/expenses",element:e.jsx(je,{children:e.jsx(sW,{})})}),e.jsx(xe,{path:"/accounting",element:e.jsx(je,{children:e.jsx(lW,{})})}),e.jsx(xe,{path:"/reports",element:e.jsx(je,{children:e.jsx(oZ,{})})}),e.jsx(xe,{path:"/reports/profit-loss",element:e.jsx(je,{children:e.jsx(dZ,{})})}),e.jsx(xe,{path:"/reports/budget-vs-actual",element:e.jsx(je,{children:e.jsx(uZ,{})})}),e.jsx(xe,{path:"/reports/cash-flow",element:e.jsx(je,{children:e.jsx(mZ,{})})}),e.jsx(xe,{path:"/bank/connections",element:e.jsx(je,{children:e.jsx(xZ,{})})}),e.jsx(xe,{path:"/bank/transactions",element:e.jsx(je,{children:e.jsx(hZ,{})})}),e.jsx(xe,{path:"/bank/callback",element:e.jsx(je,{children:e.jsx(fZ,{})})}),e.jsx(xe,{path:"/receipts/upload",element:e.jsx(je,{children:e.jsx(pZ,{})})}),e.jsx(xe,{path:"/receipts/list",element:e.jsx(je,{children:e.jsx(gZ,{})})}),e.jsx(xe,{path:"/settings",element:e.jsx(je,{children:e.jsx(cW,{})})}),e.jsx(xe,{path:"/settings/categories",element:e.jsx(je,{children:e.jsx(tZ,{})})}),e.jsx(xe,{path:"/contacts",element:e.jsx(je,{children:e.jsx(iS,{})})}),e.jsx(xe,{path:"/business-consultant",element:e.jsx(je,{children:e.jsx(gW,{})})}),e.jsx(xe,{path:"/fiscal-law",element:e.jsx(je,{children:e.jsx(yW,{})})}),e.jsx(xe,{path:"/personal-context",element:e.jsx(je,{children:e.jsx(vW,{})})}),e.jsx(xe,{path:"/decision-trees",element:e.jsx(je,{children:e.jsx(jW,{})})}),e.jsx(xe,{path:"/tutorials",element:e.jsx(je,{children:e.jsx(_W,{})})}),e.jsx(xe,{path:"/inventory",element:e.jsx(je,{children:e.jsx(MW,{})})}),e.jsx(xe,{path:"/inventory/products",element:e.jsx(je,{children:e.jsx(DW,{})})}),e.jsx(xe,{path:"/inventory/stock-levels",element:e.jsx(je,{children:e.jsx(PW,{})})}),e.jsx(xe,{path:"/inventory/warehouses",element:e.jsx(je,{children:e.jsx(zW,{})})}),e.jsx(xe,{path:"/inventory/low-stock",element:e.jsx(je,{children:e.jsx(RW,{})})}),e.jsx(xe,{path:"/inventory/movements",element:e.jsx(je,{children:e.jsx(LW,{})})}),e.jsx(xe,{path:"/inventory/adjustments",element:e.jsx(je,{children:e.jsx(IW,{})})}),e.jsx(xe,{path:"/inventory/transfers",element:e.jsx(je,{children:e.jsx(BW,{})})}),e.jsx(xe,{path:"/crm",element:e.jsx(je,{children:e.jsx($W,{})})}),e.jsx(xe,{path:"/crm/opportunities",element:e.jsx(je,{children:e.jsx(FW,{})})}),e.jsx(xe,{path:"/crm/opportunities/:id",element:e.jsx(je,{children:e.jsx(qW,{})})}),e.jsx(xe,{path:"/crm/quotations",element:e.jsx(je,{children:e.jsx(GW,{})})}),e.jsx(xe,{path:"/crm/contacts",element:e.jsx(je,{children:e.jsx(iS,{})})}),e.jsx(xe,{path:"/purchase-orders",element:e.jsx(je,{children:e.jsx(YW,{})})}),e.jsx(xe,{path:"/purchase-orders/:id",element:e.jsx(je,{children:e.jsx(XW,{})})}),e.jsx(xe,{path:"/time-tracking",element:e.jsx(je,{children:e.jsx(WW,{})})}),e.jsx(xe,{path:"/time/entries",element:e.jsx(je,{children:e.jsx(ZW,{})})}),e.jsx(xe,{path:"/projects",element:e.jsx(je,{children:e.jsx(QW,{})})}),e.jsx(xe,{path:"/accounting/chart-of-accounts",element:e.jsx(je,{children:e.jsx(JW,{})})}),e.jsx(xe,{path:"/analytics",element:e.jsx(je,{children:e.jsx(eZ,{})})}),e.jsx(xe,{path:"/dashboard/payroll",element:e.jsx(je,{children:e.jsx(EZ,{})})}),e.jsx(xe,{path:"/dashboard/payroll/:id",element:e.jsx(je,{children:e.jsx(TZ,{})})}),e.jsx(xe,{path:"/dashboard/fiscal-calendar",element:e.jsx(je,{children:e.jsx(MZ,{})})}),e.jsx(xe,{path:"/admin/decision-tree-updates",element:e.jsx(DZ,{children:e.jsx(NW,{})})}),e.jsx(xe,{path:"/courses",element:e.jsx(aZ,{})}),e.jsx(xe,{path:"/courses/:slug",element:e.jsx(rZ,{})}),e.jsx(xe,{path:"/courses/:courseId/learn",element:e.jsx(je,{children:e.jsx(cS,{})})}),e.jsx(xe,{path:"/courses/:courseId/learn/:lessonId",element:e.jsx(je,{children:e.jsx(cS,{})})}),e.jsx(xe,{path:"/my-courses",element:e.jsx(je,{children:e.jsx(nZ,{})})}),e.jsx(xe,{path:"/subscription",element:e.jsx(je,{children:e.jsx(iZ,{})})}),e.jsx(xe,{path:"/subscription/plans",element:e.jsx(lZ,{})}),e.jsx(xe,{path:"/subscription/billing",element:e.jsx(je,{children:e.jsx(cZ,{})})}),e.jsx(xe,{path:"/forum",element:e.jsx(yZ,{})}),e.jsx(xe,{path:"/forum/category/:slug",element:e.jsx(vZ,{})}),e.jsx(xe,{path:"/forum/thread/:id",element:e.jsx(bZ,{})}),e.jsx(xe,{path:"/forum/new-thread",element:e.jsx(je,{children:e.jsx(jZ,{})})}),e.jsx(xe,{path:"/efactura/settings",element:e.jsx(je,{children:e.jsx(CZ,{})})}),e.jsx(xe,{path:"/efactura/analytics",element:e.jsx(je,{children:e.jsx(AZ,{})})}),e.jsx(xe,{path:"/efactura/received",element:e.jsx(je,{children:e.jsx(kZ,{})})}),e.jsx(xe,{path:"/efactura/batch-upload",element:e.jsx(je,{children:e.jsx(OZ,{})})}),e.jsx(xe,{path:"*",element:e.jsx(hm,{to:"/",replace:!0})})]});function zZ(){return e.jsx(K8,{children:e.jsx(P9,{children:e.jsx(PZ,{})})})}DE.createRoot(document.getElementById("root")).render(e.jsx(v.StrictMode,{children:e.jsx(zZ,{})}));
