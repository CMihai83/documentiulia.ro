(()=>{var e={};e.id=519,e.ids=[519],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},64327:(e,r,a)=>{"use strict";a.r(r),a.d(r,{GlobalError:()=>i.a,__next_app__:()=>x,pages:()=>o,routeModule:()=>g,tree:()=>c});var t=a(70260),s=a(28203),l=a(25155),i=a.n(l),d=a(67292),n={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>d[e]);a.d(r,n);let c=["",{children:["[locale]",{children:["(dashboard)",{children:["expenses",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,16281)),"/var/www/documentiulia.ro/apps/web/app/[locale]/(dashboard)/expenses/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,20078)),"/var/www/documentiulia.ro/apps/web/app/[locale]/(dashboard)/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,95694)),"/var/www/documentiulia.ro/apps/web/app/[locale]/layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(a.t.bind(a,19937,23)),"next/dist/client/components/not-found-error"]}],o=["/var/www/documentiulia.ro/apps/web/app/[locale]/(dashboard)/expenses/page.tsx"],x={require:a,loadChunk:()=>Promise.resolve()},g=new t.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/[locale]/(dashboard)/expenses/page",pathname:"/[locale]/expenses",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},88279:(e,r,a)=>{Promise.resolve().then(a.bind(a,16281))},93007:(e,r,a)=>{Promise.resolve().then(a.bind(a,18700))},18700:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>Y});var t=a(45512),s=a(58009),l=a(29362),i=a(24540),d=a(6648),n=a(4643),c=a(46583),o=a(45037),x=a(20359),g=a(52858),u=a(45723),m=a(75308),b=a(59497),y=a(94937),p=a(96795),h=a(17497),v=a(33042),j=a(18741),f=a(16873),k=a(19473),N=a(86235),w=a(17033),A=a(21956),C=a(19904),R=a(61075),S=a(49656),z=a(52706),M=a(99905),T=a(44269),P=a(57762),D=a(47997),O=a(72744),F=a(99670),E=a(91542);let _=[{value:"office",label:"Birou",color:"bg-blue-100 text-blue-700"},{value:"travel",label:"Deplasări",color:"bg-purple-100 text-purple-700"},{value:"utilities",label:"Utilități",color:"bg-yellow-100 text-yellow-700"},{value:"marketing",label:"Marketing",color:"bg-pink-100 text-pink-700"},{value:"salaries",label:"Salarii",color:"bg-green-100 text-green-700"},{value:"supplies",label:"Consumabile",color:"bg-orange-100 text-orange-700"},{value:"services",label:"Servicii",color:"bg-cyan-100 text-cyan-700"},{value:"other",label:"Altele",color:"bg-gray-100 text-gray-700"}],V=[{value:"bank_transfer",label:"Transfer bancar"},{value:"cash",label:"Numerar"},{value:"card",label:"Card"},{value:"online",label:"Plată online"}],L=[{value:19,label:"19% (Standard)"},{value:9,label:"9% (Redus)"},{value:5,label:"5% (Redus)"},{value:0,label:"0% (Scutit/Fără TVA)"}],$=e=>e.toISOString().split("T")[0];function q({isOpen:e,onClose:r,onSuccess:a,expense:i}){(0,l.useTranslations)("expenses");let{selectedCompanyId:d}=(0,P.o)(),n=(0,D.UT)(d||""),[c,o]=(0,s.useState)({description:"",amount:0,currency:"RON",category:"office",date:$(new Date),vendor:"",invoiceNumber:"",vatRate:19,vatAmount:0,deductible:!0,paymentMethod:"bank_transfer",notes:""}),[x,g]=(0,s.useState)(null),[u,m]=(0,s.useState)(null),b=(e,r)=>e-e/(1+r/100),y=e=>{let r=b(e,c.vatRate);o(a=>({...a,amount:e,vatAmount:Math.round(100*r)/100}))},p=e=>{let r=b(c.amount,e);o(a=>({...a,vatRate:e,vatAmount:Math.round(100*r)/100}))},h=async e=>{if(e.preventDefault(),!c.description){E.o.error("Adaugă o descriere pentru cheltuială");return}if(c.amount<=0){E.o.error("Suma trebuie să fie mai mare dec\xe2t 0");return}try{await n.mutateAsync({...c,hasReceipt:!!x}),E.o.success("Cheltuiala a fost adăugată cu succes"),a?.(),r()}catch(e){E.o.error("Eroare la adăugarea cheltuielii"),console.error(e)}},j=e=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:c.currency}).format(e);return(0,t.jsx)(F.aF,{isOpen:e,onClose:r,title:i?"Editează Cheltuiala":"Adaugă Cheltuială",description:"Completează detaliile cheltuielii",size:"lg",children:(0,t.jsxs)("form",{onSubmit:h,children:[(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Descriere *"}),(0,t.jsx)("input",{type:"text",value:c.description,onChange:e=>o(r=>({...r,description:e.target.value})),placeholder:"Ex: Rechizite birou, Combustibil, Abonament software...",className:"w-full px-3 py-2.5 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Sumă totală (cu TVA) *"}),(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)("input",{type:"number",min:"0",step:"0.01",value:c.amount||"",onChange:e=>y(parseFloat(e.target.value)||0),placeholder:"0.00",className:"w-full px-3 py-2.5 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Monedă"}),(0,t.jsxs)("select",{value:c.currency,onChange:e=>o(r=>({...r,currency:e.target.value})),className:"w-full px-3 py-2.5 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"RON",children:"RON"}),(0,t.jsx)("option",{value:"EUR",children:"EUR"}),(0,t.jsx)("option",{value:"USD",children:"USD"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cotă TVA"}),(0,t.jsx)("select",{value:c.vatRate,onChange:e=>p(parseInt(e.target.value)),className:"w-full px-3 py-2.5 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500",children:L.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"TVA calculat"}),(0,t.jsx)("div",{className:"px-3 py-2.5 rounded-lg bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-400",children:j(c.vatAmount)})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Categorie"}),(0,t.jsx)("select",{value:c.category,onChange:e=>o(r=>({...r,category:e.target.value})),className:"w-full px-3 py-2.5 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500",children:_.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Data"}),(0,t.jsx)("input",{type:"date",value:c.date,onChange:e=>o(r=>({...r,date:e.target.value})),className:"w-full px-3 py-2.5 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Furnizor"}),(0,t.jsx)("input",{type:"text",value:c.vendor,onChange:e=>o(r=>({...r,vendor:e.target.value})),placeholder:"Numele furnizorului",className:"w-full px-3 py-2.5 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Număr factură"}),(0,t.jsx)("input",{type:"text",value:c.invoiceNumber,onChange:e=>o(r=>({...r,invoiceNumber:e.target.value})),placeholder:"FT-2024-0001",className:"w-full px-3 py-2.5 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Metodă de plată"}),(0,t.jsx)("select",{value:c.paymentMethod,onChange:e=>o(r=>({...r,paymentMethod:e.target.value})),className:"w-full px-3 py-2.5 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500",children:V.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:c.deductible,onChange:e=>o(r=>({...r,deductible:e.target.checked})),className:"w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cheltuială deductibilă fiscal"})]})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Document justificativ (bon, factură)"}),u?(0,t.jsxs)("div",{className:"relative inline-block",children:[(0,t.jsx)("img",{src:u,alt:"Receipt preview",className:"max-w-full h-auto max-h-40 rounded-lg border border-gray-200 dark:border-gray-700"}),(0,t.jsx)("button",{type:"button",onClick:()=>{g(null),m(null)},className:"absolute -top-2 -right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:(0,t.jsx)(T.A,{className:"w-4 h-4"})})]}):(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 px-4 py-2.5 border border-dashed border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[(0,t.jsx)(O.A,{className:"w-5 h-5 text-gray-500"}),(0,t.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"\xcencarcă document"}),(0,t.jsx)("input",{type:"file",accept:"image/*,.pdf",onChange:e=>{let r=e.target.files?.[0];if(r){g(r);let e=new FileReader;e.onload=e=>{m(e.target?.result)},e.readAsDataURL(r)}},className:"hidden"})]}),(0,t.jsxs)("button",{type:"button",className:"flex items-center gap-2 px-4 py-2.5 border border-dashed border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[(0,t.jsx)(v.A,{className:"w-5 h-5 text-gray-500"}),(0,t.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Fotografiază"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Note (opțional)"}),(0,t.jsx)("textarea",{value:c.notes,onChange:e=>o(r=>({...r,notes:e.target.value})),placeholder:"Observații sau detalii suplimentare...",rows:3,className:"w-full px-3 py-2.5 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]}),(0,t.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-xl",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Sumar"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Sumă fără TVA:"}),(0,t.jsx)("span",{className:"font-medium",children:j(c.amount-c.vatAmount)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsxs)("span",{className:"text-gray-500",children:["TVA (",c.vatRate,"%):"]}),(0,t.jsx)("span",{className:"font-medium",children:j(c.vatAmount)})]}),(0,t.jsxs)("div",{className:"flex justify-between pt-2 border-t border-gray-200 dark:border-gray-700",children:[(0,t.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Total:"}),(0,t.jsx)("span",{className:"font-bold text-blue-600",children:j(c.amount)})]})]})]})]}),(0,t.jsxs)(F.jl,{children:[(0,t.jsx)(F.$n,{variant:"secondary",onClick:r,children:"Anulează"}),(0,t.jsx)(F.$n,{type:"submit",isLoading:n.isPending,disabled:!c.description||c.amount<=0,children:i?"Salvează Modificări":"Adaugă Cheltuială"})]})]})})}let G={pending:{label:"\xcen așteptare",color:"bg-yellow-100 text-yellow-700 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-400 dark:border-yellow-800",icon:n.A},approved:{label:"Aprobată",color:"bg-green-100 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-800",icon:c.A},rejected:{label:"Respinsă",color:"bg-red-100 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-800",icon:o.A},paid:{label:"Plătită",color:"bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-900/30 dark:text-blue-400 dark:border-blue-800",icon:x.A}},I={office:{label:"Birou",color:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",icon:g.A},travel:{label:"Deplasări",color:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",icon:u.A},utilities:{label:"Utilități",color:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",icon:m.A},marketing:{label:"Marketing",color:"bg-pink-100 text-pink-700 dark:bg-pink-900/30 dark:text-pink-400",icon:b.A},salaries:{label:"Salarii",color:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",icon:x.A},supplies:{label:"Consumabile",color:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",icon:y.A},services:{label:"Servicii",color:"bg-cyan-100 text-cyan-700 dark:bg-cyan-900/30 dark:text-cyan-400",icon:p.A},other:{label:"Altele",color:"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300",icon:h.A}};function U(e,r="RON"){return new Intl.NumberFormat("ro-RO",{style:"currency",currency:r,minimumFractionDigits:2}).format(e)}function B(e){return new Date(e).toLocaleDateString("ro-RO",{day:"2-digit",month:"short",year:"numeric"})}let H=[{id:"1",description:"Rechizite birou - papetărie",amount:345.5,currency:"RON",category:"office",status:"paid",date:"2024-01-18",vendor:"Office Direct SRL",invoiceNumber:"FT-2024-0156",vatAmount:65.65,deductible:!0,hasReceipt:!0,createdAt:"2024-01-18T10:30:00"},{id:"2",description:"Deplasare București - \xeent\xe2lnire client",amount:1250,currency:"RON",category:"travel",status:"approved",date:"2024-01-16",vendor:"OMV Petrom",vatAmount:237.5,deductible:!0,hasReceipt:!0,notes:"Transport și cazare 2 nopți",createdAt:"2024-01-16T14:20:00"},{id:"3",description:"Factură energie electrică - Ianuarie",amount:890.75,currency:"RON",category:"utilities",status:"pending",date:"2024-01-15",vendor:"Enel Energie",invoiceNumber:"EE-2024-789456",vatAmount:169.24,deductible:!0,hasReceipt:!0,createdAt:"2024-01-15T09:00:00"},{id:"4",description:"Campanie Google Ads - Ianuarie",amount:2500,currency:"RON",category:"marketing",status:"paid",date:"2024-01-10",vendor:"Google Ireland Ltd",deductible:!0,hasReceipt:!0,createdAt:"2024-01-10T08:00:00"},{id:"5",description:"Toner imprimantă HP",amount:425,currency:"RON",category:"supplies",status:"paid",date:"2024-01-08",vendor:"PC Garage SRL",invoiceNumber:"PCG-2024-1234",vatAmount:80.75,deductible:!0,hasReceipt:!0,createdAt:"2024-01-08T11:30:00"},{id:"6",description:"Abonament software contabilitate",amount:199,currency:"RON",category:"services",status:"paid",date:"2024-01-05",vendor:"SoftOne Romania",deductible:!0,hasReceipt:!0,createdAt:"2024-01-05T10:00:00"},{id:"7",description:"Masa de protocol - \xeent\xe2lnire partener",amount:580,currency:"RON",category:"other",status:"rejected",date:"2024-01-03",vendor:"Restaurant La Mama",deductible:!1,hasReceipt:!0,notes:"Depășește limita deductibilă",createdAt:"2024-01-03T13:00:00"}];function Y(){(0,l.useTranslations)("expenses");let{selectedCompanyId:e,selectedCompany:r}=(0,P.o)(),[a,x]=(0,s.useState)(""),[g,m]=(0,s.useState)("all"),[b,y]=(0,s.useState)("all"),[p,O]=(0,s.useState)(1),[F,E]=(0,s.useState)(null),[_,V]=(0,s.useState)(!1),{data:L,isLoading:$}=(0,D.Fk)(e||""),{data:Y}=(0,D.sv)(e||""),K=H.filter(e=>{let r=""===a||e.description.toLowerCase().includes(a.toLowerCase())||e.vendor?.toLowerCase().includes(a.toLowerCase()),t="all"===g||e.category===g,s="all"===b||e.status===b;return r&&t&&s}),W=Math.ceil(K.length/10),X=K.slice((p-1)*10,10*p),Z={total:H.reduce((e,r)=>e+r.amount,0),pending:H.filter(e=>"pending"===e.status).reduce((e,r)=>e+r.amount,0),thisMonth:H.filter(e=>{let r=new Date(e.date),a=new Date;return r.getMonth()===a.getMonth()&&r.getFullYear()===a.getFullYear()}).reduce((e,r)=>e+r.amount,0),deductible:H.filter(e=>e.deductible).reduce((e,r)=>e+r.amount,0)};return e?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Cheltuieli"}),(0,t.jsxs)("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:["Gestionează cheltuielile pentru ",r?.name]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2.5 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[(0,t.jsx)(v.A,{className:"w-5 h-5 text-gray-500"}),(0,t.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Scanează bon"})]}),(0,t.jsxs)("button",{onClick:()=>V(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[(0,t.jsx)(j.A,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"font-medium",children:"Adaugă Cheltuială"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Cheltuieli"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:U(Z.total)})]}),(0,t.jsx)("div",{className:"w-12 h-12 rounded-xl bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:(0,t.jsx)(h.A,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),(0,t.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Luna Aceasta"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:U(Z.thisMonth)})]}),(0,t.jsx)("div",{className:"w-12 h-12 rounded-xl bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center",children:(0,t.jsx)(u.A,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})})]})}),(0,t.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"De Aprobat"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400 mt-1",children:U(Z.pending)})]}),(0,t.jsx)("div",{className:"w-12 h-12 rounded-xl bg-yellow-100 dark:bg-yellow-900/30 flex items-center justify-center",children:(0,t.jsx)(n.A,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})})]})}),(0,t.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Deductibile"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1",children:U(Z.deductible)})]}),(0,t.jsx)("div",{className:"w-12 h-12 rounded-xl bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:(0,t.jsx)(c.A,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]})})]}),(0,t.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4",children:(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(f.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Caută după descriere sau furnizor...",value:a,onChange:e=>{x(e.target.value),O(1)},className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,t.jsxs)("select",{value:g,onChange:e=>{m(e.target.value),O(1)},className:"px-4 py-2.5 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"all",children:"Toate categoriile"}),Object.entries(I).map(([e,r])=>(0,t.jsx)("option",{value:e,children:r.label},e))]}),(0,t.jsxs)("select",{value:b,onChange:e=>{y(e.target.value),O(1)},className:"px-4 py-2.5 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"all",children:"Toate statusurile"}),Object.entries(G).map(([e,r])=>(0,t.jsx)("option",{value:e,children:r.label},e))]}),(0,t.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2.5 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[(0,t.jsx)(k.A,{className:"w-5 h-5 text-gray-500"}),(0,t.jsx)("span",{className:"hidden sm:inline text-gray-700 dark:text-gray-300",children:"Export"})]})]})]})}),(0,t.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:$?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)(N.A,{className:"w-8 h-8 animate-spin text-blue-500"})}):0===K.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(h.A,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Nu există cheltuieli"}),(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:a||"all"!==g||"all"!==b?"Nicio cheltuială nu corespunde filtrelor selectate.":"Adaugă prima ta cheltuială pentru a \xeencepe."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"hidden md:grid md:grid-cols-12 gap-4 px-6 py-3 bg-gray-50 dark:bg-gray-900/50 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[(0,t.jsx)("div",{className:"col-span-4",children:"Descriere"}),(0,t.jsx)("div",{className:"col-span-2",children:"Categorie"}),(0,t.jsx)("div",{className:"col-span-2",children:"Data"}),(0,t.jsx)("div",{className:"col-span-2 text-right",children:"Sumă"}),(0,t.jsx)("div",{className:"col-span-1",children:"Status"}),(0,t.jsx)("div",{className:"col-span-1"})]}),(0,t.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:X.map((e,r)=>{let a=G[e.status].icon,s=I[e.category].icon;return(0,t.jsxs)(i.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*r},className:"px-6 py-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[(0,t.jsxs)("div",{className:"hidden md:grid md:grid-cols-12 gap-4 items-center",children:[(0,t.jsx)("div",{className:"col-span-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${I[e.category].color}`,children:(0,t.jsx)(s,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900 dark:text-white line-clamp-1",children:e.description}),e.vendor&&(0,t.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.vendor})]})]})}),(0,t.jsx)("div",{className:"col-span-2",children:(0,t.jsx)("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs font-medium ${I[e.category].color}`,children:I[e.category].label})}),(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:B(e.date)}),e.invoiceNumber&&(0,t.jsx)("p",{className:"text-xs text-gray-400 dark:text-gray-500 font-mono",children:e.invoiceNumber})]}),(0,t.jsxs)("div",{className:"col-span-2 text-right",children:[(0,t.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:U(e.amount,e.currency)}),e.vatAmount&&(0,t.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["TVA: ",U(e.vatAmount,e.currency)]})]}),(0,t.jsx)("div",{className:"col-span-1",children:(0,t.jsxs)("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium border ${G[e.status].color}`,children:[(0,t.jsx)(a,{className:"w-3 h-3"}),(0,t.jsx)("span",{className:"hidden lg:inline",children:G[e.status].label})]})}),(0,t.jsx)("div",{className:"col-span-1 flex justify-end",children:(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,t.jsx)(w.A,{className:"w-4 h-4 text-gray-500"})}),(0,t.jsx)("div",{className:"absolute right-0 top-full mt-1 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-10",children:(0,t.jsxs)("div",{className:"p-1",children:[(0,t.jsxs)("button",{onClick:()=>E(e),className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md",children:[(0,t.jsx)(A.A,{className:"w-4 h-4"}),"Vizualizează"]}),(0,t.jsxs)("button",{className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md",children:[(0,t.jsx)(C.A,{className:"w-4 h-4"}),"Editează"]}),e.hasReceipt&&(0,t.jsxs)("button",{className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md",children:[(0,t.jsx)(R.A,{className:"w-4 h-4"}),"Vezi bon"]}),(0,t.jsx)("hr",{className:"my-1 border-gray-200 dark:border-gray-700"}),(0,t.jsxs)("button",{className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md",children:[(0,t.jsx)(S.A,{className:"w-4 h-4"}),"Șterge"]})]})})]})})]}),(0,t.jsxs)("div",{className:"md:hidden space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${I[e.category].color}`,children:(0,t.jsx)(s,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:e.description}),(0,t.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.vendor||I[e.category].label})]})]}),(0,t.jsx)("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium border ${G[e.status].color}`,children:(0,t.jsx)(a,{className:"w-3 h-3"})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:B(e.date)}),(0,t.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:U(e.amount,e.currency)})]})]})]},e.id)})}),W>1&&(0,t.jsx)("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Afișez ",(p-1)*10+1," - ",Math.min(10*p,K.length)," din ",K.length," cheltuieli"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>O(Math.max(1,p-1)),disabled:1===p,className:"p-2 rounded-lg border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,t.jsx)(z.A,{className:"w-5 h-5"})}),(0,t.jsxs)("span",{className:"px-4 py-2 text-sm font-medium",children:[p," / ",W]}),(0,t.jsx)("button",{onClick:()=>O(Math.min(W,p+1)),disabled:p===W,className:"p-2 rounded-lg border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,t.jsx)(M.A,{className:"w-5 h-5"})})]})]})})]})}),(0,t.jsx)(d.N,{children:F&&(0,t.jsx)(i.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>E(null),children:(0,t.jsxs)(i.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white dark:bg-gray-800 rounded-xl max-w-lg w-full shadow-xl",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:`w-14 h-14 rounded-xl flex items-center justify-center ${I[F.category].color}`,children:(()=>{let e=I[F.category].icon;return(0,t.jsx)(e,{className:"w-7 h-7"})})()}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:F.description}),(0,t.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:I[F.category].label})]})]}),(0,t.jsx)("button",{onClick:()=>E(null),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:(0,t.jsx)(T.A,{className:"w-5 h-5 text-gray-500"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Sumă totală"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:U(F.amount,F.currency)}),F.vatAmount&&(0,t.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["din care TVA: ",U(F.vatAmount,F.currency)]})]}),(0,t.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium border ${G[F.status].color}`,children:[(()=>{let e=G[F.status].icon;return(0,t.jsx)(e,{className:"w-4 h-4"})})(),G[F.status].label]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Data"}),(0,t.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:B(F.date)})]}),F.vendor&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Furnizor"}),(0,t.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:F.vendor})]}),F.invoiceNumber&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Nr. Factură"}),(0,t.jsx)("p",{className:"font-mono text-gray-900 dark:text-white",children:F.invoiceNumber})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Deductibilă fiscal"}),(0,t.jsx)("p",{className:`font-medium ${F.deductible?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:F.deductible?"Da":"Nu"})]})]}),F.notes&&(0,t.jsxs)("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"Note:"}),(0,t.jsx)("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:F.notes})]}),(0,t.jsx)("div",{className:`flex items-center gap-2 p-3 rounded-lg ${F.hasReceipt?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:F.hasReceipt?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.A,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:"Document justificativ atașat"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.A,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:"Lipsește documentul justificativ"})]})})]}),(0,t.jsxs)("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 flex justify-end gap-3",children:[(0,t.jsx)("button",{className:"px-4 py-2 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Editează"}),F.hasReceipt&&(0,t.jsxs)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[(0,t.jsx)(R.A,{className:"w-4 h-4"}),"Vezi document"]})]})]})})}),(0,t.jsx)(q,{isOpen:_,onClose:()=>V(!1),onSuccess:()=>window.location.reload()})]}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[400px] text-center",children:[(0,t.jsx)(h.A,{className:"w-16 h-16 text-gray-300 mb-4"}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Selectează o firmă"}),(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Pentru a vedea cheltuielile, selectează mai \xeent\xe2i o firmă din meniul de sus."})]})}},20359:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(93468).A)("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]])},33042:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(93468).A)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},45037:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(93468).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},17033:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(93468).A)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},94937:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(93468).A)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])},59497:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(93468).A)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},75308:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(93468).A)("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]])},16281:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>t});let t=(0,a(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/var/www/documentiulia.ro/apps/web/app/[locale]/(dashboard)/expenses/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/var/www/documentiulia.ro/apps/web/app/[locale]/(dashboard)/expenses/page.tsx","default")}};var r=require("../../../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),t=r.X(0,[112,891,557,943,69,732],()=>a(64327));module.exports=t})();