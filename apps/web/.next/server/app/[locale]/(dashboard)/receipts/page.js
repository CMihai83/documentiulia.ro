(()=>{var e={};e.id=919,e.ids=[919],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},12159:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>n});var r=a(70260),s=a(28203),l=a(25155),i=a.n(l),d=a(67292),c={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>d[e]);a.d(t,c);let n=["",{children:["[locale]",{children:["(dashboard)",{children:["receipts",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,39613)),"/var/www/documentiulia.ro/apps/web/app/[locale]/(dashboard)/receipts/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,20078)),"/var/www/documentiulia.ro/apps/web/app/[locale]/(dashboard)/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,95694)),"/var/www/documentiulia.ro/apps/web/app/[locale]/layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(a.t.bind(a,19937,23)),"next/dist/client/components/not-found-error"]}],o=["/var/www/documentiulia.ro/apps/web/app/[locale]/(dashboard)/receipts/page.tsx"],x={require:a,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/[locale]/(dashboard)/receipts/page",pathname:"/[locale]/receipts",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},27255:(e,t,a)=>{Promise.resolve().then(a.bind(a,39613))},80399:(e,t,a)=>{Promise.resolve().then(a.bind(a,4828))},4828:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>C});var r=a(45512),s=a(58009),l=a(29362),i=a(24540),d=a(6648),c=a(17497),n=a(33042),o=a(72744),x=a(12214),m=a(46583),u=a(31393);let g=(0,a(93468).A)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var h=a(86235),p=a(45037),y=a(28496),b=a(21956),j=a(49656),f=a(4643),v=a(44269),N=a(52858),k=a(45723),w=a(61075),A=a(33680),D=a(57762);function M(e,t="RON"){return new Intl.NumberFormat("ro-RO",{style:"currency",currency:t,minimumFractionDigits:2}).format(e)}function P(e){return new Date(e).toLocaleDateString("ro-RO",{day:"2-digit",month:"short",year:"numeric"})}function C(){(0,l.useTranslations)("receipts");let{selectedCompanyId:e,selectedCompany:t}=(0,D.o)(),[a,C]=(0,s.useState)([]),[S,R]=(0,s.useState)(null),[z,q]=(0,s.useState)(!1),[_,E]=(0,s.useState)({}),[T,O]=(0,s.useState)(!1),F=(0,s.useRef)(null),L=(0,s.useRef)(null),I=async e=>{await new Promise(e=>setTimeout(e,2e3+2e3*Math.random()));let t={vendor:["Kaufland","Carrefour","Mega Image","Lidl","Penny"][Math.floor(5*Math.random())]+" Rom\xe2nia SRL",date:new Date(Date.now()-6048e5*Math.random()).toISOString().split("T")[0],total:Math.round((50+450*Math.random())*100)/100,vatRate:19,invoiceNumber:`BF-${Math.floor(9e5*Math.random())+1e5}`,currency:"RON",paymentMethod:["Card","Numerar"][Math.floor(2*Math.random())],items:[{description:"Produse alimentare",quantity:1,unitPrice:Math.round((20+100*Math.random())*100)/100,total:0},{description:"Băuturi",quantity:Math.floor(5*Math.random())+1,unitPrice:Math.round((5+20*Math.random())*100)/100,total:0}]};return t.items&&(t.items=t.items.map(e=>({...e,total:Math.round(e.quantity*e.unitPrice*100)/100}))),t.vatAmount=Math.round(.19*(t.total||0)/1.19*100)/100,t},B=(0,s.useCallback)(async t=>{if(!t||!e)return;let a=[];for(let e=0;e<t.length;e++){let r=t[e];if(!r.type.startsWith("image/")&&"application/pdf"!==r.type)continue;let s=`receipt-${Date.now()}-${e}`,l=r.type.startsWith("image/")?URL.createObjectURL(r):"/pdf-placeholder.png",i={id:s,file:r,preview:l,status:"uploading",uploadedAt:new Date};a.push(i)}for(let e of(C(e=>[...a,...e]),a)){C(t=>t.map(t=>t.id===e.id?{...t,status:"processing"}:t));try{let t=await I(e);C(a=>a.map(a=>a.id===e.id?{...a,status:"processed",extractedData:t}:a))}catch(t){C(t=>t.map(t=>t.id===e.id?{...t,status:"error",errorMessage:"Eroare la procesarea bonului"}:t))}}},[e]),V=(0,s.useCallback)(e=>{e.preventDefault(),O(!0)},[]),G=(0,s.useCallback)(e=>{e.preventDefault(),O(!1)},[]),H=(0,s.useCallback)(e=>{e.preventDefault(),O(!1),B(e.dataTransfer.files)},[B]),$=async t=>{if(t.extractedData&&e)try{console.log("Saving expense:",t.extractedData),C(e=>e.map(e=>e.id===t.id?{...e,status:"saved"}:e)),setTimeout(()=>{R(null)},1500)}catch(e){console.error("Error saving expense:",e)}},K=e=>{C(t=>t.filter(t=>t.id!==e)),S?.id===e&&R(null)},U=async e=>{C(t=>t.map(t=>t.id===e.id?{...t,status:"processing",errorMessage:void 0}:t));try{let t=await I(e);C(a=>a.map(a=>a.id===e.id?{...a,status:"processed",extractedData:t}:a))}catch(t){C(t=>t.map(t=>t.id===e.id?{...t,status:"error",errorMessage:"Eroare la procesarea bonului"}:t))}},W={total:a.length,processed:a.filter(e=>"processed"===e.status).length,saved:a.filter(e=>"saved"===e.status).length,totalAmount:a.filter(e=>"processed"===e.status||"saved"===e.status).reduce((e,t)=>e+(t.extractedData?.total||0),0)};return e?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Scanare Bonuri"}),(0,r.jsxs)("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:["Scanează și extrage automat datele din bonuri pentru ",t?.name]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("input",{ref:L,type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:e=>B(e.target.files)}),(0,r.jsxs)("button",{onClick:()=>L.current?.click(),className:"flex items-center gap-2 px-4 py-2.5 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[(0,r.jsx)(n.A,{className:"w-5 h-5 text-gray-500"}),(0,r.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Fotografiază"})]}),(0,r.jsx)("input",{ref:F,type:"file",accept:"image/*,application/pdf",multiple:!0,className:"hidden",onChange:e=>B(e.target.files)}),(0,r.jsxs)("button",{onClick:()=>F.current?.click(),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[(0,r.jsx)(o.A,{className:"w-5 h-5"}),(0,r.jsx)("span",{className:"font-medium",children:"\xcencarcă Bon"})]})]})]}),a.length>0&&(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,r.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total \xcencărcate"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:W.total})]}),(0,r.jsx)("div",{className:"w-12 h-12 rounded-xl bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:(0,r.jsx)(c.A,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),(0,r.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Procesate"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:W.processed})]}),(0,r.jsx)("div",{className:"w-12 h-12 rounded-xl bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center",children:(0,r.jsx)(x.A,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})})]})}),(0,r.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Salvate ca Cheltuieli"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1",children:W.saved})]}),(0,r.jsx)("div",{className:"w-12 h-12 rounded-xl bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:(0,r.jsx)(m.A,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]})}),(0,r.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Valoare Totală"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:M(W.totalAmount)})]}),(0,r.jsx)("div",{className:"w-12 h-12 rounded-xl bg-yellow-100 dark:bg-yellow-900/30 flex items-center justify-center",children:(0,r.jsx)(u.A,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})})]})})]}),(0,r.jsxs)("div",{onDragOver:V,onDragLeave:G,onDrop:H,className:`relative border-2 border-dashed rounded-2xl p-12 text-center transition-all ${T?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-700 hover:border-gray-400 dark:hover:border-gray-600"}`,children:[(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("div",{className:`w-20 h-20 rounded-2xl flex items-center justify-center mb-6 ${T?"bg-blue-100 dark:bg-blue-900/30":"bg-gray-100 dark:bg-gray-800"}`,children:T?(0,r.jsx)(o.A,{className:"w-10 h-10 text-blue-600 dark:text-blue-400"}):(0,r.jsx)(g,{className:"w-10 h-10 text-gray-400"})}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:T?"Eliberează pentru a \xeencărca":"Trage și plasează bonurile aici"}),(0,r.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-6 max-w-md",children:"Acceptăm imagini (JPG, PNG) și documente PDF. Sistemul AI va extrage automat datele din bonuri."}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("button",{onClick:()=>F.current?.click(),className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,r.jsx)(o.A,{className:"w-5 h-5"}),"Selectează fișiere"]}),(0,r.jsx)("span",{className:"text-gray-400",children:"sau"}),(0,r.jsxs)("button",{onClick:()=>L.current?.click(),className:"flex items-center gap-2 px-6 py-3 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[(0,r.jsx)(n.A,{className:"w-5 h-5 text-gray-500"}),(0,r.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Folosește camera"})]})]})]}),(0,r.jsxs)("div",{className:"absolute top-4 right-4 flex items-center gap-2 px-3 py-1.5 bg-purple-100 dark:bg-purple-900/30 rounded-full",children:[(0,r.jsx)(x.A,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"}),(0,r.jsx)("span",{className:"text-sm font-medium text-purple-700 dark:text-purple-300",children:"OCR AI"})]})]}),a.length>0&&(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,r.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Bonuri \xcencărcate"})}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 p-6",children:(0,r.jsx)(d.N,{children:a.map((e,t)=>(0,r.jsxs)(i.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{delay:.05*t},className:"relative group bg-gray-50 dark:bg-gray-900/50 rounded-xl overflow-hidden border border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("div",{className:"relative aspect-[3/4] overflow-hidden",children:[(0,r.jsx)("img",{src:e.preview,alt:"Receipt preview",className:"w-full h-full object-cover"}),("uploading"===e.status||"processing"===e.status)&&(0,r.jsxs)("div",{className:"absolute inset-0 bg-black/60 flex flex-col items-center justify-center",children:[(0,r.jsx)(h.A,{className:"w-10 h-10 text-white animate-spin mb-3"}),(0,r.jsx)("p",{className:"text-white font-medium",children:"uploading"===e.status?"Se \xeencarcă...":"Se procesează..."}),(0,r.jsx)("p",{className:"text-white/70 text-sm",children:"Extragere date OCR"})]}),"error"===e.status&&(0,r.jsxs)("div",{className:"absolute inset-0 bg-red-900/80 flex flex-col items-center justify-center p-4",children:[(0,r.jsx)(p.A,{className:"w-10 h-10 text-white mb-3"}),(0,r.jsx)("p",{className:"text-white font-medium text-center mb-3",children:e.errorMessage}),(0,r.jsxs)("button",{onClick:()=>U(e),className:"flex items-center gap-2 px-4 py-2 bg-white/20 hover:bg-white/30 text-white rounded-lg transition-colors",children:[(0,r.jsx)(y.A,{className:"w-4 h-4"}),"\xcencearcă din nou"]})]}),"saved"===e.status&&(0,r.jsxs)("div",{className:"absolute inset-0 bg-green-900/80 flex flex-col items-center justify-center",children:[(0,r.jsx)(m.A,{className:"w-10 h-10 text-white mb-3"}),(0,r.jsx)("p",{className:"text-white font-medium",children:"Salvat cu succes!"})]}),"processed"===e.status&&(0,r.jsxs)("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 flex items-center justify-center gap-3 transition-opacity",children:[(0,r.jsx)("button",{onClick:()=>R(e),className:"p-3 bg-white rounded-lg hover:bg-gray-100 transition-colors",children:(0,r.jsx)(b.A,{className:"w-5 h-5 text-gray-700"})}),(0,r.jsx)("button",{onClick:()=>K(e.id),className:"p-3 bg-red-500 rounded-lg hover:bg-red-600 transition-colors",children:(0,r.jsx)(j.A,{className:"w-5 h-5 text-white"})})]})]}),(0,r.jsxs)("div",{className:"p-4",children:["processed"===e.status&&e.extractedData&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"font-medium text-gray-900 dark:text-white truncate",children:e.extractedData.vendor||"Furnizor necunoscut"}),(0,r.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,r.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.extractedData.date?P(e.extractedData.date):"Data necunoscută"}),(0,r.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:M(e.extractedData.total||0)})]})]}),("uploading"===e.status||"processing"===e.status)&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),(0,r.jsx)("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-2/3 animate-pulse"})]}),"error"===e.status&&(0,r.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:"Procesare eșuată"}),"saved"===e.status&&e.extractedData&&(0,r.jsxs)("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400",children:[(0,r.jsx)(m.A,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"Salvat ca cheltuială"})]})]})]},e.id))})})]}),0===a.length&&(0,r.jsx)("div",{className:"text-center py-12",children:(0,r.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,r.jsx)("div",{className:"w-20 h-20 mx-auto rounded-2xl bg-gray-100 dark:bg-gray-800 flex items-center justify-center mb-6",children:(0,r.jsx)(c.A,{className:"w-10 h-10 text-gray-400"})}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Nu ai \xeencărcat niciun bon"}),(0,r.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"\xcencarcă bonuri fiscale și sistemul AI va extrage automat informațiile pentru a crea cheltuieli."}),(0,r.jsxs)("div",{className:"flex items-center justify-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(x.A,{className:"w-4 h-4 text-purple-500"}),(0,r.jsx)("span",{children:"Recunoaștere OCR"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(f.A,{className:"w-4 h-4 text-blue-500"}),(0,r.jsx)("span",{children:"Procesare rapidă"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(m.A,{className:"w-4 h-4 text-green-500"}),(0,r.jsx)("span",{children:"Export automat"})]})]})]})}),(0,r.jsx)(d.N,{children:S&&(0,r.jsx)(i.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>{R(null),q(!1)},children:(0,r.jsxs)(i.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white dark:bg-gray-800 rounded-xl max-w-4xl w-full shadow-xl max-h-[90vh] overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-xl bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center",children:(0,r.jsx)(c.A,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Detalii Bon"}),(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Verifică și editează datele extrase"})]})]}),(0,r.jsx)("button",{onClick:()=>{R(null),q(!1)},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:(0,r.jsx)(v.A,{className:"w-5 h-5 text-gray-500"})})]}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row max-h-[calc(90vh-180px)] overflow-hidden",children:[(0,r.jsx)("div",{className:"md:w-1/2 p-6 bg-gray-50 dark:bg-gray-900/50 flex items-center justify-center",children:(0,r.jsx)("img",{src:S.preview,alt:"Receipt",className:"max-w-full max-h-[400px] object-contain rounded-lg shadow-lg"})}),(0,r.jsx)("div",{className:"md:w-1/2 p-6 overflow-y-auto",children:S.extractedData&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Furnizor"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-50 dark:bg-gray-900/50 rounded-lg",children:[(0,r.jsx)(N.A,{className:"w-5 h-5 text-gray-400"}),(0,r.jsx)("span",{className:"text-gray-900 dark:text-white",children:S.extractedData.vendor||"-"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Data"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-50 dark:bg-gray-900/50 rounded-lg",children:[(0,r.jsx)(k.A,{className:"w-5 h-5 text-gray-400"}),(0,r.jsx)("span",{className:"text-gray-900 dark:text-white",children:S.extractedData.date?P(S.extractedData.date):"-"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nr. Bon"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-50 dark:bg-gray-900/50 rounded-lg",children:[(0,r.jsx)(w.A,{className:"w-5 h-5 text-gray-400"}),(0,r.jsx)("span",{className:"text-gray-900 dark:text-white font-mono",children:S.extractedData.invoiceNumber||"-"})]})]})]}),(0,r.jsxs)("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("span",{className:"text-blue-700 dark:text-blue-300",children:"Subtotal"}),(0,r.jsx)("span",{className:"font-medium text-blue-800 dark:text-blue-200",children:M((S.extractedData.total||0)-(S.extractedData.vatAmount||0))})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("span",{className:"text-blue-700 dark:text-blue-300",children:["TVA (",S.extractedData.vatRate||19,"%)"]}),(0,r.jsx)("span",{className:"font-medium text-blue-800 dark:text-blue-200",children:M(S.extractedData.vatAmount||0)})]}),(0,r.jsx)("hr",{className:"border-blue-200 dark:border-blue-800 my-2"}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"font-semibold text-blue-800 dark:text-blue-200",children:"Total"}),(0,r.jsx)("span",{className:"text-xl font-bold text-blue-900 dark:text-blue-100",children:M(S.extractedData.total||0)})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Metodă de plată"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-50 dark:bg-gray-900/50 rounded-lg",children:[(0,r.jsx)(u.A,{className:"w-5 h-5 text-gray-400"}),(0,r.jsx)("span",{className:"text-gray-900 dark:text-white",children:S.extractedData.paymentMethod||"Nespecificată"})]})]}),S.extractedData.items&&S.extractedData.items.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Articole detectate"}),(0,r.jsx)("div",{className:"space-y-2",children:S.extractedData.items.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-900/50 rounded-lg",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-900 dark:text-white",children:e.description}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.quantity," x ",M(e.unitPrice)]})]}),(0,r.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:M(e.total)})]},t))})]})]})})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50",children:[(0,r.jsxs)("button",{onClick:()=>K(S.id),className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:[(0,r.jsx)(j.A,{className:"w-4 h-4"}),"Șterge"]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("button",{onClick:()=>{R(null),q(!1)},className:"px-4 py-2 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"Anulează"}),(0,r.jsxs)("button",{onClick:()=>$(S),className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,r.jsx)(A.A,{className:"w-4 h-4"}),"Salvează ca Cheltuială"]})]})]})]})})})]}):(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[400px] text-center",children:[(0,r.jsx)(c.A,{className:"w-16 h-16 text-gray-300 mb-4"}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Selectează o firmă"}),(0,r.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Pentru a scana bonuri, selectează mai \xeent\xe2i o firmă din meniul de sus."})]})}},33042:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(93468).A)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},45037:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(93468).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},31393:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(93468).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},21956:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(93468).A)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},28496:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(93468).A)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},33680:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(93468).A)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},49656:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(93468).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},39613:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/var/www/documentiulia.ro/apps/web/app/[locale]/(dashboard)/receipts/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/var/www/documentiulia.ro/apps/web/app/[locale]/(dashboard)/receipts/page.tsx","default")}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[112,891,557,943,69],()=>a(12159));module.exports=r})();