(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1919],{59721:(e,a,t)=>{Promise.resolve().then(t.bind(t,71923))},71923:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>S});var s=t(95155),r=t(12115),l=t(7266),i=t(39124),d=t(25683),c=t(739),n=t(81190),x=t(38684),o=t(30098),m=t(73239),g=t(14807);let u=(0,t(32134).A)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var h=t(14505),p=t(61594),y=t(81556),b=t(92598),j=t(45686),N=t(66889),f=t(40767),v=t(9110),k=t(32423),w=t(14081),A=t(87780),C=t(32162);function D(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"RON";return new Intl.NumberFormat("ro-RO",{style:"currency",currency:a,minimumFractionDigits:2}).format(e)}function M(e){return new Date(e).toLocaleDateString("ro-RO",{day:"2-digit",month:"short",year:"numeric"})}function S(){(0,l.useTranslations)("receipts");let{selectedCompanyId:e,selectedCompany:a}=(0,C.o)(),[t,S]=(0,r.useState)([]),[P,R]=(0,r.useState)(null),[z,I]=(0,r.useState)(!1),[L,O]=(0,r.useState)({}),[T,E]=(0,r.useState)(!1),F=(0,r.useRef)(null),q=(0,r.useRef)(null),B=async e=>{await new Promise(e=>setTimeout(e,2e3+2e3*Math.random()));let a={vendor:["Kaufland","Carrefour","Mega Image","Lidl","Penny"][Math.floor(5*Math.random())]+" Rom\xe2nia SRL",date:new Date(Date.now()-6048e5*Math.random()).toISOString().split("T")[0],total:Math.round((50+450*Math.random())*100)/100,vatRate:19,invoiceNumber:"BF-".concat(Math.floor(9e5*Math.random())+1e5),currency:"RON",paymentMethod:["Card","Numerar"][Math.floor(2*Math.random())],items:[{description:"Produse alimentare",quantity:1,unitPrice:Math.round((20+100*Math.random())*100)/100,total:0},{description:"Băuturi",quantity:Math.floor(5*Math.random())+1,unitPrice:Math.round((5+20*Math.random())*100)/100,total:0}]};return a.items&&(a.items=a.items.map(e=>({...e,total:Math.round(e.quantity*e.unitPrice*100)/100}))),a.vatAmount=Math.round(.19*(a.total||0)/1.19*100)/100,a},_=(0,r.useCallback)(async a=>{if(!a||!e)return;let t=[];for(let e=0;e<a.length;e++){let s=a[e];if(!s.type.startsWith("image/")&&"application/pdf"!==s.type)continue;let r="receipt-".concat(Date.now(),"-").concat(e),l=s.type.startsWith("image/")?URL.createObjectURL(s):"/pdf-placeholder.png",i={id:r,file:s,preview:l,status:"uploading",uploadedAt:new Date};t.push(i)}for(let e of(S(e=>[...t,...e]),t)){S(a=>a.map(a=>a.id===e.id?{...a,status:"processing"}:a));try{let a=await B(e);S(t=>t.map(t=>t.id===e.id?{...t,status:"processed",extractedData:a}:t))}catch(a){S(a=>a.map(a=>a.id===e.id?{...a,status:"error",errorMessage:"Eroare la procesarea bonului"}:a))}}},[e]),V=(0,r.useCallback)(e=>{e.preventDefault(),E(!0)},[]),H=(0,r.useCallback)(e=>{e.preventDefault(),E(!1)},[]),G=(0,r.useCallback)(e=>{e.preventDefault(),E(!1),_(e.dataTransfer.files)},[_]),U=async a=>{if(a.extractedData&&e)try{console.log("Saving expense:",a.extractedData),S(e=>e.map(e=>e.id===a.id?{...e,status:"saved"}:e)),setTimeout(()=>{R(null)},1500)}catch(e){console.error("Error saving expense:",e)}},W=e=>{S(a=>a.filter(a=>a.id!==e)),(null==P?void 0:P.id)===e&&R(null)},Z=async e=>{S(a=>a.map(a=>a.id===e.id?{...a,status:"processing",errorMessage:void 0}:a));try{let a=await B(e);S(t=>t.map(t=>t.id===e.id?{...t,status:"processed",extractedData:a}:t))}catch(a){S(a=>a.map(a=>a.id===e.id?{...a,status:"error",errorMessage:"Eroare la procesarea bonului"}:a))}},J={total:t.length,processed:t.filter(e=>"processed"===e.status).length,saved:t.filter(e=>"saved"===e.status).length,totalAmount:t.filter(e=>"processed"===e.status||"saved"===e.status).reduce((e,a)=>{var t;return e+((null===(t=a.extractedData)||void 0===t?void 0:t.total)||0)},0)};return e?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Scanare Bonuri"}),(0,s.jsxs)("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:["Scanează și extrage automat datele din bonuri pentru ",null==a?void 0:a.name]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("input",{ref:q,type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:e=>_(e.target.files)}),(0,s.jsxs)("button",{onClick:()=>{var e;return null===(e=q.current)||void 0===e?void 0:e.click()},className:"flex items-center gap-2 px-4 py-2.5 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[(0,s.jsx)(n.A,{className:"w-5 h-5 text-gray-500"}),(0,s.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Fotografiază"})]}),(0,s.jsx)("input",{ref:F,type:"file",accept:"image/*,application/pdf",multiple:!0,className:"hidden",onChange:e=>_(e.target.files)}),(0,s.jsxs)("button",{onClick:()=>{var e;return null===(e=F.current)||void 0===e?void 0:e.click()},className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[(0,s.jsx)(x.A,{className:"w-5 h-5"}),(0,s.jsx)("span",{className:"font-medium",children:"\xcencarcă Bon"})]})]})]}),t.length>0&&(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,s.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total \xcencărcate"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:J.total})]}),(0,s.jsx)("div",{className:"w-12 h-12 rounded-xl bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:(0,s.jsx)(c.A,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),(0,s.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Procesate"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:J.processed})]}),(0,s.jsx)("div",{className:"w-12 h-12 rounded-xl bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center",children:(0,s.jsx)(o.A,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})})]})}),(0,s.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Salvate ca Cheltuieli"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1",children:J.saved})]}),(0,s.jsx)("div",{className:"w-12 h-12 rounded-xl bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:(0,s.jsx)(m.A,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]})}),(0,s.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Valoare Totală"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:D(J.totalAmount)})]}),(0,s.jsx)("div",{className:"w-12 h-12 rounded-xl bg-yellow-100 dark:bg-yellow-900/30 flex items-center justify-center",children:(0,s.jsx)(g.A,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})})]})})]}),(0,s.jsxs)("div",{onDragOver:V,onDragLeave:H,onDrop:G,className:"relative border-2 border-dashed rounded-2xl p-12 text-center transition-all ".concat(T?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-700 hover:border-gray-400 dark:hover:border-gray-600"),children:[(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:"w-20 h-20 rounded-2xl flex items-center justify-center mb-6 ".concat(T?"bg-blue-100 dark:bg-blue-900/30":"bg-gray-100 dark:bg-gray-800"),children:T?(0,s.jsx)(x.A,{className:"w-10 h-10 text-blue-600 dark:text-blue-400"}):(0,s.jsx)(u,{className:"w-10 h-10 text-gray-400"})}),(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:T?"Eliberează pentru a \xeencărca":"Trage și plasează bonurile aici"}),(0,s.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-6 max-w-md",children:"Acceptăm imagini (JPG, PNG) și documente PDF. Sistemul AI va extrage automat datele din bonuri."}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("button",{onClick:()=>{var e;return null===(e=F.current)||void 0===e?void 0:e.click()},className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,s.jsx)(x.A,{className:"w-5 h-5"}),"Selectează fișiere"]}),(0,s.jsx)("span",{className:"text-gray-400",children:"sau"}),(0,s.jsxs)("button",{onClick:()=>{var e;return null===(e=q.current)||void 0===e?void 0:e.click()},className:"flex items-center gap-2 px-6 py-3 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[(0,s.jsx)(n.A,{className:"w-5 h-5 text-gray-500"}),(0,s.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Folosește camera"})]})]})]}),(0,s.jsxs)("div",{className:"absolute top-4 right-4 flex items-center gap-2 px-3 py-1.5 bg-purple-100 dark:bg-purple-900/30 rounded-full",children:[(0,s.jsx)(o.A,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"}),(0,s.jsx)("span",{className:"text-sm font-medium text-purple-700 dark:text-purple-300",children:"OCR AI"})]})]}),t.length>0&&(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Bonuri \xcencărcate"})}),(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 p-6",children:(0,s.jsx)(d.N,{children:t.map((e,a)=>(0,s.jsxs)(i.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{delay:.05*a},className:"relative group bg-gray-50 dark:bg-gray-900/50 rounded-xl overflow-hidden border border-gray-200 dark:border-gray-700",children:[(0,s.jsxs)("div",{className:"relative aspect-[3/4] overflow-hidden",children:[(0,s.jsx)("img",{src:e.preview,alt:"Receipt preview",className:"w-full h-full object-cover"}),("uploading"===e.status||"processing"===e.status)&&(0,s.jsxs)("div",{className:"absolute inset-0 bg-black/60 flex flex-col items-center justify-center",children:[(0,s.jsx)(h.A,{className:"w-10 h-10 text-white animate-spin mb-3"}),(0,s.jsx)("p",{className:"text-white font-medium",children:"uploading"===e.status?"Se \xeencarcă...":"Se procesează..."}),(0,s.jsx)("p",{className:"text-white/70 text-sm",children:"Extragere date OCR"})]}),"error"===e.status&&(0,s.jsxs)("div",{className:"absolute inset-0 bg-red-900/80 flex flex-col items-center justify-center p-4",children:[(0,s.jsx)(p.A,{className:"w-10 h-10 text-white mb-3"}),(0,s.jsx)("p",{className:"text-white font-medium text-center mb-3",children:e.errorMessage}),(0,s.jsxs)("button",{onClick:()=>Z(e),className:"flex items-center gap-2 px-4 py-2 bg-white/20 hover:bg-white/30 text-white rounded-lg transition-colors",children:[(0,s.jsx)(y.A,{className:"w-4 h-4"}),"\xcencearcă din nou"]})]}),"saved"===e.status&&(0,s.jsxs)("div",{className:"absolute inset-0 bg-green-900/80 flex flex-col items-center justify-center",children:[(0,s.jsx)(m.A,{className:"w-10 h-10 text-white mb-3"}),(0,s.jsx)("p",{className:"text-white font-medium",children:"Salvat cu succes!"})]}),"processed"===e.status&&(0,s.jsxs)("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 flex items-center justify-center gap-3 transition-opacity",children:[(0,s.jsx)("button",{onClick:()=>R(e),className:"p-3 bg-white rounded-lg hover:bg-gray-100 transition-colors",children:(0,s.jsx)(b.A,{className:"w-5 h-5 text-gray-700"})}),(0,s.jsx)("button",{onClick:()=>W(e.id),className:"p-3 bg-red-500 rounded-lg hover:bg-red-600 transition-colors",children:(0,s.jsx)(j.A,{className:"w-5 h-5 text-white"})})]})]}),(0,s.jsxs)("div",{className:"p-4",children:["processed"===e.status&&e.extractedData&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"font-medium text-gray-900 dark:text-white truncate",children:e.extractedData.vendor||"Furnizor necunoscut"}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,s.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.extractedData.date?M(e.extractedData.date):"Data necunoscută"}),(0,s.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:D(e.extractedData.total||0)})]})]}),("uploading"===e.status||"processing"===e.status)&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),(0,s.jsx)("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-2/3 animate-pulse"})]}),"error"===e.status&&(0,s.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:"Procesare eșuată"}),"saved"===e.status&&e.extractedData&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400",children:[(0,s.jsx)(m.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Salvat ca cheltuială"})]})]})]},e.id))})})]}),0===t.length&&(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,s.jsx)("div",{className:"w-20 h-20 mx-auto rounded-2xl bg-gray-100 dark:bg-gray-800 flex items-center justify-center mb-6",children:(0,s.jsx)(c.A,{className:"w-10 h-10 text-gray-400"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Nu ai \xeencărcat niciun bon"}),(0,s.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"\xcencarcă bonuri fiscale și sistemul AI va extrage automat informațiile pentru a crea cheltuieli."}),(0,s.jsxs)("div",{className:"flex items-center justify-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(o.A,{className:"w-4 h-4 text-purple-500"}),(0,s.jsx)("span",{children:"Recunoaștere OCR"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(N.A,{className:"w-4 h-4 text-blue-500"}),(0,s.jsx)("span",{children:"Procesare rapidă"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(m.A,{className:"w-4 h-4 text-green-500"}),(0,s.jsx)("span",{children:"Export automat"})]})]})]})}),(0,s.jsx)(d.N,{children:P&&(0,s.jsx)(i.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>{R(null),I(!1)},children:(0,s.jsxs)(i.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white dark:bg-gray-800 rounded-xl max-w-4xl w-full shadow-xl max-h-[90vh] overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-xl bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center",children:(0,s.jsx)(c.A,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Detalii Bon"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Verifică și editează datele extrase"})]})]}),(0,s.jsx)("button",{onClick:()=>{R(null),I(!1)},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:(0,s.jsx)(f.A,{className:"w-5 h-5 text-gray-500"})})]}),(0,s.jsxs)("div",{className:"flex flex-col md:flex-row max-h-[calc(90vh-180px)] overflow-hidden",children:[(0,s.jsx)("div",{className:"md:w-1/2 p-6 bg-gray-50 dark:bg-gray-900/50 flex items-center justify-center",children:(0,s.jsx)("img",{src:P.preview,alt:"Receipt",className:"max-w-full max-h-[400px] object-contain rounded-lg shadow-lg"})}),(0,s.jsx)("div",{className:"md:w-1/2 p-6 overflow-y-auto",children:P.extractedData&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Furnizor"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-50 dark:bg-gray-900/50 rounded-lg",children:[(0,s.jsx)(v.A,{className:"w-5 h-5 text-gray-400"}),(0,s.jsx)("span",{className:"text-gray-900 dark:text-white",children:P.extractedData.vendor||"-"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Data"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-50 dark:bg-gray-900/50 rounded-lg",children:[(0,s.jsx)(k.A,{className:"w-5 h-5 text-gray-400"}),(0,s.jsx)("span",{className:"text-gray-900 dark:text-white",children:P.extractedData.date?M(P.extractedData.date):"-"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nr. Bon"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-50 dark:bg-gray-900/50 rounded-lg",children:[(0,s.jsx)(w.A,{className:"w-5 h-5 text-gray-400"}),(0,s.jsx)("span",{className:"text-gray-900 dark:text-white font-mono",children:P.extractedData.invoiceNumber||"-"})]})]})]}),(0,s.jsxs)("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-blue-700 dark:text-blue-300",children:"Subtotal"}),(0,s.jsx)("span",{className:"font-medium text-blue-800 dark:text-blue-200",children:D((P.extractedData.total||0)-(P.extractedData.vatAmount||0))})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("span",{className:"text-blue-700 dark:text-blue-300",children:["TVA (",P.extractedData.vatRate||19,"%)"]}),(0,s.jsx)("span",{className:"font-medium text-blue-800 dark:text-blue-200",children:D(P.extractedData.vatAmount||0)})]}),(0,s.jsx)("hr",{className:"border-blue-200 dark:border-blue-800 my-2"}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"font-semibold text-blue-800 dark:text-blue-200",children:"Total"}),(0,s.jsx)("span",{className:"text-xl font-bold text-blue-900 dark:text-blue-100",children:D(P.extractedData.total||0)})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Metodă de plată"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-50 dark:bg-gray-900/50 rounded-lg",children:[(0,s.jsx)(g.A,{className:"w-5 h-5 text-gray-400"}),(0,s.jsx)("span",{className:"text-gray-900 dark:text-white",children:P.extractedData.paymentMethod||"Nespecificată"})]})]}),P.extractedData.items&&P.extractedData.items.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Articole detectate"}),(0,s.jsx)("div",{className:"space-y-2",children:P.extractedData.items.map((e,a)=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-900/50 rounded-lg",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-900 dark:text-white",children:e.description}),(0,s.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.quantity," x ",D(e.unitPrice)]})]}),(0,s.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:D(e.total)})]},a))})]})]})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50",children:[(0,s.jsxs)("button",{onClick:()=>W(P.id),className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:[(0,s.jsx)(j.A,{className:"w-4 h-4"}),"Șterge"]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("button",{onClick:()=>{R(null),I(!1)},className:"px-4 py-2 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"Anulează"}),(0,s.jsxs)("button",{onClick:()=>U(P),className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,s.jsx)(A.A,{className:"w-4 h-4"}),"Salvează ca Cheltuială"]})]})]})]})})})]}):(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[400px] text-center",children:[(0,s.jsx)(c.A,{className:"w-16 h-16 text-gray-300 mb-4"}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Selectează o firmă"}),(0,s.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Pentru a scana bonuri, selectează mai \xeent\xe2i o firmă din meniul de sus."})]})}},32162:(e,a,t)=>{"use strict";t.d(a,{o:()=>l});var s=t(83749),r=t(60709);let l=(0,s.vt)()((0,r.Zr)(e=>({selectedCompanyId:null,selectedCompany:null,companies:[],setSelectedCompanyId:a=>e({selectedCompanyId:a}),setSelectedCompany:a=>e({selectedCompany:a,selectedCompanyId:(null==a?void 0:a.id)||null}),setCompanies:a=>e({companies:a}),reset:()=>e({selectedCompanyId:null,selectedCompany:null,companies:[]})}),{name:"documentiulia-company",partialize:e=>({selectedCompanyId:e.selectedCompanyId})}))},14807:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(32134).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},81556:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(32134).A)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},87780:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(32134).A)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},30098:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(32134).A)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]])}},e=>{var a=a=>e(e.s=a);e.O(0,[4265,3937,7266,6917,8441,1517,7358],()=>a(59721)),_N_E=e.O()}]);