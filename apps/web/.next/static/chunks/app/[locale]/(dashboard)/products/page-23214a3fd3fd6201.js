(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1254],{24062:(e,t,r)=>{Promise.resolve().then(r.bind(r,16735))},16735:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>$});var a=r(95155),s=r(12115),l=r(7266),c=r(39124),i=r(25683),d=r(73239),o=r(86709),n=r(23950),x=r(60719),g=r(33473),u=r(9666),m=r(45471),p=r(14807),y=r(20853),b=r(44857),h=r(14505),j=r(51055),k=r(92598),v=r(26764),f=r(23920),N=r(45686),w=r(93518),A=r(46967),P=r(40767),S=r(86878),C=r(28527),R=r(32162),z=r(13556),M=r(34592),T=r(98867),O=r(39877),V=r(84226);let D=[{value:19,label:"TVA Standard (19%)"},{value:9,label:"TVA Redus (9%)"},{value:5,label:"TVA Redus (5%)"},{value:0,label:"TVA 0% / Scutit"}],E=[{value:"buc",label:"Bucată (buc)"},{value:"kg",label:"Kilogram (kg)"},{value:"l",label:"Litru (l)"},{value:"m",label:"Metru (m)"},{value:"m2",label:"Metru pătrat (m\xb2)"},{value:"m3",label:"Metru cub (m\xb3)"},{value:"oră",label:"Oră"},{value:"zi",label:"Zi"},{value:"lună",label:"Lună"},{value:"an",label:"An"},{value:"proiect",label:"Proiect"},{value:"pachet",label:"Pachet"},{value:"set",label:"Set"}],I=["Echipamente IT","Consumabile","Mobilier","Materiale construcții","Piese auto","Alimente","Băuturi","Cosmetice","Haine","Accesorii","Altele"],_=["Servicii profesionale","Consultanță","Dezvoltare software","Design","Marketing","Contabilitate","Juridic","Transport","Reparații","Mentenanță","Training","Altele"],F={name:"",code:"",type:"product",category:"",description:"",unit:"buc",price:0,vatRate:19,currency:"RON",stock:0,minStock:0,costPrice:0,barcode:"",status:"active"};function L(e){let{isOpen:t,onClose:r,onSuccess:l,editingProduct:c}=e,{selectedCompanyId:i}=(0,R.o)(),[d,o]=(0,s.useState)(F),[g,y]=(0,s.useState)(!1),[b,h]=(0,s.useState)({});(0,s.useEffect)(()=>{t&&(c?o({name:c.name,code:c.code,type:c.type,category:c.category,description:c.description,unit:c.unit,price:c.price,vatRate:c.vatRate,currency:c.currency,stock:c.stock,minStock:c.minStock,costPrice:c.costPrice,barcode:c.barcode,status:c.status}):o(F),h({}))},[t,c]);let j=()=>{let e={};return d.name.trim()||(e.name="Numele este obligatoriu"),d.code.trim()||(e.code="Codul este obligatoriu"),d.price<=0&&(e.price="Prețul trebuie să fie mai mare dec\xe2t 0"),"product"===d.type&&d.stock<0&&(e.stock="Stocul nu poate fi negativ"),d.costPrice>d.price&&(e.costPrice="Prețul de achiziție nu poate fi mai mare dec\xe2t prețul de v\xe2nzare"),h(e),0===Object.keys(e).length},k=async e=>{if(e.preventDefault(),j()){if(!i){alert("Selectează o firmă mai \xeent\xe2i");return}y(!0);try{let e=c?"".concat("/api/v2","/api/v2/products/").concat(c.id):"".concat("/api/v2","/api/v2/products");if(!(await fetch(e,{method:c?"PUT":"POST",headers:{"Content-Type":"application/json","X-Company-ID":i},body:JSON.stringify({...d,companyId:i})})).ok)throw Error("Eroare la salvare");null==l||l(),r()}catch(e){console.error("Error saving product:",e),alert("A apărut o eroare la salvarea produsului")}finally{y(!1)}}},v=(e,t)=>{o(r=>({...r,[e]:t})),b[e]&&h(t=>({...t,[e]:void 0}))},f=d.costPrice>0?((d.price-d.costPrice)/d.costPrice*100).toFixed(1):null,N="product"===d.type?I:_;return(0,a.jsx)(M.aF,{isOpen:t,onClose:r,title:c?"Editează Produs":"Produs/Serviciu Nou",description:c?"Modifică detaliile produsului":"Adaugă un produs sau serviciu nou \xeen catalog",size:"xl",children:(0,a.jsxs)("form",{onSubmit:k,children:[(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Tip Articol"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>{v("type","product"),v("unit","buc")},className:"flex items-center gap-3 p-4 rounded-xl border-2 transition-all ".concat("product"===d.type?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"),children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center ".concat("product"===d.type?"bg-blue-100 dark:bg-blue-900/30":"bg-gray-100 dark:bg-gray-800"),children:(0,a.jsx)(x.A,{className:"w-6 h-6 ".concat("product"===d.type?"text-blue-600 dark:text-blue-400":"text-gray-500")})}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("p",{className:"font-medium ".concat("product"===d.type?"text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300"),children:"Produs"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Bun fizic cu stoc"})]}),"product"===d.type&&(0,a.jsx)(T.A,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 ml-auto"})]}),(0,a.jsxs)("button",{type:"button",onClick:()=>{v("type","service"),v("unit","oră"),v("stock",0),v("minStock",0)},className:"flex items-center gap-3 p-4 rounded-xl border-2 transition-all ".concat("service"===d.type?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"),children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center ".concat("service"===d.type?"bg-purple-100 dark:bg-purple-900/30":"bg-gray-100 dark:bg-gray-800"),children:(0,a.jsx)(m.A,{className:"w-6 h-6 ".concat("service"===d.type?"text-purple-600 dark:text-purple-400":"text-gray-500")})}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("p",{className:"font-medium ".concat("service"===d.type?"text-purple-700 dark:text-purple-300":"text-gray-700 dark:text-gray-300"),children:"Serviciu"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Prestație fără stoc"})]}),"service"===d.type&&(0,a.jsx)(T.A,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 ml-auto"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Denumire *"}),(0,a.jsx)("input",{type:"text",value:d.name,onChange:e=>v("name",e.target.value),className:"w-full px-4 py-2.5 border rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(b.name?"border-red-500":"border-gray-200 dark:border-gray-700"),placeholder:"product"===d.type?"Laptop HP ProBook 450":"Consultanță fiscală"}),b.name&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-500",children:b.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cod Intern *"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(O.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,a.jsx)("input",{type:"text",value:d.code,onChange:e=>v("code",e.target.value.toUpperCase()),className:"w-full pl-10 pr-4 py-2.5 border rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono ".concat(b.code?"border-red-500":"border-gray-200 dark:border-gray-700"),placeholder:"PRD-001"})]}),(0,a.jsx)("button",{type:"button",onClick:()=>{let e="product"===d.type?"PRD":"SRV",t=Math.floor(9e3*Math.random())+1e3;v("code","".concat(e,"-").concat(t))},className:"px-3 py-2.5 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-sm font-medium text-gray-600 dark:text-gray-400",children:"Auto"})]}),b.code&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-500",children:b.code})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Categorie"}),(0,a.jsxs)("select",{value:d.category,onChange:e=>v("category",e.target.value),className:"w-full px-4 py-2.5 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"",children:"Selectează categorie"}),N.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Descriere"}),(0,a.jsx)("textarea",{value:d.description,onChange:e=>v("description",e.target.value),rows:2,className:"w-full px-4 py-2.5 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Descriere opțională a produsului/serviciului..."})]})]}),(0,a.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-4",children:"Preț și TVA"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Preț V\xe2nzare *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(p.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,a.jsx)("input",{type:"number",step:"0.01",min:"0",value:d.price||"",onChange:e=>v("price",parseFloat(e.target.value)||0),className:"w-full pl-10 pr-16 py-2.5 border rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(b.price?"border-red-500":"border-gray-200 dark:border-gray-700"),placeholder:"0.00"}),(0,a.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:d.currency})]}),b.price&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-500",children:b.price})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cotă TVA"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(V.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,a.jsx)("select",{value:d.vatRate,onChange:e=>v("vatRate",parseInt(e.target.value)),className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:D.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Unitate Măsură"}),(0,a.jsx)("select",{value:d.unit,onChange:e=>v("unit",e.target.value),className:"w-full px-4 py-2.5 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:E.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Preț Achiziție (Cost)"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(p.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,a.jsx)("input",{type:"number",step:"0.01",min:"0",value:d.costPrice||"",onChange:e=>v("costPrice",parseFloat(e.target.value)||0),className:"w-full pl-10 pr-16 py-2.5 border rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(b.costPrice?"border-red-500":"border-gray-200 dark:border-gray-700"),placeholder:"0.00"}),(0,a.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:d.currency})]}),b.costPrice&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-500",children:b.costPrice})]}),f&&parseFloat(f)>0&&(0,a.jsxs)("div",{className:"md:col-span-2 flex items-center gap-2 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[(0,a.jsx)(T.A,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),(0,a.jsxs)("span",{className:"text-sm text-green-700 dark:text-green-300",children:["Marjă de profit: ",(0,a.jsxs)("strong",{children:[f,"%"]})," (",(d.price-d.costPrice).toFixed(2)," ",d.currency,")"]})]})]})]}),"product"===d.type&&(0,a.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-4",children:"Gestiune Stoc"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Stoc Curent"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(u.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,a.jsx)("input",{type:"number",min:"0",value:d.stock||"",onChange:e=>v("stock",parseInt(e.target.value)||0),className:"w-full pl-10 pr-16 py-2.5 border rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(b.stock?"border-red-500":"border-gray-200 dark:border-gray-700"),placeholder:"0"}),(0,a.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:d.unit})]}),b.stock&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-500",children:b.stock})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Stoc Minim (Alertă)"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(n.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,a.jsx)("input",{type:"number",min:"0",value:d.minStock||"",onChange:e=>v("minStock",parseInt(e.target.value)||0),className:"w-full pl-10 pr-16 py-2.5 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"}),(0,a.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:d.unit})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cod de Bare"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(C.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,a.jsx)("input",{type:"text",value:d.barcode,onChange:e=>v("barcode",e.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono",placeholder:"5901234123457"})]})]}),d.stock>0&&d.minStock>0&&d.stock<=d.minStock&&(0,a.jsxs)("div",{className:"md:col-span-3 flex items-center gap-2 p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[(0,a.jsx)(n.A,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"}),(0,a.jsx)("span",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Stocul curent este sub nivelul minim setat. Se va genera alertă."})]})]})]}),(0,a.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:"active"===d.status,onChange:e=>v("status",e.target.checked?"active":"inactive"),className:"sr-only peer"}),(0,a.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-green-600"}),(0,a.jsxs)("span",{className:"ml-3 text-sm font-medium text-gray-700 dark:text-gray-300",children:["active"===d.status?"Activ":"Inactiv"," - Articolul ","active"===d.status?"poate fi":"nu poate fi"," adăugat pe facturi"]})]})})})]}),(0,a.jsxs)(M.jl,{children:[(0,a.jsx)(M.$n,{variant:"secondary",onClick:r,children:"Anulează"}),(0,a.jsx)(M.$n,{type:"submit",isLoading:g,children:c?"Salvează Modificările":"Adaugă Articol"})]})]})})}let B={active:{label:"Activ",color:"bg-green-100 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-800",icon:d.A},inactive:{label:"Inactiv",color:"bg-gray-100 text-gray-700 border-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600",icon:o.A},low_stock:{label:"Stoc redus",color:"bg-yellow-100 text-yellow-700 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-400 dark:border-yellow-800",icon:n.A},out_of_stock:{label:"Epuizat",color:"bg-red-100 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-800",icon:n.A}},H={product:{label:"Produs",color:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"},service:{label:"Serviciu",color:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400"}};function U(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"RON";return new Intl.NumberFormat("ro-RO",{style:"currency",currency:t,minimumFractionDigits:2}).format(e)}let J=[{id:"1",name:"Consultanță fiscală",code:"SRV-001",type:"service",category:"Servicii profesionale",description:"Consultanță fiscală și contabilă pentru IMM-uri",unit:"oră",price:250,vatRate:19,currency:"RON",status:"active",createdAt:"2023-01-15"},{id:"2",name:"Laptop HP ProBook 450",code:"PRD-001",type:"product",category:"Echipamente IT",description:"Laptop business cu procesor Intel i7",unit:"buc",price:4500,vatRate:19,currency:"RON",stock:15,minStock:5,status:"active",costPrice:3800,barcode:"5901234123457",createdAt:"2023-02-20"},{id:"3",name:"Imprimantă HP LaserJet Pro",code:"PRD-002",type:"product",category:"Echipamente IT",unit:"buc",price:1850,vatRate:19,currency:"RON",stock:3,minStock:5,status:"low_stock",costPrice:1500,createdAt:"2023-03-10"},{id:"4",name:"Servicii contabilitate lunară",code:"SRV-002",type:"service",category:"Servicii profesionale",description:"Servicii complete de contabilitate pentru firme mici",unit:"lună",price:800,vatRate:19,currency:"RON",status:"active",createdAt:"2023-01-20"},{id:"5",name:"Toner HP 83A",code:"PRD-003",type:"product",category:"Consumabile",unit:"buc",price:180,vatRate:19,currency:"RON",stock:0,minStock:10,status:"out_of_stock",costPrice:140,barcode:"5901234123458",createdAt:"2023-04-05"},{id:"6",name:'Monitor Dell 27"',code:"PRD-004",type:"product",category:"Echipamente IT",unit:"buc",price:1250,vatRate:19,currency:"RON",stock:8,minStock:3,status:"active",costPrice:980,createdAt:"2023-05-12"},{id:"7",name:"Audit financiar",code:"SRV-003",type:"service",category:"Servicii profesionale",unit:"proiect",price:5e3,vatRate:19,currency:"RON",status:"active",createdAt:"2023-06-01"},{id:"8",name:"Scaun ergonomic birou",code:"PRD-005",type:"product",category:"Mobilier",unit:"buc",price:950,vatRate:19,currency:"RON",stock:12,minStock:5,status:"active",costPrice:720,createdAt:"2023-07-15"}];function $(){var e;(0,l.useTranslations)("products");let{selectedCompanyId:t,selectedCompany:r}=(0,R.o)(),[d,o]=(0,s.useState)(""),[M,T]=(0,s.useState)("all"),[O,V]=(0,s.useState)("all"),[D,E]=(0,s.useState)(1),[I,_]=(0,s.useState)(null),[F,$]=(0,s.useState)(!1),{data:G,isLoading:K}=(0,z.QT)(t||""),{data:Q}=(0,z.YF)(t||""),W=J.filter(e=>{let t=""===d||e.name.toLowerCase().includes(d.toLowerCase())||e.code.toLowerCase().includes(d.toLowerCase()),r="all"===M||e.type===M,a="all"===O||e.status===O;return t&&r&&a}),X=Math.ceil(W.length/10),Y=W.slice((D-1)*10,10*D),Z={totalProducts:J.filter(e=>"product"===e.type).length,totalServices:J.filter(e=>"service"===e.type).length,lowStock:J.filter(e=>"low_stock"===e.status||"out_of_stock"===e.status).length,totalValue:J.filter(e=>"product"===e.type&&e.stock).reduce((e,t)=>e+t.price*(t.stock||0),0)};return t?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Produse și Servicii"}),(0,a.jsxs)("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:["Gestionează catalogul pentru ",null==r?void 0:r.name]})]}),(0,a.jsxs)("button",{onClick:()=>$(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[(0,a.jsx)(g.A,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-medium",children:"Adaugă Produs"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsx)(c.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Produse"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:Z.totalProducts})]}),(0,a.jsx)("div",{className:"w-12 h-12 rounded-xl bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:(0,a.jsx)(u.A,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),(0,a.jsx)(c.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Servicii"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:Z.totalServices})]}),(0,a.jsx)("div",{className:"w-12 h-12 rounded-xl bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center",children:(0,a.jsx)(m.A,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})})]})}),(0,a.jsx)(c.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Stoc Redus/Epuizat"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400 mt-1",children:Z.lowStock})]}),(0,a.jsx)("div",{className:"w-12 h-12 rounded-xl bg-yellow-100 dark:bg-yellow-900/30 flex items-center justify-center",children:(0,a.jsx)(n.A,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})})]})}),(0,a.jsx)(c.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Valoare Stoc"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1",children:U(Z.totalValue)})]}),(0,a.jsx)("div",{className:"w-12 h-12 rounded-xl bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:(0,a.jsx)(p.A,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]})})]}),Z.lowStock>0&&(0,a.jsx)(c.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-xl p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(n.A,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-medium text-yellow-800 dark:text-yellow-200",children:"Atenție la stoc!"}),(0,a.jsxs)("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:[Z.lowStock," produs(e) au stocul redus sau epuizat. Verifică și reaprovizionează."]})]}),(0,a.jsx)("button",{className:"px-4 py-2 text-sm font-medium text-yellow-700 dark:text-yellow-300 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg hover:bg-yellow-200 dark:hover:bg-yellow-900/50 transition-colors",children:"Vezi toate"})]})}),(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)(y.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Caută după nume sau cod...",value:d,onChange:e=>{o(e.target.value),E(1)},className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,a.jsxs)("select",{value:M,onChange:e=>{T(e.target.value),E(1)},className:"px-4 py-2.5 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"all",children:"Toate tipurile"}),(0,a.jsx)("option",{value:"product",children:"Produse"}),(0,a.jsx)("option",{value:"service",children:"Servicii"})]}),(0,a.jsxs)("select",{value:O,onChange:e=>{V(e.target.value),E(1)},className:"px-4 py-2.5 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"all",children:"Toate statusurile"}),Object.entries(B).map(e=>{let[t,r]=e;return(0,a.jsx)("option",{value:t,children:r.label},t)})]}),(0,a.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2.5 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[(0,a.jsx)(b.A,{className:"w-5 h-5 text-gray-500"}),(0,a.jsx)("span",{className:"hidden sm:inline text-gray-700 dark:text-gray-300",children:"Export"})]})]})]})}),(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:K?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)(h.A,{className:"w-8 h-8 animate-spin text-blue-500"})}):0===W.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(x.A,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Nu există produse"}),(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:d||"all"!==M||"all"!==O?"Niciun produs nu corespunde filtrelor selectate.":"Adaugă primul tău produs pentru a \xeencepe."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"hidden md:grid md:grid-cols-12 gap-4 px-6 py-3 bg-gray-50 dark:bg-gray-900/50 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[(0,a.jsx)("div",{className:"col-span-4",children:"Produs/Serviciu"}),(0,a.jsx)("div",{className:"col-span-2",children:"Tip"}),(0,a.jsx)("div",{className:"col-span-2 text-right",children:"Preț"}),(0,a.jsx)("div",{className:"col-span-2 text-center",children:"Stoc"}),(0,a.jsx)("div",{className:"col-span-1",children:"Status"}),(0,a.jsx)("div",{className:"col-span-1"})]}),(0,a.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:Y.map((e,t)=>{var r;let s=B[e.status].icon;return(0,a.jsxs)(c.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*t},className:"px-6 py-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[(0,a.jsxs)("div",{className:"hidden md:grid md:grid-cols-12 gap-4 items-center",children:[(0,a.jsx)("div",{className:"col-span-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center ".concat("product"===e.type?"bg-blue-100 dark:bg-blue-900/30":"bg-purple-100 dark:bg-purple-900/30"),children:"product"===e.type?(0,a.jsx)(x.A,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}):(0,a.jsx)(m.A,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-mono",children:e.code})]})]})}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium ".concat(H[e.type].color),children:H[e.type].label}),e.category&&(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:e.category})]}),(0,a.jsxs)("div",{className:"col-span-2 text-right",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:U(e.price,e.currency)}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["TVA ",e.vatRate,"%"]})]}),(0,a.jsx)("div",{className:"col-span-2 text-center",children:"product"===e.type?(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-medium ".concat(0===e.stock?"text-red-600 dark:text-red-400":(e.stock||0)<=(e.minStock||0)?"text-yellow-600 dark:text-yellow-400":"text-gray-900 dark:text-white"),children:[null!==(r=e.stock)&&void 0!==r?r:"-"," ",e.unit]}),void 0!==e.minStock&&(0,a.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Min: ",e.minStock]})]}):(0,a.jsx)("span",{className:"text-gray-400",children:"-"})}),(0,a.jsx)("div",{className:"col-span-1",children:(0,a.jsx)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium border ".concat(B[e.status].color),children:(0,a.jsx)(s,{className:"w-3 h-3"})})}),(0,a.jsx)("div",{className:"col-span-1 flex justify-end",children:(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,a.jsx)(j.A,{className:"w-4 h-4 text-gray-500"})}),(0,a.jsx)("div",{className:"absolute right-0 top-full mt-1 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-10",children:(0,a.jsxs)("div",{className:"p-1",children:[(0,a.jsxs)("button",{onClick:()=>_(e),className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md",children:[(0,a.jsx)(k.A,{className:"w-4 h-4"}),"Vizualizează"]}),(0,a.jsxs)("button",{className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md",children:[(0,a.jsx)(v.A,{className:"w-4 h-4"}),"Editează"]}),(0,a.jsxs)("button",{className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md",children:[(0,a.jsx)(f.A,{className:"w-4 h-4"}),"Duplică"]}),(0,a.jsx)("hr",{className:"my-1 border-gray-200 dark:border-gray-700"}),(0,a.jsxs)("button",{className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md",children:[(0,a.jsx)(N.A,{className:"w-4 h-4"}),"Șterge"]})]})})]})})]}),(0,a.jsxs)("div",{className:"md:hidden space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center ".concat("product"===e.type?"bg-blue-100 dark:bg-blue-900/30":"bg-purple-100 dark:bg-purple-900/30"),children:"product"===e.type?(0,a.jsx)(x.A,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}):(0,a.jsx)(m.A,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-mono",children:e.code})]})]}),(0,a.jsx)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium border ".concat(B[e.status].color),children:(0,a.jsx)(s,{className:"w-3 h-3"})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ".concat(H[e.type].color),children:H[e.type].label}),"product"===e.type&&void 0!==e.stock&&(0,a.jsxs)("span",{className:"text-gray-500 dark:text-gray-400",children:["Stoc: ",e.stock]})]}),(0,a.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:U(e.price,e.currency)})]})]})]},e.id)})}),X>1&&(0,a.jsx)("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Afișez ",(D-1)*10+1," - ",Math.min(10*D,W.length)," din ",W.length," articole"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>E(Math.max(1,D-1)),disabled:1===D,className:"p-2 rounded-lg border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,a.jsx)(w.A,{className:"w-5 h-5"})}),(0,a.jsxs)("span",{className:"px-4 py-2 text-sm font-medium",children:[D," / ",X]}),(0,a.jsx)("button",{onClick:()=>E(Math.min(X,D+1)),disabled:D===X,className:"p-2 rounded-lg border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,a.jsx)(A.A,{className:"w-5 h-5"})})]})]})})]})}),(0,a.jsx)(i.N,{children:I&&(0,a.jsx)(c.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>_(null),children:(0,a.jsxs)(c.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white dark:bg-gray-800 rounded-xl max-w-lg w-full shadow-xl",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center ".concat("product"===I.type?"bg-blue-100 dark:bg-blue-900/30":"bg-purple-100 dark:bg-purple-900/30"),children:"product"===I.type?(0,a.jsx)(x.A,{className:"w-7 h-7 text-blue-600 dark:text-blue-400"}):(0,a.jsx)(m.A,{className:"w-7 h-7 text-purple-600 dark:text-purple-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:I.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-mono",children:I.code})]})]}),(0,a.jsx)("button",{onClick:()=>_(null),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:(0,a.jsx)(P.A,{className:"w-5 h-5 text-gray-500"})})]})}),(0,a.jsxs)("div",{className:"p-6 space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Preț v\xe2nzare"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:U(I.price,I.currency)}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["+ TVA ",I.vatRate,"%"]})]}),"product"===I.type&&(0,a.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Stoc curent"}),(0,a.jsxs)("p",{className:"text-2xl font-bold ".concat(0===I.stock?"text-red-600 dark:text-red-400":(I.stock||0)<=(I.minStock||0)?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400"),children:[null!==(e=I.stock)&&void 0!==e?e:0," ",I.unit]}),void 0!==I.minStock&&(0,a.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Minim: ",I.minStock," ",I.unit]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Tip"}),(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-sm font-medium ".concat(H[I.type].color),children:H[I.type].label})]}),I.category&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Categorie"}),(0,a.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:I.category})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Unitate de măsură"}),(0,a.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:I.unit})]}),I.costPrice&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Preț achiziție"}),(0,a.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:U(I.costPrice,I.currency)})]})]}),I.costPrice&&(0,a.jsx)("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Marjă de profit"}),(0,a.jsx)("p",{className:"text-lg font-bold text-green-800 dark:text-green-200",children:U(I.price-I.costPrice,I.currency)})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400",children:[(0,a.jsx)(S.A,{className:"w-5 h-5"}),(0,a.jsxs)("span",{className:"text-lg font-bold",children:[Math.round((I.price-I.costPrice)/I.costPrice*100),"%"]})]})]})}),I.description&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Descriere"}),(0,a.jsx)("p",{className:"text-gray-700 dark:text-gray-300",children:I.description})]}),I.barcode&&(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-900/50 rounded-lg",children:[(0,a.jsx)(C.A,{className:"w-5 h-5 text-gray-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Cod de bare"}),(0,a.jsx)("p",{className:"font-mono text-gray-900 dark:text-white",children:I.barcode})]})]})]}),(0,a.jsxs)("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 flex justify-end gap-3",children:[(0,a.jsx)("button",{className:"px-4 py-2 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Editează"}),(0,a.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Adaugă pe factură"})]})]})})}),(0,a.jsx)(L,{isOpen:F,onClose:()=>$(!1),onSuccess:()=>window.location.reload()})]}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[400px] text-center",children:[(0,a.jsx)(x.A,{className:"w-16 h-16 text-gray-300 mb-4"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Selectează o firmă"}),(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Pentru a vedea produsele, selectează mai \xeent\xe2i o firmă din meniul de sus."})]})}},34592:(e,t,r)=>{"use strict";r.d(t,{$n:()=>x,aF:()=>o,jl:()=>n});var a=r(95155),s=r(12115),l=r(40767),c=r(25683),i=r(39124);let d={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-[90vw]"};function o(e){let{isOpen:t,onClose:r,title:o,description:n,children:x,size:g="lg",showCloseButton:u=!0}=e;return(0,a.jsx)(c.N,{children:t&&(0,a.jsxs)(s.Fragment,{children:[(0,a.jsx)(i.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",onClick:r,"aria-hidden":"true"}),(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-y-auto",children:(0,a.jsxs)(i.P.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeOut"},className:"w-full ".concat(d[g]," bg-white dark:bg-gray-900 rounded-xl shadow-2xl overflow-hidden"),onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex items-start justify-between p-6 border-b border-gray-200 dark:border-gray-800",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:o}),n&&(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:n})]}),u&&(0,a.jsx)("button",{onClick:r,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors","aria-label":"\xcenchide",children:(0,a.jsx)(l.A,{className:"w-5 h-5 text-gray-500"})})]}),(0,a.jsx)("div",{className:"max-h-[calc(100vh-200px)] overflow-y-auto",children:x})]})})]})})}function n(e){let{children:t}=e;return(0,a.jsx)("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-900/50",children:t})}function x(e){let{children:t,variant:r="primary",type:s="button",disabled:l=!1,isLoading:c=!1,onClick:i,className:d=""}=e;return(0,a.jsx)("button",{type:s,disabled:l||c,onClick:i,className:"px-4 py-2.5 rounded-lg font-medium transition-colors disabled:cursor-not-allowed ".concat({primary:"bg-blue-600 hover:bg-blue-700 text-white disabled:bg-blue-400",secondary:"bg-gray-100 hover:bg-gray-200 text-gray-700 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200",danger:"bg-red-600 hover:bg-red-700 text-white disabled:bg-red-400"}[r]," ").concat(d),children:c?(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsxs)("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Se incarca..."]}):t})}}},e=>{var t=t=>e(e.s=t);e.O(0,[4265,3937,7266,8239,8451,6768,3139,8441,1517,7358],()=>t(24062)),_N_E=e.O()}]);