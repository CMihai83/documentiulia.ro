import { ConfigService } from '@nestjs/config';
import { Prisma } from '@prisma/client';
import { PrismaService } from '../../common/prisma/prisma.service';
import { CreateBlogCategoryDto, UpdateBlogCategoryDto, CreateBlogPostDto, UpdateBlogPostDto, ReviewPostDto, PublishPostDto, BlogPostFilterDto, GenerateBlogPostDto, CreateCommentDto, UpdateCommentDto, ModerateCommentDto, CommentFilterDto, RssFeedItem } from './dto/blog.dto';
export declare class BlogService {
    private readonly prisma;
    private readonly configService;
    private readonly logger;
    constructor(prisma: PrismaService, configService: ConfigService);
    getCategories(): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        name: string;
        description: string | null;
        isActive: boolean;
        sortOrder: number;
        slug: string;
        icon: string | null;
        color: string;
        postCount: number;
    }[]>;
    getCategoryBySlug(slug: string): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        name: string;
        description: string | null;
        isActive: boolean;
        sortOrder: number;
        slug: string;
        icon: string | null;
        color: string;
        postCount: number;
    }>;
    createCategory(dto: CreateBlogCategoryDto): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        name: string;
        description: string | null;
        isActive: boolean;
        sortOrder: number;
        slug: string;
        icon: string | null;
        color: string;
        postCount: number;
    }>;
    updateCategory(id: string, dto: UpdateBlogCategoryDto): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        name: string;
        description: string | null;
        isActive: boolean;
        sortOrder: number;
        slug: string;
        icon: string | null;
        color: string;
        postCount: number;
    }>;
    deleteCategory(id: string): Promise<{
        message: string;
    }>;
    getPosts(filters: BlogPostFilterDto): Promise<{
        data: ({
            _count: {
                comments: number;
            };
            category: {
                id: string;
                name: string;
                slug: string;
                color: string;
            } | null;
            author: {
                id: string;
                firstName: string | null;
                lastName: string | null;
                avatarUrl: string | null;
            } | null;
        } & {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            status: import(".prisma/client").$Enums.BlogPostStatus;
            tags: string[];
            content: string;
            title: string;
            reviewedAt: Date | null;
            slug: string;
            categoryId: string | null;
            authorId: string | null;
            viewCount: number;
            likeCount: number;
            language: string;
            publishedAt: Date | null;
            excerpt: string | null;
            coverImage: string | null;
            metaTitle: string | null;
            metaDescription: string | null;
            metaKeywords: string[];
            canonicalUrl: string | null;
            isAiGenerated: boolean;
            aiPrompt: string | null;
            aiModel: string | null;
            sourceUrls: string[];
            reviewedBy: string | null;
            rejectionReason: string | null;
            scheduledAt: Date | null;
            commentCount: number;
            shareCount: number;
            readingTime: number;
            wordCount: number;
        })[];
        meta: {
            total: number;
            page: number;
            limit: number;
            totalPages: number;
        };
    }>;
    getPostBySlug(slug: string, incrementViews?: boolean): Promise<{
        category: {
            id: string;
            name: string;
            slug: string;
            color: string;
        } | null;
        author: {
            id: string;
            firstName: string | null;
            lastName: string | null;
            avatarUrl: string | null;
        } | null;
        comments: ({
            author: {
                id: string;
                firstName: string | null;
                lastName: string | null;
                avatarUrl: string | null;
            } | null;
            children: ({
                author: {
                    id: string;
                    firstName: string | null;
                    lastName: string | null;
                    avatarUrl: string | null;
                } | null;
            } & {
                id: string;
                createdAt: Date;
                updatedAt: Date;
                status: import(".prisma/client").$Enums.CommentStatus;
                content: string;
                parentId: string | null;
                authorId: string | null;
                likeCount: number;
                postId: string;
                authorName: string | null;
                authorEmail: string | null;
                isSpam: boolean;
                spamScore: Prisma.Decimal | null;
                moderatedBy: string | null;
                moderatedAt: Date | null;
                aiModerated: boolean;
                aiModerationResult: Prisma.JsonValue | null;
            })[];
        } & {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            status: import(".prisma/client").$Enums.CommentStatus;
            content: string;
            parentId: string | null;
            authorId: string | null;
            likeCount: number;
            postId: string;
            authorName: string | null;
            authorEmail: string | null;
            isSpam: boolean;
            spamScore: Prisma.Decimal | null;
            moderatedBy: string | null;
            moderatedAt: Date | null;
            aiModerated: boolean;
            aiModerationResult: Prisma.JsonValue | null;
        })[];
    } & {
        id: string;
        createdAt: Date;
        updatedAt: Date;
        status: import(".prisma/client").$Enums.BlogPostStatus;
        tags: string[];
        content: string;
        title: string;
        reviewedAt: Date | null;
        slug: string;
        categoryId: string | null;
        authorId: string | null;
        viewCount: number;
        likeCount: number;
        language: string;
        publishedAt: Date | null;
        excerpt: string | null;
        coverImage: string | null;
        metaTitle: string | null;
        metaDescription: string | null;
        metaKeywords: string[];
        canonicalUrl: string | null;
        isAiGenerated: boolean;
        aiPrompt: string | null;
        aiModel: string | null;
        sourceUrls: string[];
        reviewedBy: string | null;
        rejectionReason: string | null;
        scheduledAt: Date | null;
        commentCount: number;
        shareCount: number;
        readingTime: number;
        wordCount: number;
    }>;
    getPostById(id: string): Promise<{
        category: {
            id: string;
            name: string;
            slug: string;
            color: string;
        } | null;
        author: {
            id: string;
            firstName: string | null;
            lastName: string | null;
            avatarUrl: string | null;
        } | null;
    } & {
        id: string;
        createdAt: Date;
        updatedAt: Date;
        status: import(".prisma/client").$Enums.BlogPostStatus;
        tags: string[];
        content: string;
        title: string;
        reviewedAt: Date | null;
        slug: string;
        categoryId: string | null;
        authorId: string | null;
        viewCount: number;
        likeCount: number;
        language: string;
        publishedAt: Date | null;
        excerpt: string | null;
        coverImage: string | null;
        metaTitle: string | null;
        metaDescription: string | null;
        metaKeywords: string[];
        canonicalUrl: string | null;
        isAiGenerated: boolean;
        aiPrompt: string | null;
        aiModel: string | null;
        sourceUrls: string[];
        reviewedBy: string | null;
        rejectionReason: string | null;
        scheduledAt: Date | null;
        commentCount: number;
        shareCount: number;
        readingTime: number;
        wordCount: number;
    }>;
    createPost(userId: string, dto: CreateBlogPostDto): Promise<{
        category: {
            id: string;
            name: string;
            slug: string;
        } | null;
        author: {
            id: string;
            firstName: string | null;
            lastName: string | null;
            avatarUrl: string | null;
        } | null;
    } & {
        id: string;
        createdAt: Date;
        updatedAt: Date;
        status: import(".prisma/client").$Enums.BlogPostStatus;
        tags: string[];
        content: string;
        title: string;
        reviewedAt: Date | null;
        slug: string;
        categoryId: string | null;
        authorId: string | null;
        viewCount: number;
        likeCount: number;
        language: string;
        publishedAt: Date | null;
        excerpt: string | null;
        coverImage: string | null;
        metaTitle: string | null;
        metaDescription: string | null;
        metaKeywords: string[];
        canonicalUrl: string | null;
        isAiGenerated: boolean;
        aiPrompt: string | null;
        aiModel: string | null;
        sourceUrls: string[];
        reviewedBy: string | null;
        rejectionReason: string | null;
        scheduledAt: Date | null;
        commentCount: number;
        shareCount: number;
        readingTime: number;
        wordCount: number;
    }>;
    updatePost(postId: string, userId: string, dto: UpdateBlogPostDto, isAdmin?: boolean): Promise<{
        category: {
            id: string;
            name: string;
            slug: string;
        } | null;
        author: {
            id: string;
            firstName: string | null;
            lastName: string | null;
            avatarUrl: string | null;
        } | null;
    } & {
        id: string;
        createdAt: Date;
        updatedAt: Date;
        status: import(".prisma/client").$Enums.BlogPostStatus;
        tags: string[];
        content: string;
        title: string;
        reviewedAt: Date | null;
        slug: string;
        categoryId: string | null;
        authorId: string | null;
        viewCount: number;
        likeCount: number;
        language: string;
        publishedAt: Date | null;
        excerpt: string | null;
        coverImage: string | null;
        metaTitle: string | null;
        metaDescription: string | null;
        metaKeywords: string[];
        canonicalUrl: string | null;
        isAiGenerated: boolean;
        aiPrompt: string | null;
        aiModel: string | null;
        sourceUrls: string[];
        reviewedBy: string | null;
        rejectionReason: string | null;
        scheduledAt: Date | null;
        commentCount: number;
        shareCount: number;
        readingTime: number;
        wordCount: number;
    }>;
    deletePost(postId: string, userId: string, isAdmin?: boolean): Promise<{
        message: string;
    }>;
    submitForReview(postId: string, userId: string): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        status: import(".prisma/client").$Enums.BlogPostStatus;
        tags: string[];
        content: string;
        title: string;
        reviewedAt: Date | null;
        slug: string;
        categoryId: string | null;
        authorId: string | null;
        viewCount: number;
        likeCount: number;
        language: string;
        publishedAt: Date | null;
        excerpt: string | null;
        coverImage: string | null;
        metaTitle: string | null;
        metaDescription: string | null;
        metaKeywords: string[];
        canonicalUrl: string | null;
        isAiGenerated: boolean;
        aiPrompt: string | null;
        aiModel: string | null;
        sourceUrls: string[];
        reviewedBy: string | null;
        rejectionReason: string | null;
        scheduledAt: Date | null;
        commentCount: number;
        shareCount: number;
        readingTime: number;
        wordCount: number;
    }>;
    reviewPost(postId: string, reviewerId: string, dto: ReviewPostDto): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        status: import(".prisma/client").$Enums.BlogPostStatus;
        tags: string[];
        content: string;
        title: string;
        reviewedAt: Date | null;
        slug: string;
        categoryId: string | null;
        authorId: string | null;
        viewCount: number;
        likeCount: number;
        language: string;
        publishedAt: Date | null;
        excerpt: string | null;
        coverImage: string | null;
        metaTitle: string | null;
        metaDescription: string | null;
        metaKeywords: string[];
        canonicalUrl: string | null;
        isAiGenerated: boolean;
        aiPrompt: string | null;
        aiModel: string | null;
        sourceUrls: string[];
        reviewedBy: string | null;
        rejectionReason: string | null;
        scheduledAt: Date | null;
        commentCount: number;
        shareCount: number;
        readingTime: number;
        wordCount: number;
    }>;
    publishPost(postId: string, userId: string, dto: PublishPostDto, isAdmin?: boolean): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        status: import(".prisma/client").$Enums.BlogPostStatus;
        tags: string[];
        content: string;
        title: string;
        reviewedAt: Date | null;
        slug: string;
        categoryId: string | null;
        authorId: string | null;
        viewCount: number;
        likeCount: number;
        language: string;
        publishedAt: Date | null;
        excerpt: string | null;
        coverImage: string | null;
        metaTitle: string | null;
        metaDescription: string | null;
        metaKeywords: string[];
        canonicalUrl: string | null;
        isAiGenerated: boolean;
        aiPrompt: string | null;
        aiModel: string | null;
        sourceUrls: string[];
        reviewedBy: string | null;
        rejectionReason: string | null;
        scheduledAt: Date | null;
        commentCount: number;
        shareCount: number;
        readingTime: number;
        wordCount: number;
    }>;
    unpublishPost(postId: string, isAdmin?: boolean): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        status: import(".prisma/client").$Enums.BlogPostStatus;
        tags: string[];
        content: string;
        title: string;
        reviewedAt: Date | null;
        slug: string;
        categoryId: string | null;
        authorId: string | null;
        viewCount: number;
        likeCount: number;
        language: string;
        publishedAt: Date | null;
        excerpt: string | null;
        coverImage: string | null;
        metaTitle: string | null;
        metaDescription: string | null;
        metaKeywords: string[];
        canonicalUrl: string | null;
        isAiGenerated: boolean;
        aiPrompt: string | null;
        aiModel: string | null;
        sourceUrls: string[];
        reviewedBy: string | null;
        rejectionReason: string | null;
        scheduledAt: Date | null;
        commentCount: number;
        shareCount: number;
        readingTime: number;
        wordCount: number;
    }>;
    getPendingReviews(page?: number, limit?: number): Promise<{
        data: ({
            category: {
                id: string;
                name: string;
                slug: string;
            } | null;
            author: {
                id: string;
                firstName: string | null;
                lastName: string | null;
                avatarUrl: string | null;
            } | null;
        } & {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            status: import(".prisma/client").$Enums.BlogPostStatus;
            tags: string[];
            content: string;
            title: string;
            reviewedAt: Date | null;
            slug: string;
            categoryId: string | null;
            authorId: string | null;
            viewCount: number;
            likeCount: number;
            language: string;
            publishedAt: Date | null;
            excerpt: string | null;
            coverImage: string | null;
            metaTitle: string | null;
            metaDescription: string | null;
            metaKeywords: string[];
            canonicalUrl: string | null;
            isAiGenerated: boolean;
            aiPrompt: string | null;
            aiModel: string | null;
            sourceUrls: string[];
            reviewedBy: string | null;
            rejectionReason: string | null;
            scheduledAt: Date | null;
            commentCount: number;
            shareCount: number;
            readingTime: number;
            wordCount: number;
        })[];
        meta: {
            total: number;
            page: number;
            limit: number;
            totalPages: number;
        };
    }>;
    generatePost(userId: string, dto: GenerateBlogPostDto): Promise<{
        category: {
            id: string;
            name: string;
            slug: string;
        } | null;
        author: {
            id: string;
            firstName: string | null;
            lastName: string | null;
            avatarUrl: string | null;
        } | null;
    } & {
        id: string;
        createdAt: Date;
        updatedAt: Date;
        status: import(".prisma/client").$Enums.BlogPostStatus;
        tags: string[];
        content: string;
        title: string;
        reviewedAt: Date | null;
        slug: string;
        categoryId: string | null;
        authorId: string | null;
        viewCount: number;
        likeCount: number;
        language: string;
        publishedAt: Date | null;
        excerpt: string | null;
        coverImage: string | null;
        metaTitle: string | null;
        metaDescription: string | null;
        metaKeywords: string[];
        canonicalUrl: string | null;
        isAiGenerated: boolean;
        aiPrompt: string | null;
        aiModel: string | null;
        sourceUrls: string[];
        reviewedBy: string | null;
        rejectionReason: string | null;
        scheduledAt: Date | null;
        commentCount: number;
        shareCount: number;
        readingTime: number;
        wordCount: number;
    }>;
    getComments(postId: string, filters: CommentFilterDto): Promise<{
        data: ({
            author: {
                id: string;
                firstName: string | null;
                lastName: string | null;
                avatarUrl: string | null;
            } | null;
        } & {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            status: import(".prisma/client").$Enums.CommentStatus;
            content: string;
            parentId: string | null;
            authorId: string | null;
            likeCount: number;
            postId: string;
            authorName: string | null;
            authorEmail: string | null;
            isSpam: boolean;
            spamScore: Prisma.Decimal | null;
            moderatedBy: string | null;
            moderatedAt: Date | null;
            aiModerated: boolean;
            aiModerationResult: Prisma.JsonValue | null;
        })[];
        meta: {
            total: number;
            page: number;
            limit: number;
            totalPages: number;
        };
    }>;
    createComment(postId: string, userId: string | null, dto: CreateCommentDto): Promise<{
        author: {
            id: string;
            firstName: string | null;
            lastName: string | null;
            avatarUrl: string | null;
        } | null;
    } & {
        id: string;
        createdAt: Date;
        updatedAt: Date;
        status: import(".prisma/client").$Enums.CommentStatus;
        content: string;
        parentId: string | null;
        authorId: string | null;
        likeCount: number;
        postId: string;
        authorName: string | null;
        authorEmail: string | null;
        isSpam: boolean;
        spamScore: Prisma.Decimal | null;
        moderatedBy: string | null;
        moderatedAt: Date | null;
        aiModerated: boolean;
        aiModerationResult: Prisma.JsonValue | null;
    }>;
    updateComment(commentId: string, userId: string, dto: UpdateCommentDto): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        status: import(".prisma/client").$Enums.CommentStatus;
        content: string;
        parentId: string | null;
        authorId: string | null;
        likeCount: number;
        postId: string;
        authorName: string | null;
        authorEmail: string | null;
        isSpam: boolean;
        spamScore: Prisma.Decimal | null;
        moderatedBy: string | null;
        moderatedAt: Date | null;
        aiModerated: boolean;
        aiModerationResult: Prisma.JsonValue | null;
    }>;
    deleteComment(commentId: string, userId: string, isAdmin?: boolean): Promise<{
        message: string;
    }>;
    moderateComment(commentId: string, moderatorId: string, dto: ModerateCommentDto): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        status: import(".prisma/client").$Enums.CommentStatus;
        content: string;
        parentId: string | null;
        authorId: string | null;
        likeCount: number;
        postId: string;
        authorName: string | null;
        authorEmail: string | null;
        isSpam: boolean;
        spamScore: Prisma.Decimal | null;
        moderatedBy: string | null;
        moderatedAt: Date | null;
        aiModerated: boolean;
        aiModerationResult: Prisma.JsonValue | null;
    }>;
    getPendingComments(page?: number, limit?: number): Promise<{
        data: ({
            author: {
                id: string;
                firstName: string | null;
                lastName: string | null;
                avatarUrl: string | null;
            } | null;
            post: {
                id: string;
                title: string;
                slug: string;
            };
        } & {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            status: import(".prisma/client").$Enums.CommentStatus;
            content: string;
            parentId: string | null;
            authorId: string | null;
            likeCount: number;
            postId: string;
            authorName: string | null;
            authorEmail: string | null;
            isSpam: boolean;
            spamScore: Prisma.Decimal | null;
            moderatedBy: string | null;
            moderatedAt: Date | null;
            aiModerated: boolean;
            aiModerationResult: Prisma.JsonValue | null;
        })[];
        meta: {
            total: number;
            page: number;
            limit: number;
            totalPages: number;
        };
    }>;
    getRssFeed(): Promise<RssFeedItem[]>;
    getBlogStats(): Promise<{
        totalPosts: number;
        publishedPosts: number;
        draftPosts: number;
        pendingPosts: number;
        categories: number;
        totalComments: number;
        popularPosts: {
            id: string;
            title: string;
            slug: string;
            viewCount: number;
            commentCount: number;
        }[];
        recentPosts: {
            id: string;
            title: string;
            slug: string;
            publishedAt: Date | null;
        }[];
    }>;
    private generateUniqueSlug;
    private slugify;
    private countWords;
}
//# sourceMappingURL=blog.service.d.ts.map